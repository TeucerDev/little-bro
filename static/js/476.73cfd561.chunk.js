"use strict";(self.webpackChunklittle_bro=self.webpackChunklittle_bro||[]).push([[476],{44361:function(e,n,i){i.d(n,{Z:function(){return C}});var t=i(93433),s=i(29439),l=i(39504),o=i(61889),r=i(94721),c=i(66647),a=i(68870),d=i(20890),u=i(72791),x=i(9350),p=i(42320),Z=i(24351),v=i(66218),h=i(3992),j=i(71310),f=i(68198),m=i(55942),y=i(9321),g=i(10157),w=i(73578),k=i(80184);function C(e){var n=e.show,i=e.onHide,C=e.onSelect,b=e.filter,P=void 0===b?function(){return!0}:b,S=e.weaponFilter,T=(0,p.Z)(v.ZP.getAll,[]),W=(0,u.useState)(null!==S&&void 0!==S?S:""),L=(0,s.Z)(W,2),I=L[0],J=L[1];(0,u.useEffect)((function(){return S&&J(S)}),[S]);var K=T?(0,t.Z)(new Set(Z.fG)).filter((function(e){return P(T[e])})).filter((function(e){var n;return!I||I===(null===T||void 0===T||null===(n=T[e])||void 0===n?void 0:n.weaponType)})).sort((function(e,n){var i,t,s,l;return(null!==(i=null===T||void 0===T||null===(t=T[n])||void 0===t?void 0:t.rarity)&&void 0!==i?i:0)-(null!==(s=null===T||void 0===T||null===(l=T[e])||void 0===l?void 0:l.rarity)&&void 0!==s?s:0)})):[];return T?(0,k.jsx)(y.Z,{open:n,onClose:i,children:(0,k.jsxs)(h.Z,{children:[(0,k.jsx)(l.Z,{sx:{py:1},children:(0,k.jsxs)(o.ZP,{container:!0,children:[(0,k.jsx)(o.ZP,{item:!0,flexGrow:1,children:(0,k.jsx)(w.Z,{value:I,onChange:J,disabled:!!S,size:"small"})}),(0,k.jsx)(o.ZP,{item:!0,children:(0,k.jsx)(f.Z,{onClick:i})})]})}),(0,k.jsx)(r.Z,{}),(0,k.jsx)(l.Z,{children:(0,k.jsx)(o.ZP,{container:!0,spacing:1,children:K.map((function(e){var n,t=T[e];return(0,k.jsx)(o.ZP,{item:!0,lg:3,md:4,children:(0,k.jsx)(j.Z,{sx:{height:"100%"},children:(0,k.jsxs)(c.Z,{onClick:function(){i(),C(e)},sx:{display:"flex"},children:[(0,k.jsx)(a.Z,{component:"img",src:t.img,sx:{width:100,height:"auto"},className:" grad-".concat(t.rarity,"star")}),(0,k.jsxs)(a.Z,{sx:{flexGrow:1,px:1},children:[(0,k.jsx)(d.Z,{variant:"subtitle1",children:t.name}),(0,k.jsxs)(d.Z,{children:[(0,k.jsx)(m.Z,{src:null===(n=x.Z.weaponTypes)||void 0===n?void 0:n[t.weaponType]})," ",(0,k.jsx)(g.t,{stars:t.rarity,colored:!0})]})]})]})})},e)}))})}),(0,k.jsx)(r.Z,{}),(0,k.jsx)(l.Z,{sx:{py:1},children:(0,k.jsx)(f.Z,{large:!0,onClick:i})})]})}):null}},74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return H}});var t=i(93433),s=i(29439),l=i(40117),o=i(62002),r=i(39504),c=i(61889),a=i(68870),d=i(20890),u=i(2199),x=i(24518),p=i(23786),Z=i(94721),v=i(9585),h=i(15021),j=i(72791),f=i(3992),m=i(71310),y=i(36944),g=i(68198),w=i(10600),k=i(37503),C=i(33890),b=i(14763),P=i(9321),S=i(10157),T=i(44361),W=i(947),L=i(2139),I=i(66218),J=i(56928),K=i(2693),R=i(26138),A=i(87234),D=i(42320),G=i(74480),N=i(60393),E=i(38516),F=i(80184);function H(e){var n,i,H=e.weaponId,M=e.footer,U=void 0!==M&&M,_=e.onClose,z=(0,j.useContext)(K.R).data,B=(0,j.useContext)(J.t).database,X=(0,G.Z)(H),q=null!==X&&void 0!==X?X:{},O=q.key,Q=void 0===O?"":O,V=q.level,Y=void 0===V?0:V,$=q.refinement,ee=void 0===$?0:$,ne=q.ascension,ie=void 0===ne?0:ne,te=q.lock,se=q.location,le=void 0===se?"":se,oe=q.id,re=(0,D.Z)(I.ZP.get(Q),[Q]),ce=(0,j.useCallback)((function(e){B.updateWeapon(e,H)}),[H,B]),ae=(0,j.useCallback)((function(e){e=(0,N.uZ)(e,1,90);var n=L.SJ.findIndex((function(n){return e<=n}));ce({level:e,ascension:n})}),[ce]),de=(0,j.useCallback)((function(){var e=L.SJ.findIndex((function(e){return 90!==Y&&Y===e}));ce(ie===e?{ascension:ie+1}:{ascension:e})}),[ce,ie,Y]),ue=(0,D.Z)(le?W.ZP.get(le):void 0,[le]),xe=ue?function(e){return e.weaponType===ue.weaponTypeKey}:void 0,pe=ue&&ue.weaponTypeKey,Ze=(0,j.useCallback)((function(e){return oe&&B.setWeaponLocation(oe,e)}),[B,oe]),ve=(0,j.useCallback)((function(e){return e.weaponTypeKey===(null===re||void 0===re?void 0:re.weaponType)}),[re]),he=(0,j.useState)(!1),je=(0,s.Z)(he,2),fe=je[0],me=je[1],ye=ie<2?null===re||void 0===re?void 0:re.img:null===re||void 0===re?void 0:re.imgAwaken;(0,j.useEffect)((function(){if(re&&ce&&re.key===(null===X||void 0===X?void 0:X.key)&&re.rarity<=2&&(Y>70||ie>4)){var e=(0,s.Z)(L.Xu[0],2),n=e[0],i=e[1];ce({level:n,ascension:i})}}),[re,X,ce,Y,ie]);var ge=(0,j.useMemo)((function(){return re&&X&&(0,A.mP)([re.data,(0,A.v0)(X)])}),[re,X]);return(0,F.jsx)(P.Z,{open:!!H,onClose:_,containerProps:{maxWidth:"md"},children:(0,F.jsxs)(m.Z,{children:[(0,F.jsx)(T.Z,{show:fe,onHide:function(){return me(!1)},onSelect:function(e){return ce({key:e})},filter:xe,weaponFilter:pe}),(0,F.jsx)(r.Z,{children:re&&ge&&(0,F.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(c.ZP,{item:!0,xs:12,sm:3,children:(0,F.jsxs)(c.ZP,{container:!0,spacing:1.5,children:[(0,F.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(a.Z,{component:"img",src:ye,className:"grad-".concat(re.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,F.jsx)(c.ZP,{item:!0,xs:6,sm:12,children:(0,F.jsx)(d.Z,{children:(0,F.jsx)("small",{children:re.description})})})]})}),(0,F.jsxs)(c.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,F.jsxs)(a.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[(0,F.jsxs)(u.Z,{children:[(0,F.jsx)(x.Z,{onClick:function(){return me(!0)},children:null!==(n=null===re||void 0===re?void 0:re.name)&&void 0!==n?n:"Select a Weapon"}),(null===re||void 0===re?void 0:re.hasRefinement)&&(0,F.jsxs)(C.Z,{title:"Refinement ".concat(ee),children:[(0,F.jsx)(p.Z,{children:"Select Weapon Refinement"}),(0,F.jsx)(Z.Z,{}),(0,t.Z)(Array(5).keys()).map((function(e){return(0,F.jsx)(p.Z,{onClick:function(){return ce({refinement:e+1})},selected:ee===e+1,disabled:ee===e+1,children:"Refinement ".concat(e+1)},e)}))]})]}),(null===z||void 0===z||null===(i=z.get(R.ri.charKey))||void 0===i?void 0:i.value)&&(0,F.jsx)(E.Z,{weaponTypeKey:re.weaponType,onChangeId:function(e){return B.setWeaponLocation(e,z.get(R.ri.charKey).value)}})]}),(0,F.jsxs)(a.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[(0,F.jsxs)(u.Z,{sx:{bgcolor:function(e){return e.palette.contentLight.main}},children:[(0,F.jsx)(w.CC,{children:(0,F.jsx)(w.ZP,{onChange:ae,value:Y,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center"}},sx:{width:"100%",height:"100%",pl:2}})}),re&&(0,F.jsx)(x.Z,{sx:{pl:1},disabled:!re.ambiguousLevel(Y),onClick:de,children:(0,F.jsxs)("strong",{children:["/ ",L.SJ[ie]]})}),re&&(0,F.jsx)(C.Z,{title:"Select Level",children:re.milestoneLevels.map((function(e){var n=(0,s.Z)(e,2),i=n[0],t=n[1],l=i===L.SJ[t]?"Lv. ".concat(i):"Lv. ".concat(i,"/").concat(L.SJ[t]),o=i===Y&&t===ie;return(0,F.jsx)(p.Z,{selected:o,disabled:o,onClick:function(){return ce({level:i,ascension:t})},children:l},"".concat(i,"/").concat(t))}))})]}),(0,F.jsx)(x.Z,{color:"error",onClick:function(){return oe&&B.updateWeapon({lock:!te},oe)},startIcon:te?(0,F.jsx)(l.Z,{}):(0,F.jsx)(o.Z,{}),children:te?"Locked":"Unlocked"})]}),(0,F.jsx)(d.Z,{children:(0,F.jsx)(S.t,{stars:re.rarity})}),(0,F.jsx)(d.Z,{variant:"subtitle1",children:(0,F.jsx)("strong",{children:re.passiveName})}),(0,F.jsx)(d.Z,{gutterBottom:!0,children:re.passiveName&&re.passiveDescription(ge.get(R.ri.weapon.refineIndex).value)}),(0,F.jsxs)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,F.jsxs)(f.Z,{children:[(0,F.jsx)(v.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,F.jsx)(Z.Z,{}),(0,F.jsx)(b.lD,{children:[R.ri.weapon.main,R.ri.weapon.sub,R.ri.weapon.sub2].map((function(e,n){var i=ge.get(e);return i.isEmpty||!i.value?null:(0,F.jsx)(b.JW,{node:i,component:h.ZP},i.info.key)}))})]}),z&&re.document&&(0,F.jsx)(k.Z,{sections:re.document})]})]})]})}),U&&oe&&(0,F.jsx)(r.Z,{sx:{py:1},children:(0,F.jsxs)(c.ZP,{container:!0,children:[(0,F.jsx)(c.ZP,{item:!0,flexGrow:1,children:(0,F.jsx)(y.Z,{noUnselect:!0,inventory:!0,value:le,onChange:Ze,filter:ve})}),!!_&&(0,F.jsx)(c.ZP,{item:!0,children:(0,F.jsx)(g.Z,{large:!0,onClick:_})})]})})]})})}}}]);
//# sourceMappingURL=476.73cfd561.chunk.js.map