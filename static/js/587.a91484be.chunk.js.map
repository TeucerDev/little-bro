{"version":3,"file":"static/js/587.a91484be.chunk.js","mappings":"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","sources":["Components/Card/CardDark.tsx","Components/Card/CardLight.tsx","Components/DropdownMenu/DropdownButton.tsx","Components/SqBadge.tsx","GlobalSettings.tsx","Database/exim.ts","Database/exports/good.ts","PageSettings/DownloadCard.tsx","PageSettings/LanguageCard.tsx","PageSettings/TCToggleCard.tsx","../node_modules/@mui/icons-material/esm/Upload.js","Database/imports/good.ts","Database/imports/merge.ts","Database/imports/mona.ts","PageSettings/UploadCard.tsx","PageSettings/index.tsx","ReactHooks/useDBState.tsx","../node_modules/@mui/icons-material/esm/CheckBox.js","../node_modules/@mui/icons-material/esm/CheckBoxOutlineBlank.js","../node_modules/@mui/icons-material/esm/Download.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardDark = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentDark.main\r\n}));\r\n\r\nexport default CardDark","import { Card, styled } from \"@mui/material\";\r\n\r\nconst CardLight = styled(Card)(({ theme }) => ({\r\n  backgroundColor: theme.palette.contentLight.main\r\n}));\r\n\r\nexport default CardLight","import { KeyboardArrowDown } from \"@mui/icons-material\";\r\nimport { Button, ButtonProps, Menu, Skeleton } from \"@mui/material\";\r\nimport { Suspense, useCallback, useState } from \"react\";\r\n\r\nexport type DropdownButtonProps = Omit<ButtonProps, \"title\"> & {\r\n  title: React.ReactNode,\r\n  id?: string,\r\n  children: React.ReactNode\r\n}\r\nexport default function DropdownButton({ title, children, id = \"dropdownbtn\", ...props }: DropdownButtonProps) {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement>) => setAnchorEl(event.currentTarget),\r\n    [setAnchorEl],\r\n  )\r\n  const handleClose = useCallback(\r\n    () => setAnchorEl(null),\r\n    [setAnchorEl],\r\n  )\r\n\r\n  return <Suspense fallback={<Button endIcon={<KeyboardArrowDown />}{...props}><Skeleton width={50} /></Button>} >\r\n    <Button\r\n      {...props}\r\n      id={id}\r\n      aria-controls=\"basic-menu\"\r\n      aria-haspopup=\"true\"\r\n      aria-expanded={open ? 'true' : undefined}\r\n      onClick={handleClick}\r\n      endIcon={<KeyboardArrowDown />}\r\n    >\r\n      {title}\r\n    </Button>\r\n    <Menu\r\n      id=\"basic-menu\"\r\n      anchorEl={anchorEl}\r\n      open={open}\r\n      onClose={handleClose}\r\n      MenuListProps={{\r\n        'aria-labelledby': id,\r\n      }}\r\n      onClick={handleClose}\r\n    >\r\n      {/* set Skeleton to be really high so the taller dropdowns can still be placed properly... */}\r\n      <Suspense fallback={<Skeleton width=\"100%\" height=\"1000\" />}>\r\n        {children}\r\n      </Suspense>\r\n    </Menu>\r\n  </Suspense>\r\n}","import { styled } from \"@mui/material\";\r\n\r\nconst SqBadge = styled(\"span\", {\r\n  name: 'SqBadge',\r\n  slot: 'Root',\r\n})(({ theme, color = \"primary\" }) => ({\r\n  display: \"inline-block\",\r\n  padding: \".25em .4em\",\r\n  fontSize: \"75%\",\r\n  fontWeight: 700,\r\n  lineHeight: 1,\r\n  textAlign: \"center\",\r\n  whiteSpace: \"nowrap\",\r\n  verticalAlign: \"baseline\",\r\n  borderRadius: \".25em\",\r\n  backgroundColor: theme.palette[color]?.main,\r\n  color: theme.palette[color]?.contrastText\r\n}))\r\nexport default SqBadge","\r\nexport function initGlobalSettings() {\r\n  return { tcMode: false }\r\n}\r\n","import type { IArtifact } from \"../Types/artifact\"\r\nimport type { ICharacter } from \"../Types/character\"\r\nimport type { IWeapon } from \"../Types/weapon\"\r\nimport type { DBStorage } from \"./DBStorage\"\r\n\r\nexport const GOSource = \"Genshin Optimizer\" as const\r\n\r\nexport function newCounter<T>(): ImportResultCounter<T> {\r\n  return { total: 0, invalid: [], new: [], updated: [], unchanged: [], removed: [], }\r\n}\r\n\r\nexport type IGOOD = {\r\n  format: \"GOOD\"\r\n  source: string\r\n  version: 1\r\n  characters?: any[]\r\n  artifacts?: any[]\r\n  weapons?: any[]\r\n}\r\nexport type IGO = {\r\n  dbVersion: number\r\n  source: typeof GOSource\r\n  states?: object[]\r\n}\r\n\r\nexport type ImportResultCounter<T> = {\r\n  total: number, // total # in file\r\n  new: T[],\r\n  updated: T[], // Use new object\r\n  unchanged: T[], // Use new object\r\n  removed: T[],\r\n  invalid: T[],\r\n}\r\nexport type ImportResult = {\r\n  type: \"GOOD\",\r\n  storage: DBStorage,\r\n  source: string,\r\n  artifacts?: ImportResultCounter<IArtifact>,\r\n  weapons?: ImportResultCounter<IWeapon>,\r\n  characters?: ImportResultCounter<ICharacter>,\r\n}\r\n","import { DBStorage } from \"../DBStorage\";\r\nimport { GOSource, IGO, IGOOD } from \"../exim\";\r\nimport { currentDBVersion } from \"../imports/migrate\";\r\n\r\nexport function exportGOOD(storage: DBStorage): IGOOD & IGO {\r\n  return {\r\n    format: \"GOOD\",\r\n    dbVersion: currentDBVersion,\r\n    source: GOSource,\r\n    version: 1,\r\n    characters: storage.entries\r\n      .filter(([key]) => key.startsWith(\"char_\"))\r\n      .map(([_, value]) => {\r\n        // Invalidate build results since we won't use it on imports either\r\n        const result = JSON.parse(value)\r\n        if (result.buildSettings) {\r\n          result.buildSettings.builds = []\r\n          result.buildSettings.buildDate = 0\r\n        }\r\n        return result\r\n      }),\r\n    artifacts: storage.entries\r\n      .filter(([key]) => key.startsWith(\"artifact_\"))\r\n      .map(([_, value]) => JSON.parse(value)),\r\n    weapons: storage.entries\r\n      .filter(([key]) => key.startsWith(\"weapon_\"))\r\n      .map(([_, value]) => JSON.parse(value)),\r\n\r\n    states: storage.entries\r\n      .filter(([key]) => key.startsWith(\"state_\"))\r\n      .map(([key, value]) => ({ ...JSON.parse(value), key: key.split(\"state_\")[1] })),\r\n  }\r\n}\r\n","import { faClipboard, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Download } from '@mui/icons-material'\r\nimport { Button, CardContent, Divider, Grid, Typography } from '@mui/material'\r\nimport { useCallback, useContext } from \"react\"\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport { exportGOOD } from '../Database/exports/good'\r\n\r\nexport default function DownloadCard() {\r\n  const { database, setDatabase } = useContext(DatabaseContext)\r\n  const { t } = useTranslation([\"settings\"]);\r\n  const numChar = database._getCharKeys().length\r\n  const numArt = database._getArts().length\r\n  const numWeapon = database._getWeapons().length\r\n  const downloadValid = Boolean(numChar || numArt)\r\n  const deleteDB = useCallback(() => {\r\n    database.storage.clear()\r\n    setDatabase(new ArtCharDatabase(database.storage))\r\n  }, [database, setDatabase])\r\n  const copyToClipboard = useCallback(\r\n    () => navigator.clipboard.writeText(JSON.stringify(exportGOOD(database.storage)))\r\n      .then(() => alert(\"Copied database to clipboard.\"))\r\n      .catch(console.error),\r\n    [database],\r\n  )\r\n  const download = useCallback(\r\n    () => {\r\n      const date = new Date()\r\n      const dateStr = date.toISOString().split(\".\")[0].replace(\"T\", \"_\").replaceAll(\":\", \"-\")\r\n      const JSONStr = JSON.stringify(exportGOOD(database.storage))\r\n      const filename = `go-data_${dateStr}.json`\r\n      const contentType = \"application/json;charset=utf-8\"\r\n      const a = document.createElement('a');\r\n      a.download = filename\r\n      a.href = `data:${contentType},${encodeURIComponent(JSONStr)}`\r\n      a.target = \"_blank\"\r\n      document.body.appendChild(a)\r\n      a.click()\r\n      document.body.removeChild(a)\r\n    },\r\n    [database],\r\n  )\r\n\r\n\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography variant=\"subtitle1\">\r\n        <Trans t={t} i18nKey=\"downloadCard.databaseDownload\" />\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Grid container mb={2} spacing={2}>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.chars\" /> {numChar}</Typography></Grid>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.arts\" /> {numArt}</Typography></Grid>\r\n        <Grid item xs={6} md={4}><Typography><Trans t={t} i18nKey=\"count.weapons\" /> {numWeapon}</Typography></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Grid container spacing={2}>\r\n        <Grid item><Button disabled={!downloadValid} onClick={download} startIcon={<Download />}><Trans t={t} i18nKey=\"downloadCard.button.download\" /></Button></Grid>\r\n        <Grid item flexGrow={1} ><Button disabled={!downloadValid} color=\"info\" onClick={copyToClipboard} startIcon={<FontAwesomeIcon icon={faClipboard} />}><Trans t={t} i18nKey=\"downloadCard.button.copy\" /></Button></Grid>\r\n        <Grid item><Button disabled={!downloadValid} color=\"error\" onClick={deleteDB} startIcon={<FontAwesomeIcon icon={faTrashAlt} />}><Trans t={t} i18nKey=\"downloadCard.button.delete\" /></Button></Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import { CardContent, Divider, MenuItem } from '@mui/material'\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport DropdownButton from '../Components/DropdownMenu/DropdownButton'\r\nimport SqBadge from '../Components/SqBadge'\r\nimport { languageCodeList } from \"../i18n\"\r\nexport default function LanguageCard() {\r\n  const { t } = useTranslation();\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}>\r\n      {t(\"settings:languageCard.selectLanguage\")} <SqBadge color=\"warning\">{t(\"ui:underConstruction\")}</SqBadge>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <LanguageDropdown />\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nconst nativeLanguages = {\r\n  \"chs\": \"中文 正体字\",\r\n  \"cht\": \"中文 繁體字\",\r\n  \"de\": \"Deutsch\",\r\n  \"en\": \"English\",\r\n  \"es\": \"español\",\r\n  \"fr\": \"français\",\r\n  \"id\": \"Bahasa Indonesia\",\r\n  \"ja\": \"日本語\",\r\n  \"ko\": \"한국어\",\r\n  \"pt\": \"Português\",\r\n  \"ru\": \"Русский язык\",\r\n  \"th\": \"ภาษาไทย\",\r\n  \"vi\": \"Tiếng Việt\"\r\n}\r\nexport function LanguageDropdown() {\r\n  const { t, i18n } = useTranslation([\"ui\", \"settings\"]);\r\n  const onSetLanguage = (lang) => () => i18n.changeLanguage(lang);\r\n  const currentLang = i18n.languages[0];\r\n  return <DropdownButton fullWidth title={t('settings:languageCard.languageFormat', { language: t(`languages:${currentLang}`) })}>\r\n    {languageCodeList.map((lang) => <MenuItem key={lang} selected={currentLang === lang} disabled={currentLang === lang} onClick={onSetLanguage(lang)}>\r\n      <Trans i18nKey={`languages:${lang}`} />\r\n      {lang !== currentLang ? ` (${nativeLanguages[lang]})` : \"\"}\r\n    </MenuItem>)}\r\n  </DropdownButton>\r\n}\r\n","import { CheckBox, CheckBoxOutlineBlank } from \"@mui/icons-material\";\r\nimport { Button, CardContent, Typography } from \"@mui/material\";\r\nimport CardLight from \"../Components/Card/CardLight\";\r\nimport { initGlobalSettings } from \"../GlobalSettings\";\r\nimport useDBState from \"../ReactHooks/useDBState\";\r\n\r\nexport default function TCToggleCard() {\r\n  const [{ tcMode }, setGlobalSettings] = useDBState(\"GlobalSettings\", initGlobalSettings)\r\n\r\n  return <CardLight>\r\n    <CardContent>\r\n      <Typography gutterBottom color=\"warning.main\">Enabling this toggle will show some features that might be too complex for the average user.</Typography>\r\n      <Button fullWidth\r\n        onClick={() => setGlobalSettings({ tcMode: !tcMode })}\r\n        color={tcMode ? \"success\" : \"primary\"}\r\n        startIcon={tcMode ? <CheckBox /> : <CheckBoxOutlineBlank />}>\r\n        Theorycrafting Mode\r\n      </Button>\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Upload');","import { ArtCharDatabase } from \"../Database\";\r\nimport { SandboxStorage } from \"../DBStorage\";\r\nimport { GOSource, IGO, IGOOD, ImportResult, newCounter } from \"../exim\";\r\nimport { setDBVersion } from \"../utils\";\r\nimport { merge } from \"./merge\";\r\nimport { migrate } from \"./migrate\";\r\nimport { parseArtifact, parseCharacter, parseWeapon } from \"./parse\";\r\n\r\n// MIGRATION STEP: Always keep parsing in sync with GOODv1 format\r\n\r\nexport function importGOOD(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\r\n  switch (data.version) {\r\n    case 1: return importGOOD1(data, oldDatabase)\r\n  }\r\n}\r\n\r\n// TODO: Remove this function or move it somewhere else\r\nfunction importGOOD1(data: IGOOD, oldDatabase: ArtCharDatabase): ImportResult | undefined {\r\n  const result = parseImport(data)\r\n  if (!result) return\r\n  migrate(result.storage)\r\n  merge(result, oldDatabase)\r\n  return result\r\n}\r\n\r\n/** DB file -> internal (old) storage */\r\nfunction parseImport(data: IGOOD): ImportResult | undefined {\r\n  const source = data.source, storage = new SandboxStorage()\r\n  const result: ImportResult = { type: \"GOOD\", storage, source }\r\n\r\n  if (data.artifacts) {\r\n    result.artifacts = newCounter()\r\n    const counter = result.artifacts\r\n    counter.total = data.artifacts.length\r\n\r\n    data.artifacts.forEach((a, i) => {\r\n      const parsed = parseArtifact(a)\r\n      if (!parsed) counter.invalid.push(a)\r\n      else storage.set(`artifact_${i}`, a)\r\n    })\r\n  }\r\n  if (data.weapons) {\r\n    result.weapons = newCounter()\r\n    const counter = result.weapons\r\n    counter.total = data.weapons!.length\r\n\r\n    data.weapons.forEach((w, i) => {\r\n      const parsed = parseWeapon(w)\r\n      if (!parsed) counter.invalid.push(w)\r\n      else storage.set(`weapon_${i}`, w)\r\n      return parsed ? [parsed] : []\r\n    })\r\n\r\n    result.weapons = counter\r\n  }\r\n  if (data.characters) {\r\n    result.characters = newCounter()\r\n    const counter = result.characters\r\n    counter.total = data.characters.length\r\n\r\n    data.characters.forEach(c => {\r\n      const parsed = parseCharacter(c)\r\n      if (!parsed) counter.invalid.push(c)\r\n\r\n      // We invalidate build results here because we need to do\r\n      // it regardless of whether the file has character/art data.\r\n      if (c.buildSettings) {\r\n        c.buildSettings.builds = []\r\n        c.buildSettings.buildDate = 0\r\n      }\r\n\r\n      storage.set(`char_${c.key}`, c);\r\n    })\r\n  }\r\n  if (source === GOSource) {\r\n    const { dbVersion, states } = data as unknown as IGO\r\n    if (dbVersion < 8) return // Something doesn't look right here\r\n    setDBVersion(storage, dbVersion)\r\n    states && states.forEach(s => {\r\n      const { key, ...state } = s as any\r\n      if (!key) return\r\n      storage.set(`state_${key}`, state)\r\n    });\r\n  } else {\r\n    // DO NOT CHANGE THE DB VERSION\r\n    // Update this ONLY when it has been verified that base GOODv1 is a valid GO\r\n    // of that particular version. Any missing/extra keys could crash the system.\r\n    setDBVersion(storage, 8)\r\n  }\r\n  return result\r\n}\r\n","import { IArtifact, ICachedArtifact } from \"../../Types/artifact\";\r\nimport { ICharacter } from \"../../Types/character\";\r\nimport { ICachedWeapon, IWeapon } from \"../../Types/weapon\";\r\nimport { ArtCharDatabase } from \"../Database\";\r\nimport { ImportResult } from \"../exim\";\r\n\r\n/** new prevalidated storage -> new validated storage */\r\nexport function merge(result: ImportResult, base: ArtCharDatabase) {\r\n  const { artifacts: artCounter, weapons: weaponCounter, characters: charCounter, storage } = result\r\n\r\n  // Match artifacts for counter, metadata, and locations\r\n  if (artCounter) {\r\n    const arts = storage.entries.filter(([k]) => k.startsWith(\"artifact_\")).map(([key, v]) => [key, JSON.parse(v) as IArtifact] as const)\r\n    const idsToRemove = new Set(base._getArts().map(a => a.id))\r\n    const hasLocations = arts.some(a => a[1].location)\r\n\r\n    for (const [key, art] of arts) {\r\n      let { duplicated, upgraded } = base.findDuplicates(art)\r\n\r\n      // Don't reuse dups/upgrades\r\n      duplicated = duplicated.filter(a => idsToRemove.has(a.id))\r\n      upgraded = upgraded.filter(a => idsToRemove.has(a.id))\r\n\r\n      // Prefer dups over upgrades\r\n      const match: ICachedArtifact | undefined = duplicated[0] ?? upgraded[0]\r\n      if (match) {\r\n        idsToRemove.delete(match.id)\r\n        for (const key in match) {\r\n          if (!(key in art) && key !== \"location\")\r\n            art[key] = match[key]\r\n        }\r\n        if (!hasLocations)\r\n          art.location = match.location\r\n      }\r\n\r\n      if (duplicated.length) artCounter.unchanged.push(art)\r\n      else if (upgraded.length) artCounter.updated.push(art)\r\n      else artCounter.new.push(art)\r\n      storage.set(key, art)\r\n    }\r\n    artCounter.removed = [...idsToRemove].map(id => base._getArt(id)!)\r\n  } else\r\n    base._getArts().forEach((x, i) => storage.set(`artifact_${i}`, x))\r\n\r\n  // Match weapons for counter, metadata, and locations\r\n  if (weaponCounter) {\r\n    const weapons = storage.entries.filter(([k]) => k.startsWith(\"weapon_\")).map(([key, v]) => [key, JSON.parse(v) as IWeapon] as const)\r\n    const idsToRemove = new Set(base._getWeapons().map(w => w.id))\r\n    const hasLocations = weapons.some(weapon => weapon[1].location)\r\n\r\n    for (const [key, weapon] of weapons) {\r\n      let { duplicated, upgraded } = base.findDuplicateWeapons(weapon)\r\n\r\n      // Don't reuse dups/upgrades\r\n      duplicated = duplicated.filter(w => idsToRemove.has(w.id))\r\n      upgraded = upgraded.filter(w => idsToRemove.has(w.id))\r\n\r\n      // Prefer dups over upgrades\r\n      const match = (duplicated[0] ?? upgraded[0]) as ICachedWeapon | undefined\r\n      if (match) {\r\n        idsToRemove.delete(match.id)\r\n        for (const key in match) {\r\n          if (!(key in weapon) && key !== \"location\")\r\n            weapon[key] = match[key]\r\n        }\r\n        if (!hasLocations)\r\n          weapon.location = match.location\r\n      }\r\n\r\n      if (duplicated.length) weaponCounter.unchanged.push(weapon)\r\n      else if (upgraded.length) weaponCounter.updated.push(weapon)\r\n      else weaponCounter.new.push(weapon)\r\n      storage.set(key, weapon)\r\n    }\r\n    weaponCounter.removed = [...idsToRemove].map(id => base._getWeapon(id)!)\r\n  } else\r\n    base._getWeapons().forEach((x, i) => storage.set(`weapon_${i}`, x))\r\n\r\n  if (charCounter) {\r\n    const newCharEntries = storage.entries.filter(([k]) => k.startsWith(\"char_\")).map(([key, value]) => [key.slice(5), JSON.parse(value) as ICharacter] as const)\r\n    const newCharKeys = new Set(newCharEntries.map(([k]) => k))\r\n    const oldCharKeys = new Set(base._getCharKeys() as string[])\r\n\r\n    charCounter.updated = []\r\n    charCounter.new = []\r\n\r\n    const hasTeamData = newCharEntries.some(([_, char]) => char.team.some(x => x))\r\n\r\n    for (const [key, char] of newCharEntries) {\r\n      const match = base._getChar(key as any)\r\n      if (match) {\r\n        charCounter.updated.push(char)\r\n      } else {\r\n        charCounter.new.push(char)\r\n        continue\r\n      }\r\n\r\n      for (const key in match)\r\n        if (!(key in char))\r\n          char[key] = match[key]\r\n      if (!hasTeamData)\r\n        char.team = match.team\r\n\r\n      storage.set(`char_${key}`, char)\r\n    }\r\n\r\n    charCounter.removed = [...oldCharKeys].filter(([k]) => newCharKeys.has(k)).map(k => base._getChar(k as any)!)\r\n    charCounter.unchanged = []\r\n  } else\r\n    base._getCharKeys().forEach(k => storage.set(`char_${k}`, base._getChar(k)))\r\n\r\n  // Merge misc.\r\n  const newKeys = new Set(storage.keys)\r\n  for (const key of base.storage.keys)\r\n    if (!newKeys.has(key) && !key.startsWith(\"artifact_\") && !key.startsWith(\"weapon_\") && !key.startsWith(\"char_\"))\r\n      storage.setString(key, base.storage.getString(key)!)\r\n}\r\n","import { MainStatKey, SubstatKey } from '../../Types/artifact';\r\nimport { ArtifactSetKey, SlotKey } from \"../../Types/consts\";\r\nimport { ArtCharDatabase } from '../Database';\r\nimport { importGOOD } from './good';\r\n\r\nconst DefaultVersion = \"1\";\r\nconst GetConvertedArtifactsOfVersion: Dict<string, (data: any) => { artifacts: any[] }> = {\r\n  \"1\": importMona1\r\n};\r\n\r\nexport function importMona(dataObj: any, oldDatabase: ArtCharDatabase): ReturnType<typeof importGOOD> {\r\n  const version = dataObj.version ?? DefaultVersion\r\n  const converted = GetConvertedArtifactsOfVersion[version]?.(dataObj)\r\n\r\n  if (!converted)\r\n    return // TODO: Maybe add failure reason, or throws here\r\n\r\n  return importGOOD({\r\n    format: \"GOOD\",\r\n    source: \"mona-uranai\",\r\n    version: 1,\r\n    artifacts: converted.artifacts\r\n  }, oldDatabase)\r\n}\r\n\r\n// backup 0: https://github.com/wormtql/genshin_artifact/blob/main/src/assets/artifacts/data/*/index.js\r\n// backup 1: https://github.com/YuehaiTeam/cocogoat/blob/main/src/App/export/Mona.ts\r\n\r\nfunction importMona1(dataObj: any): { artifacts: any[] } {\r\n  const artifacts: any[] = []\r\n\r\n  for (const property in dataObj) {\r\n    if (!(property in ArtifactSlotKeyMap))\r\n      continue\r\n\r\n    for (const genshinArtArtifact of dataObj[property]) {\r\n      const { setName, star, level, position, mainTag } = genshinArtArtifact\r\n      const raw = {\r\n        setKey: ArtifactSetKeyMap[setName],\r\n        rarity: star,\r\n        level,\r\n        slotKey: ArtifactSlotKeyMap[position],\r\n        mainStatKey: ArtifactMainStatKeyMap[mainTag.name],\r\n        substats: genshinArtArtifact.normalTags.map(({ name, value }) => {\r\n          const key = ArtifactSubStatKeyMap[name]\r\n          return {\r\n            key,\r\n            value: key?.endsWith(\"_\") ?\r\n              Math.round(value * 1000) / 10 : // decimal to percentage\r\n              value,\r\n          }\r\n        }),\r\n      }\r\n      artifacts.push(raw)\r\n    }\r\n  }\r\n\r\n  return { artifacts }\r\n}\r\n\r\n// Referencing https://wormtql.gitbook.io/mona-uranai/ (they don't seem to update this anymore...)\r\n\r\nconst ArtifactSlotKeyMap: Dict<string, SlotKey> = {\r\n  \"flower\": \"flower\",\r\n  \"feather\": \"plume\",\r\n  \"sand\": \"sands\",\r\n  \"cup\": \"goblet\",\r\n  \"head\": \"circlet\",\r\n}\r\n\r\n// Referencing https://github.com/daydreaming666/Amenoma/blob/main/ArtScanner/ArtsInfo.py SetNamesGenshinArt\r\n\r\nconst ArtifactSetKeyMap: Dict<string, ArtifactSetKey> = {\r\n  \"adventurer\": \"Adventurer\",\r\n  \"archaicPetra\": \"ArchaicPetra\",\r\n  \"berserker\": \"Berserker\",\r\n  \"blizzardStrayer\": \"BlizzardStrayer\",\r\n  \"bloodstainedChivalry\": \"BloodstainedChivalry\",\r\n  \"braveHeart\": \"BraveHeart\",\r\n  \"crimsonWitch\": \"CrimsonWitchOfFlames\",\r\n  \"defenderWill\": \"DefendersWill\",\r\n  \"gambler\": \"Gambler\",\r\n  \"gladiatorFinale\": \"GladiatorsFinale\",\r\n  \"heartOfDepth\": \"HeartOfDepth\",\r\n  \"instructor\": \"Instructor\",\r\n  \"lavaWalker\": \"Lavawalker\",\r\n  \"luckyDog\": \"LuckyDog\",\r\n  \"maidenBeloved\": \"MaidenBeloved\",\r\n  \"martialArtist\": \"MartialArtist\",\r\n  \"noblesseOblige\": \"NoblesseOblige\",\r\n  \"prayersForDestiny\": \"PrayersForDestiny\",\r\n  \"prayersForIllumination\": \"PrayersForIllumination\",\r\n  \"prayersForWisdom\": \"PrayersForWisdom\",\r\n  \"prayersToSpringtime\": \"PrayersToSpringtime\",\r\n  \"resolutionOfSojourner\": \"ResolutionOfSojourner\",\r\n  \"retracingBolide\": \"RetracingBolide\",\r\n  \"scholar\": \"Scholar\",\r\n  \"exile\": \"TheExile\",\r\n  \"thunderingFury\": \"ThunderingFury\",\r\n  \"thunderSmoother\": \"Thundersoother\",\r\n  \"tinyMiracle\": \"TinyMiracle\",\r\n  \"travelingDoctor\": \"TravelingDoctor\",\r\n  \"viridescentVenerer\": \"ViridescentVenerer\",\r\n  \"wandererTroupe\": \"WanderersTroupe\",\r\n  \"tenacityOfTheMillelith\": \"TenacityOfTheMillelith\",\r\n  \"paleFlame\": \"PaleFlame\",\r\n  \"emblemOfSeveredFate\": \"EmblemOfSeveredFate\",\r\n  \"shimenawaReminiscence\": \"ShimenawasReminiscence\",\r\n  \"huskOfOpulentDreams\": \"HuskOfOpulentDreams\",\r\n  \"oceanHuedClam\": \"OceanHuedClam\",\r\n  \"EchoesOfAnOffering\": \"EchoesOfAnOffering\",\r\n  \"VermillionHereafter\": \"VermillionHereafter\",\r\n}\r\nconst ArtifactMainStatKeyMap: Dict<string, MainStatKey> = {\r\n  \"cureEffect\": \"heal_\",\r\n  \"lifeStatic\": \"hp\",\r\n  \"lifePercentage\": \"hp_\",\r\n  \"attackStatic\": \"atk\",\r\n  \"attackPercentage\": \"atk_\",\r\n  // \"defendStatic\": \"def\",\r\n  \"defendPercentage\": \"def_\",\r\n  \"critical\": \"critRate_\",\r\n  // // \"eCritical\": \"\",\r\n  \"criticalDamage\": \"critDMG_\",\r\n  \"elementalMastery\": \"eleMas\",\r\n  \"recharge\": \"enerRech_\",\r\n  \"thunderBonus\": \"electro_dmg_\",\r\n  \"fireBonus\": \"pyro_dmg_\",\r\n  \"waterBonus\": \"hydro_dmg_\",\r\n  \"iceBonus\": \"cryo_dmg_\",\r\n  \"windBonus\": \"anemo_dmg_\",\r\n  \"rockBonus\": \"geo_dmg_\",\r\n  // \"grassBonus\": \"dendro_dmg_\",  // the day will come...\r\n  \"physicalBonus\": \"physical_dmg_\",\r\n  // \"bonus\": \"\",\r\n  // \"aBonus\": \"\",\r\n  // \"bBonus\": \"\",\r\n  // \"eBonus\": \"\",\r\n  // \"qBonus\": \"\",\r\n}\r\nconst ArtifactSubStatKeyMap: Dict<string, SubstatKey> = {\r\n  \"lifeStatic\": \"hp\",\r\n  \"lifePercentage\": \"hp_\",\r\n  \"attackStatic\": \"atk\",\r\n  \"attackPercentage\": \"atk_\",\r\n  \"defendStatic\": \"def\",\r\n  \"defendPercentage\": \"def_\",\r\n  \"critical\": \"critRate_\",\r\n  \"criticalDamage\": \"critDMG_\",\r\n  \"elementalMastery\": \"eleMas\",\r\n  \"recharge\": \"enerRech_\",\r\n}\r\n","import { faArrowLeft, faFileCode, faFileUpload } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Upload } from '@mui/icons-material'\r\nimport { Box, Button, CardContent, Divider, Grid, styled, Typography } from '@mui/material'\r\nimport { useContext, useMemo, useState } from \"react\"\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardDark from '../Components/Card/CardDark'\r\nimport CardLight from '../Components/Card/CardLight'\r\nimport { ArtCharDatabase, DatabaseContext } from \"../Database/Database\"\r\nimport { ImportResult, ImportResultCounter } from '../Database/exim'\r\nimport { importGOOD } from '../Database/imports/good'\r\nimport { importMona } from '../Database/imports/mona'\r\n\r\nconst InvisInput = styled('input')({\r\n  display: 'none',\r\n});\r\n\r\nexport default function UploadCard() {\r\n  const { database } = useContext(DatabaseContext)\r\n  const { t } = useTranslation(\"settings\");\r\n  const [data, setdata] = useState(\"\")\r\n  const [filename, setfilename] = useState(\"\")\r\n  const [errorMsg, setErrorMsg] = useState(\"\") // TODO localize error msg\r\n  const dataObj: UploadData | undefined = useMemo(() => {\r\n    if (!data) return\r\n    let parsed: any\r\n    try {\r\n      parsed = JSON.parse(data)\r\n      if (typeof parsed !== \"object\") {\r\n        setErrorMsg(\"uploadCard.error.jsonParse\")\r\n        return\r\n      }\r\n    } catch (e) {\r\n      setErrorMsg(\"uploadCard.error.jsonParse\")\r\n      return\r\n    }\r\n    // Figure out the file format\r\n    if (parsed.version === \"1\" && [\"flower\", \"feather\", \"sand\", \"cup\", \"head\"].some(k => Object.keys(parsed).includes(k))) {\r\n      // Parse as mona format\r\n      const imported = importMona(parsed, database)\r\n      if (!imported) {\r\n        setErrorMsg(\"uploadCard.error.monaInvalid\")\r\n        return\r\n      }\r\n      return imported\r\n    } else if (parsed.format === \"GOOD\") {\r\n      // Parse as GOOD format\r\n      const imported = importGOOD(parsed, database)\r\n      if (!imported) {\r\n        setErrorMsg(\"uploadCard.error.goInvalid\")\r\n        return\r\n      }\r\n      return imported\r\n    }\r\n    setErrorMsg(\"uploadCard.error.unknown\")\r\n    return\r\n  }, [data, database])\r\n\r\n  const reset = () => {\r\n    setdata(\"\")\r\n    setfilename(\"\")\r\n  }\r\n  const onUpload = async e => {\r\n    const file = e.target.files[0]\r\n    e.target.value = null // reset the value so the same file can be uploaded again...\r\n    if (file) setfilename(file.name)\r\n    const reader = new FileReader()\r\n    reader.onload = () => setdata(reader.result as string)\r\n    reader.readAsText(file)\r\n  }\r\n  return <CardLight>\r\n    <CardContent sx={{ py: 1 }}><Trans t={t} i18nKey=\"settings:uploadCard.title\" /></CardContent>\r\n    <CardContent>\r\n      <Grid container spacing={2} sx={{ mb: 1 }}>\r\n        <Grid item>\r\n          <label htmlFor=\"icon-button-file\">\r\n            <InvisInput accept=\".json\" id=\"icon-button-file\" type=\"file\" onChange={onUpload} />\r\n            <Button component=\"span\" startIcon={<Upload />}>Upload</Button>\r\n          </label>\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <CardDark sx={{ px: 2, py: 1 }}>\r\n            <Typography>{filename ? <span><FontAwesomeIcon icon={faFileCode} /> {filename}</span> : <span><FontAwesomeIcon icon={faArrowLeft} /> <Trans t={t} i18nKey=\"settings:uploadCard.hint\" /></span>}</Typography>\r\n          </CardDark>\r\n        </Grid>\r\n      </Grid>\r\n      <Typography gutterBottom variant=\"caption\"><Trans t={t} i18nKey=\"settings:uploadCard.hintPaste\" /></Typography>\r\n      <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", mb: 2, resize: \"vertical\" }} value={data} onChange={e => setdata(e.target.value)} />\r\n      {UploadInfo(dataObj) ?? errorMsg}\r\n    </CardContent>\r\n    {UploadAction(dataObj, reset)}\r\n  </CardLight>\r\n}\r\n\r\nfunction UploadInfo(data: UploadData | undefined) {\r\n  switch (data?.type) {\r\n    case \"GOOD\": return <GOODUploadInfo data={data} />\r\n  }\r\n}\r\nfunction UploadAction(data: UploadData | undefined, reset: () => void) {\r\n  switch (data?.type) {\r\n    case \"GOOD\": return <GOUploadAction data={data} reset={reset} />\r\n  }\r\n}\r\n\r\nfunction GOODUploadInfo({ data: { source, artifacts, characters, weapons }, data }: { data: ImportResult }) {\r\n  const { t } = useTranslation(\"settings\")\r\n  return <CardDark>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>\r\n        <Trans t={t} i18nKey=\"uploadCard.dbSource\" /><strong> {source}</strong>\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent >\r\n      <Grid container spacing={2}>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={artifacts} type=\"arts\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={weapons} type=\"weapons\" />\r\n        </Grid>\r\n        <Grid item flexGrow={1}>\r\n          <MergeResult result={characters} type=\"chars\" />\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  </CardDark>\r\n}\r\nfunction MergeResult({ result, type }: { result?: ImportResultCounter<any>, type: string }) {\r\n  const { t } = useTranslation(\"settings\")\r\n  if (!result) return null\r\n  return <CardLight >\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography>\r\n        <Trans t={t} i18nKey={`count.${type}`} /> {result.total ?? 0}\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent>\r\n      <Typography><Trans t={t} i18nKey=\"count.new\" /> <strong>{result.new.length}</strong> / {result.total}</Typography>\r\n      <Typography><Trans t={t} i18nKey=\"count.updated\" /> <strong>{result.updated.length}</strong> / {result.total}</Typography>\r\n      <Typography><Trans t={t} i18nKey=\"count.unchanged\" /> <strong>{result.unchanged.length}</strong> / {result.total}</Typography>\r\n      <Typography color=\"warning.main\"><Trans t={t} i18nKey=\"count.removed\" /> <strong>{result.removed.length}</strong></Typography>\r\n      {!!result.invalid?.length && <div>\r\n        <Typography color=\"error.main\"><Trans t={t} i18nKey=\"count.invalid\" /> <strong>{result.invalid.length}</strong> / {result.total}</Typography>\r\n        <Box component=\"textarea\" sx={{ width: \"100%\", fontFamily: \"monospace\", minHeight: \"10em\", resize: \"vertical\" }} value={JSON.stringify(result.invalid, undefined, 2)} disabled />\r\n      </div>}\r\n    </CardContent>\r\n  </CardLight>\r\n}\r\n\r\nfunction GOUploadAction({ data: { storage }, data, reset }: { data: ImportResult, reset: () => void }) {\r\n  const { database, setDatabase } = useContext(DatabaseContext)\r\n  const { t } = useTranslation(\"settings\")\r\n  const dataValid = data.characters?.total || data.artifacts?.total || data.weapons?.total\r\n  const replaceDB = () => {\r\n    database.storage.clear()\r\n    database.storage.copyFrom(storage)\r\n    setDatabase(new ArtCharDatabase(database.storage, true))\r\n    reset()\r\n  }\r\n\r\n  return <><Divider /><CardContent sx={{ py: 1 }}>\r\n    <Button color={dataValid ? \"success\" : \"error\"} disabled={!dataValid} onClick={replaceDB} startIcon={<FontAwesomeIcon icon={faFileUpload} />}><Trans t={t} i18nKey=\"settings:uploadCard.replaceDatabase\" /></Button>\r\n  </CardContent></>\r\n}\r\n\r\ntype UploadData = ImportResult\r\n","import { CardContent, Divider, Typography } from '@mui/material'\r\nimport ReactGA from 'react-ga'\r\nimport { Trans, useTranslation } from \"react-i18next\"\r\nimport CardDark from '../Components/Card/CardDark'\r\nimport DownloadCard from './DownloadCard'\r\nimport LanguageCard from './LanguageCard'\r\nimport TCToggleCard from './TCToggleCard'\r\nimport UploadCard from './UploadCard'\r\n\r\nexport default function PageSettings() {\r\n  const { t } = useTranslation([\"settings\"]);\r\n  ReactGA.pageview('/setting')\r\n\r\n  return <CardDark sx={{ my: 1 }}>\r\n    <CardContent sx={{ py: 1 }}>\r\n      <Typography variant=\"subtitle1\">\r\n        <Trans t={t} i18nKey=\"title\" />\r\n      </Typography>\r\n    </CardContent>\r\n    <Divider />\r\n    <CardContent sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\r\n      <LanguageCard />\r\n      <DownloadCard />\r\n      <UploadCard />\r\n      <TCToggleCard />\r\n    </CardContent>\r\n  </CardDark>\r\n}\r\n","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { DatabaseContext } from \"../Database/Database\";\r\n\r\nexport default function useDBState<O extends object>(key: string, init: () => O): [O, (value: Partial<O>) => void] {\r\n  const { database } = useContext(DatabaseContext)\r\n  const [state, setState] = useState(database._getState<O>(key, init))\r\n\r\n  useEffect(() => setState(database._getState(key, init)), [database, key, init])\r\n  useEffect(() =>\r\n    key ? database.followState(key, setState) : undefined,\r\n    [key, setState, database])\r\n  const updateState = useCallback(\r\n    value => database.updateState(key, value),\r\n    [database, key],\r\n  )\r\n\r\n  return [state, updateState]\r\n}\r\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z\"\n}), 'Download');","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["CardDark","styled","Card","backgroundColor","theme","palette","contentDark","main","CardLight","contentLight","DropdownButton","title","children","id","props","useState","anchorEl","setAnchorEl","open","Boolean","handleClick","useCallback","event","currentTarget","handleClose","Suspense","fallback","endIcon","width","undefined","onClick","onClose","MenuListProps","height","SqBadge","name","slot","color","display","padding","fontSize","fontWeight","lineHeight","textAlign","whiteSpace","verticalAlign","borderRadius","contrastText","initGlobalSettings","tcMode","GOSource","exportGOOD","storage","format","dbVersion","currentDBVersion","source","version","characters","entries","filter","startsWith","map","value","result","JSON","parse","buildSettings","builds","buildDate","artifacts","weapons","states","key","split","DownloadCard","useContext","DatabaseContext","database","setDatabase","t","useTranslation","numChar","_getCharKeys","length","numArt","_getArts","numWeapon","_getWeapons","downloadValid","deleteDB","clear","ArtCharDatabase","copyToClipboard","navigator","clipboard","writeText","stringify","then","alert","catch","console","error","download","dateStr","Date","toISOString","replace","replaceAll","JSONStr","filename","a","document","createElement","href","encodeURIComponent","target","body","appendChild","click","removeChild","CardContent","sx","py","Typography","variant","Trans","i18nKey","Divider","Grid","container","mb","spacing","item","xs","md","Button","disabled","startIcon","Download","flexGrow","icon","faClipboard","faTrashAlt","LanguageCard","LanguageDropdown","nativeLanguages","i18n","onSetLanguage","lang","changeLanguage","currentLang","languages","fullWidth","language","languageCodeList","MenuItem","selected","TCToggleCard","useDBState","setGlobalSettings","gutterBottom","CheckBox","CheckBoxOutlineBlank","createSvgIcon","_jsx","d","importGOOD","data","oldDatabase","SandboxStorage","type","total","invalid","new","updated","unchanged","removed","counter","forEach","i","parseArtifact","set","push","w","parsed","parseWeapon","c","parseCharacter","setDBVersion","s","state","parseImport","migrate","base","artCounter","weaponCounter","charCounter","arts","v","idsToRemove","Set","hasLocations","some","location","art","findDuplicates","duplicated","upgraded","has","match","delete","_getArt","x","weapon","findDuplicateWeapons","_getWeapon","newCharEntries","slice","newCharKeys","oldCharKeys","hasTeamData","team","char","_getChar","k","newKeys","keys","setString","getString","merge","importGOOD1","GetConvertedArtifactsOfVersion","dataObj","property","ArtifactSlotKeyMap","genshinArtArtifact","setName","star","level","position","mainTag","raw","setKey","ArtifactSetKeyMap","rarity","slotKey","mainStatKey","ArtifactMainStatKeyMap","substats","normalTags","ArtifactSubStatKeyMap","endsWith","Math","round","InvisInput","UploadCard","setdata","setfilename","errorMsg","setErrorMsg","useMemo","e","Object","includes","imported","converted","importMona","onUpload","file","files","reader","FileReader","onload","readAsText","htmlFor","accept","onChange","component","Upload","px","faFileCode","faArrowLeft","Box","fontFamily","minHeight","resize","UploadInfo","UploadAction","GOODUploadInfo","reset","GOUploadAction","MergeResult","dataValid","copyFrom","faFileUpload","PageSettings","ReactGA","my","flexDirection","gap","init","_getState","setState","useEffect","followState","updateState","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err"],"sourceRoot":""}