"use strict";(self.webpackChunklittle_bro=self.webpackChunklittle_bro||[]).push([[923],{74476:function(e,n,i){i.r(n),i.d(n,{default:function(){return M}});var s=i(29439),t=i(40117),o=i(62002),l=i(63204),r=i(39504),a=i(61889),c=i(68870),d=i(20890),u=i(2199),x=i(24518),p=i(9585),f=i(94721),Z=i(15021),h=i(72791),j=i(22020),m=i(3992),v=i(71310),y=i(31038),w=i(68198),g=i(37503),k=i(88034),b=i(29371),C=i(9321),P=i(6805),T=i(10157),W=i(44361),D=i(13746),I=i(947),R=i(2139),B=i(66218),N=i(34369),S=i(26138),E=i(73036),F=i(24711),G=i(42320),K=i(74480),L=i(80184);function M(e){var n,i=e.weaponId,M=e.footer,_=void 0!==M&&M,q=e.onClose,z=e.extraButtons,H=(0,j.$)("ui").t,J=(0,h.useContext)(D.R).data,U=(0,h.useContext)(N.t).database,$=(0,K.Z)(i),A=null!==$&&void 0!==$?$:{},O=A.key,Q=void 0===O?"":O,V=A.level,X=void 0===V?0:V,Y=A.refinement,ee=void 0===Y?1:Y,ne=A.ascension,ie=void 0===ne?0:ne,se=A.lock,te=A.location,oe=void 0===te?"":te,le=A.id,re=(0,G.Z)((function(){return B.Z.get(Q)}),[Q]),ae=(0,h.useCallback)((function(e){U.weapons.set(i,e)}),[i,U]),ce=(0,G.Z)((function(){return oe?I.Z.get(oe):void 0}),[oe]),de=ce&&ce.weaponTypeKey,ue=(0,h.useCallback)((function(e){return le&&U.weapons.set(le,{location:e})}),[U,le]),xe=(0,h.useCallback)((function(e){return e.weaponTypeKey===(null===re||void 0===re?void 0:re.weaponType)}),[re]),pe=(0,F.Z)(),fe=(0,s.Z)(pe,3),Ze=fe[0],he=fe[1],je=fe[2],me=null===re||void 0===re?void 0:re.getImg(ie);(0,h.useEffect)((function(){if(re&&ae&&re.key===(null===$||void 0===$?void 0:$.key)&&re.rarity<=2&&(X>70||ie>4)){var e=(0,s.Z)(R.vF[0],2),n=e[0],i=e[1];ae({level:n,ascension:i})}}),[re,$,ae,X,ie]);var ve=(0,h.useMemo)((function(){return re&&$&&(0,E.mP)([re.data,(0,E.v0)($)])}),[re,$]);return(0,L.jsx)(C.Z,{open:!!i,onClose:q,containerProps:{maxWidth:"md"},children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(W.Z,{ascension:ie,show:Ze,onHide:je,onSelect:function(e){return ae({key:e})},weaponTypeFilter:de}),(0,L.jsx)(r.Z,{children:re&&ve&&(0,L.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,L.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,L.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,L.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,L.jsx)(c.Z,{component:"img",src:me,className:"grad-".concat(re.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,L.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,L.jsx)(d.Z,{children:(0,L.jsx)("small",{children:re.description})})})]})}),(0,L.jsxs)(a.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,L.jsx)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,L.jsxs)(u.Z,{children:[(0,L.jsx)(x.Z,{color:"info",onClick:he,children:null!==(n=null===re||void 0===re?void 0:re.name)&&void 0!==n?n:"Select a Weapon"}),(null===re||void 0===re?void 0:re.hasRefinement)&&(0,L.jsx)(P.Z,{refinement:ee,setRefinement:function(e){return ae({refinement:e})}}),z]})}),(0,L.jsxs)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[re&&(0,L.jsx)(b.Z,{level:X,ascension:ie,setBoth:ae,useLow:!re.hasRefinement}),(0,L.jsx)(x.Z,{color:"error",onClick:function(){return le&&U.weapons.set(le,{lock:!se})},startIcon:se?(0,L.jsx)(t.Z,{}):(0,L.jsx)(o.Z,{}),children:se?"Locked":"Unlocked"})]}),(0,L.jsx)(d.Z,{children:(0,L.jsx)(T.q,{stars:re.rarity})}),(0,L.jsx)(d.Z,{variant:"subtitle1",children:(0,L.jsx)("strong",{children:re.passiveName})}),(0,L.jsx)(d.Z,{gutterBottom:!0,children:re.passiveName&&re.passiveDescription(ve.get(S.ri.weapon.refineIndex).value)}),(0,L.jsxs)(c.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,L.jsxs)(m.Z,{children:[(0,L.jsx)(p.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,L.jsx)(f.Z,{}),(0,L.jsx)(k.lD,{children:[S.ri.weapon.main,S.ri.weapon.sub,S.ri.weapon.sub2].map((function(e,n){var i=ve.get(e);return i.isEmpty||!i.value?null:(0,L.jsx)(k.JW,{node:i,component:Z.ZP},i.info.key)}))})]}),J&&re.document&&(0,L.jsx)(g.Z,{sections:re.document})]})]})]})}),_&&le&&(0,L.jsx)(r.Z,{sx:{py:1},children:(0,L.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,L.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,L.jsx)(y.Z,{showDefault:!0,size:"small",defaultIcon:(0,L.jsx)(l.Z,{}),defaultText:H("inventory"),value:oe,onChange:ue,filter:xe,disable:function(e){return""===e},disableClearable:!0})}),(0,L.jsx)(a.ZP,{item:!0,flexGrow:2}),!!q&&(0,L.jsx)(a.ZP,{item:!0,children:(0,L.jsx)(w.Z,{sx:{height:"100%"},large:!0,onClick:q})})]})})]})})}}}]);
//# sourceMappingURL=923.5e0cbcb3.chunk.js.map