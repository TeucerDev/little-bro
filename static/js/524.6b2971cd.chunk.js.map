{"version":3,"file":"static/js/524.6b2971cd.chunk.js","mappings":"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","sources":["Data/Characters/Albedo/assets.tsx","Data/Characters/Albedo/index.tsx","Data/Characters/Aloy/assets.tsx","Data/Characters/Aloy/index.tsx","Data/Characters/Amber/assets.tsx","Data/Characters/Amber/index.tsx","Data/Characters/AratakiItto/assets.tsx","Data/Characters/AratakiItto/index.tsx","Data/Characters/Barbara/assets.tsx","Data/Characters/Barbara/index.tsx","Data/Characters/Beidou/assets.tsx","Data/Characters/Beidou/index.tsx","Data/Characters/Bennett/assets.tsx","Data/Characters/Bennett/index.tsx","Data/Characters/Candace/assets.ts","Data/Characters/Candace/index.tsx","Data/Characters/Chongyun/assets.tsx","Data/Characters/Chongyun/index.tsx","Data/Characters/Collei/assets.tsx","Data/Characters/Collei/index.tsx","Data/Characters/Diluc/assets.tsx","Data/Characters/Diluc/index.tsx","Data/Characters/Diona/assets.tsx","Data/Characters/Diona/index.tsx","Data/Characters/Dori/assets.tsx","Data/Characters/Dori/index.tsx","Data/Characters/Eula/assets.tsx","Data/Characters/Eula/index.tsx","Data/Characters/Fischl/assets.tsx","Data/Characters/Fischl/index.tsx","Data/Characters/Ganyu/assets.tsx","Data/Characters/Ganyu/index.tsx","Data/Characters/Gorou/assets.tsx","Data/Characters/Gorou/index.tsx","Data/Characters/HuTao/assets.tsx","Data/Characters/HuTao/index.tsx","Data/Characters/Jean/assets.tsx","Data/Characters/Jean/index.tsx","Data/Characters/KaedeharaKazuha/assets.tsx","Data/Characters/KaedeharaKazuha/index.tsx","Data/Characters/Kaeya/assets.tsx","Data/Characters/Kaeya/index.tsx","Data/Characters/KamisatoAyaka/assets.tsx","Data/Characters/KamisatoAyaka/index.tsx","Data/Characters/KamisatoAyato/assets.tsx","Data/Characters/KamisatoAyato/index.tsx","Data/Characters/Keqing/assets.tsx","Data/Characters/Keqing/index.tsx","Data/Characters/Klee/assets.tsx","Data/Characters/Klee/index.tsx","Data/Characters/KujouSara/assets.tsx","Data/Characters/KujouSara/index.tsx","Data/Characters/KukiShinobu/assets.ts","Data/Characters/KukiShinobu/index.tsx","Data/Characters/Lisa/assets.tsx","Data/Characters/Lisa/index.tsx","Data/Characters/Mona/assets.tsx","Data/Characters/Mona/index.tsx","Data/Characters/Nilou/assets.tsx","Data/Characters/Nilou/index.tsx","Data/Characters/Ningguang/assets.tsx","Data/Characters/Ningguang/index.tsx","Data/Characters/Noelle/assets.tsx","Data/Characters/Noelle/index.tsx","Data/Characters/Qiqi/assets.tsx","Data/Characters/Qiqi/index.tsx","Data/Characters/RaidenShogun/assets.tsx","Data/Characters/RaidenShogun/index.tsx","Data/Characters/Razor/assets.tsx","Data/Characters/Razor/index.tsx","Data/Characters/Rosaria/assets.ts","Data/Characters/Rosaria/index.tsx","Data/Characters/SangonomiyaKokomi/assets.tsx","Data/Characters/SangonomiyaKokomi/index.tsx","Data/Characters/Sayu/assets.tsx","Data/Characters/Sayu/index.tsx","Data/Characters/Shenhe/assets.tsx","Data/Characters/Shenhe/index.tsx","Data/Characters/ShikanoinHeizou/assets.tsx","Data/Characters/ShikanoinHeizou/index.tsx","Data/Characters/Sucrose/assets.tsx","Data/Characters/Sucrose/index.tsx","Data/Characters/Tartaglia/assets.tsx","Data/Characters/Tartaglia/index.tsx","Data/Characters/Thoma/assets.tsx","Data/Characters/Thoma/index.tsx","Data/Characters/Tighnari/assets.tsx","Data/Characters/Tighnari/index.tsx","Data/Characters/Traveler/anemo/assets.tsx","Data/Characters/Traveler/anemo/index.tsx","Data/Characters/Traveler/dendro/assets.tsx","Data/Characters/Traveler/dendro/index.tsx","Data/Characters/Traveler/electro/assets.tsx","Data/Characters/Traveler/electro/index.tsx","Data/Characters/Traveler/geo/assets.tsx","Data/Characters/Traveler/geo/index.tsx","Data/Characters/Traveler/index.tsx","Data/Characters/Venti/assets.tsx","Data/Characters/Venti/index.tsx","Data/Characters/Xiangling/assets.tsx","Data/Characters/Xiangling/index.tsx","Data/Characters/Xiao/assets.tsx","Data/Characters/Xiao/index.tsx","Data/Characters/Xingqiu/assets.tsx","Data/Characters/Xingqiu/index.tsx","Data/Characters/Xinyan/assets.tsx","Data/Characters/Xinyan/index.tsx","Data/Characters/YaeMiko/assets.tsx","Data/Characters/YaeMiko/index.tsx","Data/Characters/Yanfei/assets.tsx","Data/Characters/Yanfei/index.tsx","Data/Characters/Yelan/assets.tsx","Data/Characters/Yelan/index.tsx","Data/Characters/Yoimiya/assets.tsx","Data/Characters/Yoimiya/index.tsx","Data/Characters/YunJin/assets.tsx","Data/Characters/YunJin/index.tsx","Data/Characters/Zhongli/assets.tsx","Data/Characters/Zhongli/index.tsx","Data/Characters/index.ts"],"sourcesContent":["import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Albedo_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Albedo\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    blossomDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    blossomCd: 2,\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    blossomDmg: skillParam_gen.burst[b++],\r\n    blossomAmt: 7,\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    blossomDmgInc: 0.25,\r\n    hpThresh: 50,\r\n  },\r\n  passive2: {\r\n    eleMasInc: skillParam_gen.passive2[0][0],\r\n    duration: skillParam_gen.passive2[1][0]\r\n  },\r\n  constellation1: {\r\n    blossomEner: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    blossomDmgInc: 0.30,\r\n    maxStacks: 4,\r\n    stackDuration: 30\r\n  },\r\n  constellation4: {\r\n    plunging_dmg_: 0.3,\r\n  },\r\n  constellation6: {\r\n    bonus_dmg_: 0.17\r\n  }\r\n} as const\r\n\r\nconst [condBurstBlossomPath, condBurstBlossom] = cond(key, \"burstBlossom\")\r\nconst [condBurstUsedPath, condBurstUsed] = cond(key, \"burstUsed\")\r\nconst p2Burst_eleMas = equal(condBurstUsed, \"burstUsed\", greaterEq(input.asc, 4, datamine.passive2.eleMasInc))\r\n\r\nconst [condP1EnemyHpPath, condP1EnemyHp] = cond(key, \"p1EnemyHp\")\r\nconst p1_blossom_dmg_ = equal(condP1EnemyHp, \"belowHp\", greaterEq(input.asc, 1, datamine.passive1.blossomDmgInc))\r\n\r\nconst [condC2StacksPath, condC2Stacks] = cond(key, \"c2Stacks\")\r\nconst c2_burst_dmgInc = greaterEq(input.constellation, 2,\r\n  prod(\r\n    lookup(\r\n      condC2Stacks,\r\n      Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i =>\r\n        [i,\r\n          prod(i, datamine.constellation2.blossomDmgInc)]\r\n      )\r\n      ),\r\n      naught\r\n    ),\r\n    input.total.def\r\n  )\r\n)\r\n\r\nconst [condSkillInFieldPath, condSkillInField] = cond(key, \"skillInField\")\r\nconst c4_plunging_dmg_disp = greaterEq(input.constellation, 4,\r\n  equal(condSkillInField, \"skillInField\", datamine.constellation4.plunging_dmg_)\r\n)\r\nconst c4_plunging_dmg_ = equal(input.activeCharKey, target.charKey, c4_plunging_dmg_disp)\r\n\r\n// Maybe we should just have a single conditional for \"in field AND crystallize shield\"?\r\n// This is technically a nested conditional\r\nconst [condC6CrystallizePath, condC6Crystallize] = cond(key, \"c6Crystallize\")\r\nconst c6_Crystal_all_dmg_disp = greaterEq(input.constellation, 6,\r\n  equal(condSkillInField, \"skillInField\",\r\n    equal(condC6Crystallize, \"c6Crystallize\", datamine.constellation6.bonus_dmg_)\r\n  )\r\n)\r\nconst c6_Crystal_all_dmg_ = equal(input.activeCharKey, target.charKey, c6_Crystal_all_dmg_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n    blossom: dmgNode(\"def\", datamine.skill.blossomDmg, \"skill\", { total: { skill_dmg_: p1_blossom_dmg_ } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    blossom: equal(\"isoOnField\", condBurstBlossom, dmgNode(\"atk\", datamine.burst.blossomDmg, \"burst\")),\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: p2Burst_eleMas,\r\n      plunging_dmg_: c4_plunging_dmg_,\r\n      all_dmg_: c6_Crystal_all_dmg_,\r\n    }\r\n  },\r\n  premod: {\r\n    burst_dmgInc: c2_burst_dmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.blossom, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: trm(\"blossomCD\"),\r\n          value: datamine.skill.blossomCd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1EnemyHp,\r\n        path: condP1EnemyHpPath,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.passive1.hpThresh }),\r\n        states: {\r\n          belowHp: {\r\n            fields: [{\r\n              node: infoMut(p1_blossom_dmg_, { key: `char_${key}:blossomDmg_` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"enerPerBlossom\"),\r\n          value: datamine.constellation1.blossomEner,\r\n          fixed: 1,\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condSkillInField,\r\n        path: condSkillInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          skillInField: {\r\n            fields: [{\r\n              node: infoMut(c4_plunging_dmg_disp, { key: \"plunging_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Crystallize,\r\n        path: condC6CrystallizePath,\r\n        name: st(\"protectedByShieldCrystal\"),\r\n        canShow: equal(condSkillInField, \"skillInField\", 1),\r\n        teamBuff: true,\r\n        states: {\r\n          c6Crystallize: {\r\n            fields: [{\r\n              node: infoMut(c6_Crystal_all_dmg_disp, { key: \"all_dmg_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstBlossom,\r\n        path: condBurstBlossomPath,\r\n        name: trm(\"isotomaOnField\"),\r\n        states: {\r\n          isoOnField: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.blossom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n              textSuffix: st(\"brHits\", { count: datamine.burst.blossomAmt })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condBurstUsed,\r\n        path: condBurstUsedPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          burstUsed: {\r\n            fields: [{\r\n              node: p2Burst_eleMas\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2Stacks,\r\n        path: condC2StacksPath,\r\n        name: trm(\"c2Stacks\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: c2_burst_dmgInc\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Aloy_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, naught, percent, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Aloy\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1.1\r\n      skillParam_gen.auto[a++], // 1.2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    freezeBombDmg: skillParam_gen.skill[s++],\r\n    chillWaterBomblets: skillParam_gen.skill[s++],\r\n    atkDecrease: skillParam_gen.skill[s++],\r\n    atkDecreaseDuration: skillParam_gen.skill[s++][0],\r\n    coilNormalDmgBonus1: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus2: skillParam_gen.skill[s++],\r\n    coilNormalDmgBonus3: skillParam_gen.skill[s++],\r\n    rushingNormalDmgBonus: skillParam_gen.skill[s++],\r\n    rushingDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atkInc: 0.16,\r\n    teamAtkInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condCoilPath, condCoil] = cond(key, \"coil\")\r\nconst normal_dmg_ = lookup(condCoil, {\r\n  \"coil1\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus1, { key: \"_\" }),\r\n  \"coil2\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus2, { key: \"_\" }),\r\n  \"coil3\": subscript(input.total.skillIndex, datamine.skill.coilNormalDmgBonus3, { key: \"_\" }),\r\n  \"rush\": subscript(input.total.skillIndex, datamine.skill.rushingNormalDmgBonus, { key: \"_\" })\r\n}, naught)\r\nconst atk_ = greaterEq(input.asc, 1, unequal(condCoil, undefined, percent(datamine.passive1.atkInc)))\r\nconst coilInfusion = equalStr(condCoil, \"rush\", elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst teamAtk_ = greaterEq(input.asc, 1, equal(condA1, \"on\",\r\n  unequal(input.activeCharKey, key, percent(datamine.passive1.teamAtkInc))))\r\n\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst cryo_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4, Object.fromEntries(range(1, 10).map(i => [i, percent(datamine.passive2.cryoDmgBonus * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    freezeBombDmg: dmgNode(\"atk\", datamine.skill.freezeBombDmg, \"skill\"),\r\n    chillWaterBomblets: dmgNode(\"atk\", datamine.skill.chillWaterBomblets, \"skill\"),\r\n    atkDecrease: subscript(input.total.skillIndex, datamine.skill.atkDecrease)\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  premod: {\r\n    normal_dmg_,\r\n    atk_,\r\n    cryo_dmg_\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: coilInfusion\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: teamAtk_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i === 0 ? 0 : -1)}` }),\r\n          textSuffix: i === 0 ? \"(1)\" : i === 1 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.freezeBombDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.chillWaterBomblets, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.atkDecrease, { key: `char_${key}_gen:skill.skillParams.2_` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.atkDecreaseDuration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.7\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condCoil,\r\n        path: condCoilPath,\r\n        name: trm(\"skill.coil\"),\r\n        states: {\r\n          \"coil1\": {\r\n            name: trm(\"skill.coil1\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil2\": {\r\n            name: trm(\"skill.coil2\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"coil3\": {\r\n            name: trm(\"skill.coil3\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }]\r\n          },\r\n          \"rush\": {\r\n            name: trm(\"skill.rush\"),\r\n            fields: [{\r\n              node: normal_dmg_\r\n            }, {\r\n              text: trm(\"normCryoInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.6\"),\r\n              value: datamine.skill.rushingDuration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: atk_\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        teamBuff: true,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: infoMut(teamAtk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        canShow: equal(\"rush\", condCoil, 1),\r\n        name: trm(\"skill.rushState\"),\r\n        states: Object.fromEntries(range(1, 10).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{ node: cryo_dmg_ }]\r\n        }]))\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\"),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\"),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Amber_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Amber\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    unknown: skillParam_gen.skill[s++], // what is this??\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerWave: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    rainDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    aoeInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    atkInc: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    secArrowDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    manualDetionationDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    moveSpdInc: skillParam_gen.constellation6[0],\r\n    atkInc: skillParam_gen.constellation6[1],\r\n    duration: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst burst_critRate_ = greaterEq(input.asc, 1, percent(datamine.passive1.critRateInc))\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst atk_ = equal(\"on\", condA4, percent(datamine.passive2.atkInc))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst moveSPD_ = equal(\"on\", condC6, percent(datamine.constellation6.moveSpdInc))\r\nconst teamAtk_ = equal(\"on\", condC6, percent(datamine.constellation6.atkInc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('pyro') } }),\r\n    secondAimed: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.secArrowDmg), dmgNode(\"atk\", datamine.charged.aimed, \"charged\"))),\r\n    secondAimedCharged: greaterEq(input.constellation, 1, prod(dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\",\r\n      { hit: { ele: constant('pyro') } }), percent(datamine.constellation1.secArrowDmg))),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    rainDmg: dmgNode(\"atk\", datamine.burst.rainDmg, \"burst\"),\r\n    dmgPerWave: dmgNode(\"atk\", datamine.burst.dmgPerWave, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    manualDetonationDmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { premod: { skill_dmg_: percent(datamine.constellation2.manualDetionationDmg) } })),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    atk_,\r\n    burst_critRate_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      moveSPD_,\r\n      atk_: teamAtk_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.secondAimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n          textSuffix: trm(\"secondArrow\")\r\n        },],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"heal\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation2.manualDetonationDmg, { key: `char_${key}:manualDetonationDmg` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: (data) => data.get(input.constellation).value >= 4 ? datamine.skill.cd - datamine.skill.cd * 0.2 : datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          text: st(\"charges\"),\r\n          value: 2,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmgPerWave, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.rainDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6CondName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: teamAtk_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"critRateBonus\"),\r\n          value: datamine.passive1.critRateInc * 100,\r\n          unit: \"%\"\r\n        }, {\r\n          text: trm(\"aoeRangeBonus\"),\r\n          value: datamine.passive1.aoeInc * 100,\r\n          unit: \"%\"\r\n        }, {\r\n          node: burst_critRate_\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"a4CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Arataki_Itto_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, min, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"AratakiItto\"\r\nconst elementKey: ElementKey = \"geo\"\r\n\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0],\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3],\r\n    ]\r\n  },\r\n  charged: {\r\n    sSlash: skillParam_gen.auto[4],\r\n    akSlash: skillParam_gen.auto[5],\r\n    akFinal: skillParam_gen.auto[6],\r\n    stam: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  ss: { //Superlative Superstrength\r\n    duration: skillParam_gen.auto[11][0],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    hp: skillParam_gen.skill[1],\r\n    duration: skillParam_gen.skill[2][0],\r\n    ss_cd: skillParam_gen.skill[3][0],\r\n    cd: skillParam_gen.skill[4][0],\r\n  },\r\n  burst: {\r\n    atkSpd: skillParam_gen.burst[0][0],\r\n    defConv: skillParam_gen.burst[1],\r\n    resDec: skillParam_gen.burst[2][0],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0],\r\n  },\r\n  passive1: {\r\n    maxStacks: 3,\r\n    atkSPD_: 0.10\r\n  },\r\n  passive2: {\r\n    def_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    initialStacks: skillParam_gen.constellation1[0],\r\n    timedStacks: skillParam_gen.constellation1[1]\r\n  },\r\n  constellation2: {\r\n    burstCdRed: skillParam_gen.constellation2[0],\r\n    energyRegen: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    atk_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    charged_critDMG_: skillParam_gen.constellation6[0],\r\n  }\r\n}\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condP1Path, condP1] = cond(key, \"passive1\")\r\nconst [condC4Path, condC4] = cond(key, \"constellation4\")\r\n\r\nconst nodeSkillHP = prod(subscript(input.total.skillIndex, datamine.skill.hp, { key: 'hp_' }), input.total.hp)\r\nconst nodeBurstAtk = equal(condBurst, \"on\", prod(subscript(input.total.burstIndex, datamine.burst.defConv, { key: 'def_' }), input.total.def))\r\nconst nodeBurstAtkSpd = equal(condBurst, \"on\", datamine.burst.atkSpd, { key: 'atkSPD_' })\r\nconst allNodeBurstRes = Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, equal(condBurst, \"on\", -datamine.burst.resDec)]))\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, prod(percent(datamine.passive2.def_), input.premod.def))\r\nconst nodeP1AtkSpd = greaterEq(input.asc, 4, lookup(condP1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(datamine.passive1.atkSPD_ * i)])), 0, { key: 'atkSPD_' }))\r\nconst nodeC2BurstRed = prod(min(tally.geo, 3), datamine.constellation2.burstCdRed)\r\nconst nodeC2EnergyRegen = prod(min(tally.geo, 3), datamine.constellation2.energyRegen)\r\nconst nodeC4Atk = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.atk_))\r\nconst nodeC4Def = equal(condC4, \"on\", greaterEq(input.constellation, 4, datamine.constellation4.def_))\r\nconst nodeC6CritDMG = greaterEq(input.constellation, 6, datamine.constellation6.charged_critDMG_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    sSlash: dmgNode(\"atk\", datamine.charged.sSlash, \"charged\"),\r\n    akSlash: dmgNode(\"atk\", datamine.charged.akSlash, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n    akFinal: dmgNode(\"atk\", datamine.charged.akFinal, \"charged\", { premod: { charged_dmgInc: nodeA4Bonus } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    hp: nodeSkillHP\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: nodeC4Atk,\r\n      def_: nodeC4Def,\r\n    }\r\n  },\r\n  premod: {\r\n    charged_critDMG_: nodeC6CritDMG,\r\n    atk: nodeBurstAtk,\r\n    atkSPD_: sum(nodeBurstAtkSpd, nodeP1AtkSpd),\r\n    ...allNodeBurstRes\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.akSlash, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.akFinal, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.ss.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.sSlash, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.stam,\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1.name\"),\r\n        value: condP1,\r\n        path: condP1Path,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: st(\"stack_one\", { count: i }),\r\n            fields: [{\r\n              node: nodeP1AtkSpd\r\n            }]\r\n          }]\r\n        ))\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(nodeA4Bonus, { key: `char_${key}:a4:dmgInc` })\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: nodeC6CritDMG\r\n        }]\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hp, { key: `char_${key}_gen:skill.skillParams.1`, variant: \"heal\" }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              node: nodeBurstAtkSpd,\r\n            },\r\n            ...Object.values(allNodeBurstRes).map(node => ({ node })),\r\n            {\r\n              node: infoMut(nodeBurstAtk, { key: `char_${key}_gen:burst.skillParams.0` })\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1.initialGain\"),\r\n          value: datamine.constellation1.initialStacks\r\n        }, {\r\n          text: trm(\"c1.timedGain\"),\r\n          value: datamine.constellation1.timedStacks\r\n        }],\r\n        canShow: equal(condBurst, \"on\", 1),\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: st(\"burstCDRed\"),\r\n          value: data => data.get(nodeC2BurstRed).value,\r\n          unit: \"s\",\r\n          fixed: 1\r\n        }, {\r\n          text: st(\"energyRegen\"),\r\n          value: data => data.get(nodeC2EnergyRegen).value,\r\n        }],\r\n        canShow: equal(condBurst, \"on\", 1)\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        name: trm(\"c4.name\"),\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4Atk\r\n            }, {\r\n              node: nodeC4Def\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [{ fields: [{ node: nodeC6CritDMG }] }])\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Barbara_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Barbara\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ],\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    cregen_hp_: skillParam_gen.skill[s++],\r\n    cregen_hp: skillParam_gen.skill[s++],\r\n    regen_hp_: skillParam_gen.skill[s++],\r\n    regen_hp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    hp_: skillParam_gen.burst[b++],\r\n    hp: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stam: -skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    ext: skillParam_gen.passive2[0][0],\r\n    maxExt: skillParam_gen.passive2[0][1],\r\n  },\r\n  constellation2: {\r\n    cdDec: 0.15,\r\n    hydro_dmg_: 0.15\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodeA1 = greaterEq(input.asc, 1, equal(condSkill, \"on\", equal(input.activeCharKey, target.charKey, datamine.passive1.stam)))\r\nconst nodeA1Display = greaterEq(input.asc, 1, equal(condSkill, \"on\", datamine.passive1.stam))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(condC2, \"on\", equal(input.activeCharKey, target.charKey, datamine.constellation2.hydro_dmg_)))\r\nconst nodeC2Display = greaterEq(input.constellation, 2, equal(condC2, \"on\", datamine.constellation2.hydro_dmg_))\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    regen: healNodeTalent(\"hp\", datamine.skill.regen_hp_, datamine.skill.regen_hp, \"skill\"),\r\n    cregen: healNodeTalent(\"hp\", datamine.skill.cregen_hp_, datamine.skill.cregen_hp, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    regen: healNodeTalent(\"hp\", datamine.burst.hp_, datamine.burst.hp, \"burst\"),\r\n  }\r\n}\r\n\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1,\r\n      hydro_dmg_: nodeC2,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.regen, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.cregen, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: data => data.get(input.constellation).value >= 2 ? `${datamine.skill.cd}s - ${datamine.constellation2.cdDec * 100}%` : `${datamine.skill.cd}s`,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"passive1.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA1Display, { key: \"staminaDec_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        teamBuff: true,\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"constellation2.cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeC2Display, { key: \"hydro_dmg_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Beidou_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Beidou\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    dmgBase: skillParam_gen.skill[s++],\r\n    onHitDmgBonus: skillParam_gen.skill[s++], //DMG bonus on hit taken\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    lightningDmg: skillParam_gen.burst[b++],\r\n    damageReduction: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    energyCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  //pasive 1: 2, //additional targets for lightning arc\r\n  ascension4: {\r\n    normalDmg_: skillParam_gen.passive2[0][0], //Same value for all 3\r\n    chargeDmg_: skillParam_gen.passive2[0][0],\r\n    attackSpeed: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    shieldHp_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroResShred_: -1 * skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\n//Toggable stuff:\r\n// A4: Unleashing <b>Tidecaller</b> with its maximum DMG Bonus\r\n// C6: During the duration of <b>Stormbreaker</b>\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst skillDmgOneHit = datamine.skill.dmgBase.map((dmg, i) => dmg + datamine.skill.onHitDmgBonus[i])\r\nconst skillDmgTwoHits = datamine.skill.dmgBase.map((dmg, i) => dmg + 2 * datamine.skill.onHitDmgBonus[i])\r\n\r\nconst nodeBurstElectroResRed_ = equal(condC6, \"on\", percent(datamine.constellation6.electroResShred_), { key: `char_${key}:baneOfEvil_` })\r\nconst nodeSkillNormalDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.normalDmg_), { key: `char_${key}:a4normalDmg_` })\r\nconst nodeSkillChargeDmg_ = equal(condA4, \"on\", percent(datamine.ascension4.chargeDmg_), { key: `char_${key}:a4chargeDmg_` })\r\nconst nodeSkillAttackSpeed_ = equal(condA4, \"on\", percent(datamine.ascension4.attackSpeed), { key: `char_${key}:a4atkSpeed_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    electroShield: shieldElement(\"electro\", shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\")),\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\"),\r\n    baseDmg: dmgNode(\"atk\", datamine.skill.dmgBase, \"skill\"),\r\n    dmgOneHit: dmgNode(\"atk\", skillDmgOneHit, \"skill\"),\r\n    dmgTwoHits: dmgNode(\"atk\", skillDmgTwoHits, \"skill\"),\r\n  },\r\n  burst: {\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    lightningDmg: dmgNode(\"atk\", datamine.burst.lightningDmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    electroShield: greaterEq(input.constellation, 1, shieldElement(\"electro\", shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0))),\r\n    shield: greaterEq(input.constellation, 1, shieldNode(\"hp\", percent(datamine.constellation1.shieldHp_), 0)),\r\n  },\r\n  constellation4: {\r\n    skillDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, customBonus: {\r\n    normal_dmg_: nodeSkillNormalDmg_,\r\n    charged_dmg_: nodeSkillChargeDmg_,\r\n    atkSPD_: nodeSkillAttackSpeed_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: nodeBurstElectroResRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.baseDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgOneHit, { key: `char_${key}:skillOneHit` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgTwoHits, { key: `char_${key}:skillTwoHit` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: false,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"tidecallerMaxDmg\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkillNormalDmg_,\r\n            }, {\r\n              node: nodeSkillChargeDmg_,\r\n            }, {\r\n              node: nodeSkillAttackSpeed_,\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"a4charge\"),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lightningDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(subscript(input.total.burstIndex, datamine.burst.damageReduction), { key: `char_${key}:burstDmgRed_` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.energyCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"duringBurst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeBurstElectroResRed_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.electroShield, { key: `char_${key}_gen:skill.skillParams.0`, \"variant\": \"electro\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.shield, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.skillDmg, { key: `char_${key}:c4dmg` }),\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Bennett_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { UIData } from '../../../Formula/uiData'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Bennett\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold1_1: skillParam_gen.skill[s++],\r\n    hold1_2: skillParam_gen.skill[s++],\r\n    hold2_1: skillParam_gen.skill[s++],\r\n    hold2_2: skillParam_gen.skill[s++],\r\n    explosion: skillParam_gen.skill[s++],\r\n    cd_press: skillParam_gen.skill[s++][0],\r\n    cd_hold1: skillParam_gen.skill[s++][0],\r\n    cd_hold2: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    regen_: skillParam_gen.burst[b++],\r\n    regenFlat: skillParam_gen.burst[b++],\r\n    atkBonus: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cd_red: 0.2, // Not in the datamine for some reason\r\n  },\r\n  passive2: {\r\n    cd_red: 0.5, // Not in the datamine for some reason\r\n  },\r\n  constellation1: {\r\n    atk_inc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_thresh: skillParam_gen.constellation2[0],\r\n    er_inc: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    pyro_dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst a1SkillCd = greaterEq(input.asc, 1, datamine.passive1.cd_red)\r\n\r\nconst burstAtkRatio = subscript(input.total.burstIndex, datamine.burst.atkBonus, { key: \"_\" })\r\nconst burstAddlAtk = prod(burstAtkRatio, input.base.atk)\r\nconst c1AtkRatio = greaterEq(input.constellation, 1, datamine.constellation1.atk_inc, { key: `char_${key}:additionalATKRatio_` })\r\nconst c1AddlAtk = greaterEq(input.constellation, 1, prod(c1AtkRatio, input.base.atk))\r\nconst atkIncRatio = sum(burstAtkRatio, c1AtkRatio)\r\nconst activeInAreaAtkDisp = prod(atkIncRatio, input.base.atk)\r\n\r\nconst [condInAreaPath, condInArea] = cond(key, \"activeInArea\")\r\nconst activeInArea = equal(\"activeInArea\", condInArea, equal(input.activeCharKey, target.charKey, 1))\r\nconst activeInAreaAtk = equal(activeInArea, 1, activeInAreaAtkDisp)\r\n\r\nconst activeInAreaA4 = greaterEq(input.asc, 4,\r\n  equal(activeInArea, 1, datamine.passive2.cd_red)\r\n)\r\n\r\nconst c6AndCorrectWep = greaterEq(input.constellation, 6,\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0)))\r\nconst activeInAreaC6PyroDmg = equal(activeInArea, 1,\r\n  greaterEq(input.constellation, 6, datamine.constellation6.pyro_dmg)\r\n)\r\nconst activeInAreaC6Infusion = equalStr(c6AndCorrectWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst underHP = greaterEq(input.constellation, 2,\r\n  equal(\"underHP\", condUnderHP, datamine.constellation2.er_inc))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold1_1: dmgNode(\"atk\", datamine.skill.hold1_1, \"skill\"),\r\n    hold1_2: dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"),\r\n    hold2_1: dmgNode(\"atk\", datamine.skill.hold2_1, \"skill\"),\r\n    hold2_2: dmgNode(\"atk\", datamine.skill.hold2_2, \"skill\"),\r\n    explosion: dmgNode(\"atk\", datamine.skill.explosion, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    regen: healNodeTalent(\"hp\", datamine.burst.regen_, datamine.burst.regenFlat, \"burst\"),\r\n    atkInc: activeInAreaAtk,\r\n  },\r\n  constellation4: {\r\n    dmg: greaterEq(input.constellation, 4, prod(dmgNode(\"atk\", datamine.skill.hold1_2, \"skill\"), datamine.constellation4.dmg))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_: activeInAreaC6PyroDmg,\r\n    },\r\n    total: {\r\n      // Not 100% sure if this should be in premod or total\r\n      atk: activeInAreaAtk,\r\n    },\r\n    infusion: {\r\n      team: activeInAreaC6Infusion,\r\n    },\r\n  },\r\n  premod: {\r\n    enerRech_: underHP,\r\n\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          // Press\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}:skill.pressDMG` }),\r\n        }, {\r\n          text: sgt(\"press.cd\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_press),\r\n        }, {\r\n          // Lvl 1\r\n          node: infoMut(dmgFormulas.skill.hold1_1, { key: `char_${key}:skill.lvl1_1DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold1_2, { key: `char_${key}:skill.lvl1_2DMG` }),\r\n        }, {\r\n          text: trm(\"skill.lvl1CD\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_hold1),\r\n        }, {\r\n          // Lvl 2\r\n          node: infoMut(dmgFormulas.skill.hold2_1, { key: `char_${key}:skill.lvl2_1DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold2_2, { key: `char_${key}:skill.lvl2_2DMG` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.explosion, { key: `char_${key}:skill.explDMG` }),\r\n        }, {\r\n          text: trm(\"skill.lvl2CD\"),\r\n          unit: \"s\",\r\n          value: data => calculateSkillCD(data, datamine.skill.cd_hold2),\r\n        }]\r\n      }, ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(a1SkillCd, { key: \"skillCDRed_\" })\r\n        }],\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condInArea,\r\n        path: condInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: data => data.get(burstAtkRatio).value * 100,\r\n              unit: \"%\",\r\n              fixed: 1\r\n            }, {\r\n              node: infoMut(burstAddlAtk, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(activeInAreaA4, { key: \"skillCDRed_\" })\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"additionalATKRatio\"),\r\n          node: c1AtkRatio\r\n        }, {\r\n          node: infoMut(c1AddlAtk, { key: `char_${key}:additionalATK` })\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n        teamBuff: true,\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: constant(datamine.constellation6.pyro_dmg, { key: \"pyro_dmg_\", variant: \"pyro\" })\r\n        }, {\r\n          text: trm(\"c6PyroInfusion\")\r\n        }],\r\n        canShow: equal(condInArea, \"activeInArea\", 1),\r\n        teamBuff: true,\r\n      })]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [\r\n        ct.conditionalTemplate(\"constellation2\", {\r\n          value: condUnderHP,\r\n          path: condUnderHPPath,\r\n          name: st(\"lessPercentHP\", { percent: datamine.constellation2.hp_thresh * 100 }),\r\n          states: {\r\n            underHP: {\r\n              fields: [{\r\n                node: underHP\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.dmg, { key: `char_${key}:c4DMG` })\r\n        }],\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n\r\nfunction calculateSkillCD(data: UIData, skillCD: number): string {\r\n  let cdFactor: number = 1.00;\r\n  let result: string = skillCD + \"s\"\r\n  if (data.get(input.asc).value >= 1) {\r\n    cdFactor = 0.80;\r\n  }\r\n  cdFactor *= (1 - data.get(activeInAreaA4).value);\r\n  if (cdFactor !== 1.00) {\r\n    result += \" - \" + (100 - cdFactor * 100) + \"% = \" + skillCD * cdFactor;\r\n  }\r\n  return result;\r\n}\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Candace_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './icon.png'\r\nimport thumbSide from './iconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, none, percent, prod, stringPrio, sum, unequal, unequalStr } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Candace\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_hp_: skillParam_gen.skill[s++],\r\n    shield_base: skillParam_gen.skill[s++],\r\n    basic_dmg: skillParam_gen.skill[s++],\r\n    charged_dmg: skillParam_gen.skill[s++],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    skill_dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    dmg_bonus_: skillParam_gen.burst[b++][0],\r\n    wave_dmg: skillParam_gen.burst[b++],\r\n    num_waves: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive2: {\r\n    // TODO: Check this number, looks like 0.00005 in datamine which is too low, maybe this is meant to be per HP?\r\n    normalEle_dmg_: skillParam_gen.passive2[0][0] * 1000,\r\n  },\r\n  constellation1: {\r\n    durationInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    hp_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation6: {\r\n    dmg: skillParam_gen.constellation6[0],\r\n    cd: skillParam_gen.constellation6[1],\r\n  },\r\n} as const\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst normalEle_dmg_disp = equal(condAfterBurst, \"on\", percent(datamine.burst.dmg_bonus_))\r\nconst isNormalElemental = greaterEq(\r\n  sum(\r\n    unequal(\r\n      stringPrio(\r\n        target.infusion.nonOverridableSelf,\r\n        unequalStr(target.infusion.team, none, target.infusion.team),\r\n        target.infusion.overridableSelf\r\n      ), \"\", 1\r\n    ),\r\n    equal(target.weaponType, \"catalyst\", 1)\r\n  ), 1, 1\r\n)\r\n\r\nconst normalEle_dmg_ = equal(isNormalElemental, 1, normalEle_dmg_disp, { key: `char_${key}:normalAttEleKey` })\r\nconst hydroInfusion = equalStr(condAfterBurst, \"on\",\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(\"hydro\"), \"claymore\": constant(\"hydro\"), \"polearm\": constant(\"hydro\") }, constant(\"\")))\r\n\r\nconst a4_normalEle_dmg_disp = greaterEq(input.asc, 4, equal(condAfterBurst, \"on\",\r\n  prod(\r\n    percent(datamine.passive2.normalEle_dmg_),\r\n    input.total.hp,\r\n    1/1000\r\n  )\r\n))\r\nconst a4_normalEle_dmg_ = equal(isNormalElemental, 1, a4_normalEle_dmg_disp, { key: `char_${key}:normalAttEleKey` })\r\n\r\nconst [condC2AfterSkillHitPath, condC2AfterSkillHit] = cond(key, \"c2AfterSkillHit\")\r\nconst c2_hp_ = greaterEq(input.constellation, 2,\r\n  equal(condC2AfterSkillHit, \"on\", percent(datamine.constellation2.hp_))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    shield: shieldNodeTalent(\"hp\", datamine.skill.shield_hp_, datamine.skill.shield_base, \"skill\"),\r\n    hydroShield: shieldElement(\"hydro\", shieldNodeTalent(\"hp\", datamine.skill.shield_hp_, datamine.skill.shield_base, \"skill\")),\r\n    basicDmg: dmgNode(\"hp\", datamine.skill.basic_dmg, \"skill\"),\r\n    chargedDmg: dmgNode(\"hp\", datamine.skill.charged_dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"hp\", datamine.burst.skill_dmg, \"burst\"),\r\n    waveDmg: dmgNode(\"hp\", datamine.burst.wave_dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    normalEle_dmg_: a4_normalEle_dmg_disp\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(\r\n      prod(\r\n        datamine.constellation6.dmg,\r\n        input.total.hp\r\n      ), \"burst\"\r\n    ))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"sumeru\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC3,\r\n    skill: skillC5,\r\n  },\r\n  premod: {\r\n    hp_: c2_hp_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmg_: sum(normalEle_dmg_, a4_normalEle_dmg_)\r\n    },\r\n    infusion: {\r\n      team: hydroInfusion,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n          textSuffix: i === 2 || i === 3 ? `(${i - 1})` : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hydroShield, { key: `sheet:dmgAbsorption.hydro` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.basicDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.chargedDmg, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: st(\"pressCD\"),\r\n          value: datamine.skill.pressCd,\r\n          unit: 's'\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: (data) => data.get(input.constellation).value >= 4\r\n            ? datamine.skill.pressCd\r\n            : datamine.skill.holdCd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation2\", {\r\n        // Personal conditional\r\n        path: condC2AfterSkillHitPath,\r\n        value: condC2AfterSkillHit,\r\n        name: st(\"hitOp.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2_hp_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.waveDmg, { key: `char_${key}_gen:burst.skillParams.3` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.num_waves,\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        path: condAfterBurstPath,\r\n        value: condAfterBurst,\r\n        teamBuff: true,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(normalEle_dmg_disp, { key: `char_${key}:normalAttEleKey_`, isTeamBuff: true }),\r\n            }, {\r\n              text: trm(\"hydroInfusion\")\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: (data) => data.get(input.constellation).value >= 1\r\n                ? `${datamine.burst.duration}s + ${datamine.constellation1.durationInc}s = ${datamine.burst.duration + datamine.constellation1.durationInc}`\r\n                : datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        fields: [{\r\n          node: infoMut(a4_normalEle_dmg_disp, { key: `char_${key}:normalAttEleKey_`, isTeamBuff: true })\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: `char_${key}_gen:burst.skillParams.3` })\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        // Team conditional\r\n        path: condC2AfterSkillHitPath,\r\n        value: condC2AfterSkillHit,\r\n        name: st(\"hitOp.skill\"),\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, key, greaterEq(input.asc, 4, equal(condAfterBurst, \"on\", 1))),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2_hp_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Chongyun_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, WeaponTypeKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Chongyun\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin_dmg: skillParam_gen.auto[4],\r\n    final_dmg: skillParam_gen.auto[5],\r\n    stamina: skillParam_gen.auto[6][0],\r\n    duration: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    infusionDuration: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    fieldDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    atk_spd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0],\r\n    res: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    cdr: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    energy_regen: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    burst_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst skillDmg = dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spin_dmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.final_dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg,\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, skillDmg),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(percent(datamine.constellation1.dmg), input.total.atk), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4,\r\n  equal(condAsc4, \"hit\",\r\n    -0.10\r\n  )\r\n)\r\nconst activeInArea = equal(\"activeInArea\", condSkill, equal(input.activeCharKey, target.charKey, 1))\r\n\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1, percent(0.08))\r\nconst nodeAsc1 = equal(activeInArea, 1, nodeAsc1Disp)\r\n\r\nconst correctWep =\r\n  lookup(target.weaponType,\r\n    { \"sword\": constant(1), \"claymore\": constant(1), \"polearm\": constant(1) }, constant(0));\r\n\r\nconst activeInAreaInfusion = equalStr(correctWep, 1, equalStr(activeInArea, 1, elementKey))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.constellation6.burst_dmg_))\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_enemyRes_: nodeAsc4,\r\n      atkSPD_: nodeAsc1\r\n    },\r\n    infusion: {\r\n      team: activeInAreaInfusion,\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.fieldDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          activeInArea: {\r\n            fields: [{\r\n              text: trm(\"infusion\"),\r\n              variant: elementKey\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: (data) => data.get(subscript(input.total.skillIndex, datamine.skill.infusionDuration)).value,\r\n              unit: \"s\",\r\n              fixed: 1\r\n            }, {\r\n              node: infoMut(nodeAsc1Disp, { key: \"atkSPD_\" })\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          text: trm(\"blades\"),\r\n          value: data => data.get(input.constellation).value < 6 ? 3 : 4\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2` }),\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        value: condAsc4,\r\n        path: condAsc4Path,\r\n        name: trm(\"asc4Cond\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeAsc4\r\n            }]\r\n          },\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:constellation1` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"constellation6\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Collei_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Collei\"\r\nconst elementKey: ElementKey = \"dendro\"\r\nconst region: Region = \"sumeru\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    leapDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    unknown: skillParam_gen.passive1[p1++][0],\r\n    sproutDmg: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    durationInc: skillParam_gen.passive2[p2++][0],\r\n    maxExtension: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    enerRech_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    duration: skillParam_gen.constellation2[0],\r\n    sproutDmg: skillParam_gen.constellation2[0],\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    eleMas: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    anbarDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst c1_enerRech_ = greaterEq(input.constellation, 1, datamine.constellation1.enerRech_)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst c4AfterBurst_eleMasDisp = greaterEq(input.constellation, 4,\r\n  equal(condAfterBurst, \"on\", datamine.constellation4.eleMas)\r\n)\r\nconst c4AfterBurst_eleMas = unequal(target.charKey, key, c4AfterBurst_eleMasDisp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\"),\r\n    leapDmg: dmgNode(\"atk\", datamine.burst.leapDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    dmg: greaterEq(input.asc, 1, customDmgNode(prod(percent(datamine.passive1.sproutDmg), input.total.atk), \"skill\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.anbarDmg), input.total.atk), \"elemental\", { hit: { ele: constant(elementKey) } })) // This is possibly burst damage\r\n  }\r\n}\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  premod: {\r\n    enerRech_: c1_enerRech_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: c4AfterBurst_eleMas\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        },],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.explosionDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.leapDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        path: condAfterBurstPath,\r\n        value: condAfterBurst,\r\n        teamBuff: true,\r\n        name: st(\"afterUse.burst\"),\r\n        canShow: unequal(target.charKey, input.activeCharKey, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c4AfterBurst_eleMasDisp, { key: \"eleMas\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}:sproutDmg` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\",\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.fieldsTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: `char_${key}:miniAnbarDmg` })\r\n        }]\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Diluc_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, lookup, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Diluc\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c2i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    firstHit: skillParam_gen.skill[s++],\r\n    secondHit: skillParam_gen.skill[s++],\r\n    thridHit: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    slashDmg: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    stamReduction: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    durationInc: skillParam_gen.passive2[p2++][0],\r\n    pyroInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    dmgInc: skillParam_gen.constellation1[0],\r\n    hpThresh_: 0.5,\r\n  },\r\n  constellation2: {\r\n    atkInc: skillParam_gen.constellation2[c2i++],\r\n    atkSpdInc: skillParam_gen.constellation2[c2i++],\r\n    duration: skillParam_gen.constellation2[c2i++],\r\n    maxStack: skillParam_gen.constellation2[c2i++],\r\n    cd: skillParam_gen.constellation2[c2i++],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n    dmgInc: skillParam_gen.constellation6[c6i++],\r\n    atkSpdInc: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"Burst\")\r\nconst [condC1Path, condC1] = cond(key, \"DilucC1\")\r\nconst [condC2Path, condC2] = cond(key, \"DilucC2\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"pyro\")\r\nconst nodeA4Bonus = greaterEq(input.asc, 4, equal(condBurst, \"on\", datamine.passive2.pyroInc))\r\n\r\nconst nodeC1Bonus = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC2AtkBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkInc * i)])), 0, { key: \"atk_\" }))\r\nconst nodeC2SpdBonus = greaterEq(input.constellation, 2,\r\n  lookup(condC2, Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i => [i, constant(datamine.constellation2.atkSpdInc * i)])), 0, { key: \"atkSPD_\" }))\r\nconst nodeC6DmgBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.dmgInc))\r\nconst nodeC6SpdBonus = equal(condC6, \"on\", greaterEq(input.constellation, 6, datamine.constellation6.atkSpdInc), { key: \"atkSPD_\" })\r\n\r\nconst skillAdditional: Data = {\r\n  premod: { skill_dmg_: constant(datamine.constellation4.dmgInc) },\r\n  hit: { ele: constant(\"pyro\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    firstHit: dmgNode(\"atk\", datamine.skill.firstHit, \"skill\"),\r\n    secondHit: dmgNode(\"atk\", datamine.skill.secondHit, \"skill\"),\r\n    thirdHit: dmgNode(\"atk\", datamine.skill.thridHit, \"skill\"),\r\n  },\r\n  burst: {\r\n    slashDmg: dmgNode(\"atk\", datamine.burst.slashDmg, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\"),\r\n  },\r\n  constellation4: {\r\n    secondHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.secondHit, \"skill\", skillAdditional)),\r\n    thirdHitBoost: greaterEq(input.constellation, 4, dmgNode(\"atk\", datamine.skill.thridHit, \"skill\", skillAdditional)),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_: nodeA4Bonus,\r\n    atk_: nodeC2AtkBonus,\r\n    atkSPD_: sum(nodeC6SpdBonus, nodeC2SpdBonus),\r\n    all_dmg_: nodeC1Bonus,\r\n    normal_dmg_: nodeC6DmgBonus,\r\n  },\r\n  infusion: {\r\n    // CAUTION: Technically, this infusion is overridable,\r\n    // but it should also be higher prio than `team` because\r\n    // it refreshes faster than auras. So we put it here instead.\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.stamina}/s - ${datamine.passive1.stamReduction * 100}%` : `${datamine.charged.stamina}/s`,\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: data => data.get(input.asc).value >= 1 ? `${datamine.charged.duration}s + ${datamine.passive1.duration}` : datamine.charged.duration,\r\n          unit: 's'\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.firstHit, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.secondHit, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.thirdHit, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.secondHitBoost, { key: `char_${key}:skillB.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.thirdHitBoost, { key: `char_${key}:skillB.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n        }],\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6DmgBonus,\r\n            }, {\r\n              node: nodeC6SpdBonus\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.slashDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.explosionDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.pyro\"),\r\n              variant: \"pyro\",\r\n            }, {\r\n              node: nodeA4Bonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: data => data.get(input.asc).value >= 4 ? `${datamine.burst.duration} + ${datamine.passive2.durationInc}` : datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: st(\"enemyGreaterPercentHP\", { percent: datamine.constellation1.hpThresh_ * 100 }),\r\n        canShow: greaterEq(input.constellation, 1, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1Bonus,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: st(\"takeDmg\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStack).map(i =>\r\n          [i, {\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: nodeC2AtkBonus\r\n            }, {\r\n              node: nodeC2SpdBonus\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Diona_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Diona\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    icyPawDmg: skillParam_gen.skill[s++],\r\n    shieldHp_: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    cdPress: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    fieldDmg: skillParam_gen.burst[b++],\r\n    healHp_: skillParam_gen.burst[b++],\r\n    healBase: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    moveSpeed_: skillParam_gen.passive1[p1++][0], //+10% move speed\r\n    stamRed_: skillParam_gen.passive1[p1++][0], //Stamina consumption reduced by 10%\r\n  },\r\n  passive2: {\r\n    atkRed_: skillParam_gen.passive1[p2++][0], //Opponents inside burst -10% attack\r\n    duration: skillParam_gen.passive1[p2++][0],\r\n  },\r\n  constellation1: {\r\n    energyRegen: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    icyPawDmg_: skillParam_gen.constellation2[0], //Icy Paws +15% dmg\r\n    icyPawShield_: skillParam_gen.constellation2[1], //Icy paws +15% shield\r\n    coopShield_: skillParam_gen.constellation2[2], //Coop shield 50% of total shield\r\n    coopShieldDuration_: skillParam_gen.constellation2[3], //Coop shield lasts for 5s\r\n  },\r\n  constellation6: {\r\n    healingBonus_: skillParam_gen.constellation6[0],\r\n    emBonus: skillParam_gen.constellation6[1],\r\n  },\r\n} as const\r\n\r\nconst [condC6Path, condC6] = cond(key, \"Constellation6\")\r\nconst [condA1Path, condA1] = cond(key, \"Ascension1\")\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst nodeC2skillDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawDmg_))\r\n\r\n// Hold shield bonus is a separate multiplier\r\nconst holdSkillShieldStr_ = percent(1.75)\r\n// C2 Shield bonus modifies everything at the very end, it's not a shield strength bonus\r\n// 100% if not C2, 175% if C2 or higher\r\nconst nodeC2shieldStr_ = sum(percent(1), greaterEq(input.constellation, 2, percent(datamine.constellation2.icyPawShield_)))\r\nconst nodeSkillShieldPress = prod(nodeC2shieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\",))\r\nconst nodeSkillShieldHold = prod(nodeC2shieldStr_, holdSkillShieldStr_, shieldNodeTalent(\"hp\", datamine.skill.shieldHp_, datamine.skill.shieldFlat, \"skill\"))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    pressCryoShield: shieldElement(elementKey, nodeSkillShieldPress),\r\n    pressShield: nodeSkillShieldPress,\r\n    holdCryoShield: shieldElement(elementKey, nodeSkillShieldHold),\r\n    holdShield: nodeSkillShieldHold,\r\n    skillDmg: dmgNode(\"atk\", datamine.skill.icyPawDmg, \"skill\", {}),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n    fieldDmg: dmgNode(\"atk\", datamine.burst.fieldDmg, \"burst\"),\r\n    healDot: healNodeTalent(\"hp\", datamine.burst.healHp_, datamine.burst.healBase, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeA1MoveSpeed = equal(condA1, \"on\", percent(datamine.passive1.moveSpeed_),)\r\nconst nodeA1Stamina = equal(condA1, \"on\", percent(datamine.passive1.stamRed_),)\r\n\r\nconst nodeC6healing_Disp = equal(condC6, \"lower\", percent(datamine.constellation6.healingBonus_),)\r\nconst nodeC6healing_ = equal(input.activeCharKey, target.charKey, nodeC6healing_Disp)\r\nconst nodeC6emDisp = equal(condC6, \"higher\", datamine.constellation6.emBonus,)\r\nconst nodeC6em = equal(input.activeCharKey, target.charKey, nodeC6emDisp)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, premod: {\r\n    skill_dmg_: nodeC2skillDmg_,\r\n  }, teamBuff: {\r\n    premod: {\r\n      staminaDec_: nodeA1Stamina,\r\n      moveSPD_: nodeA1MoveSpeed,\r\n      eleMas: nodeC6em,\r\n      incHeal_: nodeC6healing_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.pressCryoShield, { key: `char_${key}:pressShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.pressShield, { key: `char_${key}:pressShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdCryoShield, { key: `char_${key}:holdShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdShield, { key: `char_${key}:holdShield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.skillDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"skillDuration\"),\r\n          value: data => datamine.skill.duration[data.get(input.total.skillIndex).value],\r\n          unit: \"s\",\r\n          fixed: 1,\r\n        }, {\r\n          text: tr(`skill.skillParams.3`),\r\n          value: datamine.skill.cdPress,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(`skill.skillParams.4`),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\",\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        teamBuff: true,\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(`a1shielded`),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1MoveSpeed,\r\n            }, {\r\n              node: nodeA1Stamina,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fieldDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.healDot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        teamBuff: true,\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          lower: {\r\n            name: st(\"lessEqPercentHP\", { percent: 50 }),\r\n            fields: [{\r\n              node: infoMut(nodeC6healing_Disp, { key: \"incHeal_\" }),\r\n            }]\r\n          },\r\n          higher: {\r\n            name: st(\"greaterPercentHP\", { percent: 50 }),\r\n            fields: [{\r\n              node: infoMut(nodeC6emDisp, { key: \"eleMas\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2skillDmg_ }] }]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Dori_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, min, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Dori\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst regionKey: Region = \"sumeru\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2.1\r\n      skillParam_gen.auto[a++], // 2.2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    shotDmg: skillParam_gen.skill[s++],\r\n    roundDmg: skillParam_gen.skill[s++],\r\n    numRounds: 2,\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    connectorDmg: skillParam_gen.burst[b++],\r\n    healMult: skillParam_gen.burst[b++],\r\n    healBase: skillParam_gen.burst[b++],\r\n    energyRegen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: skillParam_gen.passive1[0][0],\r\n    cd: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    energyRegen: skillParam_gen.passive2[0][0],\r\n    maxEnergyRegen: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation1: {\r\n    addlRounds: 1\r\n  },\r\n  constellation2: {\r\n    toopDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    hpThresh: 50,\r\n    energyThresh: 50,\r\n    incHeal_: skillParam_gen.constellation4[0],\r\n    enerRech_: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    infusionDuration: skillParam_gen.constellation6[0],\r\n    heal_: skillParam_gen.constellation6[1],\r\n    cd: 0.1\r\n  }\r\n} as const\r\n\r\nconst [condC4BelowHpPath, condC4BelowHp] = cond(key, \"c4BelowHp\")\r\nconst [condC4BelowEnerPath, condC4BelowEner] = cond(key, \"c4BelowEner\")\r\nconst c4BelowHp_incHeal_disp = greaterEq(input.constellation, 4,\r\n  equal(condC4BelowHp, \"belowHp\", datamine.constellation4.incHeal_)\r\n)\r\nconst c4BelowHp_incHeal_ = equal(input.activeCharKey, target.charKey, c4BelowHp_incHeal_disp)\r\nconst c4BelowEner_enerRech_disp = greaterEq(input.constellation, 4,\r\n  equal(condC4BelowEner, \"belowEner\", datamine.constellation4.enerRech_)\r\n)\r\nconst c4BelowEner_enerRech_ = equal(input.activeCharKey, target.charKey, c4BelowEner_enerRech_disp)\r\n\r\nconst [condC6AfterSkillPath, condC6AfterSkill] = cond(key, \"c6AfterSkill\")\r\nconst c6AfterSkill_infusion = greaterEqStr(input.constellation, 6, equalStr(condC6AfterSkill, \"on\", elementKey))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    shotDmg: dmgNode(\"atk\", datamine.skill.shotDmg, \"skill\"),\r\n    roundDmg: dmgNode(\"atk\", datamine.skill.roundDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    connectorDmg: dmgNode(\"atk\", datamine.burst.connectorDmg, \"burst\"),\r\n    heal: healNodeTalent(\"hp\", datamine.burst.healMult, datamine.burst.healBase, \"burst\")\r\n  },\r\n  passive2: {\r\n    energyRegen: greaterEq(input.asc, 4, min(prod(constant(datamine.passive2.energyRegen), input.total.enerRech_), constant(datamine.passive2.maxEnergyRegen)))\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, customDmgNode(\r\n      prod(\r\n        subscript(input.total.skillIndex, datamine.skill.shotDmg, { key: \"_\" }),\r\n        percent(datamine.constellation2.toopDmg, { key: `char_${key}:c2MultiplierKey_` }),\r\n        input.total.atk\r\n      ),\r\n      \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }\r\n    ))\r\n  },\r\n  constellation6: {\r\n    heal: greaterEq(input.constellation, 6, equal(condC6AfterSkill, \"on\",\r\n      customHealNode(prod(\r\n        percent(datamine.constellation6.heal_),\r\n        input.total.hp\r\n      ))\r\n    ))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  infusion: {\r\n    overridableSelf: c6AfterSkill_infusion // This might end up being non-overridable, though I doubt it\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      incHeal_: c4BelowHp_incHeal_,\r\n      enerRech_: c4BelowEner_enerRech_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i > 1 ? i - 1 : i}` }),\r\n          textSuffix: i >= 1 && i < 3 ? `(${i})` : undefined\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.shotDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.roundDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.energyRegen, { key: \"sheet:energyRegen\"}),\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        path: condC6AfterSkillPath,\r\n        value: condC6AfterSkill,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: <ColorText color={elementKey}>{st(`infusion.${elementKey}`)}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.infusionDuration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: infoMut(dmgFormulas.constellation6.heal, { key: `char_${key}:c6Heal` ,variant: \"heal\" })\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\",\r\n              fixed: 1\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.connectorDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.1`, variant: \"heal\" }),\r\n        }, {\r\n          text: st(\"energyRegen\"),\r\n          value: (data) => data.get(subscript(input.total.burstIndex, datamine.burst.energyRegen)).value,\r\n          fixed: 1\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:c2DmgKey` })\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        states: {\r\n          belowHp: {\r\n            path: condC4BelowHpPath,\r\n            value: condC4BelowHp,\r\n            name: trm(\"c4ConnectedBelowHp\"),\r\n            fields: [{\r\n              node: infoMut(c4BelowHp_incHeal_disp, { key: \"incHeal_\" }),\r\n            }]\r\n          },\r\n          belowEner: {\r\n            path: condC4BelowEnerPath,\r\n            value: condC4BelowEner,\r\n            name: trm(\"c4ConnectedBelowEner\"),\r\n            fields: [{\r\n              node: infoMut(c4BelowEner_enerRech_disp, { key: \"enerRech_\" }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Eula_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Eula\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    icewhirl: skillParam_gen.skill[s++],\r\n    physResDec: skillParam_gen.skill[s++],\r\n    cryoResDec: skillParam_gen.skill[s++],\r\n    resDecDuration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0],\r\n    defBonus: skillParam_gen.skill[s++][0],\r\n    unknown: skillParam_gen.skill[s++][0], // combined cooldown?\r\n    physResDecNegative: skillParam_gen.skill[s++],\r\n    cryoResDecNegative: skillParam_gen.skill[s++],\r\n    grimheartDuration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lightfallDmg: skillParam_gen.burst[b++],\r\n    dmgPerStack: skillParam_gen.burst[b++],\r\n    maxStack: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    physInc: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    dmgInc: skillParam_gen.constellation4[0],\r\n  },\r\n} as const\r\n\r\nconst [condGrimheartPath, condGrimheart] = cond(key, \"Grimheart\")\r\nconst [condLightfallSwordPath, condLightfallSword] = cond(key, \"LightfallSword\")\r\nconst [condC4Path, condC4] = cond(key, \"LightfallSwordC4\")\r\nconst [condTidalIllusionPath, condTidalIllusion] = cond(key, \"TidalIllusion\")\r\n\r\nconst def_ = sum(equal(\"stack1\", condGrimheart, percent(datamine.skill.defBonus)), equal(\"stack2\", condGrimheart, percent(2 * datamine.skill.defBonus)))\r\nconst cryo_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.cryoResDecNegative))\r\nconst physical_enemyRes_ = equal(\"consumed\", condGrimheart, subscript(input.total.skillIndex, datamine.skill.physResDecNegative))\r\nconst physical_dmg_ = equal(\"on\", condTidalIllusion, percent(datamine.constellation1.physInc))\r\n\r\nconst lightSwordAdditional: Data = {\r\n  premod: { burst_dmg_: equal(condC4, \"on\", constant(datamine.constellation4.dmgInc)) },\r\n  hit: { ele: constant(\"physical\") }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    icewhirl: dmgNode(\"atk\", datamine.skill.icewhirl, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lightFallSwordNew: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.burstIndex, datamine.burst.lightfallDmg, { key: '_' }),\r\n          prod(\r\n            lookup(condLightfallSword, objectKeyMap(range(1, 30), i => constant(i)), constant(0)),\r\n            subscript(input.total.burstIndex, datamine.burst.dmgPerStack, { key: '_' })\r\n          ),\r\n        ),\r\n        input.total.atk\r\n      ), \"burst\", lightSwordAdditional),\r\n  },\r\n  passive1: {\r\n    shatteredLightfallSword: prod(\r\n      percent(datamine.passive1.percentage),\r\n      dmgNode(\"atk\", datamine.burst.lightfallDmg, \"burst\", lightSwordAdditional))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"cryo\", \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_,\r\n    cryo_enemyRes_,\r\n    physical_enemyRes_,\r\n    physical_dmg_\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"cryo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.8\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.8\"),\r\n          value: `${datamine.skill.pressCd}`,\r\n          unit: 's'\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: `${datamine.skill.holdCd}`,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: 2,\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.icewhirl, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condGrimheart,\r\n        path: condGrimheartPath,\r\n        name: trm(\"skillC.name\"),\r\n        states: {\r\n          \"stack1\": {\r\n            name: st(\"stack\", { count: 1 }),\r\n            fields: [{\r\n              node: def_,\r\n            }, {\r\n              text: trm(\"skillC.grimheart.int\")\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.grimheartDuration,\r\n              unit: 's'\r\n            }]\r\n          },\r\n          \"stack2\": {\r\n            name: st(\"stack\", { count: 2 }),\r\n            fields: [{\r\n              node: def_,\r\n            }, {\r\n              text: trm(\"skillC.grimheart.int\")\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.grimheartDuration,\r\n              unit: 's'\r\n            }]\r\n          },\r\n          \"consumed\": {\r\n            name: trm(\"skillC.consumed\"),\r\n            fields: [{\r\n              node: cryo_enemyRes_,\r\n            }, {\r\n              node: physical_enemyRes_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: 7,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lightFallSwordNew, { key: `char_${key}:burstC.dmg` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 7,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condLightfallSword,\r\n        path: condLightfallSwordPath,\r\n        name: trm(\"burstC.name\"),\r\n        states: {\r\n          ...objectKeyMap(range(1, 30), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              canShow: data => data.get(input.constellation).value >= 6,\r\n              text: trm(\"burstC.start5\"),\r\n            }, {\r\n              canShow: data => data.get(input.constellation).value >= 6,\r\n              text: trm(\"burstC.addStacks\"),\r\n            }]\r\n          })),\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4C.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"c4C.desc\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.shatteredLightfallSword, { key: `char_${key}:passive1` }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condTidalIllusion,\r\n        path: condTidalIllusionPath,\r\n        name: trm(\"c1C.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: physical_dmg_,\r\n            }, {\r\n              text: sgt('duration'),\r\n              value: trm('c1C.durationStack')\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Fischl_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, lessThan, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Fischl\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    ozDmg: skillParam_gen.skill[s++],\r\n    summonDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    dmg: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0]\r\n  },\r\n  constellation2: {\r\n    dmg: skillParam_gen.constellation2[0]\r\n  },\r\n  constellation4: {\r\n    dmg: skillParam_gen.constellation4[0],\r\n    regen: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } }),\r\n    aimedChargedOz: greaterEq(input.asc, 1, prod(percent(datamine.passive1.dmg), dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('electro') } })))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ozDmg: dmgNode(\"atk\", datamine.skill.ozDmg, \"skill\"),\r\n    summonDmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.summonDmg, \"skill\")),\r\n    summonDmgC2: greaterEq(input.constellation, 2, customDmgNode(prod(sum(subscript(input.total.skillIndex,\r\n      datamine.skill.summonDmg, { key: \"_\" }), percent(datamine.constellation2.dmg)), input.total.atk), \"skill\",\r\n      { hit: { ele: constant('electro') } })),\r\n    ozActiveCharDmg: greaterEq(input.constellation, 6, customDmgNode(prod(input.total.atk, percent(datamine.constellation6.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    additionalDmg: greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.dmg)), \"burst\", { hit: { ele: constant('electro') } })),\r\n    regen: greaterEq(input.constellation, 4, customHealNode(prod(input.total.hp, percent(datamine.constellation4.regen))))\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, customDmgNode(prod(input.total.atk, percent(datamine.passive2.dmg)), \"skill\", { hit: { ele: constant('electro') } }))\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, percent(datamine.constellation1.dmg)), \"normal\", { hit: { ele: constant('physical') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.asc).value >= 1,\r\n          node: infoMut(dmgFormulas.charged.aimedChargedOz, { key: `char_${key}:a1Name` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.ozDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value < 2,\r\n          node: infoMut(dmgFormulas.skill.summonDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          node: infoMut(dmgFormulas.skill.summonDmgC2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 6,\r\n          node: infoMut(dmgFormulas.skill.ozActiveCharDmg, { key: `char_${key}:c6OzDmg` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: (data) => data.get(input.constellation).value >= 6 ? datamine.skill.duration + datamine.constellation6.duration : datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          text: st(\"aoeInc\"),\r\n          value: 50,\r\n          unit: \"%\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          node: infoMut(dmgFormulas.burst.additionalDmg, { key: `char_${key}:c4AoeDmg` }),\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 4,\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `sheet_gen:healing` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:a2Name` })\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1Name` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Ganyu_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ganyu\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"liyue\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    frostflake: skillParam_gen.auto[a++],\r\n    frostflakeBloom: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    inheritedHp: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    cryoDmgBonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    opCryoRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    enerRegen: skillParam_gen.constellation1[2],\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"A1\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\nconst cryo_enemyRes_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.opCryoRes)))\r\nconst cryo_dmg_disp = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.cryoDmgBonus)))\r\nconst cryo_dmg_ = equal(input.activeCharKey, target.charKey, cryo_dmg_disp)\r\nconst all_dmg_ = greaterEq(input.constellation, 4,\r\n  lookup(condC4, Object.fromEntries(range(1, 5).map(i => [i, percent(0.05 * i)])), naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('cryo') } }),\r\n    frostflake: dmgNode(\"atk\", datamine.charged.frostflake, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n    frostflakeBloom: dmgNode(\"atk\", datamine.charged.frostflakeBloom, \"charged\",\r\n      { premod: { critRate_: greaterEq(input.asc, 1, equal(condA1, \"on\", percent(datamine.passive1.critRateInc))) }, hit: { ele: constant('cryo') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    inheritedHp: prod(subscript(input.total.skillIndex, datamine.skill.inheritedHp), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmg_,\r\n      all_dmg_,\r\n      cryo_enemyRes_,\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflake, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.frostflakeBloom, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(\"a1.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"a1.critRateInc\"),\r\n              value: datamine.passive1.critRateInc * 100,\r\n              unit: \"%\"\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.passive1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1.condName\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: cryo_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: `${datamine.constellation1.duration}s`,\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.inheritedHp, { key: `char_${key}_gen:skill.skillParams.0`, variant: \"heal\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 2,\r\n          text: st(\"charges\"),\r\n          value: 2,\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.duration}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(cryo_dmg_disp, { key: \"cryo_dmg_\", variant: \"cryo\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: st(\"opponentsField\"),\r\n        states: Object.fromEntries(range(1, 5).map(i => [i, {\r\n          name: st(\"seconds\", { count: (i - 1) * 3 }),\r\n          fields: [{ node: all_dmg_ }, { text: trm(\"c4.lingerDuration\"), value: 3, unit: \"s\" }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Gorou_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Gorou\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    defInc: skillParam_gen.skill[s++],\r\n    geo_dmg_: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg_def: skillParam_gen.burst[b++],\r\n    crystalDmg_def: skillParam_gen.burst[b++],\r\n    crystalHits: 6,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    def_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    skill_dmgInc: skillParam_gen.passive2[0][0],\r\n    burst_dmgInc: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation4: {\r\n    heal_def_: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    geo_critDMG_: [\r\n      skillParam_gen.constellation6[0],\r\n      skillParam_gen.constellation6[1],\r\n      skillParam_gen.constellation6[2],\r\n      skillParam_gen.constellation6[2],\r\n    ] as number[],\r\n    duration: skillParam_gen.constellation6[3]\r\n  }\r\n} as const\r\n\r\nconst [condInFieldPath, condInField] = cond(key, \"inField\")\r\nconst skill1_defDisp = equal(condInField, \"inField\",\r\n  greaterEq(tally[\"geo\"], 1,\r\n    subscript(input.total.skillIndex, datamine.skill.defInc)\r\n  )\r\n)\r\nconst skill1_def = equal(input.activeCharKey, target.charKey, skill1_defDisp)\r\nconst skill3_geo_dmg_Disp = equal(condInField, \"inField\",\r\n  greaterEq(tally[\"geo\"], 3, datamine.skill.geo_dmg_)\r\n)\r\nconst skill3_geo_dmg_ = equal(input.activeCharKey, target.charKey, skill3_geo_dmg_Disp)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_def_ = greaterEq(input.asc, 1, equal(condAfterBurst, \"afterBurst\", datamine.passive1.def_))\r\n\r\nconst p2_skill_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.skill_dmgInc))\r\nconst p2_burst_dmgInc = greaterEq(input.asc, 4, prod(input.total.def, datamine.passive2.burst_dmgInc))\r\n\r\nconst [condAfterSkillBurstPath, condAfterSkillBurst] = cond(key, \"afterSkillBurst\")\r\nconst c6_geo_critDMG_ = greaterEq(input.constellation, 6,\r\n  equal(condAfterSkillBurst, \"afterSkillBurst\",\r\n    subscript(sum(tally[\"geo\"], -1), datamine.constellation6.geo_critDMG_)\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"def\", datamine.burst.dmg_def, \"burst\"),\r\n    crystalCollapse: dmgNode(\"def\", datamine.burst.crystalDmg_def, \"burst\")\r\n  },\r\n  constellation4: {\r\n    heal: greaterEq(input.constellation, 4, greaterEq(tally[\"geo\"], 2, healNode(\"def\", datamine.constellation4.heal_def_, 0)))\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      def: skill1_def,\r\n      geo_dmg_: skill3_geo_dmg_,\r\n      def_: afterBurst_def_,\r\n      geo_critDMG_: c6_geo_critDMG_,\r\n    }\r\n  },\r\n  premod: {\r\n    skill_dmgInc: p2_skill_dmgInc,\r\n    burst_dmgInc: p2_burst_dmgInc,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }],\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condInField,\r\n        path: condInFieldPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          inField: {\r\n            fields: [{\r\n              node: infoMut(skill1_defDisp, { key: \"def\" }),\r\n            }, {\r\n              canShow: data => data.get(tally[\"geo\"]).value >= 2,\r\n              text: st(\"incInterRes\")\r\n            }, {\r\n              node: infoMut(skill3_geo_dmg_Disp, { key: \"geo_dmg_\", variant: \"geo\" }),\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p2_skill_dmgInc\r\n        }]\r\n      }), ct.headerTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        canShow: greaterEq(tally.geo, 2, 1),\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.heal, { key: \"sheet_gen:healing\" }),\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.crystalCollapse, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.burst.crystalHits })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurst_def_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p2_burst_dmgInc\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condAfterSkillBurst,\r\n        path: condAfterSkillBurstPath,\r\n        name: st(\"afterUse.skillOrBurst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterSkillBurst: {\r\n            fields: [{\r\n              node: c6_geo_critDMG_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Hu_Tao_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lessThan, min, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"HuTao\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    activationCost: skillParam_gen.skill[s++][0],\r\n    atkInc: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    bloodBlossomDuration: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxAtkInc: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    lowHpDmg: skillParam_gen.burst[b++],\r\n    regen: skillParam_gen.burst[b++],\r\n    lowHpRegen: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    minHp: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    critRateInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    minHp: skillParam_gen.passive2[p2++][0],\r\n    pyroDmgInc: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    bloodBlossomDmgInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    critRateInc: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    minHp: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    elePhysResInc: skillParam_gen.constellation6[2],\r\n    critRateInc: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condAfterlifePath, condAfterlife] = cond(key, \"GuideToAfterlifeVoyage\")\r\nconst atk = equal(\"on\", condAfterlife, min(\r\n  prod(subscript(input.total.skillIndex, datamine.skill.atkInc), input.premod.hp),\r\n  prod(percent(datamine.skill.maxAtkInc), input.base.atk)))\r\nconst infusion = equalStr(\"on\", condAfterlife, elementKey)\r\n\r\nconst [condA1Path, condA1] = cond(key, \"FlutterBy\")\r\nconst critRateTeam_1 = equal(\"on\", condA1, unequal(input.activeCharKey, input.charKey, percent(datamine.passive1.critRateInc), { key: \"critRate_\" }))\r\nconst [condA2Path, condA2] = cond(key, \"SanguineRouge\")\r\nconst pyro_dmg_ = equal(\"on\", condA2, percent(datamine.passive2.pyroDmgInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"GardenOfEternalRest\")\r\nconst critRateTeam_2 = equal(\"on\", condC4, unequal(input.activeCharKey, input.charKey, percent(datamine.constellation4.critRateInc), { key: \"critRate_\" }))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"ButterflysEmbrace\")\r\nconst critRate_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.critRateInc)))\r\nconst ele_res_s = Object.fromEntries(allElementsWithPhy.map(ele => [ele, equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.elePhysResInc)))]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n    dmgC2: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\", { hit: { dmgInc: prod(input.total.hp, datamine.constellation2.bloodBlossomDmgInc) } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    lowHpDmg: dmgNode(\"atk\", datamine.burst.lowHpDmg, \"burst\"),\r\n    regen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.regen, { key: \"_\" }))),\r\n    lowHpRegen: customHealNode(prod(input.total.hp, subscript(input.total.burstIndex, datamine.burst.lowHpRegen, { key: \"_\" }))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    pyro_dmg_,\r\n    ...Object.fromEntries(allElementsWithPhy.map(ele => [`${ele}_res_`, ele_res_s[ele]])),\r\n    critRate_\r\n  },\r\n  total: {\r\n    atk\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: sum(critRateTeam_1, critRateTeam_2)\r\n    }\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n          textSuffix: i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmgC2, { key: `char_${key}:constellation2.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.bloodBlossomDuration,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condAfterlife,\r\n        path: condAfterlifePath,\r\n        name: trm(\"paramita.enter\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.0\"),\r\n              value: datamine.skill.activationCost * 100, // Convert to percentage\r\n              unit: '% Current HP'\r\n            }, {\r\n              node: atk,\r\n            }, {\r\n              text: <ColorText color=\"pyro\">Pyro Infusion</ColorText>\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: tr(\"skill.skillParams.5\"),\r\n              value: datamine.skill.cd,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lowHpDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.lowHpRegen, { key: `char_${key}_gen:burst.skillParams.3` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value > 1,\r\n          text: trm(\"constellation2.applyBloodBlossom\"),\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"paramita.end\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_1,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA2,\r\n        path: condA2Path,\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive2.minHp * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"constellation4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRateTeam_2,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"constellation6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [...allElementsWithPhy.map(ele => ({ node: ele_res_s[ele] })), {\r\n              node: critRate_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: 60,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Jean_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Jean\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    stamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    enterExitDmg: skillParam_gen.burst[b++],\r\n    burstActivationAtkModifier: skillParam_gen.burst[b++],\r\n    burstActionFlatModifier: skillParam_gen.burst[b++],\r\n    burstRegenAtkModifier: skillParam_gen.burst[b++],\r\n    burstRegenFlatModifier: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    chance: skillParam_gen.passive1[p1++][0],\r\n    atkPercentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    energyRegen: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    increaseDmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    moveSpd: skillParam_gen.constellation2[0],\r\n    atkSpd: skillParam_gen.constellation2[1],\r\n    duration: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation4: {\r\n    anemoRes: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    dmgReduction: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst regen = healNodeTalent(\"atk\", datamine.burst.burstActivationAtkModifier, datamine.burst.burstActionFlatModifier, \"burst\")\r\nconst contRegen = healNodeTalent(\"atk\", datamine.burst.burstRegenAtkModifier, datamine.burst.burstRegenFlatModifier, \"burst\")\r\nconst a1Regen = greaterEq(input.asc, 1, customHealNode(prod(percent(datamine.passive1.atkPercentage), input.total.atk)))\r\n\r\nconst [condC1Path, condC1] = cond(key, \"c1\")\r\nconst skill_dmg_ = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.increaseDmg))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst atkSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.atkSpd)))\r\nconst moveSPD_ = equal(condC2, \"on\", greaterEq(input.constellation, 2, percent(datamine.constellation2.moveSpd)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst anemo_enemyRes_ = equal(condC4, \"on\", greaterEq(input.constellation, 4, percent(-Math.abs(datamine.constellation4.anemoRes))))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst dmgRed_disp = equal(condC6, \"on\", greaterEq(input.constellation, 6, percent(datamine.constellation6.dmgReduction)))\r\nconst dmgRed_ = equal(input.activeCharKey, target.charKey, dmgRed_disp)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    enterExitDmg: dmgNode(\"atk\", datamine.burst.enterExitDmg, \"burst\"),\r\n    regen,\r\n    contRegen\r\n  },\r\n  passive1: {\r\n    a1Regen\r\n  },\r\n  constellation2: {\r\n    atkSPD_,\r\n    moveSPD_\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    skill_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atkSPD_,\r\n      moveSPD_,\r\n      anemo_enemyRes_,\r\n      dmgRed_\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: `${datamine.skill.stamina}`,\r\n          unit: \"/s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }],\r\n      }, ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"c1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"c1PullSpeed\")\r\n            }, {\r\n              node: skill_dmg_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.enterExitDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.regen, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.contRegen, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: 11,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: st(\"opponentsField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: anemo_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgRed_disp, { key: \"dmgRed_\" })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.a1Regen, { key: `sheet_gen:healing` }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: st(\"energyRegen\"),\r\n          value: datamine.passive2.energyRegen\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atkSPD_\r\n            }, {\r\n              node: moveSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kazuha_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, percent, prod, sum, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, condReadNode, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KaedeharaKazuha\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5x3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    hold: skillParam_gen.skill[s++],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    add: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    asorbAdd: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    elemas_dmg_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    elemas: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst condSwirlPaths = Object.fromEntries(absorbableEle.map(e => [e, [key, `swirl${e}`]]))\r\nconst condSwirls = Object.fromEntries(absorbableEle.map(e => [e, condReadNode(condSwirlPaths[e])]))\r\nconst asc4 = Object.fromEntries(absorbableEle.map(ele =>\r\n  [`${ele}_dmg_`, greaterEq(input.asc, 4,\r\n    equal(ele, condSwirls[ele],\r\n      // Use premod since this is a percentage-based effect\r\n      prod(percent(datamine.passive2.elemas_dmg_, { fixed: 2 }), input.premod.eleMas)\r\n    ))]))\r\n\r\n// 2 C2 conds for the 2 parts of his C2\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2EleMas = greaterEq(input.constellation, 2,\r\n  equal(\"c2\", condC2, datamine.constellation2.elemas))\r\n\r\nconst [condC2PPath, condC2P] = cond(key, \"c2p\")\r\nconst c2PEleMasDisp = greaterEq(input.constellation, 2,\r\n  equal(\"c2p\", condC2P, datamine.constellation2.elemas)\r\n)\r\nconst c2PEleMas = equal(input.activeCharKey, target.charKey, // Apply to active character\r\n  unequal(target.charKey, key, c2PEleMasDisp) // But not to Kazuha\r\n)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6infusion = greaterEqStr(input.constellation, 6,\r\n  equalStr(\"c6\", condC6, \"anemo\"))\r\nconst c6Dmg_ = greaterEq(input.constellation, 6,\r\n  // Not sure if this should be premod or total. I am guessing premod\r\n  equal(\"c6\", condC6, prod(percent(datamine.constellation6.auto_), input.premod.eleMas))\r\n)\r\n// Share `match` and `prod` between the three nodes\r\nconst c6NormDmg_ = { ...c6Dmg_ }\r\nconst c6ChargedDmg_ = { ...c6Dmg_ }\r\nconst c6PlungingDmg_ = { ...c6Dmg_ }\r\n\r\nconst passive = percent(0.2)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n    pdmg: dmgNode(\"atk\", datamine.plunging.dmg, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    plow: dmgNode(\"atk\", datamine.plunging.low, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n    phigh: dmgNode(\"atk\", datamine.plunging.high, \"plunging\", { hit: { ele: constant(\"anemo\") } }),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condBurstAbsorption, key, dmgNode(\"atk\", datamine.burst.add, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n  passive1: Object.fromEntries(absorbableEle.map(key =>\r\n    [key, equal(condSkillAbsorption, key, customDmgNode(prod(input.total.atk, datamine.passive1.asorbAdd), \"plunging\", { hit: { ele: constant(key) } }))])),\r\n  passive2: asc4,\r\n  constellation6: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      staminaSprintDec_: passive,\r\n      eleMas: c2PEleMas,\r\n    },\r\n    total: {\r\n      // Should be in total, since other character abilities should not scale off this\r\n      // if those abilities are percentage-based (e.g. XQ skill dmg red.)\r\n      ...asc4,\r\n    }\r\n  },\r\n  infusion: {\r\n    overridableSelf: c6infusion,\r\n  },\r\n  total: {\r\n    normal_dmg_: c6NormDmg_,\r\n    charged_dmg_: c6ChargedDmg_,\r\n    plunging_dmg_: c6PlungingDmg_,\r\n  },\r\n  premod: {\r\n    eleMas: c2EleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 3 ? 0 : -1)}` }),\r\n          textSuffix: i === 2 ? \"(1)\" : i === 3 ? \"(2)\" : i === 5 ? st(\"brHits\", { count: 3 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cd} - 10% = ${datamine.skill.cd * (1 - 0.10)}`\r\n            : `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cdHold} - 10% = ${datamine.skill.cdHold * (1 - 0.10)}`\r\n            : `${datamine.skill.cdHold}`,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.headerTemplate(\"skill\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.pdmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.plow, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.phigh, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(greaterEq(input.constellation, 1, percent(0.1)), { key: \"skillCDRed_\" })\r\n        }, {\r\n          text: trm(\"c1\"),\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // Burst absorption\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.2` }),\r\n          }]\r\n        }]))\r\n      }), ct.conditionalTemplate(\"constellation2\", { // C2 self\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2EleMas\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation2\", { // C2 Party\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        value: condC2P,\r\n        path: condC2PPath,\r\n        teamBuff: true,\r\n        name: st(\"activeCharField\"),\r\n        states: {\r\n          c2p: {\r\n            fields: [{\r\n              node: infoMut(c2PEleMasDisp, { key: \"eleMas\" })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        // Skill Absorption\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.passive1[eleKey], { key: `sheet_gen:addEleDMG` }),\r\n          }]\r\n        }]))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", { // Poetics of Fuubutsu\r\n        teamBuff: true,\r\n        states: Object.fromEntries(absorbableEle.map(ele => [ele, {\r\n          value: condSwirls[ele],\r\n          path: condSwirlPaths[ele],\r\n          name: st(`swirlReaction.${ele}`),\r\n          fields: [{\r\n            node: asc4[`${ele}_dmg_`]\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive2.duration,\r\n            unit: \"s\"\r\n          }]\r\n        }]))\r\n        }), ct.conditionalTemplate(\"constellation2\", { // C2 self, in teambuff panel\r\n        value: condC2,\r\n        path: condC2Path,\r\n        // Show C2 self buff if A4 is enabled\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, key,\r\n          greaterEq(input.asc, 4,\r\n            sum(...Object.values(condSwirls).map(val => unequal(val, undefined, 1)))\r\n          )\r\n        ),\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2EleMas\r\n            }]\r\n          }\r\n        }\r\n      })\r\n      ]),\r\n      passive3: ct.talentTemplate(\"passive3\", [ct.headerTemplate(\"passive3\", {\r\n        teamBuff: true,\r\n        fields: [{\r\n          node: passive\r\n        }]\r\n      })]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        // Crimson Momiji\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6.after\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              canShow: data => data.get(c6infusion).value === elementKey,\r\n              text: <ColorText color={elementKey}>{st(\"infusion.anemo\")}</ColorText>\r\n            }, {\r\n              node: c6NormDmg_\r\n            }, {\r\n              node: c6ChargedDmg_\r\n            }, {\r\n              node: c6PlungingDmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    },\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kaeya_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNode, shieldElement, shieldNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Kaeya\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst region: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    healAtk_: .15,\r\n  },\r\n  constellation1: {\r\n    critRate_: .15,\r\n  },\r\n  constellation4: {\r\n    shieldHp_: 0.30,\r\n    duration: 20,\r\n    cooldown: 60,\r\n  },\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    heal: healNode(\"atk\", percent(datamine.passive2.healAtk_), 0),\r\n  },\r\n  constellation4: {\r\n    cryoShield: shieldElement(\"cryo\", shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0)),\r\n    shield: shieldNode(\"hp\", percent(datamine.constellation4.shieldHp_), 0),\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\n//Conditional C1: Oppo affected by Cryo\r\nconst [condC1Path, condC1Cryo] = cond(key, \"CryoC1\")\r\nconst nodeC1NormalCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\nconst nodeC1ChargeCritRate = equal(condC1Cryo, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.critRate_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  }, premod: {\r\n    normal_critRate_: nodeC1NormalCritRate,\r\n    charged_critRate_: nodeC1ChargeCritRate,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 2,\r\n          text: trm(\"c2burstDuration\"),\r\n        }],\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.heal, { key: `char_${key}:p1heal` }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1Cryo,\r\n        path: condC1Path,\r\n        name: trm(\"c1cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalCritRate\r\n            }, {\r\n              node: nodeC1ChargeCritRate\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.cryoShield, { key: `char_${key}:c4shield` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.shield, { key: `char_${key}:c4shield` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.constellation4.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.constellation4.cooldown,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kamisato_Ayaka_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\nimport sprint from './sprint.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3, sprint\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyaka\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1x3\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    cutDmg: skillParam_gen.burst[b++],\r\n    bloomDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n    duration: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    dmg_bonus: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    stamina: skillParam_gen.passive2[p2++][0],\r\n    cryo: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    snowflake: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_red: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    cd: skillParam_gen.constellation6[0],\r\n    charged_bonus: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condAfterSprintPath, condAfterSprint] = cond(key, \"afterSprint\")\r\nconst afterSprintInfusion = equalStr(\"afterSprint\", condAfterSprint, elementKey)\r\n\r\nconst [condAfterSkillA1Path, condAfterSkillA1] = cond(key, \"afterSkillA1\")\r\nconst a1NormDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus))\r\nconst a1ChargedDmg_ = equal(\"afterSkill\", condAfterSkillA1, percent(datamine.passive1.dmg_bonus), { key: \"charged_dmg_\" })\r\n\r\nconst [condAfterApplySprintPath, condAfterApplySprint] = cond(key, \"afterApplySprint\")\r\nconst afterApplySprintCryo = equal(\"afterApplySprint\", condAfterApplySprint, percent(datamine.passive2.cryo))\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condAfterBurst, datamine.constellation4.def_red))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"C6\")\r\nconst c6ChargedDmg_ = greaterEq(input.constellation, 6,\r\n  equal(\"c6\", condC6, datamine.constellation6.charged_bonus), { key: `charged_dmg_` })\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    cutting: dmgNode(\"atk\", datamine.burst.cutDmg, \"burst\"),\r\n    bloom: dmgNode(\"atk\", datamine.burst.bloomDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, customDmgNode(prod(\r\n      subscript(input.total.burstIndex, datamine.burst.cutDmg, { key: \"_\" }),\r\n      percent(datamine.constellation2.snowflake),\r\n      input.total.atk,\r\n    ), \"burst\", { hit: { ele: constant(elementKey) } })),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: afterBurst\r\n    }\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterSprintInfusion,\r\n  },\r\n  premod: {\r\n    normal_dmg_: a1NormDmg_,\r\n    charged_dmg_: sum(a1ChargedDmg_, c6ChargedDmg_),\r\n    cryo_dmg_: afterApplySprintCryo,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 3 ? st(\"brHits\", { count: 3 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: st(\"brHits\", { count: 3 })\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterSkillA1,\r\n        path: condAfterSkillA1Path,\r\n        name: trm(\"afterSkill\"),\r\n        states: {\r\n          afterSkill: {\r\n            fields: [{\r\n              node: a1NormDmg_,\r\n            }, {\r\n              node: a1ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.cutting, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.bloom, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: trm(\"dmgBySnowflake\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: afterBurst\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: \"6s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      sprint: ct.talentTemplate(\"sprint\", [{\r\n        fields: [{\r\n          text: st(\"activationStam\"),\r\n          value: datamine.sprint.active_stam,\r\n        }, {\r\n          text: st(\"stamDrain\"),\r\n          value: datamine.sprint.drain_stam,\r\n          unit: \"/s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"sprint\", {\r\n        value: condAfterSprint,\r\n        path: condAfterSprintPath,\r\n        name: trm(\"afterSprint\"),\r\n        states: {\r\n          afterSprint: {\r\n            fields: [{\r\n              canShow: data => data.get(afterSprintInfusion).value === elementKey,\r\n              text: <ColorText color=\"cryo\">{st(\"infusion.cryo\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.sprint.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterApplySprint,\r\n        path: condAfterApplySprintPath,\r\n        name: trm(\"afterSprintCryo\"),\r\n        states: {\r\n          afterApplySprint: {\r\n            fields: [{\r\n              text: trm(\"staminaRestore\"),\r\n              value: datamine.passive2.stamina,\r\n            }, {\r\n              node: afterApplySprintCryo\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:snowflakeDMG` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: trm(\"c6Active\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ChargedDmg_,\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      })])\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kamisato_Ayato_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KamisatoAyato\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmgArr: [\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n      skillParam_gen.skill[s++],\r\n    ],\r\n    stateDuration: skillParam_gen.skill[s++][0],\r\n    stackHpDmgInc: skillParam_gen.skill[s++],\r\n    maxStacks: 4,\r\n    illusionDmg: skillParam_gen.skill[s++],\r\n    illusionDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    normal_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    stacksGained: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerThres_: skillParam_gen.passive2[0][0],\r\n    cd: skillParam_gen.passive2[1][0],\r\n    energyRestore: skillParam_gen.passive2[2][0]\r\n  },\r\n  constellation1: {\r\n    oppHpThres_: skillParam_gen.constellation1[0],\r\n    shunDmg_: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    extraStacks: skillParam_gen.constellation2[0],\r\n    stackThresh: 3,\r\n    hp_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    atkSPD: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    extraStrikes: 2,\r\n    dmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condInSkillPath, condInSkill] = cond(key, \"inSkill\")\r\n\r\nconst [condSkillStacksPath, condSkillStacks] = cond(key, \"skillStacks\")\r\nconst skillStacks_dmgInc = equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(1, 5).map(stacks => [\r\n    stacks,\r\n    prod(\r\n      stacks,\r\n      subscript(input.total.skillIndex, datamine.skill.stackHpDmgInc, { key: \"_\" }),\r\n      input.total.hp,\r\n    )\r\n  ])), naught)\r\n)\r\n\r\nconst [condBurstInAreaPath, condBurstInArea] = cond(key, \"burstInArea\")\r\nconst burst_normal_dmg_Disp = equal(condBurstInArea, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.normal_dmg_)\r\n)\r\nconst burst_normal_dmg_ = equal(input.activeCharKey, target.charKey, burst_normal_dmg_Disp)\r\n\r\nconst [condC1OppHpPath, condC1OppHp] = cond(key, \"c1OppHp\")\r\nconst c1Shun_dmg_ = greaterEq(input.constellation, 1, equal(condC1OppHp, \"on\", datamine.constellation1.shunDmg_))\r\n\r\n// Not sure what \"Max HP increased by 50%\" means\r\nconst c2_hp_ = greaterEq(input.constellation, 2, equal(condInSkill, \"on\",\r\n  lookup(condSkillStacks, Object.fromEntries(range(datamine.constellation2.stackThresh, 5).map(stacks => [\r\n    stacks,\r\n    percent(datamine.constellation2.hp_)\r\n  ])), naught)\r\n))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\nconst c4_atkSPD_ = greaterEq(input.constellation, 4, equal(condC4AfterBurst, \"on\", datamine.constellation4.atkSPD))\r\n\r\nconst shunAddl: Data = {\r\n  hit: {\r\n    ele: constant(elementKey)\r\n  },\r\n  premod: {\r\n    normal_dmgInc: skillStacks_dmgInc,\r\n    normal_dmg_: c1Shun_dmg_\r\n  }\r\n}\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    ...Object.fromEntries(datamine.skill.dmgArr.map((arr, i) =>\r\n      [`dmg${i}`, equal(condInSkill, \"on\", customDmgNode(prod(\r\n        subscript(input.total.skillIndex, arr, { key: \"_\" }),\r\n        input.total.atk,\r\n      ), \"normal\", shunAddl))])),\r\n    illusionDmg: dmgNode(\"atk\", datamine.skill.illusionDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation6: {\r\n    // Not sure if this benefits from C1 or not\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"normal\", { hit: { ele: constant(elementKey) }, premod: { normal_dmg_: c1Shun_dmg_ } }))\r\n  }\r\n}\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmg_: burst_normal_dmg_,\r\n      atkSPD_: c4_atkSPD_,\r\n    }\r\n  },\r\n  premod: {\r\n    hp_: c2_hp_,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields:\r\n          datamine.normal.hitArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n            textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n          }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.illusionDmg, { key: `char_${key}_gen:skill.skillParams.5` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.6\"),\r\n          value: datamine.skill.illusionDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condInSkill,\r\n        path: condInSkillPath,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          on: {\r\n            fields: [\r\n              ...datamine.skill.dmgArr.map((_, i) => ({\r\n                node: infoMut(dmgFormulas.skill[`dmg${i}`], { key: `char_${key}_gen:skill.skillParams.${i}` })\r\n              })), {\r\n                text: st(\"incInterRes\"),\r\n              }, {\r\n                text: trm(\"skill.unableToAuto\"),\r\n              }, {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.skill.stateDuration,\r\n                unit: \"s\"\r\n              }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillStacks,\r\n        path: condSkillStacksPath,\r\n        name: trm(\"skill.namisenStacks\"),\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        states: Object.fromEntries(range(1, 5).map(stacks => [\r\n          stacks, {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: infoMut(skillStacks_dmgInc, { key: `char_${key}:skill.shun_dmgInc` })\r\n            }, {\r\n              text: st(\"maxStacks\"),\r\n              value: data => data.get(input.constellation).value >= 2\r\n                ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n                : datamine.skill.maxStacks\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive1\", {\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        fields: [{\r\n          text: trm(\"passive1.afterUse\"),\r\n          value: datamine.passive1.stacksGained,\r\n        }, {\r\n          text: trm(\"passive1.afterExplode\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? datamine.skill.maxStacks + datamine.constellation2.extraStacks\r\n            : datamine.skill.maxStacks\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1OppHp,\r\n        path: condC1OppHpPath,\r\n        name: st(\"enemyLessEqPercentHP\", { percent: datamine.constellation1.oppHpThres_ * 100 }),\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c1Shun_dmg_, { key: `char_${key}:c1.shun_dmg_` }),\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: trm(\"c2.addlStacks\"),\r\n          value: datamine.constellation2.extraStacks,\r\n        }, {\r\n          canShow: data => data.get(c2_hp_).value !== 0,\r\n          node: c2_hp_,\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: equal(condInSkill, \"on\", 1),\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: `char_${key}:c6.dmg` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.constellation6.extraStrikes })\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstInArea,\r\n        path: condBurstInAreaPath,\r\n        name: st(\"activeCharField\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(burst_normal_dmg_Disp, { key: \"normal_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4AfterBurst,\r\n        path: condC4AfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c4_atkSPD_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Keqing_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, greaterEqStr, infoMut, lookup, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Keqing\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    dmg2: skillParam_gen.auto[a++], // 2\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stiletto: skillParam_gen.skill[s++],\r\n    slash: skillParam_gen.skill[s++],\r\n    thunderclap: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    initial: skillParam_gen.burst[b++],\r\n    slash: skillParam_gen.burst[b++],\r\n    final: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    critInc_: skillParam_gen.passive2[p2++][0],\r\n    enerRechInc_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    dmg: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation4: {\r\n    duration: skillParam_gen.constellation4[0],\r\n    atkInc: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    electroInc: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stiletto: dmgNode(\"atk\", datamine.skill.stiletto, \"skill\"),\r\n    slash: dmgNode(\"atk\", datamine.skill.slash, \"skill\"),\r\n    thunderclap: dmgNode(\"atk\", datamine.skill.thunderclap, \"skill\"),\r\n  },\r\n  burst: {\r\n    initial: dmgNode(\"atk\", datamine.burst.initial, \"burst\"),\r\n    slash: dmgNode(\"atk\", datamine.burst.slash, \"burst\"),\r\n    final: dmgNode(\"atk\", datamine.burst.final, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.atk, datamine.constellation1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condAfterRecastPath, condAfterRecast] = cond(key, \"afterRecast\")\r\nconst afterRecastInfusion = equalStr(\"afterRecast\", condAfterRecast,\r\n  greaterEqStr(input.asc, 1, elementKey)\r\n)\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurstCritRate_ = greaterEq(input.asc, 4, equal(\"afterBurst\", condAfterBurst, percent(datamine.passive2.critInc_)))\r\nconst afterBurstEnerRech_ = { ...afterBurstCritRate_ }\r\n\r\nconst [condAfterReactPath, condAfterReact] = cond(key, \"afterReact\")\r\nconst afterReactAtk_ = greaterEq(input.constellation, 4, equal(\"afterReact\", condAfterReact, percent(datamine.constellation4.atkInc)))\r\n\r\nconst [condC6StackPath, condC6Stack] = cond(key, \"c6Stack\")\r\nconst c6Electro_dmg_ = greaterEq(input.constellation, 6,\r\n  prod(\r\n    lookup(condC6Stack, objectKeyMap(range(1, 4), i => constant(i)), constant(0)),\r\n    datamine.constellation6.electroInc\r\n  )\r\n)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  infusion: {\r\n    overridableSelf: afterRecastInfusion,\r\n  },\r\n  premod: {\r\n    critRate_: afterBurstCritRate_,\r\n    enerRech_: afterBurstEnerRech_,\r\n    atk_: afterReactAtk_,\r\n    electro_dmg_: c6Electro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i],\r\n            { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }\r\n          ),\r\n          textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stiletto, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.slash, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.thunderclap, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n          fixed: 1\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condAfterRecast,\r\n        path: condAfterRecastPath,\r\n        name: trm(\"recast\"),\r\n        states: {\r\n          afterRecast: {\r\n            fields: [{\r\n              canShow: data => data.get(afterRecastInfusion).value === elementKey,\r\n              text: <ColorText color=\"electro\">{st(\"infusion.electro\")}</ColorText>\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.initial, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.slash, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: st(\"brHits\", { count: 8 })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.final, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          afterBurst: {\r\n            fields: [{\r\n              node: afterBurstCritRate_\r\n            }, {\r\n              node: afterBurstEnerRech_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: `char_${key}:c1DMG` })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condAfterReact,\r\n        path: condAfterReactPath,\r\n        name: st(\"elementalReaction.electro\"),\r\n        states: {\r\n          afterReact: {\r\n            fields: [{\r\n              node: afterReactAtk_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Stack,\r\n        path: condC6StackPath,\r\n        name: trm(\"effectTriggers\"),\r\n        states: objectKeyMap(range(1, 4), i => ({\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [{\r\n            node: c6Electro_dmg_\r\n          }]\r\n        }))\r\n      })]),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Klee_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Klee\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    jumptyDumptyDmg1: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg2: skillParam_gen.skill[s++],\r\n    jumptyDumptyDmg3: skillParam_gen.skill[s++],\r\n    mineDmg: skillParam_gen.skill[s++],\r\n    mineDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++], // what is this??\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    charged_dmg_: 0.5\r\n  },\r\n  constellation1: {\r\n    dmg_: 1.2\r\n  },\r\n  constellation2: {\r\n    enemyDefRed_: 0.23\r\n  },\r\n  constellation4: {\r\n    dmg: 5.55\r\n  },\r\n  constellation6: {\r\n    pyro_dmg_: 0.1\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"PoundingSurprise\")\r\nconst charged_dmg_ = equal(\"on\", condA1, greaterEq(input.asc, 1, percent(datamine.passive1.charged_dmg_)))\r\n\r\nconst [condC2Path, condC2] = cond(key, \"ExplosiveFrags\")\r\nconst enemyDefRed_ = equal(\"on\", condC2, greaterEq(input.constellation, 2, percent(datamine.constellation2.enemyDefRed_)))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"BlazingDelight\")\r\nconst pyro_dmg_ = equal(\"on\", condC6, greaterEq(input.constellation, 6, percent(datamine.constellation6.pyro_dmg_)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    jumptyDumptyDmg: dmgNode(\"atk\", datamine.skill.jumptyDumptyDmg1, \"skill\"),\r\n    mineDmg: dmgNode(\"atk\", datamine.skill.mineDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  constellation1: {\r\n    chainedReactionsDmg: greaterEq(input.constellation, 1, prod(percent(datamine.constellation1.dmg_), dmgNode(\"atk\", datamine.burst.dmg, \"burst\")))\r\n  },\r\n  constellation4: {\r\n    sparklyExplosionDmg: greaterEq(input.constellation, 4, customDmgNode(prod(percent(datamine.constellation4.dmg), input.total.atk), \"elemental\", { hit: { ele: constant('pyro') } }))\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      pyro_dmg_,\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" })\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.jumptyDumptyDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.mineDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.mineDuration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: `${datamine.burst.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: trm(\"a1CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: charged_dmg_\r\n            }, {\r\n              text: trm(\"a1CondName2\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.chainedReactionsDmg, { key: `sheet:dmg` }),\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 10,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.sparklyExplosionDmg, { key: `sheet:dmg` })\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6CondName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 25,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })])\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kujou_Sara_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"KujouSara\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    fullyAimed: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    atkBonus: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    titanBreakerDmg: skillParam_gen.burst[b++],\r\n    stormClusterDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    er: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation2: {\r\n    crowfeatherDmg: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    atkInc: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condSkillTenguAmbushPath, condSkillTenguAmbush] = cond(key, \"TenguJuuraiAmbush\")\r\nconst atkIncRatio = subscript(input.total.skillIndex, datamine.skill.atkBonus.map(x => x), { key: '_' })\r\nconst skillTenguAmbush_disp = equal(\"TenguJuuraiAmbush\", condSkillTenguAmbush,\r\n  prod(input.base.atk, atkIncRatio)\r\n)\r\nconst skillTenguAmbush_ = equal(input.activeCharKey, target.charKey, skillTenguAmbush_disp)\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6ElectroCritDmg_ = greaterEq(input.constellation, 6, equal(\"c6\", condC6, percent(datamine.constellation6.atkInc)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fullyAimed: dmgNode(\"atk\", datamine.charged.fullyAimed, \"charged\", { hit: { ele: constant('electro') } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    skillTenguAmbush_\r\n  },\r\n  burst: {\r\n    titanbreaker: dmgNode(\"atk\", datamine.burst.titanBreakerDmg, \"burst\"),\r\n    stormcluster: dmgNode(\"atk\", datamine.burst.stormClusterDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.constellation2.crowfeatherDmg))),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_critDMG_: c6ElectroCritDmg_\r\n    },\r\n    total: {\r\n      atk: skillTenguAmbush_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fullyAimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillTenguAmbush,\r\n        path: condSkillTenguAmbushPath,\r\n        name: trm(\"skill.ambush\"),\r\n        teamBuff: true,\r\n        states: {\r\n          TenguJuuraiAmbush: {\r\n            fields: [{\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: data => data.get(atkIncRatio).value * 100,\r\n              unit: \"%\",\r\n            }, {\r\n              node: infoMut(skillTenguAmbush_disp, { key: `sheet:increase.atk` })\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.titanbreaker, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.stormcluster, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"a4.enerRest\"),\r\n          value: data => data.get(input.total.enerRech_).value * datamine.passive2.energyGen,\r\n          fixed: 2\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6.electroCritDmg\"),\r\n        states: {\r\n          c6: {\r\n            fields: [{\r\n              node: c6ElectroCritDmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Kuki_Shinobu_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { compareEq, constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"KukiShinobu\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++],\r\n    dmg2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    pressDmg: skillParam_gen.skill[s++],\r\n    ringHealHP_: skillParam_gen.skill[s++],\r\n    ringHealFlat: skillParam_gen.skill[s++],\r\n    ringDmg: skillParam_gen.skill[s++],\r\n    cost: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    singleDmg: skillParam_gen.burst[b++],\r\n    maxDmgBase: skillParam_gen.burst[b++],\r\n    maxDmgExtend: skillParam_gen.burst[b++],\r\n    durationBase: skillParam_gen.burst[b++][0],\r\n    durationExtend: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    hpThresh_: skillParam_gen.passive1[p1++][0],\r\n    heal_: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    emSkillHeal_: skillParam_gen.passive2[p2++][0],\r\n    emSkillDmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    aoeInc: 0.5,\r\n  },\r\n  constellation2: {\r\n    skillDurInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    markDmg: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    hpThresh_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    em: skillParam_gen.constellation6[2],\r\n    cd: skillParam_gen.constellation6[3],\r\n  },\r\n} as const\r\n\r\nconst [condUnderHPPath, condUnderHP] = cond(key, \"underHP\")\r\nconst a1Heal_ = greaterEq(input.asc, 1, equal(condUnderHP, \"on\", datamine.passive1.heal_))\r\n\r\nconst a4Skill_healInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.emSkillHeal_), input.total.eleMas))\r\nconst a4Skill_dmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.emSkillDmg_), input.total.eleMas))\r\n\r\nconst [condC6TriggerPath, condC6Trigger] = cond(key, \"c6Trigger\")\r\nconst c6eleMas = greaterEq(input.constellation, 6, equal(condC6Trigger, \"on\", datamine.constellation6.em))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.dmg2, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    pressDmg: dmgNode(\"atk\", datamine.skill.pressDmg, \"skill\"),\r\n    ringHeal: healNodeTalent(\"hp\", datamine.skill.ringHealHP_, datamine.skill.ringHealFlat, \"skill\",\r\n      { premod: { healInc: a4Skill_healInc } }\r\n    ),\r\n    ringDmg: dmgNode(\"atk\", datamine.skill.ringDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    singleDmg: dmgNode(\"hp\", datamine.burst.singleDmg, \"burst\"),\r\n    totalDmg: compareEq(condUnderHP, \"on\",\r\n      dmgNode(\"hp\", datamine.burst.maxDmgExtend, \"burst\"),\r\n      dmgNode(\"hp\", datamine.burst.maxDmgBase, \"burst\")\r\n    )\r\n  },\r\n  constellation4: {\r\n    markDmg: greaterEq(input.constellation, 4, customDmgNode(prod(percent(datamine.constellation4.markDmg), input.total.hp), \"elemental\", { hit: { ele: constant(elementKey) } })),\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  premod: {\r\n    heal_: a1Heal_,\r\n    skill_dmgInc: a4Skill_dmgInc,\r\n    eleMas: c6eleMas,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.pressDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.ringHeal, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.ringDmg, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cost * 100,\r\n          unit: trm(\"skill.cost\"),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: (data) => data.get(input.constellation).value >= 2\r\n            ? `${datamine.skill.duration}s + ${datamine.constellation2.skillDurInc}s = ${datamine.skill.duration + datamine.constellation2.skillDurInc}`\r\n            : datamine.skill.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(a4Skill_healInc, { key: `char_${key}:a4.heal`, variant: \"heal\" }),\r\n        }, {\r\n          node: a4Skill_dmgInc\r\n        }]\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation2.skillDurInc,\r\n          unit: \"s\",\r\n        }]\r\n      }), ct.headerTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.markDmg, { key: `char_${key}:c4.dmg` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation4.cd,\r\n          unit: \"s\",\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.singleDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.totalDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: (data) => data.get(condUnderHP).value === \"on\"\r\n            ? `${datamine.burst.durationBase}s + ${datamine.burst.durationExtend - datamine.burst.durationBase}s = ${datamine.burst.durationExtend}`\r\n            : datamine.burst.durationBase,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive1.hpThresh_ * 100 }),\r\n        value: condUnderHP,\r\n        path: condUnderHPPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"durationInc\"),\r\n              value: datamine.burst.durationExtend - datamine.burst.durationBase,\r\n              fixed: 1,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"aoeInc\"),\r\n          value: datamine.constellation1.aoeInc * 100,\r\n          unit: \"%\",\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        name: st(\"lessEqPercentHP\", { percent: datamine.passive1.hpThresh_ * 100 }),\r\n        value: condUnderHP,\r\n        path: condUnderHPPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: a1Heal_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Trigger,\r\n        path: condC6TriggerPath,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation6.hpThresh_ * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6eleMas,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: \"s\",\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation6.cd,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Lisa_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Lisa\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stack0: skillParam_gen.skill[s++],\r\n    stack1: skillParam_gen.skill[s++],\r\n    stack2: skillParam_gen.skill[s++],\r\n    stack3: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    press: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    tick: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    unknown: skillParam_gen.passive1[0][0] // I have no idea what this is\r\n  },\r\n  passive2: {\r\n    defShred: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"LisaA4\")\r\nconst [condC2Path, condC2] = cond(key, \"LisaC2\")\r\n\r\nconst nodeA4DefShred = equal(condA4, \"on\", greaterEq(input.asc, 1, datamine.passive2.defShred))\r\nconst nodeC2DefIncrease = equal(condC2, \"on\", greaterEq(input.constellation, 2, constant(0.25))) // Doesn't exist in skillParam_gen\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    stack0: dmgNode(\"atk\", datamine.skill.stack0, \"skill\"),\r\n    stack1: dmgNode(\"atk\", datamine.skill.stack1, \"skill\"),\r\n    stack2: dmgNode(\"atk\", datamine.skill.stack2, \"skill\"),\r\n    stack3: dmgNode(\"atk\", datamine.skill.stack3, \"skill\"),\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    tick: dmgNode(\"atk\", datamine.burst.tick, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    def_: nodeC2DefIncrease,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_: nodeA4DefShred\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        },\r\n        ...range(0, 3).map(i => ({\r\n          node: infoMut(dmgFormulas.skill[`stack${i}`], { key: `char_${key}_gen:skill.skillParams.${2 + i}` })\r\n        })), {\r\n          text: sgt(\"press.cd\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: 's'\r\n        }, {\r\n          text: sgt(\"hold.cd\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.tick, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        name: trm(\"a4C\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4DefShred\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2DefIncrease\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Mona_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\nimport sprint from './sprint.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3, sprint\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Mona\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, sp = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dot: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    bubbleDuration: skillParam_gen.burst[b++][0],\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgBonusNeg: skillParam_gen.burst[b++],\r\n    omenDuration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n  },\r\n  sprint: {\r\n    active_stam: skillParam_gen.sprint[sp++][0],\r\n    drain_stam: skillParam_gen.sprint[sp++][0],\r\n  },\r\n  passive1: {\r\n    torrentDuration: skillParam_gen.passive1[p1++][0],\r\n    phantomDuration: skillParam_gen.passive1[p1++][0],\r\n    percentage: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    unknown: skillParam_gen.passive2[p2++][0], // what is this?\r\n    percentage: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    electroChargeDmgInc: skillParam_gen.constellation1[0],\r\n    vaporizeDmgInc: skillParam_gen.constellation1[1],\r\n    hydroSwirlDmgInc: skillParam_gen.constellation1[2],\r\n    frozenExtension: skillParam_gen.constellation1[3],\r\n    unknown: skillParam_gen.constellation1[4], // what is this?\r\n    duration: skillParam_gen.constellation1[5],\r\n  },\r\n  constellation4: {\r\n    critRateIncNeg: Math.abs(skillParam_gen.constellation4[0]), // why do they even keep this as a negative??\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0], // what is this?\r\n    dmgBonus: skillParam_gen.constellation6[1],\r\n    maxDmgBonus: skillParam_gen.constellation6[2],\r\n    duration: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst hydro_dmg_ = greaterEq(input.asc, 4, prod(input.premod.enerRech_, percent(datamine.passive2.percentage)))\r\n\r\nconst [condOmenPath, condOmen] = cond(key, \"Omen\")\r\nconst all_dmg_ = equal(\"on\", condOmen, subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" }))\r\n\r\nconst [condPoSPath, condPoS] = cond(key, \"ProphecyOfSubmersion\")\r\nconst electrocharged_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.electroChargeDmgInc)))\r\nconst swirl_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.hydroSwirlDmgInc)))\r\nconst vaporize_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condPoS, percent(datamine.constellation1.vaporizeDmgInc)))\r\n\r\nconst [condPoOPath, condPoO] = cond(key, \"ProphecyOfOblivion\")\r\nconst critRate_ = greaterEq(input.constellation, 4, equal(\"on\", condPoO, percent(datamine.constellation4.critRateIncNeg)))\r\n\r\nconst [condRoCPath, condRoC] = cond(key, \"RhetoricsOfCalamitas\")\r\nconst charged_dmg_ = greaterEq(input.constellation, 6, lookup(condRoC, objectKeyMap(range(1, 3), i => percent(i * datamine.constellation6.dmgBonus)), 0))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dot: dmgNode(\"atk\", datamine.skill.dot, \"skill\"),\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive1: {\r\n    dmg: prod(dmgNode(\"atk\", datamine.skill.dmg, \"skill\"), percent(datamine.passive1.percentage))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    charged_dmg_,\r\n    hydro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_,\r\n      electrocharged_dmg_,\r\n      swirl_dmg_,\r\n      vaporize_dmg_,\r\n      critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dot, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: trm(\"bubbleDuration\"),\r\n          value: datamine.burst.bubbleDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condOmen,\r\n        path: condOmenPath,\r\n        teamBuff: true,\r\n        name: trm(\"omen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: all_dmg_,\r\n            }, {\r\n              text: trm(\"omenDuration\"),\r\n              value: (data) => datamine.burst.omenDuration[data.get(input.total.burstIndex).value],\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      sprint: ct.talentTemplate(\"sprint\", [{\r\n        fields: [{\r\n          text: st(\"activationStam\"),\r\n          value: datamine.sprint.active_stam,\r\n        }, {\r\n          text: st(\"stamDrain\"),\r\n          value: datamine.sprint.drain_stam,\r\n          unit: \"/s\",\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: trm(\"phantomDuration\"),\r\n          value: datamine.passive1.phantomDuration,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: hydro_dmg_\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condPoS,\r\n        path: condPoSPath,\r\n        teamBuff: true,\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: electrocharged_dmg_,\r\n            }, {\r\n              node: swirl_dmg_,\r\n            }, {\r\n              node: vaporize_dmg_,\r\n            }, {\r\n              text: trm(\"frozenDuration\"),\r\n              value: datamine.constellation1.frozenExtension * 100, // Convert to percentage\r\n              unit: \"%\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condPoO,\r\n        path: condPoOPath,\r\n        teamBuff: true,\r\n        name: trm(\"hitOp.affectedByOmen\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: critRate_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        value: condRoC,\r\n        path: condRoCPath,\r\n        name: trm(\"uponSprint\"),\r\n        states: Object.fromEntries(range(1, 3).map(i => [i, {\r\n          name: st(\"stack\", { count: i }),\r\n          fields: [\r\n            { node: charged_dmg_ },\r\n            {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n        }]))\r\n      })])\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Nilou_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from \"../../../Formula/index\"\r\nimport { equal, greaterEq, infoMut, max, min, percent, prod, sum, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Nilou\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    whirl1Dmg: skillParam_gen.skill[s++],\r\n    whirl2Dmg: skillParam_gen.skill[s++],\r\n    moonDmg: skillParam_gen.skill[s++],\r\n    wheelDmg: skillParam_gen.skill[s++],\r\n    dance1Dmg: skillParam_gen.skill[s++],\r\n    dance2Dmg: skillParam_gen.skill[s++],\r\n    pirouetteDuration: skillParam_gen.skill[s++][0],\r\n    lunarPrayerDuration: skillParam_gen.skill[s++][0],\r\n    tranquilityAuraDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    aeonDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    bountyDuration: skillParam_gen.passive1[0][0],\r\n    eleMas: skillParam_gen.passive1[1][0],\r\n    buffDuration: skillParam_gen.passive1[2][0],\r\n  },\r\n  passive2: {\r\n    dmg_: skillParam_gen.passive2[0][0],\r\n    minHp: -skillParam_gen.passive2[1][0],\r\n    maxDmg_: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    moon_dmg_: skillParam_gen.constellation1[0],\r\n    durationInc: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -skillParam_gen.constellation2[0],\r\n    dendro_enemyRes_: -skillParam_gen.constellation2[1],\r\n    duration: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation4: {\r\n    energyRegen: skillParam_gen.constellation4[0],\r\n    burst_dmg_: skillParam_gen.constellation4[1],\r\n    duration: skillParam_gen.constellation4[2],\r\n  },\r\n  constellation6: {\r\n    critRate_: skillParam_gen.constellation6[0],\r\n    critDmg_: skillParam_gen.constellation6[1],\r\n    maxCritRate_: skillParam_gen.constellation6[2],\r\n    maxCritDmg_: skillParam_gen.constellation6[3],\r\n  }\r\n} as const\r\n\r\nconst [condA1AfterSkillPath, condA1AfterSkill] = cond(key, \"a1AfterSkill\")\r\nconst [condA1AfterHitPath, condA1AfterHit] = cond(key, \"a1AfterHit\")\r\nconst onlyDendroHydroTeam = greaterEq(tally.dendro, 1, equal(tally.ele, 2, 1))\r\nconst isGoldenChaliceBountyActive = greaterEq(input.asc, 1, equal(onlyDendroHydroTeam, 1, equal(condA1AfterSkill, \"on\", 1)))\r\nconst a1AfterSkillAndHit_eleMas = equal(isGoldenChaliceBountyActive, 1, equal(condA1AfterHit, \"on\", datamine.passive1.eleMas))\r\n\r\nconst bountifulBloom_dmg_ = greaterEq(input.asc, 4,\r\n  equal(isGoldenChaliceBountyActive, 1,\r\n    min(\r\n      prod(\r\n        percent(datamine.passive2.dmg_),\r\n        prod(\r\n          max(sum(input.total.hp, datamine.passive2.minHp), 0),\r\n          1 / 1000\r\n        )\r\n      ),\r\n      percent(datamine.passive2.maxDmg_)\r\n    )\r\n  )\r\n)\r\n\r\nconst c1_moon_dmg_ = greaterEq(input.constellation, 1, percent(datamine.constellation1.moon_dmg_, { key: `char_${key}:c1.moon_dmg_` }))\r\n\r\nconst [condC2HydroPath, condC2Hydro] = cond(key, \"c2Hydro\")\r\nconst [condC2DendroPath, condC2Dendro] = cond(key, \"c2Dendro\")\r\nconst c2_hydro_enemyRes_ = greaterEq(input.constellation, 2,\r\n  equal(isGoldenChaliceBountyActive, 1,\r\n    equal(condC2Hydro, \"hydro\", percent(datamine.constellation2.hydro_enemyRes_))\r\n  )\r\n)\r\nconst c2_dendro_enemyRes_ = greaterEq(input.constellation, 2,\r\n  equal(isGoldenChaliceBountyActive, 1,\r\n    equal(condC2Dendro, \"dendro\", percent(datamine.constellation2.dendro_enemyRes_))\r\n  )\r\n)\r\n\r\nconst [condC4AfterPirHitPath, condC4AfterPirHit] = cond(key, \"c4AfterPirHit\")\r\nconst c4_burst_dmg_ = greaterEq(input.constellation, 4, equal(condC4AfterPirHit, \"on\", percent(datamine.constellation4.burst_dmg_)))\r\n\r\nconst c6_critRate_ = greaterEq(input.constellation, 6,\r\n  min(\r\n    prod(\r\n      percent(datamine.constellation6.critRate_),\r\n      input.total.hp,\r\n      1/1000\r\n    ),\r\n    percent(datamine.constellation6.maxCritRate_)\r\n  )\r\n)\r\nconst c6_critDMG_ = greaterEq(input.constellation, 6,\r\n  min(\r\n    prod(\r\n      percent(datamine.constellation6.critDmg_),\r\n      input.total.hp,\r\n      1/1000\r\n    ),\r\n    percent(datamine.constellation6.maxCritDmg_)\r\n  )\r\n)\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    skillDmg: dmgNode(\"hp\", datamine.skill.skillDmg, \"skill\"),\r\n    dance1Dmg: dmgNode(\"hp\", datamine.skill.dance1Dmg, \"skill\"),\r\n    dance2Dmg: dmgNode(\"hp\", datamine.skill.dance2Dmg, \"skill\"),\r\n    whirl1Dmg: dmgNode(\"hp\", datamine.skill.whirl1Dmg, \"skill\"),\r\n    whirl2Dmg: dmgNode(\"hp\", datamine.skill.whirl2Dmg, \"skill\"),\r\n    moonDmg: dmgNode(\"hp\", datamine.skill.moonDmg, \"skill\", { premod: { skill_dmg_: c1_moon_dmg_ } }),\r\n    wheelDmg: dmgNode(\"hp\", datamine.skill.wheelDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    skillDmg: dmgNode(\"hp\", datamine.burst.skillDmg, \"burst\"),\r\n    aeonDmg: dmgNode(\"hp\", datamine.burst.aeonDmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    bountifulBloom_dmg_\r\n  },\r\n  constellation6: {\r\n    c6_critRate_,\r\n    c6_critDMG_,\r\n  }\r\n}\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"sumeru\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: a1AfterSkillAndHit_eleMas,\r\n      bloom_dmg_: bountifulBloom_dmg_,\r\n      hydro_enemyRes_: c2_hydro_enemyRes_,\r\n      dendro_enemyRes_: c2_dendro_enemyRes_,\r\n    }\r\n  },\r\n  premod: {\r\n    burst_dmg_: c4_burst_dmg_,\r\n    critRate_: c6_critRate_,\r\n    critDMG_: c6_critDMG_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.skillDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dance1Dmg, { key: `char_${key}:skill.dance1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.whirl1Dmg, { key: `char_${key}:skill.whirl1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dance2Dmg, { key: `char_${key}:skill.dance2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.whirl2Dmg, { key: `char_${key}:skill.whirl2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.moonDmg, { key: `char_${key}:skill.moon` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.wheelDmg, { key: `char_${key}:skill.wheel` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.pirouetteDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.lunarPrayerDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.6\"),\r\n          value: (data) => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.tranquilityAuraDuration}s + ${datamine.constellation1.durationInc}s = ${datamine.skill.tranquilityAuraDuration + datamine.constellation1.durationInc}`\r\n            : datamine.skill.tranquilityAuraDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        path: condC4AfterPirHitPath,\r\n        value: condC4AfterPirHit,\r\n        name: trm(\"c4.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"energyRegen\"),\r\n              value: datamine.constellation4.energyRegen,\r\n            }, {\r\n              node: c4_burst_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.aeonDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        teamBuff: true,\r\n        canShow: unequal(onlyDendroHydroTeam, 1, 1),\r\n        fields: [{\r\n          text: trm(\"passive1.notDendroHydroTeam\")\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        path: condA1AfterSkillPath,\r\n        value: condA1AfterSkill,\r\n        teamBuff: true,\r\n        canShow: onlyDendroHydroTeam,\r\n        name: trm(\"passive1.underChaliceEffect\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: trm(\"passive1.bountifulCores\")\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        path: condA1AfterHitPath,\r\n        value: condA1AfterHit,\r\n        name: trm(\"passive1.condName\"),\r\n        teamBuff: true,\r\n        canShow: isGoldenChaliceBountyActive,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: a1AfterSkillAndHit_eleMas\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.buffDuration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        canShow: isGoldenChaliceBountyActive,\r\n        teamBuff: true,\r\n        fields: [{\r\n          node: bountifulBloom_dmg_\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        teamBuff: true,\r\n        canShow: isGoldenChaliceBountyActive,\r\n        states: {\r\n          hydro: {\r\n            path: condC2HydroPath,\r\n            value: condC2Hydro,\r\n            name: st(\"hitOp.hydro\"),\r\n            fields: [{\r\n              node: c2_hydro_enemyRes_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n          dendro: {\r\n            path: condC2DendroPath,\r\n            value: condC2Dendro,\r\n            name: st(\"hitOp.dendro\"),\r\n            fields: [{\r\n              node: c2_dendro_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [{ fields: [{\r\n        node: c6_critRate_\r\n      }, {\r\n        node: c6_critDMG_\r\n      }]}]),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Ningguang_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Ningguang\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    jadeDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    screenHpMod: skillParam_gen.skill[s++], // 100% + skillParam_gen.skill[s++] * 100\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    screenHp: skillParam_gen.skill[s++], //screenHp * 100%\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgPerGem: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    geoDmgBonus_: skillParam_gen.passive2[p1++][0],\r\n    duration: skillParam_gen.passive2[p1++][0],\r\n  },\r\n} as const\r\n\r\nconst [condA4Path, condA4] = cond(key, \"Ascension4\") //12% Geo DMG bonus after passing through the Jade Screen\r\nconst [condC4Path, condC4] = cond(key, \"Constellation4\")\r\n\r\nconst nodeA4GeoDmgBonus_ = equal(condA4, \"on\", percent(datamine.passive2.geoDmgBonus_), { key: `char_${key}:a4bonus_` })\r\n\r\nconst nodesC4 = Object.fromEntries(allElements.map(ele => [\r\n  `${ele}_res_`,\r\n  equal(condC4, \"on\", percent(0.10))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    baseDmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n    jadeDmg: dmgNode(\"atk\", datamine.charged.jadeDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    screenHp: prod(subscript(input.total.skillIndex, datamine.skill.screenHp, { key: '_' }), input.total.hp),\r\n    dmg: dmgNode(\"atk\", datamine.skill.skillDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    gemDmg: dmgNode(\"atk\", datamine.burst.dmgPerGem, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  }, teamBuff: {\r\n    premod: {\r\n      geo_dmg_: nodeA4GeoDmgBonus_,\r\n      ...nodesC4,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.normal[0], { key: `char_${key}_gen:auto.skillParams.0` })\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          text: trm(\"aoeGems\"),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.baseDmg, { key: `char_${key}_gen:auto.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.jadeDmg, { key: `char_${key}_gen:auto.skillParams.2` }),\r\n        }, {\r\n          canShow: data => data.get(input.asc).value < 1,\r\n          text: tr(\"auto.skillParams.3\"),\r\n          value: datamine.charged.stamina,\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 1,\r\n          text: tr(\"auto.skillParams.3\"),\r\n          value: trm(\"starJadeStaminaCost\"),\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.screenHp, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 2,\r\n          text: trm(\"skillReset\"),\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: trm(\"a4toggle\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA4GeoDmgBonus_\r\n            }, {\r\n              text: trm(\"a4duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        teamBuff: true,\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4toggle\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesC4).map(n => ({ node: n }))\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.gemDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.enerCost,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: trm(\"c6bonus\"),\r\n          value: 7,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Noelle_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, equalStr, greaterEq, infoMut, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent, shieldElement, shieldNode, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Noelle\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shieldDef: skillParam_gen.skill[s++],\r\n    healDef: skillParam_gen.skill[s++],\r\n    healChance: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    shieldFlat: skillParam_gen.skill[s++],\r\n    healFlat: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    burstDmg: skillParam_gen.burst[b++],\r\n    skillDmg: skillParam_gen.burst[b++],\r\n    defToAtk: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: { // Devotion Shield\r\n    hpThreshold: skillParam_gen.passive1[p1++][0],\r\n    shield: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n    cooldown: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  constellation1: {\r\n    healingChance: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    chargeStamina: skillParam_gen.constellation2[0],\r\n    chargeDmg_: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    skillDmg: skillParam_gen.constellation4[0],\r\n  },\r\n  constellation6: {\r\n    burstAtkBonus: skillParam_gen.constellation6[0],\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"SweepingTime\")\r\nconst nodeBurstInfusion = equalStr(condBurst, \"on\", \"geo\")\r\nconst nodeBurstAtk = equal(\"on\", condBurst, prod(\r\n  input.total.def,\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.defToAtk, { key: \"_\" }),\r\n    greaterEq(input.constellation, 6, percent(datamine.constellation6.burstAtkBonus))\r\n  )\r\n))\r\n\r\nconst nodeSkillHealChanceBase = subscript(input.total.skillIndex, datamine.skill.healChance, { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOn = equal(\"on\", condBurst, percent(datamine.constellation1.healingChance), { key: `char_${key}:skillHeal_` })\r\nconst nodeSkillHealChanceC1BurstOff = unequal(\"on\", condBurst, nodeSkillHealChanceBase)\r\n\r\nconst nodeC2ChargeDMG = greaterEq(input.constellation, 2, percent(datamine.constellation2.chargeDmg_))\r\nconst nodeC2ChargeDec = greaterEq(input.constellation, 2, percent(-datamine.constellation2.chargeStamina))\r\nconst nodeC4dmg = greaterEq(input.constellation, 4, customDmgNode(prod(input.total.atk, percent(datamine.constellation4.skillDmg)), \"elemental\", { hit: { ele: constant(elementKey) } }))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.skillDmg, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"def\", datamine.skill.shieldDef, datamine.skill.shieldFlat, \"skill\")),\r\n    heal: healNodeTalent(\"def\", datamine.skill.healDef, datamine.skill.healFlat, \"skill\"),\r\n  },\r\n  burst: {\r\n    defConv: nodeBurstAtk,\r\n    burstDmg: dmgNode(\"atk\", datamine.burst.burstDmg, \"burst\"),\r\n    skillDmg: dmgNode(\"atk\", datamine.burst.skillDmg, \"burst\"),\r\n  },\r\n  passive1: {\r\n    devotionShield: greaterEq(input.asc, 1, shieldElement(\"geo\", shieldNode(\"def\", percent(datamine.passive1.shield), 0)))\r\n  },\r\n  constellation4: {\r\n    dmg: nodeC4dmg\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: nodeC2ChargeDMG,\r\n    atk: nodeBurstAtk,\r\n    staminaChargedDec_: nodeC2ChargeDec,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: nodeBurstInfusion,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"geo\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, { //Heal trigger chance\r\n          canShow: data => data.get(input.constellation).value === 0,\r\n          node: nodeSkillHealChanceBase,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOff,\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 1,\r\n          node: nodeSkillHealChanceC1BurstOn,\r\n        }, { //Shield Duration\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, { //Cooldown\r\n          canShow: data => data.get(input.asc).value < 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.asc).value >= 4,\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: trm(`p4cd`),\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.burstDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.skillDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value < 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: data => data.get(input.constellation).value >= 6,\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: trm(`c6duration`),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }],\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        name: tr(\"burst.name\"),\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"infusion.geo\"),\r\n              variant: \"geo\",\r\n            }, {\r\n              text: trm(\"qlarger\")\r\n            }, {\r\n              node: nodeBurstAtk\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.devotionShield, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.passive1.cooldown,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: nodeC2ChargeDec\r\n        }, {\r\n          node: nodeC2ChargeDMG\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(nodeC4dmg, { key: `char_${key}:c4dmg` })\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\n\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Qiqi_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Qiqi\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hitRegenPercent: skillParam_gen.skill[s++],\r\n    hitRegenFlat: skillParam_gen.skill[s++],\r\n    contRegenPercent: skillParam_gen.skill[s++],\r\n    contRegenFlat: skillParam_gen.skill[s++],\r\n    tickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    castDmg: skillParam_gen.skill[s++],\r\n  },\r\n  burst: {\r\n    healPercent: skillParam_gen.burst[b++],\r\n    healFlat: skillParam_gen.burst[b++],\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  }\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"QiqiA1\")\r\nconst [condC2Path, condC2] = cond(key, \"QiqiC2\")\r\n\r\n// Values here doesn't exist in skillParam_gen\r\nconst nodeA1HealingBonus = equal(condA1, \"on\", greaterEq(input.asc, 1, 0.2))\r\nconst nodeC2ChargedDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, 0.15))\r\nconst nodeC2NormalDmgInc = equal(condC2, \"on\", greaterEq(input.constellation, 2, 0.15))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    castDmg: dmgNode(\"atk\", datamine.skill.castDmg, \"skill\"),\r\n    tickDmg: dmgNode(\"atk\", datamine.skill.tickDmg, \"skill\"),\r\n    hitRegen: healNodeTalent(\"atk\", datamine.skill.hitRegenPercent, datamine.skill.hitRegenFlat, \"skill\"),\r\n    contRegen: healNodeTalent(\"atk\", datamine.skill.contRegenPercent, datamine.skill.contRegenFlat, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    heal: healNodeTalent(\"atk\", datamine.burst.healPercent, datamine.burst.healFlat, \"burst\")\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_: nodeC2NormalDmgInc,\r\n    charged_dmg_: nodeC2ChargedDmgInc,\r\n    incHeal_: nodeA1HealingBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 2 || i === 3) ? st(\"brHits\", { count: 2 }) : undefined\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: st(\"brHits\", { count: 2 })\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.castDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hitRegen, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.contRegen, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.tickDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        },\r\n        {\r\n          node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1C\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1HealingBonus\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: 8,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: trm(\"c2C\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2NormalDmgInc\r\n            }, {\r\n              node: nodeC2ChargedDmgInc\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Raiden_Shogun_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"RaidenShogun\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    skillDmg: skillParam_gen.skill[s++],\r\n    coorDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    burstDmg_bonus: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    resolveBonus1: skillParam_gen.burst[b++],\r\n    resolveBonus2: skillParam_gen.burst[b++],\r\n    resolveGained: skillParam_gen.burst[b++],\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    hit3: skillParam_gen.burst[b++],\r\n    hit41: skillParam_gen.burst[b++],\r\n    hit42: skillParam_gen.burst[b++],\r\n    hit5: skillParam_gen.burst[b++],\r\n    charged1: skillParam_gen.burst[b++],\r\n    charged2: skillParam_gen.burst[b++],\r\n    stam: skillParam_gen.burst[b++][0],\r\n    plunge: skillParam_gen.burst[b++],\r\n    plungeLow: skillParam_gen.burst[b++],\r\n    plungeHigh: skillParam_gen.burst[b++],\r\n    enerGen: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    er: skillParam_gen.passive2[p2++][0],\r\n    energyGen: skillParam_gen.passive2[p2++][0],\r\n    electroDmg_bonus: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    def_ignore: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    atk_bonus: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n} as const\r\n\r\nconst [condSkillEyePath, condSkillEye] = cond(key, \"skillEye\")\r\nconst skillEye_ = equal(\"skillEye\", condSkillEye,\r\n  prod(constant(datamine.burst.enerCost, { key: \"sheet:energy\" }), subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { fixed: 2, key: '_' })))\r\n\r\nfunction skillDmg(atkType: number[]) {\r\n  // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n  return dmgNode('atk', atkType, 'skill', {\r\n    enemy: { defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore) }\r\n  })\r\n}\r\n\r\nconst energyCosts = [40, 50, 60, 70, 80, 90]\r\nconst [condSkillEyeTeamPath, condSkillEyeTeam] = cond(key, \"skillEyeTeam\")\r\nconst skillEyeTeamBurstDmgInc = unequal(input.activeCharKey, input.charKey,\r\n  prod(lookup(condSkillEyeTeam, objectKeyMap(energyCosts, i => constant(i, { key: \"sheet:energy\" })), 0),\r\n    subscript(input.total.skillIndex, datamine.skill.burstDmg_bonus, { fixed: 2, key: '_' })))\r\n\r\nconst resolveStacks = [10, 20, 30, 40, 50, 60]\r\nconst [condResolveStackPath, condResolveStack] = cond(key, \"burstResolve\")\r\n\r\nconst resolveStackNode = lookup(condResolveStack, objectKeyMap(resolveStacks, i => constant(i)), 0, { key: `char_${key}:burst.resolves` })\r\nconst resolveInitialBonus_ = prod(\r\n  subscript(input.total.burstIndex, datamine.burst.resolveBonus1, { key: `char_${key}:burst.resolveInitial_` }),\r\n  resolveStackNode\r\n)\r\nconst resolveInfusedBonus_ = prod(\r\n  subscript(input.total.burstIndex, datamine.burst.resolveBonus2, { key: `char_${key}:burst.resolveInfused_` }),\r\n  resolveStackNode\r\n)\r\nfunction burstResolve(mvArr: number[], initial = false) {\r\n  const resolveBonus = initial ? resolveInitialBonus_ : resolveInfusedBonus_\r\n\r\n  return customDmgNode(\r\n    prod(\r\n      sum(\r\n        subscript(input.total.burstIndex, mvArr, { key: '_' }),\r\n        resolveBonus\r\n      ),\r\n      input.total.atk\r\n    ),\r\n    'burst',\r\n    {\r\n      hit: {\r\n        ele: constant('electro')\r\n      }, enemy: {\r\n        // if Raiden is above or equal to C2, then account for DEF Ignore else not\r\n        defIgn: greaterEq(input.constellation, 2, datamine.constellation2.def_ignore)\r\n      }\r\n    }\r\n  )\r\n}\r\n\r\nconst passive2ElecDmgBonus = greaterEq(input.asc, 4, prod(sum(input.premod.enerRech_, percent(-1)), (datamine.passive2.electroDmg_bonus * 100)))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4AtkBonus_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4\", condC4, unequal(input.activeCharKey, input.charKey, datamine.constellation4.atk_bonus))\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: skillDmg(datamine.skill.skillDmg),\r\n    coorDmg: skillDmg(datamine.skill.coorDmg),\r\n    skillEye_\r\n  },\r\n  burst: {\r\n    dmg: burstResolve(datamine.burst.dmg, true),\r\n    hit1: burstResolve(datamine.burst.hit1),\r\n    hit2: burstResolve(datamine.burst.hit2),\r\n    hit3: burstResolve(datamine.burst.hit3),\r\n    hit41: burstResolve(datamine.burst.hit41),\r\n    hit42: burstResolve(datamine.burst.hit42),\r\n    hit5: burstResolve(datamine.burst.hit5),\r\n    charged1: burstResolve(datamine.burst.charged1),\r\n    charged2: burstResolve(datamine.burst.charged2),\r\n    plunge: burstResolve(datamine.burst.plunge),\r\n    plungeLow: burstResolve(datamine.burst.plungeLow),\r\n    plungeHigh: burstResolve(datamine.burst.plungeHigh),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"electro\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    burst_dmg_: skillEye_,\r\n    electro_dmg_: passive2ElecDmgBonus,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: c4AtkBonus_,\r\n      burst_dmg_: skillEyeTeamBurstDmgInc\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: \"electro\",\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 4 ? 0 : -1)}` }),\r\n          textSuffix: i === 3 ? \"(1)\" : i === 4 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.coorDmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: `${datamine.skill.duration}s`,\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: `${datamine.skill.cd}s`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillEye,\r\n        path: condSkillEyePath,\r\n        name: trm(\"skill.eye\"),\r\n        states: {\r\n          skillEye: {\r\n            fields: [{\r\n              node: skillEye_\r\n            }]\r\n          }\r\n        }\r\n      },\r\n      ), ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillEyeTeam,\r\n        path: condSkillEyeTeamPath,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"skill.partyCost\"),\r\n        states: Object.fromEntries(energyCosts.map(c => [c, {\r\n          name: `${c}`,\r\n          fields: [{\r\n            node: skillEyeTeamBurstDmgInc,\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.3` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit3, { key: `char_${key}_gen:burst.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit41, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit42, { key: `char_${key}_gen:burst.skillParams.6` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit5, { key: `char_${key}_gen:burst.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.charged1, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.charged2, { key: `char_${key}_gen:burst.skillParams.8` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.9\"),\r\n          value: `${datamine.burst.stam}`,\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plunge, { key: `char_${key}_gen:burst.skillParams.10` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plungeLow, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.plungeHigh, { key: `char_${key}_gen:burst.skillParams.11` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.12\"),\r\n          value: (data) => `${datamine.burst.enerGen[data.get(input.total.burstIndex).value]}`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.13\"),\r\n          value: `${datamine.burst.duration}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.14\"),\r\n          value: `${datamine.burst.cd}s`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.15\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }],\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condResolveStack,\r\n        path: condResolveStackPath,\r\n        name: trm(\"burst.resolves\"),\r\n        states: Object.fromEntries(resolveStacks.map(c => [c, {\r\n          name: st(\"stack\", { count: c }),\r\n          fields: [{\r\n            node: infoMut(resolveInitialBonus_, { key: `char_${key}:burst.resolveInitial_` }),\r\n          }, {\r\n            node: infoMut(resolveInfusedBonus_, { key: `char_${key}:burst.resolveInfused_` })\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"a4.enerRest\"),\r\n          value: (data) => (data.get(input.total.enerRech_).value * 100 - 100) * (datamine.passive2.energyGen * 100),\r\n          unit: \"%\"\r\n        }, {\r\n          node: passive2ElecDmgBonus,\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, input.charKey, 1),\r\n        name: trm(\"c4.expires\"),\r\n        states: {\r\n          c4: {\r\n            fields: [{\r\n              node: c4AtkBonus_,\r\n            }, {\r\n              text: tr(\"skill.skillParams.2\"),\r\n              value: `${datamine.constellation4.duration}s`\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Razor_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Razor\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst regionKey: Region = \"mondstadt\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++]\r\n    ]\r\n  },\r\n  charged: {\r\n    spinningDmg: skillParam_gen.auto[a++],\r\n    finalDmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0]\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    erBonus: skillParam_gen.skill[s++][0],\r\n    enerRegen: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    pressCd: skillParam_gen.skill[s++][0],\r\n    holdCd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    companionDmg: skillParam_gen.burst[b++],\r\n    atkSpdBonus: skillParam_gen.burst[b++],\r\n    electroResBonus: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: 0.18\r\n  },\r\n  passive2: {\r\n    enerThreshold: 0.5,\r\n    erInc: 0.3\r\n  },\r\n  passive3: {\r\n    sprintStaminaDec: 0.2\r\n  },\r\n  constellation1: {\r\n    allDmgInc: 0.1,\r\n    duration: 8\r\n  },\r\n  constellation2: {\r\n    hpThreshold: 0.3,\r\n    critRateInc: 0.1\r\n  },\r\n  constellation4: {\r\n    defDec: 0.15,\r\n    duration: 7\r\n  },\r\n  constellation6: {\r\n    dmg: 1,\r\n    electroSigilGenerated: 1,\r\n    cd: 10\r\n  }\r\n} as const\r\n\r\nconst [condElectroSigilPath, condElectroSigil] = cond(key, \"ElectroSigil\")\r\nconst [condTheWolfWithinPath, condTheWolfWithin] = cond(key, \"TheWolfWithin\")\r\nconst [condA4Path, condA4] = cond(key, \"A4\")\r\nconst [condC1Path, condC1] = cond(key, \"C1\")\r\nconst [condC2Path, condC2] = cond(key, \"C2\")\r\nconst [condC4Path, condC4] = cond(key, \"C4\")\r\n\r\nconst enerRechElectroSigil_ = lookup(condElectroSigil, objectKeyMap(range(1, 3), i => prod(i, percent(datamine.skill.erBonus))),\r\n  naught, { key: \"enerRech_\" })\r\nconst electro_res_ = equal(\"on\", condTheWolfWithin, percent(datamine.burst.electroResBonus))\r\nconst atkSPD_ = equal(\"on\", condTheWolfWithin, subscript(input.total.burstIndex, datamine.burst.atkSpdBonus, { key: \"_\" }))\r\nconst enerRechA4_ = greaterEq(input.asc, 4, equal(\"on\", condA4, percent(datamine.passive2.erInc, { key: \"enerRech_\" })))\r\nconst all_dmg_ = greaterEq(input.constellation, 1, equal(\"on\", condC1, percent(datamine.constellation1.allDmgInc)))\r\nconst critRate_ = greaterEq(input.constellation, 2, equal(\"on\", condC2, percent(datamine.constellation2.critRateInc)))\r\nconst enemyDefRed_ = greaterEq(input.constellation, 4, equal(\"on\", condC4, percent(datamine.constellation4.defDec)))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spinningDmg: dmgNode(\"atk\", datamine.charged.spinningDmg, \"charged\"),\r\n    finalDmg: dmgNode(\"atk\", datamine.charged.finalDmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    companionDmg1: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg2: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg3: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    companionDmg4: customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n      subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"),\r\n    // TODO: this is for the additional section to calculate the full burst dmg where the full burst dmg = sum of normal dmg and burst companion dmg\r\n    // However, the final dmg then defaults to Electro text color which is sort of incorrect?\r\n    // Is there a way to disable the electro text color and default it to just normal color instead?\r\n    fullBurstDmg1: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[0]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg2: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[1]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg3: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[2]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\")),\r\n    fullBurstDmg4: sum(customDmgNode(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]), input.total.atk), \"normal\"),\r\n      customDmgNode(prod(prod(subscript(input.total.autoIndex, datamine.normal.hitArr[3]),\r\n        subscript(input.total.burstIndex, datamine.burst.companionDmg)), input.total.atk), \"burst\"))\r\n  },\r\n  constellation6: {\r\n    dmg: greaterEq(input.constellation, 6, customDmgNode(prod(percent(datamine.constellation6.dmg), input.total.atk), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, regionKey, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: sum(enerRechElectroSigil_, enerRechA4_),\r\n    electro_res_,\r\n    atkSPD_,\r\n    all_dmg_,\r\n    critRate_\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      enemyDefRed_\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spinningDmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.finalDmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n          unit: '/s'\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.duration,\r\n          unit: 's'\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.skill.pressCd - (datamine.skill.pressCd * datamine.passive1.cdRed)\r\n            : datamine.skill.pressCd,\r\n          unit: 's'\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.6\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.skill.holdCd - (datamine.skill.holdCd * datamine.passive1.cdRed)\r\n            : datamine.skill.holdCd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", { // Electro Sigil\r\n        value: condElectroSigil,\r\n        path: condElectroSigilPath,\r\n        name: trm(\"electroSigil\"),\r\n        states: {\r\n          ...objectKeyMap(range(1, 3), i => ({\r\n            name: st(\"stack\", { count: i }),\r\n            fields: [{\r\n              node: enerRechElectroSigil_\r\n            }, {\r\n              text: tr(\"skill.skillParams.4\"),\r\n              value: datamine.skill.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: trm(\"electroSigilAbsorbed\"),\r\n              value: datamine.skill.enerRegen * i,\r\n            }]\r\n          })),\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg1, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.0\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg2, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.1\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg3, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.2\")\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.companionDmg4, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          textSuffix: tr(\"auto.skillParams.3\")\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.duration,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.cd,\r\n          unit: 's'\r\n        }, {\r\n          text: tr(\"burst.skillParams.6\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // The Wolf Within\r\n        value: condTheWolfWithin,\r\n        path: condTheWolfWithinPath,\r\n        name: tr(\"burst.description.3\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: electro_res_\r\n            }, {\r\n              node: atkSPD_\r\n            }, {\r\n              text: st(\"incInterRes\")\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }, ct.headerTemplate(\"burst\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg1, { key: `char_${key}:fullBurstDMG.dmg1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg2, { key: `char_${key}:fullBurstDMG.dmg2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg3, { key: `char_${key}:fullBurstDMG.dmg3` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.fullBurstDmg4, { key: `char_${key}:fullBurstDMG.dmg4` })\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condA4,\r\n        path: condA4Path,\r\n        name: st(\"lessPercentEnergy\", { percent: datamine.passive2.enerThreshold * 100 }),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enerRechA4_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: trm(\"pickUpElementalOrbParticle\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: all_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.constellation2.hpThreshold * 100 }),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: critRate_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: trm(\"opHitWithClawAndThunder\"),\r\n        states: {\r\n          \"on\": {\r\n            fields: [{\r\n              node: enemyDefRed_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.fieldsTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.dmg, { key: \"sheet:dmg\" })\r\n        }, {\r\n          text: trm(\"electroSigilPerProc\"),\r\n          value: datamine.constellation6.electroSigilGenerated\r\n        }, {\r\n          text: st(\"cooldown\"),\r\n          value: datamine.constellation6.cd,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n    },\r\n  },\r\n};\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Rosaria_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, min, percent, prod, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Rosaria\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0, c1i = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n      skillParam_gen.auto[a++], // 5.1\r\n      skillParam_gen.auto[a++], // 5.2\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    hit1: skillParam_gen.skill[s++],\r\n    hit2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    hit1: skillParam_gen.burst[b++],\r\n    hit2: skillParam_gen.burst[b++],\r\n    dotDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    crInc: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0]\r\n  },\r\n  passive2: {\r\n    crBonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n    maxBonus: skillParam_gen.passive2[p2++][0]\r\n  },\r\n  constellation1: {\r\n    atkSpdInc: skillParam_gen.constellation1[c1i++],\r\n    dmgInc: skillParam_gen.constellation1[c1i++],\r\n    duration: skillParam_gen.constellation1[c1i++],\r\n  },\r\n  constellation6: {\r\n    physShred: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++],\r\n  },\r\n} as const\r\n\r\nconst [condA1Path, condA1] = cond(key, \"RosariaA1\")\r\nconst [condA4Path, condA4] = cond(key, \"RosariaA4\")\r\nconst [condC1Path, condC1] = cond(key, \"RosariaC1\")\r\nconst [condC6Path, condC6] = cond(key, \"DilucC6\")\r\n\r\nconst nodeA1CritInc = equal(condA1, \"on\", greaterEq(input.asc, 1, datamine.passive1.crInc))\r\nconst nodeA4CritBonusDisp = equal(condA4, \"on\",\r\n  greaterEq(input.asc, 4, min(\r\n    prod(percent(datamine.passive2.crBonus), input.premod.critRate_),\r\n    percent(datamine.passive2.maxBonus)\r\n  ))\r\n)\r\nconst nodeA4CritBonus = unequal(target.charKey, key, nodeA4CritBonusDisp)\r\n\r\nconst nodeC1AtkSpd = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.atkSpdInc))\r\nconst nodeC1NormalInc = equal(condC1, \"on\", greaterEq(input.constellation, 1, datamine.constellation1.dmgInc))\r\nconst nodeC6PhysShred = equal(condC6, \"on\", greaterEq(input.constellation, 6, -datamine.constellation6.physShred))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([name, arr]) =>\r\n    [name, dmgNode(\"atk\", arr, \"plunging\")])),\r\n  skill: {\r\n    hit1: dmgNode(\"atk\", datamine.skill.hit1, \"skill\"),\r\n    hit2: dmgNode(\"atk\", datamine.skill.hit2, \"skill\"),\r\n  },\r\n  burst: {\r\n    hit1: dmgNode(\"atk\", datamine.burst.hit1, \"burst\"),\r\n    hit2: dmgNode(\"atk\", datamine.burst.hit2, \"burst\"),\r\n    dotDmg: dmgNode(\"atk\", datamine.burst.dotDmg, \"burst\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    critRate_: nodeA1CritInc,\r\n    atkSPD_: nodeC1AtkSpd,\r\n    normal_dmg_: nodeC1NormalInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      physical_enemyRes_: nodeC6PhysShred\r\n    },\r\n    total: {\r\n      critRate_: nodeA4CritBonus\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey: elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i < 5 ? 0 : -1)}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 4 ? \"(1)\" : i === 5 ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.hit1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hit2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.hit1, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.hit2, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6,\r\n        path: condC6Path,\r\n        name: st(\"hitOp.skill\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC6PhysShred\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        name: trm(\"a1\"),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1CritInc\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        name: st(\"afterUse.burst\"),\r\n        value: condA4,\r\n        path: condA4Path,\r\n        teamBuff: true,\r\n        // Hide for Rosaria\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(nodeA4CritBonusDisp, { key: \"critRate_\", isTeamBuff: true }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        // A1 conditional in teambuff, if A4 is active\r\n        path: condA1Path,\r\n        value: condA1,\r\n        name: trm(\"a1\"),\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, key, equal(condA4, \"on\", 1)),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeA1CritInc\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1,\r\n        path: condC1Path,\r\n        name: st(\"hitOp.crit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC1NormalInc\r\n            }, {\r\n              node: nodeC1AtkSpd,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sangonomiya_Kokomi_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"SangonomiyaKokomi\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, c6i = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    heal_: skillParam_gen.skill[s++],\r\n    heal: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    heal_: skillParam_gen.burst[b++],\r\n    heal: skillParam_gen.burst[b++],\r\n    nBonus_: skillParam_gen.burst[b++],\r\n    cBonus_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    sBonus_: skillParam_gen.burst[b++],\r\n  },\r\n  p: {\r\n    heal_: 0.25,\r\n    critRate_: -1\r\n  },\r\n  p2: {\r\n    heal_ratio_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    hp_: skillParam_gen.constellation1[0],\r\n  },\r\n  c2: {\r\n    s_heal_: skillParam_gen.constellation2[1],\r\n    nc_heal_: skillParam_gen.constellation2[2],\r\n  },\r\n  c4: {\r\n    atkSPD_: skillParam_gen.constellation4[0],\r\n    energy: skillParam_gen.constellation4[1]\r\n  },\r\n  c6: {\r\n    hp_: skillParam_gen.constellation6[c6i++],\r\n    hydro_: skillParam_gen.constellation6[c6i++],\r\n    duration: skillParam_gen.constellation6[c6i++]\r\n  },\r\n} as const\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\n\r\nconst burstNormalDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.nBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp), { variant: \"invalid\" })\r\nconst burstChargedDmgInc = equal(condBurst, \"on\", prod(\r\n  sum(\r\n    subscript(input.total.burstIndex, datamine.burst.cBonus_, { key: '_' }),\r\n    greaterEq(input.asc, 4, prod(percent(datamine.p2.heal_ratio_), input.premod.heal_)),\r\n  ),\r\n  input.premod.hp), { variant: \"invalid\" })\r\nconst burstSkillDmgInc = equal(condBurst, \"on\", prod(\r\n  subscript(input.total.burstIndex, datamine.burst.sBonus_, { key: '_' }),\r\n  input.premod.hp))\r\n\r\nconst passiveHeal_ = constant(datamine.p.heal_)\r\nconst passiveCritRate_ = constant(datamine.p.critRate_)\r\nconst c2SkillHeal = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\",\r\n    prod(percent(datamine.c2.s_heal_), input.total.hp)\r\n  )\r\n)\r\nconst c2BurstHeal = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\",\r\n    prod(percent(datamine.c2.nc_heal_), input.total.hp)\r\n  )\r\n)\r\nconst c4AtkSpd_ = greaterEq(input.constellation, 4, datamine.c4.atkSPD_)\r\nconst c6Hydro_ = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.c6.hydro_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    heal: healNodeTalent(\"hp\", datamine.skill.heal_, datamine.skill.heal, \"skill\",\r\n      { premod: { healInc: c2SkillHeal } }\r\n    )\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"hp\", datamine.burst.dmg, \"burst\"),\r\n    heal: healNodeTalent(\"hp\", datamine.burst.heal_, datamine.burst.heal, \"burst\",\r\n      { premod: { healInc: c2BurstHeal } }\r\n    )\r\n  },\r\n  constellation1: {\r\n    dmg: greaterEq(input.constellation, 1, customDmgNode(prod(input.total.hp, percent(datamine.c1.hp_)), \"elemental\", {\r\n      hit: { ele: constant(elementKey) }\r\n    }))\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    heal_: passiveHeal_,\r\n    critRate_: passiveCritRate_,\r\n    atkSPD_: c4AtkSpd_,\r\n    hydro_dmg_: c6Hydro_,\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: burstNormalDmgInc,\r\n    charged_dmgInc: burstChargedDmgInc,\r\n    skill_dmgInc: burstSkillDmgInc,\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` })\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` })\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.heal, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.6\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.7\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: burstNormalDmgInc,\r\n            }, {\r\n              node: burstChargedDmgInc,\r\n            }, {\r\n              node: burstSkillDmgInc,\r\n            }, {\r\n              node: infoMut(dmgFormulas.burst.heal, { key: `char_${key}_gen:burst.skillParams.4`, variant: \"heal\" }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.5\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive: ct.talentTemplate(\"passive\", [{\r\n        fields: [{\r\n          node: passiveHeal_\r\n        }, {\r\n          node: passiveCritRate_\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.fieldsTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation1.dmg, { key: \"sheet:dmg\" })\r\n        }]\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        path: condC2Path,\r\n        value: condC2,\r\n        name: trm(\"c2\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(c2SkillHeal, { key: `char_${key}:c2SkillHeal` }),\r\n            }, {\r\n              node: infoMut(c2BurstHeal, { key: `char_${key}:c2BurstHeal` }),\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [{ fields: [{ node: c4AtkSpd_ }] }]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.conditionalTemplate(\"constellation6\", {\r\n        path: condC6Path,\r\n        value: condC6,\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          on: { fields: [{ node: c6Hydro_ }] }\r\n        }\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sayu_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, min, naught, percent, prod, subscript, sum } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, healNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Sayu\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3x2\r\n      skillParam_gen.auto[4], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[5],\r\n    final: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n    duration: skillParam_gen.auto[8][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[9],\r\n    low: skillParam_gen.auto[10],\r\n    high: skillParam_gen.auto[11],\r\n  },\r\n  skill: {\r\n    wheelDmg: skillParam_gen.skill[s++],\r\n    eleWheelDmg: skillParam_gen.skill[s++],\r\n    kickPressDmg: skillParam_gen.skill[s++],\r\n    kickHoldDmg: skillParam_gen.skill[s++],\r\n    eleKickDmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cdMin: skillParam_gen.skill[s++][0],\r\n    cdMax: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    pressBaseHeal: skillParam_gen.burst[b++],\r\n    pressAtkHeal: skillParam_gen.burst[b++],\r\n    darumaDmg: skillParam_gen.burst[b++],\r\n    darumaBaseHeal: skillParam_gen.burst[b++],\r\n    darumaAtkHeal: skillParam_gen.burst[b++],\r\n    darumaHits: 7,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    baseHeal: skillParam_gen.passive1[0][0],\r\n    emHeal: skillParam_gen.passive1[1][0],\r\n    cd: skillParam_gen.passive1[2][0]\r\n  },\r\n  passive2: {\r\n    nearHeal: skillParam_gen.passive2[0][0]\r\n  },\r\n  constellation2: {\r\n    dmgInc: skillParam_gen.constellation2[0],\r\n    maxStacks: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    ener: skillParam_gen.constellation4[0],\r\n    cd: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    darumaDmgInc: skillParam_gen.constellation6[0],\r\n    maxStacks: skillParam_gen.constellation6[1] / skillParam_gen.constellation6[0],\r\n    darumaHealInc: skillParam_gen.constellation6[2]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAbsorptionPath, condSkillAbsorption] = cond(key, \"skillAbsorption\")\r\n\r\nconst [condActiveSwirlPath, condActiveSwirl] = cond(key, \"activeSwirl\")\r\n\r\nconst [condC2SkillStackPath, condC2SkillStack] = cond(key, \"c2SkillStack\")\r\nconst c2_kickPressDmg_ = greaterEq(input.constellation, 2, percent(datamine.constellation2.dmgInc))\r\nconst c2_kickDmg_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2SkillStack,\r\n    Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [\r\n      stack,\r\n      prod(stack, percent(datamine.constellation2.dmgInc))\r\n    ])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c6_daruma_dmg_inc = greaterEq(input.constellation, 6,\r\n  prod(\r\n    min(input.total.eleMas, datamine.constellation6.maxStacks),\r\n    datamine.constellation6.darumaDmgInc,\r\n    input.total.atk\r\n  )\r\n)\r\nconst c6_daruma_heal_inc = greaterEq(input.constellation, 6,\r\n  prod(min(input.total.eleMas, datamine.constellation6.maxStacks), datamine.constellation6.darumaHealInc)\r\n)\r\n// Using customHealNode so I can have healInc\r\nconst darumaHeal = customHealNode(sum(\r\n  prod(\r\n    subscript(input.total.burstIndex, datamine.burst.darumaAtkHeal, { key: \"_\" }),\r\n    input.total.atk,\r\n  ),\r\n  subscript(input.total.burstIndex, datamine.burst.darumaBaseHeal),\r\n  c6_daruma_heal_inc,\r\n))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    wheelDmg: dmgNode(\"atk\", datamine.skill.wheelDmg, \"skill\"),\r\n    kickPressDmg: dmgNode(\"atk\", datamine.skill.kickPressDmg, \"skill\",\r\n      { premod: { skill_dmg_: sum(c2_kickDmg_, c2_kickPressDmg_) } }),\r\n    kickHoldDmg: dmgNode(\"atk\", datamine.skill.kickHoldDmg, \"skill\",\r\n      { premod: { skill_dmg_: c2_kickDmg_ } }),\r\n    eleWheelDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleWheelDmg, \"skill\", { hit: { ele: constant(eleKey) } })\r\n    ])), naught),\r\n    eleKickDmg: lookup(condSkillAbsorption, Object.fromEntries(absorbableEle.map(eleKey => [\r\n      eleKey,\r\n      dmgNode(\"atk\", datamine.skill.eleKickDmg, \"skill\",\r\n        { hit: { ele: constant(eleKey) }, premod: { skill_dmg_: c2_kickDmg_ } })\r\n    ])), naught)\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    pressHeal: healNodeTalent(\"atk\", datamine.burst.pressAtkHeal, datamine.burst.pressBaseHeal, \"burst\"),\r\n    darumaDmg: dmgNode(\"atk\", datamine.burst.darumaDmg, \"burst\",\r\n      { premod: { burst_dmgInc: c6_daruma_dmg_inc } }),\r\n    darumaHeal\r\n  },\r\n  passive1: {\r\n    heal: greaterEq(input.asc, 1, equal(condActiveSwirl, \"activeSwirl\",\r\n      customHealNode(\r\n        sum(datamine.passive1.baseHeal, prod(datamine.passive1.emHeal, input.total.eleMas))\r\n      )\r\n    ))\r\n  },\r\n  passive2: {\r\n    extraHeal: greaterEq(input.asc, 4, prod(darumaHeal, percent(datamine.passive2.nearHeal)))\r\n  }\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, \"anemo\", \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.wheelDmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.kickPressDmg, { key: `char_${key}_gen:skill.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.kickHoldDmg, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: `${datamine.skill.cdMin}s ~ ${datamine.skill.cdMax}`,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillAbsorption,\r\n        path: condSkillAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.skill.eleWheelDmg, { key: `char_${key}_gen:skill.skillParams.3` })\r\n          }, {\r\n            node: infoMut(dmgFormulas.skill.eleKickDmg, { key: `char_${key}_gen:skill.skillParams.4` })\r\n          }]\r\n        }]))\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(c2_kickPressDmg_, { key: `char_${key}:c2KickPressDmg_` })\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2SkillStack,\r\n        path: condC2SkillStackPath,\r\n        name: trm(\"c2Cond\"),\r\n        states: Object.fromEntries(range(1, datamine.constellation2.maxStacks).map(stack => [stack, {\r\n          name: st(\"seconds\", { count: stack * 0.5 }),\r\n          fields: [{\r\n            node: infoMut(c2_kickDmg_, { key: `char_${key}:c2KickDmg_` })\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.pressHeal, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.darumaDmg, { key: `char_${key}_gen:burst.skillParams.2` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.darumaHeal, { key: `char_${key}_gen:burst.skillParams.3` })\r\n        }, {\r\n          text: trm(\"burstHits\"),\r\n          value: datamine.burst.darumaHits,\r\n        }]\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive2.extraHeal, { key: `char_${key}:p2Heal`, variant: \"heal\" })\r\n        }, {\r\n          text: trm(\"p2Aoe\")\r\n        }]\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1Text\")\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(c6_daruma_dmg_inc, { key: `char_${key}:c6DarumaDmgInc`, variant: \"anemo\" })\r\n        }, {\r\n          node: infoMut(c6_daruma_heal_inc, { key: `char_${key}:c6DarumaHealInc`, variant: \"heal\" })\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condActiveSwirl,\r\n        path: condActiveSwirlPath,\r\n        name: trm(\"p1Swirl\"),\r\n        states: {\r\n          activeSwirl: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive1.heal, { key: `sheet_gen:healing` })\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.fieldsTemplate(\"constellation4\", {\r\n        fields: [{\r\n          text: trm(\"c4Ener\"),\r\n          value: datamine.constellation4.ener,\r\n          fixed: 1\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation4.cd,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\")\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Shenhe_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Shenhe\"\r\nconst elementKey: ElementKey = \"cryo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[1], // 2\r\n      skillParam_gen.auto[2], // 3\r\n      skillParam_gen.auto[3], // 4x2\r\n      skillParam_gen.auto[5], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[6],\r\n    stamina: skillParam_gen.auto[7][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    hold: skillParam_gen.skill[s++],\r\n    dmgAtk_: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    durationHold: skillParam_gen.skill[s++][0],\r\n    trigger: skillParam_gen.skill[s++][0],\r\n    triggerHold: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    cdHold: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    res_: skillParam_gen.burst[b++],\r\n    dot: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    cryo_dmg_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    press_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationPress: skillParam_gen.passive2[p2++][0],\r\n    hold_dmg_: skillParam_gen.passive2[p2++][0],\r\n    durationHold: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    dmg_: skillParam_gen.constellation4[0],\r\n    maxStacks: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    auto_: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condQuillPath, condQuill] = cond(key, \"quill\")\r\nconst nodeSkill = equal(\"quill\", condQuill,\r\n  prod(input.total.atk, subscript(input.total.skillIndex, datamine.skill.dmgAtk_, { key: '_' })))\r\n\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst enemyRes_ = equal(\"burst\", condBurst,\r\n  subscript(input.total.burstIndex, datamine.burst.res_.map(x => -x), { key: '_' }))\r\n\r\nconst nodeBurstCryo_enemyRes_ = { ...enemyRes_ }\r\nconst nodeBurstPhysical_enemyRes_ = { ...enemyRes_ }\r\n\r\nconst [condAsc1Path, condAsc1] = cond(key, \"asc1\")\r\nconst nodeAsc1Disp = greaterEq(input.asc, 1,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeAsc1 = equal(input.activeCharKey, target.charKey, nodeAsc1Disp)\r\n\r\nconst [condAsc4Path, condAsc4] = cond(key, \"asc4\")\r\nconst nodeAsc4 = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"press\",\r\n    datamine.passive2.press_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Press_skill_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Press_burst_dmg_ = { ...nodeAsc4 }\r\nconst nodeAsc4Hold = greaterEq(input.asc, 1,\r\n  equal(condAsc4, \"hold\",\r\n    datamine.passive2.hold_dmg_\r\n  )\r\n)\r\nconst nodeAsc4Hold_normal_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_charged_dmg_ = { ...nodeAsc4Hold }\r\nconst nodeAsc4Hold_plunging_dmg_ = { ...nodeAsc4Hold }\r\n\r\nconst nodeC2Disp = greaterEq(input.constellation, 2,\r\n  equal(condAsc1, \"field\",\r\n    datamine.passive1.cryo_dmg_\r\n  )\r\n)\r\nconst nodeC2 = equal(input.activeCharKey, target.charKey, nodeC2Disp)\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4Inc = greaterEq(input.constellation, 4,\r\n  lookup(condC4,\r\n    objectKeyMap(range(1, datamine.constellation4.maxStacks), i => percent(i * datamine.constellation4.dmg_)),\r\n    0),\r\n  { key: \"char_Shenhe:c4Bonus_\" })\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    hold: dmgNode(\"atk\", datamine.skill.hold, \"skill\", { hit: { dmgBonus: c4Inc } }),\r\n    quillDmg: nodeSkill\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      cryo_dmgInc: nodeSkill,\r\n      cryo_enemyRes_: nodeBurstCryo_enemyRes_,\r\n      physical_enemyRes_: nodeBurstPhysical_enemyRes_,\r\n      cryo_dmg_: nodeAsc1,\r\n      skill_dmg_: nodeAsc4Press_skill_dmg_,\r\n      burst_dmg_: nodeAsc4Press_burst_dmg_,\r\n      normal_dmg_: nodeAsc4Hold_normal_dmg_,\r\n      charged_dmg_: nodeAsc4Hold_charged_dmg_,\r\n      plunging_dmg_: nodeAsc4Hold_plunging_dmg_,\r\n      cryo_critDMG_: nodeC2\r\n    },\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"pressDuration\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: trm(\"pressQuota\"),\r\n          value: datamine.skill.trigger,\r\n        }, {\r\n          text: st(\"pressCD\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          text: trm(\"holdDuration\"),\r\n          value: datamine.skill.durationHold,\r\n          unit: \"s\"\r\n        }, {\r\n          text: trm(\"holdQuota\"),\r\n          value: datamine.skill.triggerHold,\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.cdHold,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 1,\r\n          text: st(\"charges\"),\r\n          value: 2\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condQuill,\r\n        path: condQuillPath,\r\n        name: trm(\"quill\"),\r\n        states: {\r\n          quill: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condAsc4,\r\n        path: condAsc4Path,\r\n        teamBuff: true,\r\n        name: st(\"afterUse.skill\"),\r\n        states: {\r\n          press: {\r\n            name: st(\"press\"),\r\n            fields: [{\r\n              node: nodeAsc4Press_skill_dmg_\r\n            }, {\r\n              node: nodeAsc4Press_burst_dmg_\r\n            }]\r\n          },\r\n          hold: {\r\n            name: st(\"hold\"),\r\n            fields: [{\r\n              node: nodeAsc4Hold_normal_dmg_\r\n            }, {\r\n              node: nodeAsc4Hold_charged_dmg_\r\n            }, {\r\n              node: nodeAsc4Hold_plunging_dmg_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"addlCharges\"),\r\n          value: 1\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: objectKeyMap(range(1, 50).map(i => i.toString()), i => ({\r\n          name: i.toString(),\r\n          fields: [{ node: c4Inc }]\r\n        }))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          text: tr(\"constellation6.description\")\r\n        }],\r\n        teamBuff: true\r\n      }),\r\n      ]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: (data) => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.duration} + ${datamine.constellation2.durationInc} = ${datamine.burst.duration + datamine.constellation2.durationInc}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.5\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"burst\", {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: st(\"opponentsField\"),\r\n        states: {\r\n          burst: {\r\n            fields: [{\r\n              node: nodeBurstCryo_enemyRes_\r\n            }, {\r\n              node: nodeBurstPhysical_enemyRes_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n          value: condAsc1,\r\n          path: condAsc1Path,\r\n          teamBuff: true,\r\n          name: st(\"activeCharField\"),\r\n          states: {\r\n            field: {\r\n              fields: [{\r\n                node: infoMut(nodeAsc1Disp, { key: \"cryo_dmg_\", variant: \"cryo\" }) // Jank\r\n              }]\r\n            }\r\n          }\r\n        }), ct.headerTemplate(\"constellation2\", {\r\n          fields: [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation2.durationInc,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(nodeC2Disp, { key: \"cryo_critDMG_\", variant: \"cryo\" })\r\n        }],\r\n        teamBuff: true,\r\n       }),\r\n      ]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './banner.png'\r\nimport burst from './burst.png'\r\nimport card from './characterCard.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './icon.png'\r\nimport thumbSide from './iconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from \"../../../Formula/utils\"\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"ShikanoinHeizou\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 4.3\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    declension_dmg_: skillParam_gen.skill[s++],\r\n    conviction_dmg_: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    declension_duration: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    slugger_dmg: skillParam_gen.burst[b++],\r\n    iris_dmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n    eleMas: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  passive3: {\r\n    staminaSprintDec_: 0.25,\r\n  },\r\n  constellation1: {\r\n    duration: skillParam_gen.constellation1[0],\r\n    atkSpd_: skillParam_gen.constellation1[1],\r\n    cd: skillParam_gen.constellation1[2],\r\n  },\r\n  constellation4: {\r\n    baseEnergy: skillParam_gen.constellation4[0],\r\n    addlEnergy: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    hsCritRate_: skillParam_gen.constellation6[0],\r\n    hsCritDmg_: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst stacksArr = range(1, 4)\r\nconst [condDeclensionStacksPath, condDeclensionStacks] = cond(key, \"declensionStacks\")\r\nconst declension_dmg_ = lookup(\r\n  condDeclensionStacks,\r\n  Object.fromEntries(stacksArr.map(stacks => [\r\n    stacks,\r\n    prod(\r\n      subscript(input.total.skillIndex, datamine.skill.declension_dmg_, { key: \"sheet:bonusScaling.skill_\" }),\r\n      constant(stacks, { key: `char_${key}:declensionStacks` })\r\n    )\r\n  ])), naught, { key: \"sheet:bonusScaling.skill_\" })\r\nconst conviction_dmg_ = equal(condDeclensionStacks, \"4\",\r\n  subscript(input.total.skillIndex, datamine.skill.conviction_dmg_, { key: \"_\" }),\r\n  { key: \"sheet:bonusScaling.skill_\" }\r\n)\r\nconst totalStacks_dmg_ = sum(declension_dmg_, conviction_dmg_)\r\n\r\nconst [condSkillHitPath, condSkillHit] = cond(key, \"skillHit\")\r\nconst a4_eleMasDisp = greaterEq(input.asc, 4,\r\n  equal(condSkillHit, \"on\", datamine.passive2.eleMas)\r\n)\r\nconst a4_eleMas = unequal(target.charKey, key, a4_eleMasDisp)\r\n\r\n// TODO: After non-stacking buffs\r\n// const staminaSprintDec_ = percent(datamine.passive3.staminaSprintDec_)\r\n\r\nconst [condTakeFieldPath, condTakeField] = cond(key, \"takeField\")\r\nconst c1_atkSpd_ = greaterEq(input.constellation, 1, equal(condTakeField, \"on\", percent(datamine.constellation1.atkSpd_)))\r\n\r\nconst c6_skill_critRate_ = greaterEq(input.constellation, 6, lookup(\r\n  condDeclensionStacks,\r\n  Object.fromEntries(stacksArr.map(stacks => [\r\n    stacks,\r\n    prod(\r\n      percent(datamine.constellation6.hsCritRate_),\r\n      constant(stacks, { key: `char_${key}:declensionStacks` })\r\n    )\r\n  ])),\r\n  naught\r\n))\r\nconst c6_skill_critDMG_ = greaterEq(input.constellation, 6,\r\n  equal(condDeclensionStacks, \"4\", percent(datamine.constellation6.hsCritDmg_))\r\n)\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: customDmgNode(\r\n      prod(\r\n        sum(\r\n          subscript(input.total.skillIndex, datamine.skill.dmg, { key: \"_\" }),\r\n          totalStacks_dmg_\r\n        ),\r\n        input.total.atk\r\n      ),\r\n      \"skill\",\r\n      { hit: { ele: constant(\"anemo\") } }\r\n    )\r\n  },\r\n  burst: {\r\n    slugger_dmg: dmgNode(\"atk\", datamine.burst.slugger_dmg, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(ele => [\r\n      `${ele}_iris_dmg`,\r\n      dmgNode(\"atk\", datamine.burst.iris_dmg, \"burst\", { hit: { ele: constant(ele) } })\r\n    ]))\r\n  },\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  premod: {\r\n    atkSPD_: c1_atkSpd_,\r\n    skill_critRate_: c6_skill_critRate_,\r\n    skill_critDMG_: c6_skill_critDMG_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      // TODO: after non-stacking buffs\r\n      // staminaSprintDec_\r\n      eleMas: a4_eleMas,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(\r\n            dmgFormulas.normal[i],\r\n            { key: `char_${key}_gen:auto.skillParams.${i > 2 ? (i < 6 ? 3 : 4) : i}` }\r\n          ),\r\n          textSuffix: (i > 2 && i < 6) ? `(${i - 2})` : undefined,\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        path: condDeclensionStacksPath,\r\n        value: condDeclensionStacks,\r\n        name: trm(\"declensionStacks\"),\r\n        states: Object.fromEntries(stacksArr.map(stacks => [\r\n          stacks,\r\n          {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: infoMut(totalStacks_dmg_, { key: \"sheet:bonusScaling.skill_\" })\r\n            }, {\r\n              canShow: (data) => data.get(condDeclensionStacks).value === \"4\",\r\n              text: st(\"aoeInc\"),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.skill.declension_duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        path: condSkillHitPath,\r\n        value: condSkillHit,\r\n        name: st(\"hitOp.skill\"),\r\n        teamBuff: true,\r\n        canShow: unequal(target.charKey, input.activeCharKey, 1),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(a4_eleMasDisp, { key: \"eleMas\" }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: c6_skill_critRate_\r\n        }, {\r\n          node: c6_skill_critDMG_\r\n        }]\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.slugger_dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, ...absorbableEle.map(ele => ({\r\n          node: infoMut(dmgFormulas.burst[`${ele}_iris_dmg`], { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        })), {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"/* TODO: after non-stacking buffs, [{ fields: [{ node: staminaSprintDec_ }] }]*/),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        path: condTakeFieldPath,\r\n        value: condTakeField,\r\n        name: trm(\"takingField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c1_atkSpd_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.constellation1.cd,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Sucrose_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from \"../../../Formula/utils\"\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Sucrose\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dot: skillParam_gen.burst[b++],\r\n    dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condAbsorptionPath, condAbsorption] = cond(key, \"absorption\")\r\n// A1 Swirl Reaction Element\r\nconst [condSwirlReactionPath, condSwirlReaction] = cond(key, \"swirl\")\r\n// Set to \"hit\" if skill hit opponents\r\nconst [condSkillHitOpponentPath, condSkillHitOpponent] = cond(key, \"skillHit\")\r\n\r\n// Conditional Output\r\nconst asc1Disp = greaterEq(input.asc, 1, datamine.passive1.eleMas)\r\nconst asc1 = unequal(target.charKey, key, // Not applying to Sucrose\r\n  equal(target.charEle, condSwirlReaction, asc1Disp)) // And element matches the swirl\r\nconst asc4Disp = equal(\"hit\", condSkillHitOpponent,\r\n  greaterEq(input.asc, 4,\r\n    prod(percent(datamine.passive2.eleMas_), input.premod.eleMas)))\r\nconst asc4 = unequal(target.charKey, key, asc4Disp)\r\nconst c6Base = greaterEq(input.constellation, 6, percent(0.2))\r\n\r\nconst c6Bonus = objectKeyMap(absorbableEle.map(ele => `${ele}_dmg_` as const), key =>\r\n  equal(condAbsorption, key.slice(0, -5), c6Base))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\")\r\n  },\r\n  burst: {\r\n    dot: dmgNode(\"atk\", datamine.burst.dot, \"burst\"),\r\n    ...Object.fromEntries(absorbableEle.map(key =>\r\n      [key, equal(condAbsorption, key, dmgNode(\"atk\", datamine.burst.dmg_, \"burst\", { hit: { ele: constant(key) } }))]))\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    total: { eleMas: asc4 },\r\n    premod: { ...c6Bonus, eleMas: asc1 },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 1,\r\n          text: st(\"charges\"),\r\n          value: 2\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dot, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.burst.duration}s + 2`\r\n            : datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", { // Absorption\r\n        value: condAbsorption,\r\n        path: condAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst[eleKey], { key: `char_${key}_gen:burst.skillParams.1` }),\r\n          }]\r\n        }]))\r\n      }), ct.conditionalTemplate(\"constellation6\", { // Absorption teambuff for C6\r\n        teamBuff: true,\r\n        canShow: unequal(target.charKey, input.activeCharKey, 1),\r\n        value: condAbsorption,\r\n        path: condAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: Object.values(c6Bonus).map(n => ({ node: n }))\r\n        }]))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: unequal(condAbsorption, undefined, 1),\r\n        fields: Object.values(c6Bonus).map(n => ({ node: n }))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        // Swirl Element\r\n        teamBuff: true,\r\n        value: condSwirlReaction,\r\n        path: condSwirlReactionPath,\r\n        name: st(\"eleSwirled\"),\r\n        // Hide for Sucrose\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(asc1Disp, { key: \"eleMas\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.passive1.duration,\r\n            unit: \"s\",\r\n          }],\r\n        }]))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        // Swirl element\r\n        teamBuff: true,\r\n        value: condSkillHitOpponent,\r\n        path: condSkillHitOpponentPath,\r\n        name: trm(\"asc4\"),\r\n        canShow: unequal(input.activeCharKey, key, 1),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: infoMut(asc4Disp, { key: \"eleMas\" }),\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Tartaglia_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, greaterEq, infoMut, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Tartaglia\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst region: Region = \"snezhnaya\"\r\nconst [tr] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n  },\r\n  riptide: {\r\n    flashDmg: skillParam_gen.auto[a++],\r\n    burstDmg: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  riptideDuration: skillParam_gen.auto[a++][0],\r\n  skill: {\r\n    stanceDmg: skillParam_gen.skill[s++],\r\n    normal1: skillParam_gen.skill[s++],\r\n    normal2: skillParam_gen.skill[s++],\r\n    normal3: skillParam_gen.skill[s++],\r\n    normal4: skillParam_gen.skill[s++],\r\n    normal5: skillParam_gen.skill[s++],\r\n    normal61: skillParam_gen.skill[s++], // 6.1\r\n    normal62: skillParam_gen.skill[s++], // 6.2\r\n    charged1: skillParam_gen.skill[s++],\r\n    charged2: skillParam_gen.skill[s++],\r\n    riptideSlash: skillParam_gen.skill[s++],\r\n    chargedStamina: skillParam_gen.skill[s++][0],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    preemptiveCd1: skillParam_gen.skill[s++][0],\r\n    preemptiveCd2: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    meleeDmg: skillParam_gen.burst[b++],\r\n    riptideBlastDmg: skillParam_gen.burst[b++],\r\n    rangedDmg: skillParam_gen.burst[b++],\r\n    enerReturned: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    durationExt: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive: {\r\n    auto_boost: 1,\r\n  },\r\n  constellation1: {\r\n    cdRed: 0.2\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", { hit: { ele: constant('hydro') } }),\r\n    flashDmg: dmgNode(\"atk\", datamine.riptide.flashDmg, \"normal\", { hit: { ele: constant('hydro') } }),\r\n    burstDmg: dmgNode(\"atk\", datamine.riptide.burstDmg, \"normal\", { hit: { ele: constant('hydro') } })\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stanceDmg: dmgNode(\"atk\", datamine.skill.stanceDmg, \"skill\"),\r\n    normal1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal1, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal2, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal3: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal3, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal4: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal4, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal5: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal5, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal61: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal61, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    normal62: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.normal62, { key: \"_\" }), input.total.atk), \"normal\", { hit: { ele: constant('hydro') } }),\r\n    charged1: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged1, { key: \"_\" }), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    charged2: customDmgNode(prod(subscript(input.total.skillIndex, datamine.skill.charged2, { key: \"_\" }), input.total.atk), \"charged\", { hit: { ele: constant('hydro') } }),\r\n    riptideSlash: dmgNode(\"atk\", datamine.skill.riptideSlash, \"skill\")\r\n  },\r\n  burst: {\r\n    meleeDmg: dmgNode(\"atk\", datamine.burst.meleeDmg, \"burst\"),\r\n    rangedDmg: dmgNode(\"atk\", datamine.burst.rangedDmg, \"burst\"),\r\n    riptideBlastDmg: dmgNode(\"atk\", datamine.burst.riptideBlastDmg, \"burst\")\r\n  }\r\n}\r\n\r\nconst nodePassive = constant(1)\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  teamBuff: {\r\n    bonus: {\r\n      auto: nodePassive,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.riptide\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.flashDmg, { key: `char_${key}_gen:auto.skillParams.8` }),\r\n          textSuffix: st(\"brHits\", { count: 3 })\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.burstDmg, { key: `char_${key}_gen:auto.skillParams.9` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.10\"),\r\n          value: (data) => data.get(input.asc).value >= 1\r\n            ? datamine.passive1.durationExt + datamine.riptideDuration\r\n            : datamine.riptideDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stanceDmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal3, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal4, { key: `char_${key}_gen:skill.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal5, { key: `char_${key}_gen:skill.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal61, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.normal62, { key: `char_${key}_gen:skill.skillParams.6` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.charged1, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.charged2, { key: `char_${key}_gen:skill.skillParams.7` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          node: infoMut(constant(datamine.skill.chargedStamina), { key: `char_${key}_gen:skill.skillParams.8` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.riptideSlash, { key: `char_${key}_gen:skill.skillParams.9` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.10\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.11\"),\r\n          value: (data) => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.preemptiveCd1 - (datamine.skill.preemptiveCd1 * datamine.constellation1.cdRed)}\r\n            - ${datamine.skill.preemptiveCd2 - (datamine.skill.preemptiveCd2 * datamine.constellation1.cdRed)}`\r\n            : `${datamine.skill.preemptiveCd1} - ${datamine.skill.preemptiveCd2}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.12\"),\r\n          value: (data) => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.maxCd - (datamine.skill.maxCd * datamine.constellation1.cdRed)}`\r\n            : `${datamine.skill.maxCd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.meleeDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.rangedDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.riptideBlastDmg, { key: `char_${key}_gen:burst.skillParams.2` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: `${datamine.burst.cd}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: `${datamine.burst.enerCost}`,\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: `${datamine.burst.enerReturned}`,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\", [ct.headerTemplate(\"passive3\", {\r\n        teamBuff: true,\r\n        fields: [{ node: nodePassive }]\r\n      })]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Thoma_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Thoma\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    hpShield_: skillParam_gen.skill[s++],\r\n    baseShield: skillParam_gen.skill[s++],\r\n    shieldDuration: skillParam_gen.skill[s++][0],\r\n    maxHpShield_: skillParam_gen.skill[s++],\r\n    maxBaseShield: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    collapseDmg: skillParam_gen.burst[b++],\r\n    hpShield_: skillParam_gen.burst[b++],\r\n    baseShield: skillParam_gen.burst[b++],\r\n    shieldDuration: skillParam_gen.burst[b++][0],\r\n    unknown: skillParam_gen.burst[b++][0],\r\n    scorchingDuration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: skillParam_gen.passive1[2][0],\r\n    cd: skillParam_gen.passive1[3][0]\r\n  },\r\n  passive2: {\r\n    collapse_dmgInc: skillParam_gen.passive2[0][0],\r\n  },\r\n  c2: {\r\n    burstDuration: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    energyRestore: skillParam_gen.constellation4[0],\r\n  },\r\n  c6: {\r\n    auto_dmg: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n  }\r\n} as const\r\n\r\nconst [condP1BarrierStacksPath, condP1BarrierStacks] = cond(key, \"p1BarrierStacks\")\r\n// This should technically only apply to the active character, but I am trying\r\n// to minimize the amount of jank active character fixes.\r\nconst p1_shield_ = greaterEq(input.asc, 1,\r\n  lookup(condP1BarrierStacks, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n    stacks,\r\n    constant(stacks * datamine.passive1.shield_)\r\n  ])), naught)\r\n)\r\n\r\nconst p2Collapse_dmgInc = greaterEq(input.asc, 4, prod(input.total.hp, datamine.passive2.collapse_dmgInc))\r\n\r\nconst [condC4AfterBurstPath, condC4AfterBurst] = cond(key, \"c4AfterBurst\")\r\n\r\nconst [condC6AfterBarrierPath, condC6AfterBarrier] = cond(key, \"c6AfterBarrier\")\r\nconst c6_normal_dmg_ = greaterEq(input.constellation, 6,\r\n  equal(condC6AfterBarrier, \"on\", datamine.c6.auto_dmg)\r\n)\r\nconst c6_charged_dmg_ = { ...c6_normal_dmg_ }\r\nconst c6_plunging_dmg_ = { ...c6_normal_dmg_ }\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    minShield: shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\"),\r\n    minPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.hpShield_, datamine.skill.baseShield, \"skill\")),\r\n    maxShield: shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\"),\r\n    maxPyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.skill.maxHpShield_, datamine.skill.maxBaseShield, \"skill\")),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    collapseDmg: dmgNode(\"atk\", datamine.burst.collapseDmg, \"burst\",\r\n      { premod: { burst_dmgInc: p2Collapse_dmgInc } }\r\n    ),\r\n    shield: shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\"),\r\n    pyroShield: shieldElement(\"pyro\", shieldNodeTalent(\"hp\", datamine.burst.hpShield_, datamine.burst.baseShield, \"burst\")),\r\n  }\r\n}\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: p1_shield_,\r\n      normal_dmg_: c6_normal_dmg_,\r\n      charged_dmg_: c6_charged_dmg_,\r\n      plunging_dmg_: c6_plunging_dmg_,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.5\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.minShield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.minPyroShield,\r\n            { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.maxShield, { key: `char_${key}:maxShield` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.maxPyroShield,\r\n            { key: `char_${key}:maxPyroShield`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.skill.shieldDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.pyroShield,\r\n            { key: `sheet:dmgAbsorption.${elementKey}`, variant: elementKey }\r\n          ),\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.shieldDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.collapseDmg, { key: `char_${key}_gen:burst.skillParams.1` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.burst.scorchingDuration}s + ${datamine.c2.burstDuration}s = ${datamine.burst.scorchingDuration + datamine.c2.burstDuration}`\r\n            : datamine.burst.scorchingDuration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1BarrierStacks,\r\n        path: condP1BarrierStacksPath,\r\n        name: trm(\"a1\"),\r\n        teamBuff: true,\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(stacks => [\r\n          stacks,\r\n          {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: p1_shield_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: st(\"triggerCD\"),\r\n              value: datamine.passive1.cd,\r\n              unit: \"s\",\r\n              fixed: 1\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: infoMut(p2Collapse_dmgInc, { key: `char_${key}:a2`, variant: elementKey }),\r\n        }]\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          text: trm(\"c2\"),\r\n          value: datamine.c2.burstDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4AfterBurst,\r\n        path: condC4AfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: st(\"energyRegen\"),\r\n              value: datamine.c4.energyRestore,\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6AfterBarrier,\r\n        path: condC6AfterBarrierPath,\r\n        name: trm(\"c6\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6_normal_dmg_,\r\n            }, {\r\n              node: c6_charged_dmg_,\r\n            }, {\r\n              node: c6_plunging_dmg_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Tighnari_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { Data } from '../../../Formula/type'\r\nimport { constant, equal, greaterEq, infoMut, lookup, min, naught, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey, Region } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Tighnari\"\r\nconst elementKey: ElementKey = \"dendro\"\r\nconst region: Region = \"sumeru\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    wreathArrow: skillParam_gen.auto[a++],\r\n    clusterArrow: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++]\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    fieldDuration: skillParam_gen.skill[s++][0],\r\n    penetratorDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    primaryDmg: skillParam_gen.burst[b++],\r\n    secondaryDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    energyCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[p1++][0],\r\n    duration: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    charged_burst_dmg_: skillParam_gen.passive2[p2++][0],\r\n    maxDmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    charged_critRate_: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    dendro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    eleMas: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    unknown: skillParam_gen.constellation6[0],\r\n    dmg: skillParam_gen.constellation6[1],\r\n    chargeTimeRed: 0.9\r\n  }\r\n} as const\r\n\r\nconst [condA1AfterWreathPath, condA1AfterWreath] = cond(key, \"p1AfterWreath\")\r\nconst a1AfterWreath_eleMas = greaterEq(input.asc, 1, equal(condA1AfterWreath, \"on\", datamine.passive1.eleMas))\r\n\r\nconst a4_charged_dmg_ = greaterEq(input.asc, 4, min(\r\n  prod(percent(datamine.passive2.charged_burst_dmg_, { fixed: 2 }), input.total.eleMas),\r\n  percent(datamine.passive2.maxDmg_)\r\n))\r\nconst a4_burst_dmg_ = { ...a4_charged_dmg_ }\r\nconst chargedShaftAddl: Data = {\r\n  hit: { ele: constant(elementKey) },\r\n}\r\n\r\nconst c1_charged_critRate_ = greaterEq(input.constellation, 1, datamine.constellation1.charged_critRate_)\r\n\r\nconst [condC2EnemyFieldPath, condC2EnemyField] = cond(key, \"c2EnemyField\")\r\nconst c2EnemyField_dendro_dmg_ = greaterEq(input.constellation, 2, equal(condC2EnemyField, \"on\", datamine.constellation2.dendro_dmg_))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4_eleMas = greaterEq(input.constellation, 4, lookup(condC4, {\r\n  after: constant(datamine.constellation4.eleMas),\r\n  react: constant(datamine.constellation4.eleMas * 2)\r\n}, naught))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", chargedShaftAddl),\r\n    wreath: dmgNode(\"atk\", datamine.charged.wreathArrow, \"charged\", chargedShaftAddl),\r\n    cluster: dmgNode(\"atk\", datamine.charged.clusterArrow, \"charged\", chargedShaftAddl),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    primaryDmg: dmgNode(\"atk\", datamine.burst.primaryDmg, \"burst\"),\r\n    secondaryDmg: dmgNode(\"atk\", datamine.burst.secondaryDmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    charged_dmg_: a4_charged_dmg_,\r\n    burst_dmg_: a4_burst_dmg_,\r\n  },\r\n  constellation6: {\r\n    cluster: greaterEq(input.constellation, 6, customDmgNode(\r\n      prod(percent(datamine.constellation6.dmg), input.total.atk),\r\n      \"elemental\",\r\n      { hit: { ele: constant(elementKey) } }\r\n    ))\r\n  }\r\n}\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, region, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  premod: {\r\n    eleMas: a1AfterWreath_eleMas,\r\n    charged_dmg_: a4_charged_dmg_,\r\n    burst_dmg_: a4_burst_dmg_,\r\n    charged_critRate_: c1_charged_critRate_,\r\n    dendro_dmg_: c2EnemyField_dendro_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: c4_eleMas,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : undefined,\r\n        })),\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.wreath, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.cluster, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        path: condA1AfterWreathPath,\r\n        value: condA1AfterWreath,\r\n        name: trm(\"p1Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: a1AfterWreath_eleMas\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          node: c1_charged_critRate_,\r\n        }]\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          text: trm(\"c6WreathRed\"),\r\n          value: datamine.constellation6.chargeTimeRed,\r\n          unit: \"s\",\r\n          fixed: 1\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation6.cluster, { key: `char_${key}:c6DmgKey` })\r\n        }]\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.fieldDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.penetratorDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation2\", {\r\n        path: condC2EnemyFieldPath,\r\n        value: condC2EnemyField,\r\n        name: st(\"opponentsField\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2EnemyField_dendro_dmg_\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.primaryDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.secondaryDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.energyCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation4\", {\r\n        path: condC4Path,\r\n        value: condC4,\r\n        teamBuff: true,\r\n        name: \"\",\r\n        states: {\r\n          after: {\r\n            name: st(\"afterUse.burst\"),\r\n            fields: [{\r\n              node: c4_eleMas,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          },\r\n          react: {\r\n            name: trm(\"c4ReactCond\"),\r\n            fields: [{\r\n              node: c4_eleMas\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: a4_charged_dmg_,\r\n        }, {\r\n          node: a4_burst_dmg_,\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../../CharacterSheet'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod, unequal } from '../../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { objectKeyValueMap } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { charTemplates, TalentSheet } from '../../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport skillAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, skillAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    initial_dmg: skillParam_gen.skill[s++],\r\n    initial_max: skillParam_gen.skill[s++],\r\n    storm_dmg: skillParam_gen.skill[s++],\r\n    storm_max: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n    maxCd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmg: 0.6,\r\n  },\r\n  passive2: {\r\n    heal_: 0.02,\r\n  },\r\n  constellation2: {\r\n    enerRech_: 0.16,\r\n  },\r\n  constellation6: {\r\n    enemyRes_: -0.2\r\n  }\r\n} as const\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, `${elementKey}BurstAbsorption`)\r\nconst nodeC2 = greaterEq(input.constellation, 2, datamine.constellation2.enerRech_)\r\nconst [condC6Path, condC6] = cond(key, `${elementKey}C6Hit`)\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(condC6, \"on\", datamine.constellation6.enemyRes_))\r\nconst nodesC6 = objectKeyValueMap(absorbableEle, ele => [`${ele}_enemyRes_`, greaterEq(input.constellation, 6, equal(condC6, \"on\", equal(condBurstAbsorption, ele, datamine.constellation6.enemyRes_)))])\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    initial_dmg: dmgNode(\"atk\", datamine.skill.initial_dmg, \"skill\"),\r\n    initial_max: dmgNode(\"atk\", datamine.skill.initial_max, \"skill\"),\r\n    storm_dmg: dmgNode(\"atk\", datamine.skill.storm_dmg, \"skill\"),\r\n    storm_max: dmgNode(\"atk\", datamine.skill.storm_max, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    absorb: dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }),\r\n  },\r\n  passive1: {\r\n    dmg: greaterEq(input.asc, 1, customDmgNode(prod(input.total.atk, datamine.passive1.dmg), \"elemental\", { hit: { ele: constant(elementKey) } })),\r\n  },\r\n  passive2: {\r\n    heal: greaterEq(input.asc, 2, customHealNode(prod(percent(datamine.passive2.heal_), input.total.hp))),\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    enerRech_: nodeC2,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      ...nodesC6,\r\n      anemo_enemyRes_: nodeC6,\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.initial_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.initial_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.storm_dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.2` }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.skill.storm_max, { key: `char_${key}_gen:${elementKey}.skill.skillParams.3` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"skill.skillParams.5\"),\r\n        value: datamine.skill.maxCd,\r\n        unit: \"s\"\r\n      }, {\r\n        canShow: data => data.get(input.constellation).value >= 4,\r\n        text: trm(\"c1\"),\r\n        value: 10,\r\n        unit: \"%\"\r\n      }]\r\n    }]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"burst.skillParams.2\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.3\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: tr(\"burst.skillParams.4\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"burst\", {\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }),\r\n        }]\r\n      }]))\r\n    }), ct.conditionalTemplate(\"constellation6\", { // C6 anemo\r\n      value: condC6,\r\n      path: condC6Path,\r\n      teamBuff: true,\r\n      name: trm(\"c6\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(nodeC6, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n          }]\r\n        }\r\n      }\r\n    }), ct.headerTemplate(\"constellation6\", { // C6 elemental self-display\r\n      canShow: unequal(condBurstAbsorption, undefined, equal(condC6, \"on\", equal(target.charKey, key, 1))),\r\n      fields: absorbableEle.map(eleKey => (\r\n        { node: nodesC6[`${eleKey}_enemyRes_`] }\r\n      ))\r\n    }), ct.conditionalTemplate(\"constellation6\", { // C6 elemental team-display\r\n      value: condBurstAbsorption,\r\n      path: condBurstAbsorptionPath,\r\n      name: st(\"eleAbsor\"),\r\n      teamBuff: true,\r\n      canShow: equal(condC6, \"on\", unequal(input.activeCharKey, key, 1)),\r\n      states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n        name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n        fields: [{\r\n          node: nodesC6[`${eleKey}_enemyRes_`]\r\n        }]\r\n      }]))\r\n    })]),\r\n    passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive1.dmg, { key: `char_${key}:${elementKey}.p1` })\r\n      }]\r\n    })]),\r\n    passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive2.heal, { key: `sheet_gen:healing` })\r\n      }]\r\n    })]),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2 }] }]),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  },\r\n}\r\nexport default talentSheet\r\n","import { TalentSheetElementKey } from '../../CharacterSheet'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../../Components/ColoredText'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { charTemplates, TalentSheet } from '../../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport talentAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"dendro\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    lampDmg: skillParam_gen.burst[b++],\r\n    explosionDmg: skillParam_gen.burst[b++],\r\n    unknown1: skillParam_gen.burst[b++],\r\n    unknown2: skillParam_gen.burst[b++],\r\n    lampDuration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    eleMas: skillParam_gen.passive1[0][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    skill_dmgInc: skillParam_gen.passive2[0][0],\r\n    burst_dmgInc: skillParam_gen.passive2[1][0],\r\n  },\r\n  constellation1: {\r\n    energyRegen: 1\r\n  },\r\n  constellation2: {\r\n    durationInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation6: {\r\n    ele_dmg_: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst [condA1StacksPath, condA1Stacks] = cond(key, \"a1Stacks\")\r\nconst a1StacksArr = range(1, datamine.passive1.maxStacks)\r\nconst a1_eleMas_disp = greaterEq(input.asc, 1,\r\n  lookup(condA1Stacks, Object.fromEntries(a1StacksArr.map(stack => [\r\n    stack,\r\n    prod(datamine.passive1.eleMas, stack)\r\n  ])), naught),\r\n  { key: \"eleMas\" }\r\n)\r\nconst a1_eleMas = equal(input.activeCharKey, target.charKey, a1_eleMas_disp)\r\n\r\nconst a4_skill_dmg_ = greaterEq(input.asc, 4,\r\n  prod(percent(datamine.passive2.skill_dmgInc, { fixed: 2 }), input.total.eleMas),\r\n  { key: \"_\" }\r\n)\r\nconst a4_burst_dmg_ = greaterEq(input.asc, 4,\r\n  prod(percent(datamine.passive2.burst_dmgInc), input.total.eleMas),\r\n  { key: \"_\" }\r\n)\r\n\r\nconst [condC6BurstEffectPath, condC6BurstEffect] = cond(key, \"c6BurstEffect\")\r\nconst [condC6BurstElePath, condC6BurstEle] = cond(key, \"c6BurstEle\")\r\nconst c6_dendro_dmg_disp = greaterEq(input.constellation, 6,\r\n  equal(condC6BurstEffect, \"on\", percent(datamine.constellation6.ele_dmg_))\r\n)\r\nconst c6_dendro_dmg_ = equal(input.activeCharKey, target.charKey, c6_dendro_dmg_disp)\r\nconst c6_ele_dmg_disp = Object.fromEntries([\"hydro\", \"pyro\", \"electro\"].map(ele => [\r\n  ele,\r\n  greaterEq(input.constellation, 6,\r\n    equal(condC6BurstEffect, \"on\",\r\n      equal(condC6BurstEle, ele, percent(datamine.constellation6.ele_dmg_))\r\n    )\r\n  )\r\n]))\r\nconst c6_ele_dmg_ = Object.fromEntries(Object.entries(c6_ele_dmg_disp).map(([ele, node]) => [\r\n  `${ele}_dmg_`,\r\n  equal(input.activeCharKey, target.charKey, node)\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    lampDmg: dmgNode(\"atk\", datamine.burst.lampDmg, \"burst\"),\r\n    explosionDmg: dmgNode(\"atk\", datamine.burst.explosionDmg, \"burst\")\r\n  }\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: burstC5,\r\n    skill: skillC3,\r\n  },\r\n  premod: {\r\n    skill_dmg_: a4_skill_dmg_,\r\n    burst_dmg_: a4_burst_dmg_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      eleMas: a1_eleMas,\r\n      dendro_dmg_: c6_dendro_dmg_,\r\n      ...c6_ele_dmg_,\r\n    },\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` })\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]\r\n    }]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.lampDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }\r\n        )\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.explosionDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }\r\n        )\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: (data) => data.get(input.constellation).value >= 2\r\n          ? `${datamine.burst.lampDuration}s + ${datamine.constellation2.durationInc}s = ${datamine.burst.lampDuration + datamine.constellation2.durationInc}`\r\n          : datamine.burst.lampDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"passive1\", {\r\n      path: condA1StacksPath,\r\n      value: condA1Stacks,\r\n      teamBuff: true,\r\n      name: st(\"stacks\"),\r\n      states: Object.fromEntries(a1StacksArr.map(stack => [\r\n        stack,\r\n        {\r\n          name: st(\"stack\", { count: stack }),\r\n          fields: [{\r\n            node: a1_eleMas_disp\r\n          }]\r\n        }\r\n      ])),\r\n    }), ct.headerTemplate(\"constellation2\", {\r\n      fields: [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation2.durationInc,\r\n        unit: \"s\"\r\n      }]\r\n    }), ct.conditionalTemplate(\"constellation6\", {\r\n      path: condC6BurstEffectPath,\r\n      value: condC6BurstEffect,\r\n      teamBuff: true,\r\n      name: st(\"activeCharField\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(c6_dendro_dmg_disp, { key: \"dendro_dmg_\", variant: \"dendro\", isTeamBuff: true }),\r\n          }]\r\n        }\r\n      }\r\n    }), ct.conditionalTemplate(\"constellation6\", {\r\n      path: condC6BurstElePath,\r\n      value: condC6BurstEle,\r\n      teamBuff: true,\r\n      canShow: equal(condC6BurstEffect, \"on\", 1),\r\n      name: st(\"eleAbsor\"),\r\n      states: Object.fromEntries(Object.entries(c6_ele_dmg_disp).map(([ele, node]) => [\r\n        ele, {\r\n          name: <ColorText color={ele}>{sgt(`element.${ele}`)}</ColorText>,\r\n          fields: [{ node: infoMut(node, { key: `${ele}_dmg_`, variant: ele as ElementKey, isTeamBuff: true }) }],\r\n        }\r\n      ]))\r\n    })]),\r\n\r\n    passive1: ct.talentTemplate(\"passive1\"),\r\n    passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: a4_skill_dmg_,\r\n      }, {\r\n        node: a4_burst_dmg_,\r\n      }]\r\n    })]),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\"),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { TalentSheetElementKey } from '../../CharacterSheet'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { equal, greaterEq, infoMut, percent, prod, subscript, sum } from '../../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { cond, sgt } from '../../../SheetUtil'\r\nimport { charTemplates, TalentSheet } from '../../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport talentAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\nconst trm = (strKey: string) => <Translate ns=\"char_Traveler\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    energyRestore: skillParam_gen.skill[s++],\r\n    amulets: 2,\r\n    amuletDuration: skillParam_gen.skill[s++][0],\r\n    enerRech_: skillParam_gen.skill[s++][0],\r\n    enerRech_duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    thunderDmg: skillParam_gen.burst[b++],\r\n    thunderCd: 0.5,\r\n    energyRestore: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    cdRed: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    enerRech_: skillParam_gen.passive2[0][0],\r\n  },\r\n  constellation1: {\r\n    addlAmulets: 1\r\n  },\r\n  constellation2: {\r\n    duration: skillParam_gen.constellation2[0],\r\n    electro_enemyRes: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation6: {\r\n    numAttacks: skillParam_gen.constellation6[0],\r\n    thunder_dmg_: skillParam_gen.constellation6[0],\r\n    energyRestore: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillAmuletPath, condSkillAmulet] = cond(key, `${elementKey}SkillAmulet`)\r\nconst p2_enerRech_ = greaterEq(input.asc, 4,\r\n  prod(input.premod.enerRech_, percent(datamine.passive2.enerRech_))\r\n)\r\nconst skillAmulet_enerRech_Disp = equal(condSkillAmulet, \"on\",\r\n  sum(\r\n    percent(datamine.skill.enerRech_),\r\n    p2_enerRech_\r\n  )\r\n)\r\nconst skillAmulet_enerRech_ = equal(input.activeCharKey, target.charKey, skillAmulet_enerRech_Disp)\r\n\r\nconst burstEnergyRestore = subscript(input.total.burstIndex, datamine.burst.energyRestore,\r\n  { key: `char_${key}_gen:${elementKey}.burst.skillParmas.2` }\r\n)\r\n\r\nconst [condC2ThunderPath, condC2Thunder] = cond(key, `${elementKey}C2Thunder`)\r\nconst c2Thunder_electro_enemyRes_ = greaterEq(input.constellation, 2,\r\n  equal(condC2Thunder, \"on\", datamine.constellation2.electro_enemyRes)\r\n)\r\n\r\nconst [condC6After2ThunderPath, condC6After2Thunder] = cond(key, `${elementKey}C6After2Thunder`)\r\nconst c6_thunder_dmg_ = greaterEq(input.constellation, 6, equal(condC6After2Thunder, \"on\", datamine.constellation6.thunder_dmg_))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"atk\", datamine.burst.pressDmg, \"burst\"),\r\n    thunderDmg: dmgNode(\"atk\", datamine.burst.thunderDmg, \"burst\",\r\n      { premod: { burst_dmg_: c6_thunder_dmg_ } })\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_enemyRes_: c2Thunder_electro_enemyRes_,\r\n    },\r\n    total: {\r\n      enerRech_: skillAmulet_enerRech_ // In total to avoid loops\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` })\r\n      }, {\r\n        text: trm(\"skill.amuletGenAmt\"),\r\n        value: data => data.get(input.constellation).value >= 1\r\n          ? datamine.skill.amulets + datamine.constellation1.addlAmulets\r\n          : datamine.skill.amulets\r\n      }, {\r\n        text: tr(\"skill.skillParams.4\"),\r\n        value: datamine.skill.amuletDuration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.skill.cd,\r\n        unit: \"s\",\r\n        fixed: 1\r\n      }]\r\n    }, ct.conditionalTemplate(\"skill\", {\r\n      value: condSkillAmulet,\r\n      path: condSkillAmuletPath,\r\n      name: trm(\"skill.absorb\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: subscript(input.total.skillIndex, datamine.skill.energyRestore,\r\n              { key: `char_${key}_gen:${elementKey}.skill.skillParams.1` }\r\n            )\r\n          }, {\r\n            node: infoMut(skillAmulet_enerRech_Disp, { key: \"enerRech_\" })\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.skill.enerRech_duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }), ct.headerTemplate(\"passive1\", {\r\n      fields: [{\r\n        text: tr(\"passive1.description\")\r\n      }]\r\n    }), ct.headerTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(p2_enerRech_, { key: `char_${key}:${elementKey}.passive2.enerRech_` })\r\n      }]\r\n    })]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.pressDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.0` }\r\n        )\r\n      }, {\r\n        node: infoMut(dmgFormulas.burst.thunderDmg,\r\n          { key: `char_${key}_gen:${elementKey}.burst.skillParams.1` }\r\n        )\r\n      }, {\r\n        text: trm(\"burst.thunderCd\"),\r\n        value: datamine.burst.thunderCd,\r\n        unit: \"s\",\r\n        fixed: 1\r\n      }, {\r\n        node: infoMut(burstEnergyRestore, { key: `char_${key}_gen:${elementKey}.burst.skillParams.2` })\r\n      }, {\r\n        text: sgt(\"duration\"),\r\n        value: datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"constellation2\", {\r\n      value: condC2Thunder,\r\n      path: condC2ThunderPath,\r\n      name: trm(\"c2.thunderHit\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: c2Thunder_electro_enemyRes_\r\n          }, {\r\n            text: sgt(\"duration\"),\r\n            value: datamine.constellation2.duration,\r\n            unit: \"s\"\r\n          }]\r\n        }\r\n      }\r\n    }), ct.conditionalTemplate(\"constellation6\", {\r\n      value: condC6After2Thunder,\r\n      path: condC6After2ThunderPath,\r\n      name: trm(\"c6.fallingThunder3\"),\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(c6_thunder_dmg_,\r\n              { key: `char_${key}:${elementKey}.c6.fallingThunderBonus_`, variant: \"electro\" }\r\n            )\r\n          }, {\r\n            text: tr(\"burst.skillParams.2\"),\r\n            value: datamine.constellation6.energyRestore\r\n          }]\r\n        }\r\n      }\r\n    })]),\r\n\r\n    passive1: ct.talentTemplate(\"passive1\"),\r\n    passive2: ct.talentTemplate(\"passive2\"),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\"),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { TalentSheetElementKey } from '../../CharacterSheet'\r\nimport burst from './burst.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2\r\n}\r\n\r\nexport default talentAssets\r\n","import { CharacterData } from 'pipeline'\r\nimport { Translate } from '../../../../Components/Translate'\r\nimport { input, target } from '../../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../../Types/consts'\r\nimport { range } from '../../../../Util/Util'\r\nimport { cond, sgt, st } from '../../../SheetUtil'\r\nimport { charTemplates, TalentSheet } from '../../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../../dataUtil'\r\nimport data_gen_src from '../data_gen.json'\r\nimport talentAssets from './assets'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Traveler\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets, elementKey)\r\n\r\nconst tr = (strKey: string) => <Translate ns=\"char_Traveler_gen\" key18={`${elementKey}.${strKey}`} />\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: skillParam_gen.auto[a++],\r\n    hit2: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    numShockwaves: 4,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    skill_cdRed: 2\r\n  },\r\n  passive2: {\r\n    geoDmg: percent(0.6),\r\n  },\r\n  constellation1: {\r\n    critRate_: percent(0.1),\r\n  },\r\n  constellation4: {\r\n    energyRestore: 5,\r\n    maxTriggers: 5\r\n  },\r\n  constellation6: {\r\n    burstDuration: 5,\r\n    skillDuration: 10\r\n  }\r\n} as const\r\n\r\nconst [condC1BurstAreaPath, condC1BurstArea] = cond(key, `${elementKey}C1BurstArea`)\r\nconst c1BurstArea_critRate_Disp = greaterEq(input.constellation, 1,\r\n  equal(condC1BurstArea, \"on\", datamine.constellation1.critRate_)\r\n)\r\nconst c1BurstArea_critRate_ = equal(input.activeCharKey, target.charKey, c1BurstArea_critRate_Disp)\r\n\r\nconst [condC4BurstHitPath, condC4BurstHit] = cond(key, `${elementKey}C4BurstHit`)\r\nconst c4Burst_energyRestore = lookup(condC4BurstHit,\r\n  Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n    stack,\r\n    constant(stack * datamine.constellation4.energyRestore)\r\n  ])),\r\n  naught\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    dmg: customDmgNode(\r\n      prod(input.total.atk, datamine.passive2.geoDmg), \"elemental\", { hit: { ele: constant(\"geo\") } }\r\n    )\r\n  },\r\n  constellation2: {\r\n    dmg: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg, \"skill\")),\r\n  }\r\n} as const\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, undefined, data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      critRate_: c1BurstArea_critRate_\r\n    }\r\n  }\r\n})\r\n\r\nconst talentSheet: TalentSheet = {\r\n  sheets: {\r\n    auto: ct.talentTemplate(\"auto\", [{\r\n      text: tr(\"auto.fields.normal\")\r\n    }, {\r\n      fields: datamine.normal.hitArr.map((_, i) => ({\r\n        node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:${elementKey}.auto.skillParams.${i}` }),\r\n      }))\r\n    }, {\r\n      text: tr(\"auto.fields.charged\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(1)\"\r\n      }, {\r\n        node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:${elementKey}.auto.skillParams.5` }),\r\n        textSuffix: \"(2)\"\r\n      }, {\r\n        text: tr(\"auto.skillParams.6\"),\r\n        value: datamine.charged.stamina,\r\n      }]\r\n    }, {\r\n      text: tr(\"auto.fields.plunging\"),\r\n    }, {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n      }, {\r\n        node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n      }]\r\n    }]),\r\n\r\n    skill: ct.talentTemplate(\"skill\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:${elementKey}.skill.skillParams.0` }),\r\n      }, {\r\n        text: tr(\"skill.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 6\r\n          ? `${datamine.skill.duration}s + ${datamine.constellation6.skillDuration}s = ${datamine.skill.duration + datamine.constellation6.skillDuration}`\r\n          : datamine.skill.duration,\r\n        unit: \"s\",\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: data => data.get(input.asc).value >= 1\r\n          ? `${datamine.skill.cd}s - ${datamine.passive1.skill_cdRed}s = ${datamine.skill.cd - datamine.passive1.skill_cdRed}`\r\n          : datamine.skill.cd,\r\n        unit: \"s\",\r\n      }]\r\n    }, ct.headerTemplate(\"passive1\", {\r\n      fields: [{\r\n        text: st(\"skillCDRed\"),\r\n        value: datamine.passive1.skill_cdRed,\r\n        unit: \"s\"\r\n      }]\r\n    }), ct.headerTemplate(\"constellation2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:${elementKey}.c2.key` }),\r\n      }]\r\n    }), ct.headerTemplate(\"constellation6\", {\r\n      fields: [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.skillDuration,\r\n        unit: \"s\"\r\n      }]\r\n    })]),\r\n\r\n    burst: ct.talentTemplate(\"burst\", [{\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.burst.dmg,\r\n          { key: `sheet_gen:skillDMG` }\r\n        ),\r\n        textSuffix: st(\"brHits\", { count: datamine.burst.numShockwaves })\r\n      }, {\r\n        text: tr(\"burst.skillParams.1\"),\r\n        value: data => data.get(input.constellation).value >= 6\r\n          ? `${datamine.burst.duration}s + ${datamine.constellation6.burstDuration}s = ${datamine.burst.duration + datamine.constellation6.burstDuration}`\r\n          : datamine.burst.duration,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"cd\"),\r\n        value: datamine.burst.cd,\r\n        unit: \"s\"\r\n      }, {\r\n        text: sgt(\"energyCost\"),\r\n        value: datamine.burst.enerCost,\r\n      }]\r\n    }, ct.conditionalTemplate(\"constellation1\", {\r\n      value: condC1BurstArea,\r\n      path: condC1BurstAreaPath,\r\n      name: st(\"activeCharField\"),\r\n      teamBuff: true,\r\n      states: {\r\n        on: {\r\n          fields: [{\r\n            node: infoMut(c1BurstArea_critRate_Disp, { key: \"critRate_\" }),\r\n          }, {\r\n            text: st(\"incInterRes\"),\r\n          }]\r\n        }\r\n      }\r\n    }), ct.conditionalTemplate(\"constellation4\", {\r\n      value: condC4BurstHit,\r\n      path: condC4BurstHitPath,\r\n      name: st(\"hitOp.burst\"),\r\n      states: Object.fromEntries(range(1, datamine.constellation4.maxTriggers).map(stack => [\r\n        stack,\r\n        {\r\n          name: st(\"hits\", { count: stack }),\r\n          fields: [{\r\n            node: infoMut(c4Burst_energyRestore, { key: \"sheet:energyRegen\" }),\r\n          }]\r\n        }\r\n      ]))\r\n    }), ct.headerTemplate(\"constellation6\", {\r\n      fields: [{\r\n        text: st(\"durationInc\"),\r\n        value: datamine.constellation6.burstDuration,\r\n        unit: \"s\"\r\n      }]\r\n    })]),\r\n\r\n    passive1: ct.talentTemplate(\"passive1\"),\r\n    passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n      fields: [{\r\n        node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:${elementKey}.passive2.key` })\r\n      }]\r\n    })]),\r\n    constellation1: ct.talentTemplate(\"constellation1\"),\r\n    constellation2: ct.talentTemplate(\"constellation2\"),\r\n    constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n    constellation4: ct.talentTemplate(\"constellation4\"),\r\n    constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n    constellation6: ct.talentTemplate(\"constellation6\"),\r\n  }\r\n}\r\nexport default talentSheet\r\n","import { CharacterData } from 'pipeline'\r\nimport { CharacterKey, WeaponTypeKey } from '../../../Types/consts'\r\nimport { trans } from '../../SheetUtil'\r\nimport CharacterSheet, { ICharacterSheet } from '../CharacterSheet'\r\nimport anemo, { data as anemoData } from './anemo'\r\nimport data_gen_src from './data_gen.json'\r\nimport dendro, { data as dendroData } from './dendro'\r\nimport electro, { data as electroData } from './electro'\r\nimport geo, { data as geoData } from './geo'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport card from './Traveler_Female_Card.jpg'\r\nconst data_gen = data_gen_src as CharacterData\r\nconst key: CharacterKey = \"Traveler\"\r\nconst [tr] = trans(\"char\", key)\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  rarity: data_gen.star,\r\n  weaponTypeKey: data_gen.weaponTypeKey as WeaponTypeKey,\r\n  gender: \"F/M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talents: {\r\n    anemo,\r\n    geo,\r\n    electro,\r\n    dendro,\r\n  }\r\n};\r\nexport default new CharacterSheet(sheet, {\r\n  anemo: anemoData,\r\n  geo: geoData,\r\n  electro: electroData,\r\n  dendro: dendroData,\r\n});\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Venti_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input, target } from '../../../Formula'\r\nimport { reactions } from '../../../Formula/reaction'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { absorbableEle, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Venti\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1x2\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x2\r\n      skillParam_gen.auto[a++], // 5\r\n      skillParam_gen.auto[a++], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++], // Aimed\r\n    fully: skillParam_gen.auto[a++], // Fully-charged\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    pressDmg: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDmg: skillParam_gen.skill[s++],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    baseDmg: skillParam_gen.burst[b++],\r\n    baseTicks: 20,\r\n    absorbDmg: skillParam_gen.burst[b++],\r\n    absorbTicks: 15,\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0]\r\n  },\r\n  passive1: {\r\n    duration: skillParam_gen.passive1[0][0]\r\n  },\r\n  // No real p3/constellation datamine values :(\r\n  passive3: {\r\n    stam_: 0.20,\r\n  },\r\n  constellation1: {\r\n    dmgRatio: 0.33,\r\n  },\r\n  constellation2: {\r\n    res_: -0.12,\r\n    duration: 10,\r\n  },\r\n  constellation4: {\r\n    anemo_dmg_: 0.25,\r\n    duration: 10,\r\n  },\r\n  constellation6: {\r\n    res_: -0.20,\r\n    duration: 10, // From KQM\r\n  }\r\n} as const\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst p3_staminaGlidingDec_ = constant(datamine.passive3.stam_)\r\n\r\nconst [condBurstAbsorptionPath, condBurstAbsorption] = cond(key, \"burstAbsorption\")\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst c2Hit_anemo_enemyRes_ = greaterEq(input.constellation, 2,\r\n  lookup(condC2, {\r\n    \"hit\": constant(datamine.constellation2.res_),\r\n    \"launched\": prod(datamine.constellation2.res_, 2)\r\n  },\r\n    naught\r\n  )\r\n)\r\nconst c2Hit_phys_enemyRes__ = { ...c2Hit_anemo_enemyRes_ }\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst c4_anemo_dmg_ = greaterEq(input.constellation, 4, equal(condC4, \"pickup\",\r\n  datamine.constellation4.anemo_dmg_))\r\n\r\nconst [condC6Path, condC6] = cond(key, \"c6\")\r\nconst c6_anemo_enemyRes_ = greaterEq(input.constellation, 6, equal(condC6, \"takeDmg\", datamine.constellation6.res_))\r\nconst c6_ele_enemyRes_arr = Object.fromEntries(absorbableEle.map(ele => [\r\n  `${ele}_enemyRes_`,\r\n  greaterEq(input.constellation, 6, equal(condC6, \"takeDmg\", equal(ele, condBurstAbsorption, datamine.constellation6.res_)))\r\n]))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    fully: dmgNode(\"atk\", datamine.charged.fully, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.pressDmg, \"skill\"),\r\n    hold: dmgNode(\"atk\", datamine.skill.holdDmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    base: dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"),\r\n    absorb: unequal(condBurstAbsorption, undefined, dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } })),\r\n    full7: unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 7)\r\n    )),\r\n    full14: unequal(condBurstAbsorption, \"hydro\", unequal(condBurstAbsorption, undefined, sum(\r\n      prod(dmgNode(\"atk\", datamine.burst.baseDmg, \"burst\"), 20),\r\n      prod(dmgNode(\"atk\", datamine.burst.absorbDmg, \"burst\", { hit: { ele: condBurstAbsorption } }), 15),\r\n      prod(lookup(condBurstAbsorption, objectKeyMap(absorbableEle, ele => reactions.anemo[`${ele}Swirl`]), naught), 14)\r\n    )))\r\n  },\r\n  constellation1: {\r\n    aimed: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.aimed, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\"\r\n      )\r\n    ),\r\n    fully: greaterEq(input.constellation, 1,\r\n      customDmgNode(\r\n        prod(\r\n          percent(datamine.constellation1.dmgRatio),\r\n          subscript(input.total.autoIndex, datamine.charged.fully, { key: \"_\" }),\r\n          input.total.atk\r\n        ),\r\n        \"charged\", { hit: { ele: constant(elementKey) } }\r\n      )\r\n    ),\r\n  },\r\n}\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"mondstadt\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    burst: nodeC3,\r\n    skill: nodeC5,\r\n  },\r\n  premod: {\r\n    anemo_dmg_: c4_anemo_dmg_,\r\n    staminaGlidingDec_: p3_staminaGlidingDec_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      anemo_enemyRes_: sum(c2Hit_anemo_enemyRes_, c6_anemo_enemyRes_),\r\n      physical_enemyRes_: c2Hit_phys_enemyRes__,\r\n      ...c6_ele_enemyRes_arr,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 0 || i === 3) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.aimed, { key: `char_${key}:addAimed` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.fully, { key: `char_${key}_gen:auto.skillParams.7` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation1.fully, { key: `char_${key}:addFullAimed` })\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.hold, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"upcurrentDuration\"),\r\n          value: datamine.passive1.duration,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: tr(\"constellation2.name\"),\r\n        states: {\r\n          hit: {\r\n            name: trm(\"c2.hit\"),\r\n            fields: [{\r\n              node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }, {\r\n              node: c2Hit_phys_enemyRes__\r\n            }]\r\n          },\r\n          launched: {\r\n            name: trm(\"c2.launched\"),\r\n            fields: [{\r\n              node: infoMut(c2Hit_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }, {\r\n              node: c2Hit_phys_enemyRes__\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.base, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n          textSuffix: st(\"brHits\", { count: datamine.burst.baseTicks })\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: infoMut(dmgFormulas.burst.absorb, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n            textSuffix: st(\"brHits\", { count: datamine.burst.absorbTicks })\r\n          }]\r\n        }]))\r\n      }), ct.headerTemplate(\"burst\", { // Custom burst formula\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.full7, { key: `char_${key}:fullBurstDMG.dmg7`, variant: \"physical\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.full14, { key: `char_${key}:fullBurstDMG.dmg14`, variant: \"physical\" }),\r\n        }],\r\n        canShow: unequal(condBurstAbsorption, undefined, 1),\r\n      }), {\r\n        text: trm(\"fullBurstDMG.description\"),\r\n      }, ct.headerTemplate(\"passive2\", {\r\n        fields: [{\r\n          text: trm(\"regenEner\"),\r\n        }, {\r\n          text: trm(\"q\"),\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation6\", { // C6 Anemo\r\n        value: condC6,\r\n        path: condC6Path,\r\n        teamBuff: true,\r\n        name: trm(\"c6\"),\r\n        states: {\r\n          takeDmg: {\r\n            fields: [{\r\n              node: infoMut(c6_anemo_enemyRes_, { key: \"anemo_enemyRes_\", variant: \"anemo\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation6\", { // C6 elemental self-display\r\n        fields: absorbableEle.map(eleKey => (\r\n          { node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`] }\r\n        )),\r\n        canShow: unequal(condBurstAbsorption, undefined,\r\n          equal(condC6, \"takeDmg\",\r\n            equal(target.charKey, key, 1)\r\n          )\r\n        ),\r\n      }), ct.conditionalTemplate(\"constellation6\", { // C6 elemental team-display\r\n        value: condBurstAbsorption,\r\n        path: condBurstAbsorptionPath,\r\n        name: st(\"eleAbsor\"),\r\n        teamBuff: true,\r\n        canShow: equal(condC6, \"takeDmg\", unequal(input.activeCharKey, key, 1)),\r\n        states: Object.fromEntries(absorbableEle.map(eleKey => [eleKey, {\r\n          name: <ColorText color={eleKey}>{sgt(`element.${eleKey}`)}</ColorText>,\r\n          fields: [{\r\n            node: c6_ele_enemyRes_arr[`${eleKey}_enemyRes_`]\r\n          }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\", [{ fields: [{ node: p3_staminaGlidingDec_ }] }]),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [\r\n        ct.conditionalTemplate(\"constellation4\", {\r\n          value: condC4,\r\n          path: condC4Path,\r\n          name: trm(\"c4\"),\r\n          states: {\r\n            pickup: {\r\n              fields: [{\r\n                node: c4_anemo_dmg_,\r\n              }]\r\n            }\r\n          }\r\n        }),\r\n      ]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xiangling_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiangling\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3x2\r\n      skillParam_gen.auto[a++], // 4x4\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[a++], // 1\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg1: skillParam_gen.burst[b++],\r\n    dmg2: skillParam_gen.burst[b++],\r\n    dmg3: skillParam_gen.burst[b++],\r\n    dmgNado: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    atk_bonus: skillParam_gen.passive2[p2++][0],\r\n    duration: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation1: {\r\n    pyroRes: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n  },\r\n  constellation2: {\r\n    duration1: skillParam_gen.constellation2[0],\r\n    duration2: skillParam_gen.constellation2[1],\r\n    dmg: skillParam_gen.constellation2[2],\r\n  },\r\n  constellation6: {\r\n    pyroDmg: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\n// A4\r\nconst [condAfterChiliPath, condAfterChili] = cond(key, \"afterChili\")\r\nconst afterChili = greaterEq(input.asc, 4,\r\n  equal(\"afterChili\", condAfterChili, percent(datamine.passive2.atk_bonus)))\r\n\r\n// C1\r\nconst [condAfterGuobaHitPath, condAfterGuobaHit] = cond(key, \"afterGuobaHit\")\r\nconst afterGuobaHit = greaterEq(input.constellation, 1,\r\n  equal(\"afterGuobaHit\", condAfterGuobaHit, percent(-datamine.constellation1.pyroRes)))\r\n\r\n// C6\r\nconst [condDuringPyronadoPath, condDuringPyronado] = cond(key, \"afterPyronado\")\r\nconst duringPyronado = greaterEq(input.constellation, 6,\r\n  equal(\"duringPyronado\", condDuringPyronado, percent(datamine.constellation6.pyroDmg))\r\n)\r\nconst antiC6 = prod(duringPyronado, -1)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n  burst: {\r\n    dmg1: dmgNode(\"atk\", datamine.burst.dmg1, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg2: dmgNode(\"atk\", datamine.burst.dmg2, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.burst.dmg3, \"burst\"),\r\n    dmgNado: dmgNode(\"atk\", datamine.burst.dmgNado, \"burst\", { premod: { pyro_dmg_: antiC6 } }),\r\n  },\r\n  constellation2: {\r\n    dmg: customDmgNode(prod(input.total.atk, percent(datamine.constellation2.dmg)), \"elemental\",\r\n      { hit: { ele: constant(elementKey) } })\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_: afterChili,\r\n      pyro_dmg_: duringPyronado,\r\n      pyro_enemyRes_: afterGuobaHit,\r\n    }\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 2 ? st(\"brHits\", { count: 2 }) : i === 3 ? st(\"brHits\", { count: 4 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` },)\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation1\", {\r\n        value: condAfterGuobaHit,\r\n        path: condAfterGuobaHitPath,\r\n        name: trm(\"afterGuobaHit\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterGuobaHit: {\r\n            fields: [{\r\n              node: afterGuobaHit\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg1, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg2, { key: `char_${key}_gen:burst.skillParams.1` },)\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmg3, { key: `char_${key}_gen:burst.skillParams.2` },)\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dmgNado, { key: `char_${key}_gen:burst.skillParams.3` },)\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        value: condDuringPyronado,\r\n        path: condDuringPyronadoPath,\r\n        name: trm(\"duringPyronado\"),\r\n        teamBuff: true,\r\n        states: {\r\n          duringPyronado: {\r\n            fields: [{\r\n              text: trm(\"c6Exception\"),\r\n              canShow: data => data.get(input.constellation).value >= 6\r\n                && data.get(condDuringPyronado).value === \"duringPyronado\"\r\n            }, {\r\n              node: duringPyronado\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: \"s\",\r\n            }],\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        value: condAfterChili,\r\n        path: condAfterChiliPath,\r\n        name: trm(\"afterChili\"),\r\n        teamBuff: true,\r\n        states: {\r\n          afterChili: {\r\n            fields: [{\r\n              node: afterChili,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        fields: [{\r\n          value: datamine.constellation2.dmg,\r\n          node: infoMut(dmgFormulas.constellation2.dmg, { key: `char_${key}:explosionDMG` }),\r\n        }]\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xiao_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport ColorText from '../../../Components/ColoredText'\r\nimport { input } from '../../../Formula'\r\nimport { equal, equalStr, greaterEq, infoMut, lookup, naught, prod, subscript, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xiao\"\r\nconst elementKey: ElementKey = \"anemo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], // 1\r\n      skillParam_gen.auto[2], // 2\r\n      skillParam_gen.auto[3], // 3\r\n      skillParam_gen.auto[4], // 4\r\n      skillParam_gen.auto[6], // 5\r\n      skillParam_gen.auto[7], // 6\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg1: skillParam_gen.auto[8], // 1\r\n    stamina: skillParam_gen.auto[9][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[10],\r\n    low: skillParam_gen.auto[11],\r\n    high: skillParam_gen.auto[12],\r\n  },\r\n  skill: {\r\n    press: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmgBonus: skillParam_gen.burst[b++],\r\n    drain: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    dmgBonus: skillParam_gen.passive1[0][0],\r\n  },\r\n  passive2: {\r\n    duration: skillParam_gen.passive2[0][0],\r\n    skillDmgBonus: skillParam_gen.passive2[1][0],\r\n    maxStacks: skillParam_gen.passive2[2][0],\r\n  },\r\n  passive3: {\r\n    staminaClimbingDec_: 0.20,\r\n  },\r\n  constellation2: {\r\n    enerRech_: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    hpThresh: skillParam_gen.constellation4[0],\r\n    def_: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    duration: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.dmg1, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    press: dmgNode(\"atk\", datamine.skill.press, \"skill\"),\r\n  },\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nconst [condInBurstPath, condInBurst] = cond(key, \"inBurst\")\r\nconst auto_dmg_ = subscript(input.total.burstIndex, datamine.burst.dmgBonus, { key: \"_\" })\r\nconst normal_dmg_ = equal(\"inBurst\", condInBurst, auto_dmg_, { key: \"_\" })\r\nconst charged_dmg_ = { ...normal_dmg_ }\r\nconst plunging_dmg_ = { ...normal_dmg_ }\r\nconst lifeDrain = subscript(input.total.burstIndex, datamine.burst.drain)\r\nconst infusion = equalStr(\"inBurst\", condInBurst, elementKey)\r\n\r\nconst [condA1BurstStackPath, condA1BurstStack] = cond(key, \"a1BurstStack\")\r\nconst a1BurstStackArr = range(0, 4)\r\nconst all_dmg_ = equal(\"inBurst\", condInBurst,\r\n  lookup(condA1BurstStack,\r\n    Object.fromEntries(a1BurstStackArr.map(i => [i, prod(datamine.passive1.dmgBonus, i + 1)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst [condA4SkillStackPath, condA4SkillStack] = cond(key, \"a4SkillStack\")\r\nconst a4SkillStackArr = range(1, datamine.passive2.maxStacks)\r\nconst skill_dmg_ = greaterEq(input.asc, 4,\r\n  lookup(condA4SkillStack,\r\n    Object.fromEntries(a4SkillStackArr.map(i => [i, prod(datamine.passive2.skillDmgBonus, i)])),\r\n    naught\r\n  )\r\n)\r\n\r\nconst c2Inactive = greaterEq(input.constellation, 2,\r\n  unequal(input.activeCharKey, key, 1)\r\n)\r\nconst c2Inactive_enerRech_ = equal(c2Inactive, 1, datamine.constellation2.enerRech_)\r\n\r\nconst [condC4BelowHPPath, condC4BelowHP] = cond(key, \"c4BelowHP\")\r\nconst c4BelowHP_def_ = greaterEq(input.constellation, 4,\r\n  equal(\"c4BelowHP\", condC4BelowHP, datamine.constellation4.def_))\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    normal_dmg_,\r\n    charged_dmg_,\r\n    plunging_dmg_,\r\n    all_dmg_,\r\n    skill_dmg_,\r\n    enerRech_: c2Inactive_enerRech_,\r\n    def_: c4BelowHP_def_,\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: infusion\r\n  },\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: st(\"charges\"),\r\n          value: data => data.get(input.constellation).value >= 1 ? 3 : 2,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", { // A4\r\n        path: condA4SkillStackPath,\r\n        value: condA4SkillStack,\r\n        name: trm(\"skillStack\"),\r\n        states: Object.fromEntries(a4SkillStackArr.map(i => [i, {\r\n          name: st(\"uses\", { count: i }),\r\n          fields: [{ node: skill_dmg_ }]\r\n        }]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(auto_dmg_, { key: `char_${key}:burst.autoAtkDmgBonus_` }),\r\n        }, {\r\n          node: infoMut(lifeDrain, { key: `char_${key}:burst.lifeDrain_` }),\r\n          textSuffix: trm(\"burst.currentHPPerSec\"),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        path: condInBurstPath,\r\n        value: condInBurst,\r\n        name: trm(\"burst.inBurst\"),\r\n        states: {\r\n          inBurst: {\r\n            fields: [{\r\n              node: normal_dmg_,\r\n            }, {\r\n              node: charged_dmg_,\r\n            }, {\r\n              node: plunging_dmg_,\r\n            }, {\r\n              text: trm(\"burst.incJump\"),\r\n            }, {\r\n              text: trm(\"burst.incAtkAoe\"),\r\n            }, {\r\n              canShow: data => data.get(infusion).value === elementKey,\r\n              text: <ColorText color=\"anemo\">{st(\"infusion.anemo\")}</ColorText>\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", { // A1\r\n        path: condA1BurstStackPath,\r\n        value: condA1BurstStack,\r\n        name: trm(\"burst.stack\"),\r\n        canShow: equal(\"inBurst\", condInBurst, 1),\r\n        states: Object.fromEntries(a1BurstStackArr.map(i => [i, {\r\n          name: st(\"seconds\", { count: i * 3 }),\r\n          fields: [{ node: all_dmg_ }]\r\n        }]))\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.fieldsTemplate(\"constellation2\", {\r\n        canShow: equal(c2Inactive, 1, 1),\r\n        teamBuff: true,\r\n        fields: [{ node: c2Inactive_enerRech_ }],\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        path: condC4BelowHPPath,\r\n        value: condC4BelowHP,\r\n        name: st(\"lessPercentHP\", { percent: datamine.constellation4.hpThresh * 100 }),\r\n        states: {\r\n          c4BelowHP: {\r\n            fields: [{ node: c4BelowHP_def_ }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xingqiu_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from \"../../../Formula/index\"\r\nimport { constant, equal, greaterEq, infoMut, min, percent, prod, subscript, sum, one } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customHealNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst key: CharacterKey = \"Xingqiu\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet s = 0, b = 0\r\nexport const datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      (skillParam_gen.auto[0]),//1\r\n      (skillParam_gen.auto[1]),//2\r\n      (skillParam_gen.auto[2]),//3\r\n      // (skillParam_gen.auto[3]),\r\n      (skillParam_gen.auto[4]),//4\r\n      (skillParam_gen.auto[5]),//5\r\n      // (skillParam_gen.auto[6]),\r\n    ]\r\n  },\r\n  charged: {\r\n    hit1: (skillParam_gen.auto[7]),\r\n    hit2: (skillParam_gen.auto[8]),\r\n    stamina: skillParam_gen.auto[9][0]\r\n  },\r\n  plunging: {\r\n    dmg: (skillParam_gen.auto[10]),\r\n    low: (skillParam_gen.auto[11]),\r\n    high: (skillParam_gen.auto[12]),\r\n  },\r\n  skill: {\r\n    hit1: (skillParam_gen.skill[s++]),\r\n    hit2: (skillParam_gen.skill[s++]),\r\n    dmgRed_: (skillParam_gen.skill[s++]),\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: (skillParam_gen.burst[b++]),\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    cost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    hydro_dmg_: 0.20\r\n  },\r\n  constellation2: {\r\n    hydro_enemyRes_: -0.15,\r\n    skill_duration: 3\r\n  },\r\n  constellation4: {\r\n    dmg_: 0.50\r\n  },\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4, datamine.passive2.hydro_dmg_)\r\n\r\nconst [condC2Path, condC2] = cond(key, \"c2\")\r\nconst nodeC2 = greaterEq(input.constellation, 2,\r\n  equal(condC2, \"on\", datamine.constellation2.hydro_enemyRes_))\r\n\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"burst\")\r\nconst nodeC4 = greaterEq(input.constellation, 4,\r\n  equal(condBurst, \"on\", datamine.constellation4.dmg_), { key: `char_${key}:c4dmg_` })\r\n\r\nconst nodeSkillDmgRed_ = equal(condSkill, \"on\",\r\n  sum(subscript(input.total.skillIndex, datamine.skill.dmgRed_, { key: \"_\" }), min(percent(0.24), prod(percent(0.2), input.premod.hydro_dmg_))))\r\n\r\nconst nodeA4Heal = customHealNode(greaterEq(input.asc, 1, prod(input.total.hp, percent(0.06))))\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg1: dmgNode(\"atk\", datamine.charged.hit1, \"charged\"),\r\n    dmg2: dmgNode(\"atk\", datamine.charged.hit2, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    // Multiplicative DMG increase requires customDmgNode\r\n    press1: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit1, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(one, nodeC4)\r\n    ), \"skill\"),\r\n    press2: customDmgNode(prod(\r\n      subscript(input.total.skillIndex, datamine.skill.hit2, { key: \"_\" }),\r\n      input.total.atk,\r\n      sum(one, nodeC4)\r\n    ), \"skill\"),\r\n    dmgRed_: nodeSkillDmgRed_,\r\n  },\r\n  passive1: {\r\n    healing: nodeA4Heal\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  }\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      hydro_enemyRes_: nodeC2,\r\n      dmgRed_: infoMut(nodeSkillDmgRed_, { key: \"dmgRed_\" }),\r\n    }\r\n  },\r\n  premod: {\r\n    hydro_dmg_: nodeA4,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: (i === 2 || i === 4) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg1, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.dmg2, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.press1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(1)\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.press2, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n          textSuffix: \"(2)\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: data => data.get(input.constellation).value >= 2\r\n            ? `${datamine.skill.duration}s + ${datamine.constellation2.skill_duration}`\r\n            : `${datamine.skill.duration}`,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.3\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        teamBuff: true,\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        name: trm(\"skillCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: dmgFormulas.skill.dmgRed_,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burstCond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n            }, {\r\n              text: tr(\"burst.skillParams.1\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              node: nodeC4\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.passive1.healing, { key: `sheet_gen:healing` }),\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: nodeA4\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2,\r\n        path: condC2Path,\r\n        teamBuff: true,\r\n        name: trm(\"c2Cond\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC2\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    },\r\n  },\r\n};\r\n\r\nexport default new CharacterSheet(sheet, data);\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Xinyan_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Xinyan\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4\r\n    ]\r\n  },\r\n  charged: {\r\n    spin: skillParam_gen.auto[a++],\r\n    final: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    duration: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    shieldArr: [\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n      { defShield_: skillParam_gen.skill[s++], baseShield: skillParam_gen.skill[s++] },\r\n    ],\r\n    lvl3Dmg: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressPhysDmg: skillParam_gen.burst[b++],\r\n    dotPyroDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    duration: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    physical_dmg_: skillParam_gen.passive2[0][0],\r\n  },\r\n  c1: {\r\n    atkSPD_: skillParam_gen.constellation1[0],\r\n    duration: skillParam_gen.constellation1[1],\r\n    cd: skillParam_gen.constellation1[1],\r\n  },\r\n  c2: {\r\n    burstphysical_critRate_: skillParam_gen.constellation2[0],\r\n  },\r\n  c4: {\r\n    physical_enemyRes_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  c6: {\r\n    staminaChargedDec_: -skillParam_gen.constellation6[0],\r\n    charged_atkBonus: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\n\r\nconst [condSkillHitNumPath, condSkillHitNum] = cond(key, \"skillHitNum\")\r\n\r\nconst [condP2ShieldPath, condP2Shield] = cond(key, \"p2Shield\")\r\nconst p2Shield_physical_dmg_Disp = greaterEq(input.asc, 4, equal(condP2Shield, \"on\", datamine.passive2.physical_dmg_))\r\nconst p2Shield_physical_dmg_ = equal(input.activeCharKey, target.charKey, p2Shield_physical_dmg_Disp)\r\n\r\nconst [condC1CritPath, condC1Crit] = cond(key, \"c1Crit\")\r\nconst c1Crit_atkSPD_ = greaterEq(input.constellation, 1, equal(condC1Crit, \"on\", datamine.c1.atkSPD_))\r\n\r\nconst c2BurstPhysical_critRate_ = greaterEq(input.constellation, 2, datamine.c2.burstphysical_critRate_)\r\n\r\nconst [condC4SkillHitPath, condC4SkillHit] = cond(key, \"c4Burst\")\r\nconst c4SkillHit_physical_enemyRes_ = greaterEq(input.constellation, 4, equal(condC4SkillHit, \"on\", datamine.c4.physical_enemyRes_))\r\n\r\nconst c6_staminaChargedDec_ = greaterEq(input.constellation, 6, datamine.c6.staminaChargedDec_)\r\nconst [condC6ChargedPath, condC6Charged] = cond(key, \"c6Charged\")\r\nconst c6_chargedAtkBonus = greaterEq(input.constellation, 6,\r\n  equal(condC6Charged, \"on\",\r\n    prod(input.total.def, percent(datamine.c6.charged_atkBonus))\r\n  )\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    spin: dmgNode(\"atk\", datamine.charged.spin, \"charged\"),\r\n    final: dmgNode(\"atk\", datamine.charged.final, \"charged\")\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\"),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `normShield${i + 1}`,\r\n      shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"),\r\n    ])),\r\n    ...Object.fromEntries(datamine.skill.shieldArr.map((data, i) => [\r\n      `pyroShield${i + 1}`,\r\n      shieldElement(elementKey, shieldNodeTalent(\"def\", data.defShield_, data.baseShield, \"skill\"))\r\n    ])),\r\n    lvl3Dmg: dmgNode(\"atk\", datamine.skill.lvl3Dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressPhysDmg: dmgNode(\"atk\", datamine.burst.pressPhysDmg, \"burst\", {\r\n      hit: { ele: constant(\"physical\") },\r\n      premod: {\r\n        burst_critRate_: c2BurstPhysical_critRate_,\r\n      }\r\n    }),\r\n    dotPyroDmg: dmgNode(\"atk\", datamine.burst.dotPyroDmg, \"burst\"),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      physical_dmg_: p2Shield_physical_dmg_,\r\n      physical_enemyRes_: c4SkillHit_physical_enemyRes_,\r\n    }\r\n  },\r\n  premod: {\r\n    atkSPD_: c1Crit_atkSPD_,\r\n    staminaChargedDec_: c6_staminaChargedDec_,\r\n    atk: c6_chargedAtkBonus\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\")\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.spin, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.final, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: `${datamine.charged.stamina}/s`,\r\n        }],\r\n      }, ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: c6_staminaChargedDec_\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation6\", {\r\n        value: condC6Charged,\r\n        path: condC6ChargedPath,\r\n        name: trm(\"c6.duringCharge\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c6_chargedAtkBonus\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkillHitNum,\r\n        path: condSkillHitNumPath,\r\n        name: trm(\"skill.shieldLevel\"),\r\n        states: Object.fromEntries(range(1, 3).map(lvl => [ // For each level\r\n          lvl, {\r\n            name: trm(`skill.shieldLevels.${lvl}`),\r\n            fields: [\r\n              ...([\"norm\", \"pyro\"] as const).flatMap(type => ([{ // For each type of shield\r\n                node: infoMut(dmgFormulas.skill[`${type}Shield${lvl}`], // Make the node\r\n                  {\r\n                    key: type === \"norm\" // And change the key to match\r\n                      ? `char_${key}_gen:skill.skillParams.${lvl}`\r\n                      : `char_${key}:skill.pyroShield.${lvl}`\r\n                  }\r\n                )\r\n              },\r\n              ])), {\r\n                text: sgt(\"duration\"),\r\n                value: datamine.skill.duration,\r\n                unit: \"s\",\r\n              },\r\n              // Level 3 damage\r\n              ...lvl === 3 ? [{ node: infoMut(dmgFormulas.skill.lvl3Dmg, { key: `char_${key}_gen:skill.skillParams.4` }) }] : [],\r\n            ]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"passive1\", {\r\n        fields: [{\r\n          text: trm(\"p1.desc\"),\r\n        }]\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condP2Shield,\r\n        path: condP2ShieldPath,\r\n        name: trm(\"p2.activeShield\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(p2Shield_physical_dmg_Disp, { key: \"physical_dmg_\" })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4SkillHit,\r\n        path: condC4SkillHitPath,\r\n        name: trm(\"c4.swingHit\"),\r\n        teamBuff: true,\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c4SkillHit_physical_enemyRes_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.c4.duration,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressPhysDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.dotPyroDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(c2BurstPhysical_critRate_, { key: `char_${key}:c2.key_` }),\r\n        }, {\r\n          text: trm(\"c2.shield\"),\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\", [ct.conditionalTemplate(\"constellation1\", {\r\n        value: condC1Crit,\r\n        path: condC1CritPath,\r\n        name: st(\"hitOp.crit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c1Crit_atkSPD_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.c1.duration,\r\n              unit: \"s\",\r\n            }, {\r\n              text: sgt(\"cd\"),\r\n              value: datamine.c1.cd,\r\n              unit: \"s\",\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yae_Miko_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lessThan, percent, prod } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YaeMiko\"\r\nconst elementKey: ElementKey = \"electro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    dmg3: skillParam_gen.skill[s++],\r\n    dmg4: skillParam_gen.skill[s++],\r\n    duration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    tenkoDmg: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    eleMas_dmg_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    ele_dmg_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    defIgn_: skillParam_gen.constellation6[0],\r\n  }\r\n\r\n} as const\r\n\r\nconst nodeAsc4 = greaterEq(input.asc, 4, prod(input.total.eleMas, percent(datamine.passive2.eleMas_dmg_, { fixed: 2 })))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"hit\", condC4, datamine.constellation4.ele_dmg_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, datamine.constellation6.defIgn_)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg1: lessThan(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg1, \"skill\")),\r\n    dmg2: dmgNode(\"atk\", datamine.skill.dmg2, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg3: dmgNode(\"atk\", datamine.skill.dmg3, \"skill\", { enemy: { defIgn: nodeC6 } }),\r\n    dmg4: greaterEq(input.constellation, 2, dmgNode(\"atk\", datamine.skill.dmg4, \"skill\", { enemy: { defIgn: nodeC6 } })),\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    tenkoDmg: dmgNode(\"atk\", datamine.burst.tenkoDmg, \"burst\"),\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nconst data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5\r\n  },\r\n  total: {\r\n    skill_dmg_: nodeAsc4,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      electro_dmg_: nodeC4\r\n    },\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.4\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg3, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg4, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: datamine.skill.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.cd,\r\n        }],\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.tenkoDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [{ fields: [{ node: nodeAsc4 }] }]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        teamBuff: true,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          hit: {\r\n            fields: [{\r\n              node: nodeC4,\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yanfei_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, customShieldNode, dataObjForCharacterSheet, dmgNode, shieldElement } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Yanfei\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n    ]\r\n  },\r\n  charged: {\r\n    dmgArr: [\r\n      skillParam_gen.auto[a++], // 0 seals\r\n      skillParam_gen.auto[a++], // 1 seal\r\n      skillParam_gen.auto[a++], // 2 seals\r\n      skillParam_gen.auto[a++], // 3 seals\r\n      skillParam_gen.auto[a++], // 4 seals\r\n    ],\r\n    unknown: {\r\n      arr: [\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n        skillParam_gen.auto[a++][0],\r\n      ]\r\n    },\r\n    stamina: skillParam_gen.auto[a++][0],\r\n    sealStaminaRed_: skillParam_gen.auto[a++][0],\r\n    maxSeals: 3,\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  sealDuration: skillParam_gen.auto[a++][0],\r\n  // There is another unknown here for auto\r\n  skill: {\r\n    dmg: skillParam_gen.skill[0],\r\n    cd: skillParam_gen.skill[1][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    charged_dmg_: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    sealInterval: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    seal_pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n  },\r\n  passive2: {\r\n    dmg: percent(skillParam_gen.passive2[0][0])\r\n  },\r\n  c1: {\r\n    sealStaminaRed_: skillParam_gen.constellation1[0]\r\n  },\r\n  c2: {\r\n    hpThresh: skillParam_gen.constellation2[0],\r\n    charged_critRate_: skillParam_gen.constellation2[1]\r\n  },\r\n  c4: {\r\n    hpShield_: skillParam_gen.constellation4[0],\r\n    duration: 15,\r\n  },\r\n  c6: {\r\n    extraSeals: skillParam_gen.constellation6[0]\r\n  }\r\n} as const\r\n\r\nconst [condAfterBurstPath, condAfterBurst] = cond(key, \"afterBurst\")\r\nconst afterBurst_charged_dmg_ = equal(condAfterBurst, \"on\",\r\n  subscript(input.total.burstIndex, datamine.burst.charged_dmg_)\r\n)\r\n\r\nconst [condP1SealsPath, condP1Seals] = cond(key, \"p1Seals\")\r\nconst p1_pyro_dmg_ = greaterEq(input.asc, 1,\r\n  // TODO: Should be changing number of seals shown based on C6\r\n  lookup(condP1Seals, Object.fromEntries(range(1, 4).map(seals => [\r\n    seals,\r\n    prod(seals, datamine.passive1.seal_pyro_dmg_)\r\n  ])), naught)\r\n)\r\n\r\nconst [condP2ChargedCritPath, condP2ChargedCrit] = cond(key, \"p2ChargedCrit\")\r\n\r\nconst [condC2EnemyHpPath, condC2EnemyHp] = cond(key, \"c2EnemyHp\")\r\nconst c2EnemyHp_critRate_ = greaterEq(input.constellation, 2,\r\n  equal(condC2EnemyHp, \"on\", datamine.c2.charged_critRate_)\r\n)\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: Object.fromEntries(datamine.charged.dmgArr.map((arr, i) =>\r\n    [i, i < 4\r\n      ? dmgNode(\"atk\", arr, \"charged\")\r\n      : greaterEq(input.constellation, 6, dmgNode(\"atk\", arr, \"charged\"))\r\n    ])),\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"atk\", datamine.skill.dmg, \"skill\")\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\")\r\n  },\r\n  passive2: {\r\n    dmg: greaterEq(input.asc, 4, equal(condP2ChargedCrit, \"on\",\r\n      customDmgNode(prod(input.total.atk, datamine.passive2.dmg), \"charged\")\r\n    ))\r\n  },\r\n  constellation4: {\r\n    pyro_shield: greaterEq(input.constellation, 4,\r\n      shieldElement(elementKey, customShieldNode(prod(input.total.hp, datamine.c4.hpShield_)))\r\n    ),\r\n    norm_shield: greaterEq(input.constellation, 4,\r\n      customShieldNode(prod(input.total.hp, datamine.c4.hpShield_))\r\n    ),\r\n  },\r\n} as const\r\n\r\nconst skillC3 = greaterEq(input.constellation, 3, 3)\r\nconst burstC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC3,\r\n    burst: burstC5,\r\n  },\r\n  premod: {\r\n    charged_dmg_: afterBurst_charged_dmg_,\r\n    charged_critRate_: c2EnemyHp_critRate_,\r\n    pyro_dmg_: p1_pyro_dmg_,\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [\r\n          // TODO: Would probably be better as a conditional,\r\n          // but can't make conditional states based on constellation value\r\n          ...datamine.charged.dmgArr.map((_, i) => ({\r\n            node: infoMut(dmgFormulas.charged[i], { key: `char_${key}:charged.${i}` }),\r\n          })), {\r\n            text: tr(\"auto.skillParams.4\"),\r\n            // TODO: Should change this value based on how many seals, but can't do without conditional\r\n            // charged attack. And its a bit execssive.\r\n            value: datamine.charged.stamina,\r\n          }, {\r\n            text: st(\"staminaDec_\"),\r\n            value: datamine.charged.sealStaminaRed_ * 100,\r\n            textSuffix: trm(\"perSeal\"),\r\n            unit: \"%\",\r\n          }, {\r\n            text: trm(\"maxSeals\"),\r\n            value: data => data.get(input.constellation).value >= 6\r\n              ? datamine.charged.maxSeals + datamine.c6.extraSeals\r\n              : datamine.charged.maxSeals,\r\n          }, {\r\n            text: tr(\"auto.skillParams.6\"),\r\n            value: datamine.sealDuration,\r\n            unit: \"s\"\r\n          }],\r\n      }, ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1Seals,\r\n        path: condP1SealsPath,\r\n        name: trm(\"passive1.sealsConsumed\"),\r\n        // TODO: Should be changing number of seals shown based on C6\r\n        states: Object.fromEntries(range(1, 4).map(seals => [\r\n          seals, {\r\n            name: trm(`seals.${seals}`),\r\n            fields: [{\r\n              node: p1_pyro_dmg_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.conditionalTemplate(\"passive2\", {\r\n        value: condP2ChargedCrit,\r\n        path: condP2ChargedCritPath,\r\n        name: trm(\"passive2.chargedCrit\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.passive2.dmg, { key: `char_${key}:passive2.key` })\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: trm(\"c1.sealChargedStam_\"),\r\n          value: datamine.c1.sealStaminaRed_ * -100,\r\n          textSuffix: trm(\"perSeal\"),\r\n          unit: \"%\"\r\n        }, {\r\n          text: st(\"incInterRes\")\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation2\", {\r\n        value: condC2EnemyHp,\r\n        path: condC2EnemyHpPath,\r\n        name: st(\"enemyLessPercentHP\", { percent: datamine.c2.hpThresh * 100 }),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: c2EnemyHp_critRate_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        fields: [{\r\n          text: trm(\"c6.maxSealInc\"),\r\n          value: datamine.c6.extraSeals\r\n        }]\r\n      }), {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\",\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: trm(\"burst.grantMax\")\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\",\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        value: condAfterBurst,\r\n        path: condAfterBurstPath,\r\n        name: st(\"afterUse.burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.sealInterval,\r\n              unit: \"s\"\r\n            }, {\r\n              node: afterBurst_charged_dmg_\r\n            }]\r\n          }\r\n        }\r\n      }), ct.headerTemplate(\"constellation4\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation4.norm_shield, { key: \"sheet_gen:dmgAbsorption\" })\r\n        }, {\r\n          node: infoMut(dmgFormulas.constellation4.pyro_shield, { key: `sheet:dmgAbsorption.${elementKey}` })\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.c4.duration,\r\n          unit: \"s\"\r\n        }]\r\n      })]),\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: skillC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: burstC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  }\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yelan_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally, target } from '../../../Formula'\r\nimport { constant, equal, greaterEq, infoMut, lookup, naught, percent, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Yelan\"\r\nconst elementKey: ElementKey = \"hydro\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3\r\n      skillParam_gen.auto[a++], // 4x3\r\n    ]\r\n  },\r\n  charged: {\r\n    aimed: skillParam_gen.auto[a++],\r\n    aimedCharged: skillParam_gen.auto[a++],\r\n    barb: skillParam_gen.auto[a++],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    dmg: skillParam_gen.skill[s++],\r\n    resetChance: skillParam_gen.skill[s++][0],\r\n    maxDuration: skillParam_gen.skill[s++][0],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    pressDmg: skillParam_gen.burst[b++],\r\n    throwDmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    hp_Arr: [0, ...skillParam_gen.passive1.map(([a]) => a)],\r\n  },\r\n  passive2: {\r\n    baseDmg_: skillParam_gen.passive2[0][0],\r\n    stackDmg_: skillParam_gen.passive2[1][0],\r\n    maxDmg_: skillParam_gen.passive2[2][0],\r\n    maxStacks: 14,\r\n  },\r\n  constellation1: {\r\n    addlCharge: skillParam_gen.constellation1[0],\r\n  },\r\n  constellation2: {\r\n    arrowDmg_: skillParam_gen.constellation2[0],\r\n    cd: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation4: {\r\n    bonusHp_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n    maxHp_: skillParam_gen.constellation4[2],\r\n    maxStacks: 4,\r\n  },\r\n  constellation6: {\r\n    charges: skillParam_gen.constellation6[0],\r\n    duration: skillParam_gen.constellation6[1],\r\n    dmg_: skillParam_gen.constellation6[2],\r\n  }\r\n}\r\n\r\nconst a1_hp_ = greaterEq(input.asc, 1, subscript(tally.ele, datamine.passive1.hp_Arr))\r\n\r\nconst [condA4StacksPath, condA4Stacks] = cond(key, \"a4Stacks\")\r\nconst a4Stacks = range(0, datamine.passive2.maxStacks)\r\nconst a4Dmg_Disp = greaterEq(input.asc, 4,\r\n  lookup(condA4Stacks, Object.fromEntries(a4Stacks.map(stacks => [\r\n    stacks,\r\n    sum(percent(datamine.passive2.baseDmg_), prod(stacks, percent(datamine.passive2.stackDmg_)))\r\n  ])),\r\n    naught)\r\n)\r\nconst a4Dmg = equal(target.charKey, input.activeCharKey, a4Dmg_Disp)\r\n\r\nconst [condC4StacksPath, condC4Stacks] = cond(key, \"c4Stacks\")\r\nconst c4Stacks = range(1, datamine.constellation4.maxStacks)\r\nconst c4Hp_ = greaterEq(input.constellation, 4,\r\n  lookup(condC4Stacks, Object.fromEntries(c4Stacks.map(stacks => [\r\n    stacks,\r\n    prod(stacks, percent(datamine.constellation4.bonusHp_))\r\n  ])),\r\n    naught)\r\n)\r\n\r\nconst [condC6ActivePath, condC6Active] = cond(key, \"c6Active\")\r\nconst c6Active = greaterEq(input.constellation, 6, equal(condC6Active, \"on\", 1))\r\n\r\nconst hitEle = { hit: { ele: constant(elementKey) } }\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, unequal(c6Active, 1, dmgNode(\"atk\", arr, \"normal\"))])),\r\n  charged: {\r\n    aimed: dmgNode(\"atk\", datamine.charged.aimed, \"charged\"),\r\n    aimedCharged: dmgNode(\"atk\", datamine.charged.aimedCharged, \"charged\", hitEle),\r\n    barb: dmgNode(\"hp\", datamine.charged.barb, \"charged\", hitEle),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"hp\", datamine.skill.dmg, \"skill\"),\r\n  },\r\n  burst: {\r\n    pressDmg: dmgNode(\"hp\", datamine.burst.pressDmg, \"burst\"),\r\n    throwDmg: dmgNode(\"hp\", datamine.burst.throwDmg, \"burst\"),\r\n  },\r\n  constellation2: {\r\n    arrowDmg: greaterEq(input.constellation, 2, customDmgNode(\r\n      prod(\r\n        percent(datamine.constellation2.arrowDmg_),\r\n        input.total.hp\r\n      ),\r\n      \"burst\",\r\n      hitEle\r\n    ))\r\n  },\r\n  constellation6: {\r\n    barbDmg: equal(c6Active, 1, customDmgNode(\r\n      prod(\r\n        subscript(input.total.autoIndex, datamine.charged.barb, { key: \"_\" }),\r\n        percent(datamine.constellation6.dmg_),\r\n        input.total.hp\r\n      ),\r\n      \"charged\",\r\n      hitEle\r\n    )),\r\n  },\r\n}\r\n\r\nconst burstC3 = greaterEq(input.constellation, 3, 3)\r\nconst skillC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: skillC5,\r\n    burst: burstC3,\r\n  },\r\n  premod: {\r\n    hp_: a1_hp_,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      all_dmg_: a4Dmg,\r\n      hp_: c4Hp_,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        canShow: unequal(c6Active, 1, 1),\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 3 ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, ct.conditionalTemplate(\"constellation6\", {\r\n        path: condC6ActivePath,\r\n        value: condC6Active,\r\n        name: trm(\"c6.condName\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: infoMut(dmgFormulas.constellation6.barbDmg, { key: `char_${key}:c6.dmg` }),\r\n            }, {\r\n              text: st(\"charges\"),\r\n              value: datamine.constellation6.charges,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation6.duration\r\n            }]\r\n          }\r\n        }\r\n      }), {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.aimed, { key: `char_${key}_gen:auto.skillParams.4` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.aimedCharged, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.breakthrough`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.barb, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.1\"),\r\n          value: datamine.skill.maxDuration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.skill.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          canShow: (data) => data.get(input.constellation).value >= 1,\r\n          text: st(\"charges\"),\r\n          value: 2\r\n        }]\r\n      }, ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"addlCharge\"),\r\n          value: datamine.constellation1.addlCharge,\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        path: condC4StacksPath,\r\n        value: condC4Stacks,\r\n        teamBuff: true,\r\n        name: trm(\"c4.condName\"),\r\n        states: Object.fromEntries(c4Stacks.map(stacks => [\r\n          stacks,\r\n          {\r\n            name: st(\"stack\", { count: stacks }),\r\n            fields: [{\r\n              node: c4Hp_,\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        ]))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.pressDmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.throwDmg, { key: `char_${key}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: sgt(\"duration\"),\r\n          value: datamine.burst.duration,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: sgt(\"energyCost\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"passive2\", {\r\n        path: condA4StacksPath,\r\n        value: condA4Stacks,\r\n        teamBuff: true,\r\n        name: st(\"afterUse.burst\"),\r\n        states: Object.fromEntries(a4Stacks.map(stack => [\r\n          stack,\r\n          {\r\n            name: st(\"seconds\", { count: stack }),\r\n            fields: [{\r\n              node: infoMut(a4Dmg_Disp, { key: \"all_dmg_\" }),\r\n            }]\r\n          }\r\n        ]))\r\n      }), ct.headerTemplate(\"constellation2\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation2.arrowDmg, { key: `char_${key}:c2.dmg` })\r\n        }, {\r\n          text: sgt(\"cd\"),\r\n          value: datamine.constellation2.cd,\r\n          unit: \"s\",\r\n          fixed: 1,\r\n        }]\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.fieldsTemplate(\"passive1\", {\r\n        fields: [{\r\n          node: a1_hp_\r\n        }]\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\"),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: burstC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: skillC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yoimiya_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { compareEq, constant, equal, equalStr, greaterEq, infoMut, lookup, one, percent, prod, subscript, sum, unequal } from \"../../../Formula/utils\"\r\nimport { CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { INodeFieldDisplay } from '../../../Types/fieldDisplay'\r\nimport { range } from '../../../Util/Util'\r\nimport { cond, sgt, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customDmgNode, dataObjForCharacterSheet, dmgNode } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst characterKey: CharacterKey = \"Yoimiya\"\r\nconst elementKey: ElementKey = \"pyro\"\r\nconst data_gen = data_gen_src as CharacterData\r\nconst [tr, trm] = trans(\"char\", characterKey)\r\nconst ct = charTemplates(characterKey, data_gen.weaponTypeKey, talentAssets)\r\n\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[0], //x2\r\n      skillParam_gen.auto[1],\r\n      skillParam_gen.auto[2],\r\n      skillParam_gen.auto[3], //x2\r\n      skillParam_gen.auto[4],\r\n    ]\r\n  },\r\n  charged: {\r\n    hit: skillParam_gen.auto[5],\r\n    full: skillParam_gen.auto[6],\r\n    kindling: skillParam_gen.auto[7],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[8],\r\n    low: skillParam_gen.auto[9],\r\n    high: skillParam_gen.auto[10],\r\n  },\r\n  skill: {\r\n    dmg_: skillParam_gen.skill[3],\r\n    duration: skillParam_gen.skill[1][0],\r\n    cd: skillParam_gen.skill[2][0]\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[0],\r\n    exp: skillParam_gen.burst[1],\r\n    duration: skillParam_gen.burst[3][0],\r\n    cd: skillParam_gen.burst[4][0],\r\n    cost: skillParam_gen.burst[5][0]\r\n  },\r\n  passive1: {\r\n    pyro_dmg_: skillParam_gen.passive1[0][0],\r\n    duration: skillParam_gen.passive1[1][0],\r\n    maxStacks: 10,\r\n  },\r\n  passive2: {\r\n    fixed_atk_: skillParam_gen.passive2[0][0],\r\n    var_atk_: skillParam_gen.passive2[1][0],\r\n    duration: skillParam_gen.passive2[2][0],\r\n  },\r\n  constellation1: {\r\n    burst_durationInc: skillParam_gen.constellation1[0],\r\n    atk_: skillParam_gen.constellation1[1],\r\n    duration: skillParam_gen.constellation1[2]\r\n  },\r\n  constellation2: {\r\n    pyro_dmg_: skillParam_gen.constellation2[0],\r\n    duration: skillParam_gen.constellation2[1],\r\n  },\r\n  constellation3: {},\r\n  constellation4: {\r\n    cdRed: skillParam_gen.constellation4[0]\r\n  },\r\n  constellation5: {},\r\n  constellation6: {\r\n    chance: skillParam_gen.constellation6[0],\r\n    dmg_: skillParam_gen.constellation6[1],\r\n  },\r\n}\r\n\r\nconst [condSkillPath, condSkill] = cond(characterKey, \"skill\")\r\nconst [condBurstPath, condBurst] = cond(characterKey, \"burst\")\r\nconst [condA1Path, condA1] = cond(characterKey, \"a1\")\r\nconst [condC1Path, condC1] = cond(characterKey, \"c1\")\r\nconst [condC2Path, condC2] = cond(characterKey, \"c2\")\r\nconst const3TalentInc = greaterEq(input.constellation, 3, 3)\r\nconst const5TalentInc = greaterEq(input.constellation, 5, 3)\r\nconst normal_dmgMult = compareEq(condSkill, \"skill\", subscript(input.total.skillIndex, datamine.skill.dmg_, { key: `char_${characterKey}:normMult_` }), one)\r\nconst a1Stacks = lookup(condA1, Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i => [i, constant(i)])), 0)\r\nconst pyro_dmg_ = greaterEq(input.asc, 1, equal(condSkill, \"skill\", infoMut(prod(percent(datamine.passive1.pyro_dmg_), a1Stacks), { key: 'pyro_dmg_', variant: elementKey })))\r\nconst atk_ = greaterEq(input.asc, 4, equal(condBurst, \"on\", unequal(input.activeCharKey, characterKey,\r\n  sum(percent(datamine.passive2.fixed_atk_), prod(percent(datamine.passive2.var_atk_), a1Stacks)))))\r\nconst c1atk_ = equal(condC1, 'c1', percent(datamine.constellation1.atk_))\r\nconst c2pyro_dmg_ = equal(condC2, 'c2', percent(datamine.constellation2.pyro_dmg_), { key: 'pyro_dmg_', variant: elementKey })\r\n\r\nconst normalEntries = datamine.normal.hitArr.map((arr, i) => [\r\n  i,\r\n  customDmgNode(\r\n    prod(subscript(input.total.autoIndex, arr, { key: \"_\" }), input.total.atk, normal_dmgMult),\r\n    \"normal\", {\r\n    hit: {\r\n      ele: compareEq(condSkill, \"skill\", elementKey, \"physical\")\r\n    }\r\n  })\r\n])\r\n\r\n// This might just need to be a single dmgNode of her kindling arrow, with proper scaling applied.\r\nconst kindlingEntries = datamine.normal.hitArr.map((arr, i) => [i, greaterEq(input.constellation, 6,\r\n  equal(condSkill, \"skill\",\r\n    customDmgNode(\r\n      prod(\r\n        subscript(input.total.autoIndex, arr, { key: \"_\" }),\r\n        constant(datamine.constellation6.dmg_, { key: `char_${characterKey}:c6Key_` }),\r\n        input.total.atk,\r\n        normal_dmgMult\r\n      ),\r\n      \"normal\"\r\n    )\r\n  )\r\n)])\r\n\r\nconst skillInfusion = equalStr(condSkill, \"skill\", elementKey)\r\n\r\nexport const dmgFormulas = {\r\n  normal: Object.fromEntries(normalEntries),\r\n  charged: {\r\n    hit: dmgNode(\"atk\", datamine.charged.hit, \"charged\"),\r\n    full: dmgNode(\"atk\", datamine.charged.full, \"charged\", { hit: { ele: constant(elementKey) } }),\r\n    kindling: unequal(condSkill, \"skill\", dmgNode(\"atk\", datamine.charged.kindling, \"charged\", { hit: { ele: constant(elementKey) } }))\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {},\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n    exp: dmgNode(\"atk\", datamine.burst.exp, \"burst\", { hit: { ele: constant(elementKey) } }),\r\n  },\r\n  constellation6: Object.fromEntries(kindlingEntries)\r\n}\r\n\r\nexport const dataObj = dataObjForCharacterSheet(characterKey, elementKey, \"inazuma\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: const3TalentInc,\r\n    burst: const5TalentInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      atk_,\r\n    }\r\n  },\r\n  premod: {\r\n    atk_: c1atk_,\r\n    pyro_dmg_: sum(pyro_dmg_, c2pyro_dmg_),\r\n  },\r\n  infusion: {\r\n    nonOverridableSelf: skillInfusion\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.hit, { key: `char_${characterKey}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.full, { key: `char_${characterKey}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.charged.kindling, { key: `char_${characterKey}_gen:auto.skillParams.7` }),\r\n        }],\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          text: tr(\"skill.skillParams.2\"),\r\n          value: datamine.skill.cd,\r\n          unit: 's'\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        name: st(\"afterUse.skill\"),\r\n        path: condSkillPath,\r\n        value: condSkill,\r\n        states: {\r\n          skill: {\r\n            fields: [{\r\n              node: normal_dmgMult\r\n            }, {\r\n              text: trm(\"normPyroInfus\"),\r\n            }, {\r\n              text: tr(\"skill.skillParams.1\"),\r\n              value: datamine.skill.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        // Conditional for self display\r\n        canShow: equal(condSkill, \"skill\", 1),\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: tr(\"passive1.name\"),\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: `${i} stack`,\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }]\r\n        ))\r\n      }), ct.headerTemplate(\"constellation6\", {\r\n        canShow: equal(condSkill, \"skill\", 1),\r\n        fields: datamine.normal.hitArr.map((_, i): INodeFieldDisplay => ({\r\n          node: infoMut(dmgFormulas.constellation6[i], { key: `char_${characterKey}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: ([0, 3].includes(i)) ? st(\"brHits\", { count: 2 }) : \"\"\r\n        }))\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${characterKey}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.burst.exp, { key: `char_${characterKey}_gen:burst.skillParams.1` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: uiData => datamine.burst.duration + (uiData.get(input.constellation).value >= 1 ? datamine.constellation1.burst_durationInc : 0),\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: 60,\r\n        }]\r\n      }, ct.headerTemplate(\"constellation1\", {\r\n        fields: [{\r\n          text: st(\"durationInc\"),\r\n          value: datamine.constellation1.burst_durationInc,\r\n          unit: \"s\"\r\n        }]\r\n      }), ct.conditionalTemplate(\"constellation1\", {\r\n        name: trm(\"c1\"),\r\n        value: condC1,\r\n        path: condC1Path,\r\n        states: {\r\n          c1: {\r\n            fields: [{\r\n              node: constant(datamine.constellation1.atk_, { key: \"atk_\" })\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation1.duration,\r\n              unit: 's'\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.conditionalTemplate(\"passive2\", {\r\n        teamBuff: true,\r\n        // Hide for Yoimiya\r\n        canShow: unequal(input.activeCharKey, characterKey, 1),\r\n        path: condBurstPath,\r\n        value: condBurst,\r\n        name: tr(\"burst.name\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: atk_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"passive1\", {\r\n        // Conditional from P1 for team buff display when P2 is activated\r\n        canShow: unequal(input.activeCharKey, characterKey,\r\n          equal(condBurst, \"on\", greaterEq(input.asc, 4, 1))\r\n        ),\r\n        teamBuff: true,\r\n        value: condA1,\r\n        path: condA1Path,\r\n        name: tr(\"passive1.name\"),\r\n        states: Object.fromEntries(range(1, datamine.passive1.maxStacks).map(i =>\r\n          [i, {\r\n            name: `${i} stack`,\r\n            fields: [{\r\n              node: pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.passive1.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }]\r\n        ))\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [ct.conditionalTemplate(\"constellation2\", {\r\n        name: trm(\"c2\"),\r\n        value: condC2,\r\n        path: condC2Path,\r\n        states: {\r\n          c2: {\r\n            fields: [{\r\n              node: c2pyro_dmg_\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation2.duration,\r\n              unit: \"s\"\r\n            }]\r\n          }\r\n        }\r\n      })]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: const3TalentInc }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: const5TalentInc }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\")\r\n    },\r\n  },\r\n}\r\n\r\nexport default new CharacterSheet(sheet, dataObj)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Yun_Jin_Card.jpg'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input, tally } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, prod, subscript, sum, unequal } from '../../../Formula/utils'\r\nimport { allElements, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { cond, sgt, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\n\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"YunJin\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++], // 1\r\n      skillParam_gen.auto[a++], // 2\r\n      skillParam_gen.auto[a++], // 3.1\r\n      skillParam_gen.auto[a++], // 3.2\r\n      skillParam_gen.auto[a++], // 4.1\r\n      skillParam_gen.auto[a++], // 4.2\r\n      skillParam_gen.auto[a++], // 5\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    shield_: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    dmg: skillParam_gen.skill[s++],\r\n    dmg1: skillParam_gen.skill[s++],\r\n    dmg2: skillParam_gen.skill[s++],\r\n    cd: skillParam_gen.skill[s++][0],\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    dmgInc: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++][0],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n    triggerNum: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive2: {\r\n    dmgInc: skillParam_gen.passive2.map(a => a[0]),\r\n  },\r\n  constellation2: {\r\n    normalInc: skillParam_gen.constellation2[0],\r\n  },\r\n  constellation4: {\r\n    def_: skillParam_gen.constellation4[0],\r\n    duration: skillParam_gen.constellation4[1],\r\n  },\r\n  constellation6: {\r\n    atkSpd: skillParam_gen.constellation6[0],\r\n  }\r\n} as const\r\n\r\nconst nodeA4 = greaterEq(input.asc, 4,\r\n  subscript(sum(...allElements.map(ele => greaterEq(tally[ele], 1, 1))), [0, ...datamine.passive2.dmgInc], { key: '_' }))\r\n\r\nconst [condBurstPath, condBurst] = cond(key, \"skill\")\r\nconst nodeSkill = equal(\"on\", condBurst, sum(\r\n  prod(input.premod.def, sum(subscript(input.total.burstIndex, datamine.burst.dmgInc, { key: '_' }), nodeA4))))\r\n\r\nconst nodeC2 = greaterEq(input.constellation, 2, equal(\"on\", condBurst, datamine.constellation2.normalInc))\r\n\r\nconst [condC4Path, condC4] = cond(key, \"c4\")\r\nconst nodeC4 = greaterEq(input.constellation, 4, equal(\"on\", condC4, datamine.constellation4.def_))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6, equal(\"on\", condBurst, datamine.constellation6.atkSpd))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    dmg: dmgNode(\"def\", datamine.skill.dmg, \"skill\"),\r\n    dmg1: dmgNode(\"def\", datamine.skill.dmg1, \"skill\"),\r\n    dmg2: dmgNode(\"def\", datamine.skill.dmg2, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n    dmgInc: nodeSkill\r\n  },\r\n}\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC5,\r\n    burst: nodeC3,\r\n  },\r\n  premod: {\r\n    def_: nodeC4,\r\n    atkSPD_: nodeC6,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      normal_dmgInc: nodeSkill,\r\n      normal_dmg_: nodeC2,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"F\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i + (i > 2 ? -1 : 0) + (i > 4 ? -1 : 0)}` }),\r\n          textSuffix: (i === 2 || i === 4) ? \"(1)\" : (i === 3 || i === 5) ? \"(2)\" : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.5` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.6\"),\r\n          value: datamine.charged.stamina,\r\n        }],\r\n      }, {\r\n        text: tr(\"auto.fields.plunging\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }],\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.dmg, { key: `char_${key}_gen:skill.skillParams.0` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg1, { key: `char_${key}_gen:skill.skillParams.1` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.dmg2, { key: `char_${key}_gen:skill.skillParams.2` }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `char_${key}_gen:skill.skillParams.3` }),\r\n        }, {\r\n          text: tr(\"skill.skillParams.4\"),\r\n          value: data => data.get(input.constellation).value >= 1\r\n            ? `${datamine.skill.cd} - 18% = ${(datamine.skill.cd * (1 - 0.18)).toFixed(2)}`\r\n            : `${datamine.skill.cd}`,\r\n          unit: \"s\"\r\n        }]\r\n      }]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` }),\r\n        }, {\r\n          text: tr(\"burst.skillParams.4\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.5\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }, ct.conditionalTemplate(\"burst\", {\r\n        teamBuff: true,\r\n        value: condBurst,\r\n        path: condBurstPath,\r\n        name: trm(\"burst\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeSkill\r\n            }, {\r\n              node: nodeC2\r\n            }, {\r\n              node: nodeC6\r\n            }, {\r\n              text: tr(\"burst.skillParams.2\"),\r\n              value: datamine.burst.duration,\r\n              unit: \"s\"\r\n            }, {\r\n              text: tr(\"burst.skillParams.3\"),\r\n              value: datamine.burst.triggerNum,\r\n            }]\r\n          }\r\n        }\r\n      }), ct.conditionalTemplate(\"constellation4\", {\r\n        // C4 conditional in teambuff panel if burst is enabled\r\n        teamBuff: true,\r\n        canShow: unequal(input.activeCharKey, key, equal(condBurst, \"on\", 1)),\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      })\r\n    ]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\"),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{ node: infoMut(nodeA4, { key: `char_${key}:a4Inc_` }) }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\", [{ fields: [{ node: nodeC2 }] }]),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\", [ct.conditionalTemplate(\"constellation4\", {\r\n        value: condC4,\r\n        path: condC4Path,\r\n        name: trm(\"c4\"),\r\n        states: {\r\n          on: {\r\n            fields: [{\r\n              node: nodeC4\r\n            }, {\r\n              text: sgt(\"duration\"),\r\n              value: datamine.constellation4.duration,\r\n              unit: \"s\"\r\n            },]\r\n          }\r\n        }\r\n      })]),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\"),\r\n    }\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { TalentSheetElementKey } from '../CharacterSheet'\r\nimport banner from './Banner.png'\r\nimport burst from './burst.png'\r\nimport card from './Character_Zhongli_Card.png'\r\nimport constellation1 from './constellation1.png'\r\nimport constellation2 from './constellation2.png'\r\nimport constellation3 from './constellation3.png'\r\nimport constellation4 from './constellation4.png'\r\nimport constellation5 from './constellation5.png'\r\nimport constellation6 from './constellation6.png'\r\nimport thumb from './Icon.png'\r\nimport thumbSide from './IconSide.png'\r\nimport passive1 from './passive1.png'\r\nimport passive2 from './passive2.png'\r\nimport passive3 from './passive3.png'\r\nimport skill from './skill.png'\r\n\r\nconst talentAssets: Partial<Record<TalentSheetElementKey, string>> = {\r\n  constellation1, constellation2, constellation3, constellation4, constellation5, constellation6, skill, burst, passive1, passive2, passive3\r\n}\r\n\r\nexport { card, thumb, thumbSide, banner, talentAssets }\r\n","import { CharacterData } from 'pipeline'\r\nimport { input } from '../../../Formula'\r\nimport { equal, greaterEq, infoMut, lookup, naught, percent, prod } from '../../../Formula/utils'\r\nimport { allElementsWithPhy, CharacterKey, ElementKey } from '../../../Types/consts'\r\nimport { objectKeyMap, objectKeyValueMap, range } from '../../../Util/Util'\r\nimport { cond, st, trans } from '../../SheetUtil'\r\nimport CharacterSheet, { charTemplates, ICharacterSheet } from '../CharacterSheet'\r\nimport { customHealNode, dataObjForCharacterSheet, dmgNode, shieldElement, shieldNodeTalent } from '../dataUtil'\r\nimport { banner, card, talentAssets, thumb, thumbSide } from './assets'\r\nimport data_gen_src from './data_gen.json'\r\nimport skillParam_gen from './skillParam_gen.json'\r\nconst data_gen = data_gen_src as CharacterData\r\n\r\nconst key: CharacterKey = \"Zhongli\"\r\nconst elementKey: ElementKey = \"geo\"\r\nconst [tr, trm] = trans(\"char\", key)\r\nconst ct = charTemplates(key, data_gen.weaponTypeKey, talentAssets)\r\n\r\nlet a = 0, s = 0, b = 0, p1 = 0, p2 = 0\r\nconst datamine = {\r\n  normal: {\r\n    hitArr: [\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n      skillParam_gen.auto[a++],\r\n    ]\r\n  },\r\n  charged: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    stamina: skillParam_gen.auto[a++][0],\r\n  },\r\n  plunging: {\r\n    dmg: skillParam_gen.auto[a++],\r\n    low: skillParam_gen.auto[a++],\r\n    high: skillParam_gen.auto[a++],\r\n  },\r\n  skill: {\r\n    stele: skillParam_gen.skill[s++],\r\n    resonance: skillParam_gen.skill[s++],\r\n    pressCD: skillParam_gen.skill[s++][0],\r\n    holdDMG: skillParam_gen.skill[s++],\r\n    shield: skillParam_gen.skill[s++],\r\n    shield_: skillParam_gen.skill[s++],\r\n    shileDuration: skillParam_gen.skill[s++][0],\r\n    holdCD: skillParam_gen.skill[s++][0],\r\n    enemyRes_: -0.2,\r\n  },\r\n  burst: {\r\n    dmg: skillParam_gen.burst[b++],\r\n    duration: skillParam_gen.burst[b++],\r\n    cd: skillParam_gen.burst[b++][0],\r\n    enerCost: skillParam_gen.burst[b++][0],\r\n  },\r\n  passive1: {\r\n    shield_: skillParam_gen.passive1[p1++][0],\r\n  },\r\n  passive2: {\r\n    auto_: skillParam_gen.passive2[p2++][0],\r\n    skill_: skillParam_gen.passive2[p2++][0],\r\n    burst_: skillParam_gen.passive2[p2++][0],\r\n  },\r\n  constellation4: {\r\n    durationInc: skillParam_gen.constellation4[1]\r\n  },\r\n  constellation6: {\r\n    hp_: skillParam_gen.constellation6[1]\r\n  }\r\n} as const\r\nconst [condSkillPath, condSkill] = cond(key, \"skill\")\r\nconst nodesSkill = objectKeyValueMap(allElementsWithPhy, k => [`${k}_enemyRes_`,\r\nequal(\"on\", condSkill, percent(datamine.skill.enemyRes_))])\r\n\r\nconst [condP1Path, condP1] = cond(key, \"p1\")\r\nconst nodeP1 = greaterEq(\r\n  input.asc, 1,\r\n  lookup(condP1, objectKeyMap(range(1, 5), i => percent(datamine.passive1.shield_ * i)), naught)\r\n)\r\n\r\nconst p4AutoDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.auto_), input.premod.hp))\r\nconst p4normalDmgInc = { ...p4AutoDmgInc }\r\nconst p4ChargedDmgInc = { ...p4AutoDmgInc }\r\nconst p4PlungingDmgInc = { ...p4AutoDmgInc }\r\nconst p4SKillDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.skill_), input.premod.hp))\r\nconst p4BurstDmgInc = greaterEq(input.asc, 4, prod(percent(datamine.passive2.burst_), input.premod.hp))\r\n\r\nconst nodeC6 = greaterEq(input.constellation, 6,\r\n  customHealNode(prod(\r\n    percent(datamine.constellation6.hp_),\r\n    input.total.hp\r\n  )))\r\n\r\nconst dmgFormulas = {\r\n  normal: Object.fromEntries(datamine.normal.hitArr.map((arr, i) =>\r\n    [i, dmgNode(\"atk\", arr, \"normal\")])),\r\n  charged: {\r\n    dmg: dmgNode(\"atk\", datamine.charged.dmg, \"charged\"),\r\n  },\r\n  plunging: Object.fromEntries(Object.entries(datamine.plunging).map(([key, value]) =>\r\n    [key, dmgNode(\"atk\", value, \"plunging\")])),\r\n  skill: {\r\n    stele: dmgNode(\"atk\", datamine.skill.stele, \"skill\"),\r\n    resonance: dmgNode(\"atk\", datamine.skill.resonance, \"skill\"),\r\n    holdDMG: dmgNode(\"atk\", datamine.skill.holdDMG, \"skill\"),\r\n    shield: shieldElement(\"geo\", shieldNodeTalent(\"hp\", datamine.skill.shield_, datamine.skill.shield, \"skill\"))\r\n  },\r\n  burst: {\r\n    dmg: dmgNode(\"atk\", datamine.burst.dmg, \"burst\"),\r\n  },\r\n  passive2: {\r\n    p4normalDmgInc,\r\n    p4ChargedDmgInc,\r\n    p4PlungingDmgInc,\r\n    p4SKillDmgInc,\r\n    p4BurstDmgInc,\r\n  },\r\n  constellation6: {\r\n    heal: nodeC6\r\n  }\r\n}\r\n\r\nconst nodeC3 = greaterEq(input.constellation, 3, 3)\r\nconst nodeC5 = greaterEq(input.constellation, 5, 3)\r\n\r\nexport const data = dataObjForCharacterSheet(key, elementKey, \"liyue\", data_gen, dmgFormulas, {\r\n  bonus: {\r\n    skill: nodeC3,\r\n    burst: nodeC5,\r\n  },\r\n  premod: {\r\n    // TODO: below should be for `total`\r\n    normal_dmgInc: p4normalDmgInc,\r\n    charged_dmgInc: p4ChargedDmgInc,\r\n    plunging_dmgInc: p4PlungingDmgInc,\r\n    skill_dmgInc: p4SKillDmgInc,\r\n    burst_dmgInc: p4BurstDmgInc,\r\n  },\r\n  teamBuff: {\r\n    premod: {\r\n      shield_: nodeP1,\r\n      ...nodesSkill,\r\n    }\r\n  }\r\n})\r\n\r\nconst sheet: ICharacterSheet = {\r\n  name: tr(\"name\"),\r\n  cardImg: card,\r\n  thumbImg: thumb,\r\n  thumbImgSide: thumbSide,\r\n  bannerImg: banner,\r\n  rarity: data_gen.star,\r\n  elementKey,\r\n  weaponTypeKey: data_gen.weaponTypeKey,\r\n  gender: \"M\",\r\n  constellationName: tr(\"constellationName\"),\r\n  title: tr(\"title\"),\r\n  talent: {\r\n    sheets: {\r\n      auto: ct.talentTemplate(\"auto\", [{\r\n        text: tr(\"auto.fields.normal\"),\r\n      }, {\r\n        fields: datamine.normal.hitArr.map((_, i) => ({\r\n          node: infoMut(dmgFormulas.normal[i], { key: `char_${key}_gen:auto.skillParams.${i}` }),\r\n          textSuffix: i === 4 ? st(\"brHits\", { count: 4 }) : \"\"\r\n        }))\r\n      }, {\r\n        text: tr(\"auto.fields.charged\"),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.charged.dmg, { key: `char_${key}_gen:auto.skillParams.6` }),\r\n        }, {\r\n          text: tr(\"auto.skillParams.7\"),\r\n          value: datamine.charged.stamina,\r\n        }]\r\n      }, {\r\n        text: tr(`auto.fields.plunging`),\r\n      }, {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.plunging.dmg, { key: \"sheet_gen:plunging.dmg\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.low, { key: \"sheet_gen:plunging.low\" }),\r\n        }, {\r\n          node: infoMut(dmgFormulas.plunging.high, { key: \"sheet_gen:plunging.high\" }),\r\n        }]\r\n      }]),\r\n\r\n      skill: ct.talentTemplate(\"skill\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.skill.stele, { key: `char_${key}:skill.stele` })\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.resonance, { key: `char_${key}:skill.resonance` })\r\n        }, {\r\n          text: trm(\"skill.maxStele\"),\r\n          value: data => data.get(input.constellation).value >= 1 ? 2 : 1\r\n        }, {\r\n          text: st(\"pressCD\"),\r\n          value: datamine.skill.pressCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.holdDMG, { key: `char_${key}_gen:skill.skillParams.2` })\r\n        }, {\r\n          text: st(\"holdCD\"),\r\n          value: datamine.skill.holdCD,\r\n          unit: \"s\"\r\n        }, {\r\n          node: infoMut(dmgFormulas.skill.shield, { key: `sheet_gen:dmgAbsorption` })\r\n        }, {\r\n          text: tr(\"skill.skillParams.5\"),\r\n          value: datamine.skill.shileDuration,\r\n          unit: \"s\"\r\n        }]\r\n      }, ct.conditionalTemplate(\"skill\", {\r\n        value: condSkill,\r\n        path: condSkillPath,\r\n        teamBuff: true,\r\n        name: trm(\"skill.nearShield\"),\r\n        states: {\r\n          on: {\r\n            fields: Object.values(nodesSkill).map(node => ({ node }))\r\n          }\r\n        }\r\n      })]),\r\n\r\n      burst: ct.talentTemplate(\"burst\", [{\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.burst.dmg, { key: `char_${key}_gen:burst.skillParams.0` })\r\n        }, {\r\n          text: tr(\"burst.skillParams.1\"),\r\n          value: data =>\r\n            data.get(input.constellation).value < 4 ?\r\n              datamine.burst.duration[data.get(input.total.burstIndex).value] :\r\n              `${datamine.burst.duration[data.get(input.total.burstIndex).value]}s +${datamine.constellation4.durationInc}`,\r\n          fixed: 1,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.2\"),\r\n          value: datamine.burst.cd,\r\n          unit: \"s\"\r\n        }, {\r\n          text: tr(\"burst.skillParams.3\"),\r\n          value: datamine.burst.enerCost,\r\n        }]\r\n      }]),\r\n\r\n      passive1: ct.talentTemplate(\"passive1\", [ct.conditionalTemplate(\"passive1\", {\r\n        value: condP1,\r\n        path: condP1Path,\r\n        teamBuff: true,\r\n        name: trm(\"p1cond\"),\r\n        states: objectKeyMap(range(1, 5), i => ({ name: st(\"stack\", { count: i }), fields: [{ node: nodeP1 }] }))\r\n      })]),\r\n      passive2: ct.talentTemplate(\"passive2\", [ct.fieldsTemplate(\"passive2\", {\r\n        fields: [{\r\n          node: p4normalDmgInc\r\n        }, {\r\n          node: p4ChargedDmgInc\r\n        }, {\r\n          node: p4PlungingDmgInc\r\n        }, {\r\n          node: p4SKillDmgInc\r\n        }, {\r\n          node: p4BurstDmgInc\r\n        }]\r\n      })]),\r\n      passive3: ct.talentTemplate(\"passive3\"),\r\n      constellation1: ct.talentTemplate(\"constellation1\"),\r\n      constellation2: ct.talentTemplate(\"constellation2\"),\r\n      constellation3: ct.talentTemplate(\"constellation3\", [{ fields: [{ node: nodeC3 }] }]),\r\n      constellation4: ct.talentTemplate(\"constellation4\"),\r\n      constellation5: ct.talentTemplate(\"constellation5\", [{ fields: [{ node: nodeC5 }] }]),\r\n      constellation6: ct.talentTemplate(\"constellation6\", [ct.fieldsTemplate(\"constellation6\", {\r\n        fields: [{\r\n          node: infoMut(dmgFormulas.constellation6.heal, { key: `char_${key}:c6heal` })\r\n        }]\r\n      })]),\r\n    },\r\n  },\r\n}\r\nexport default new CharacterSheet(sheet, data)\r\n","import { CharacterKey } from '../../Types/consts'\r\nimport CharacterSheet from './CharacterSheet'\r\n\r\nimport Albedo from './Albedo'\r\nimport Aloy from './Aloy'\r\nimport Amber from './Amber'\r\nimport AratakiItto from './AratakiItto'\r\nimport Barbara from './Barbara'\r\nimport Beidou from './Beidou'\r\nimport Bennett from './Bennett'\r\nimport Candace from './Candace'\r\nimport Chongyun from './Chongyun'\r\nimport Collei from './Collei'\r\nimport Diluc from './Diluc'\r\nimport Diona from './Diona'\r\nimport Dori from './Dori'\r\nimport Eula from './Eula'\r\nimport Fischl from './Fischl'\r\nimport Ganyu from './Ganyu'\r\nimport Gorou from './Gorou'\r\nimport HuTao from './HuTao'\r\nimport Jean from './Jean'\r\nimport KaedeharaKazuha from './KaedeharaKazuha'\r\nimport Kaeya from './Kaeya'\r\nimport KamisatoAyaka from './KamisatoAyaka'\r\nimport KamisatoAyato from './KamisatoAyato'\r\nimport Keqing from './Keqing'\r\nimport Klee from './Klee'\r\nimport KujouSara from './KujouSara'\r\nimport KukiShinobu from './KukiShinobu'\r\nimport Lisa from './Lisa'\r\nimport Mona from './Mona'\r\nimport Nilou from './Nilou'\r\nimport Ningguang from './Ningguang'\r\nimport Noelle from './Noelle'\r\nimport Qiqi from './Qiqi'\r\nimport RaidenShogun from './RaidenShogun'\r\nimport Razor from './Razor'\r\nimport Rosaria from './Rosaria'\r\nimport SangonomiyaKokomi from './SangonomiyaKokomi'\r\nimport Sayu from './Sayu'\r\nimport Shenhe from \"./Shenhe\"\r\nimport ShikanoinHeizou from \"./ShikanoinHeizou\"\r\nimport Sucrose from \"./Sucrose\"\r\nimport Tartaglia from './Tartaglia'\r\nimport Thoma from './Thoma'\r\nimport Tighnari from './Tighnari'\r\nimport Traveler from './Traveler'\r\nimport Venti from './Venti'\r\nimport Xiangling from './Xiangling'\r\nimport Xiao from './Xiao'\r\nimport Xingqiu from './Xingqiu'\r\nimport Xinyan from './Xinyan'\r\nimport YaeMiko from './YaeMiko'\r\nimport Yanfei from './Yanfei'\r\nimport Yelan from './Yelan'\r\nimport Yoimiya from './Yoimiya'\r\nimport YunJin from './YunJin'\r\nimport Zhongli from './Zhongli'\r\n\r\nconst characters: Record<CharacterKey, CharacterSheet> = {\r\n  Albedo,\r\n  Aloy,\r\n  Amber,\r\n  AratakiItto,\r\n  Barbara,\r\n  Beidou,\r\n  Bennett,\r\n  Candace,\r\n  Chongyun,\r\n  Collei,\r\n  Diluc,\r\n  Diona,\r\n  Dori,\r\n  Eula,\r\n  Fischl,\r\n  Ganyu,\r\n  Gorou,\r\n  HuTao,\r\n  Jean,\r\n  KaedeharaKazuha,\r\n  Kaeya,\r\n  KamisatoAyaka,\r\n  KamisatoAyato,\r\n  Keqing,\r\n  Klee,\r\n  KujouSara,\r\n  KukiShinobu,\r\n  Lisa,\r\n  Mona,\r\n  Nilou,\r\n  Ningguang,\r\n  Noelle,\r\n  Qiqi,\r\n  RaidenShogun,\r\n  Razor,\r\n  Rosaria,\r\n  SangonomiyaKokomi,\r\n  Sayu,\r\n  Shenhe,\r\n  ShikanoinHeizou,\r\n  Sucrose,\r\n  Tartaglia,\r\n  Thoma,\r\n  Tighnari,\r\n  Traveler,\r\n  Venti,\r\n  Xiangling,\r\n  Xiao,\r\n  Xingqiu,\r\n  Xinyan,\r\n  YaeMiko,\r\n  Yanfei,\r\n  Yelan,\r\n  Yoimiya,\r\n  YunJin,\r\n  Zhongli\r\n} as const\r\nexport default characters\r\n"],"names":["talentAssets","constellation1","constellation2","constellation3","constellation4","constellation5","constellation6","skill","burst","passive1","passive2","passive3","data_gen","data_gen_src","key","trans","tr","trm","ct","charTemplates","weaponTypeKey","a","s","b","datamine","normal","hitArr","skillParam_gen","charged","dmg1","dmg2","stamina","plunging","dmg","low","high","skillDmg","blossomDmg","duration","cd","blossomCd","burstDmg","blossomAmt","enerCost","blossomDmgInc","hpThresh","eleMasInc","blossomEner","maxStacks","stackDuration","plunging_dmg_","bonus_dmg_","cond","condBurstBlossomPath","condBurstBlossom","condBurstUsedPath","condBurstUsed","p2Burst_eleMas","equal","greaterEq","input","condP1EnemyHpPath","condP1EnemyHp","p1_blossom_dmg_","condC2StacksPath","condC2Stacks","c2_burst_dmgInc","prod","lookup","Object","fromEntries","range","map","i","naught","condSkillInFieldPath","condSkillInField","c4_plunging_dmg_disp","c4_plunging_dmg_","target","condC6CrystallizePath","condC6Crystallize","c6_Crystal_all_dmg_disp","c6_Crystal_all_dmg_","dmgFormulas","arr","dmgNode","entries","value","blossom","total","skill_dmg_","skillC3","burstC5","data","dataObjForCharacterSheet","bonus","teamBuff","premod","eleMas","all_dmg_","burst_dmgInc","sheet","name","cardImg","card","thumbImg","thumb","thumbImgSide","thumbSide","bannerImg","banner","rarity","star","elementKey","gender","constellationName","title","talent","sheets","auto","talentTemplate","text","fields","_","node","infoMut","textSuffix","unit","sgt","conditionalTemplate","path","st","percent","states","belowHp","headerTemplate","fixed","skillInField","canShow","c6Crystallize","isoOnField","count","burstUsed","CharacterSheet","p1","p2","aimed","aimedCharged","freezeBombDmg","chillWaterBomblets","atkDecrease","atkDecreaseDuration","coilNormalDmgBonus1","coilNormalDmgBonus2","coilNormalDmgBonus3","rushingNormalDmgBonus","rushingDuration","atkInc","teamAtkInc","cryoDmgBonus","condCoilPath","condCoil","normal_dmg_","subscript","atk_","unequal","undefined","coilInfusion","equalStr","condA1Path","condA1","teamAtk_","condA4Path","condA4","cryo_dmg_","hit","ele","constant","infusion","nonOverridableSelf","fieldsTemplate","inheritedHp","unknown","dmgPerWave","rainDmg","critRateInc","aoeInc","secArrowDmg","manualDetionationDmg","moveSpdInc","burst_critRate_","condC6Path","condC6","moveSPD_","secondAimed","secondAimedCharged","manualDetonationDmg","nodeC3","nodeC5","variant","get","on","sSlash","akSlash","akFinal","stam","ss","hp","ss_cd","atkSpd","defConv","resDec","cost","atkSPD_","def_","initialStacks","timedStacks","burstCdRed","energyRegen","charged_critDMG_","condBurstPath","condBurst","condP1Path","condP1","condC4Path","condC4","nodeSkillHP","nodeBurstAtk","nodeBurstAtkSpd","allNodeBurstRes","allElementsWithPhy","nodeBurstInfusion","nodeA4Bonus","nodeP1AtkSpd","nodeC2BurstRed","min","tally","nodeC2EnergyRegen","nodeC4Atk","nodeC4Def","nodeC6CritDMG","charged_dmgInc","atk","sum","values","cregen_hp_","cregen_hp","regen_hp_","regen_hp","hp_","ext","maxExt","cdDec","hydro_dmg_","condSkillPath","condSkill","nodeA1","nodeA1Display","condC2Path","condC2","nodeC2","nodeC2Display","regen","healNodeTalent","cregen","staminaDec_","spinningDmg","finalDmg","shieldHp_","shieldFlat","dmgBase","onHitDmgBonus","lightningDmg","damageReduction","energyCost","ascension4","normalDmg_","chargeDmg_","attackSpeed","electroResShred_","skillDmgOneHit","skillDmgTwoHits","nodeBurstElectroResRed_","nodeSkillNormalDmg_","nodeSkillChargeDmg_","nodeSkillAttackSpeed_","electroShield","shieldElement","shieldNodeTalent","shield","baseDmg","dmgOneHit","dmgTwoHits","shieldNode","customDmgNode","customBonus","charged_dmg_","electro_enemyRes_","press","hold1_1","hold1_2","hold2_1","hold2_2","explosion","cd_press","cd_hold1","cd_hold2","regen_","regenFlat","atkBonus","cd_red","atk_inc","hp_thresh","er_inc","pyro_dmg","a1SkillCd","burstAtkRatio","burstAddlAtk","c1AtkRatio","c1AddlAtk","atkIncRatio","activeInAreaAtkDisp","condInAreaPath","condInArea","activeInArea","activeInAreaAtk","activeInAreaA4","c6AndCorrectWep","activeInAreaC6PyroDmg","activeInAreaC6Infusion","condUnderHPPath","condUnderHP","underHP","pyro_dmg_","team","enerRech_","calculateSkillCD","skillCD","cdFactor","result","shield_hp_","shield_base","basic_dmg","charged_dmg","pressCd","holdCd","skill_dmg","dmg_bonus_","wave_dmg","num_waves","normalEle_dmg_","durationInc","condAfterBurstPath","condAfterBurst","normalEle_dmg_disp","isNormalElemental","stringPrio","unequalStr","none","hydroInfusion","a4_normalEle_dmg_disp","a4_normalEle_dmg_","condC2AfterSkillHitPath","condC2AfterSkillHit","c2_hp_","hydroShield","basicDmg","chargedDmg","waveDmg","burstC3","skillC5","isTeamBuff","spin_dmg","final_dmg","infusionDuration","fieldDuration","atk_spd","res","cdr","energy_regen","burst_dmg_","condAsc4Path","condAsc4","nodeAsc4","nodeAsc1Disp","nodeAsc1","correctWep","activeInAreaInfusion","nodeC6","cryo_enemyRes_","explosionDmg","leapDmg","sproutDmg","maxExtension","anbarDmg","c1_enerRech_","c4AfterBurst_eleMasDisp","c4AfterBurst_eleMas","c2i","c6i","firstHit","secondHit","thridHit","slashDmg","dotDmg","stamReduction","pyroInc","dmgInc","hpThresh_","atkSpdInc","maxStack","condC1Path","condC1","nodeC1Bonus","nodeC2AtkBonus","nodeC2SpdBonus","nodeC6DmgBonus","nodeC6SpdBonus","skillAdditional","thirdHit","secondHitBoost","thirdHitBoost","icyPawDmg","cdPress","cdHold","fieldDmg","healHp_","healBase","moveSpeed_","stamRed_","atkRed_","icyPawDmg_","icyPawShield_","coopShield_","coopShieldDuration_","healingBonus_","emBonus","nodeC2skillDmg_","holdSkillShieldStr_","nodeC2shieldStr_","nodeSkillShieldPress","nodeSkillShieldHold","pressCryoShield","pressShield","holdCryoShield","holdShield","healDot","nodeA1MoveSpeed","nodeA1Stamina","nodeC6healing_Disp","nodeC6healing_","nodeC6emDisp","nodeC6em","incHeal_","lower","higher","shotDmg","roundDmg","numRounds","connectorDmg","healMult","cdRed","maxEnergyRegen","addlRounds","toopDmg","energyThresh","heal_","condC4BelowHpPath","condC4BelowHp","condC4BelowEnerPath","condC4BelowEner","c4BelowHp_incHeal_disp","c4BelowHp_incHeal_","c4BelowEner_enerRech_disp","c4BelowEner_enerRech_","condC6AfterSkillPath","condC6AfterSkill","c6AfterSkill_infusion","greaterEqStr","heal","customHealNode","overridableSelf","color","belowEner","hold","icewhirl","physResDec","cryoResDec","resDecDuration","defBonus","physResDecNegative","cryoResDecNegative","grimheartDuration","lightfallDmg","dmgPerStack","percentage","physInc","condGrimheartPath","condGrimheart","condLightfallSwordPath","condLightfallSword","condTidalIllusionPath","condTidalIllusion","physical_enemyRes_","physical_dmg_","lightSwordAdditional","lightFallSwordNew","objectKeyMap","shatteredLightfallSword","ozDmg","summonDmg","aimedChargedOz","lessThan","summonDmgC2","ozActiveCharDmg","additionalDmg","frostflake","frostflakeBloom","opCryoRes","enerRegen","cryo_dmg_disp","critRate_","fully","defInc","geo_dmg_","dmg_def","crystalDmg_def","crystalHits","skill_dmgInc","heal_def_","geo_critDMG_","condInFieldPath","condInField","skill1_defDisp","skill1_def","skill3_geo_dmg_Disp","skill3_geo_dmg_","afterBurst_def_","p2_skill_dmgInc","p2_burst_dmgInc","condAfterSkillBurstPath","condAfterSkillBurst","c6_geo_critDMG_","crystalCollapse","healNode","def","inField","afterBurst","afterSkillBurst","activationCost","bloodBlossomDuration","maxAtkInc","lowHpDmg","lowHpRegen","minHp","pyroDmgInc","bloodBlossomDmgInc","elePhysResInc","condAfterlifePath","condAfterlife","critRateTeam_1","condA2Path","condA2","critRateTeam_2","ele_res_s","dmgC2","enterExitDmg","burstActivationAtkModifier","burstActionFlatModifier","burstRegenAtkModifier","burstRegenFlatModifier","chance","atkPercentage","increaseDmg","moveSpd","anemoRes","dmgReduction","contRegen","a1Regen","anemo_enemyRes_","Math","abs","dmgRed_disp","dmgRed_","dot","add","asorbAdd","elemas_dmg_","elemas","auto_","condBurstAbsorptionPath","condBurstAbsorption","condSkillAbsorptionPath","condSkillAbsorption","condSwirlPaths","absorbableEle","e","condSwirls","condReadNode","asc4","c2EleMas","condC2PPath","condC2P","c2PEleMasDisp","c2PEleMas","c6infusion","c6Dmg_","c6NormDmg_","c6ChargedDmg_","c6PlungingDmg_","passive","pdmg","plow","phigh","staminaSprintDec_","eleKey","c2","c2p","val","c6","healAtk_","cooldown","cryoShield","condC1Cryo","nodeC1NormalCritRate","nodeC1ChargeCritRate","normal_critRate_","charged_critRate_","sprint","sp","cutDmg","bloomDmg","active_stam","drain_stam","dmg_bonus","cryo","snowflake","def_red","charged_bonus","condAfterSprintPath","condAfterSprint","afterSprintInfusion","condAfterSkillA1Path","condAfterSkillA1","a1NormDmg_","a1ChargedDmg_","condAfterApplySprintPath","condAfterApplySprint","afterApplySprintCryo","cutting","bloom","enemyDefRed_","afterSkill","c4","afterSprint","afterApplySprint","dmgArr","stateDuration","stackHpDmgInc","illusionDmg","illusionDuration","stacksGained","enerThres_","energyRestore","oppHpThres_","shunDmg_","extraStacks","stackThresh","atkSPD","extraStrikes","condInSkillPath","condInSkill","condSkillStacksPath","condSkillStacks","skillStacks_dmgInc","stacks","condBurstInAreaPath","condBurstInArea","burst_normal_dmg_Disp","burst_normal_dmg_","condC1OppHpPath","condC1OppHp","c1Shun_dmg_","condC4AfterBurstPath","condC4AfterBurst","c4_atkSPD_","shunAddl","normal_dmgInc","stiletto","slash","thunderclap","initial","final","critInc_","enerRechInc_","electroInc","condAfterRecastPath","condAfterRecast","afterRecastInfusion","afterBurstCritRate_","afterBurstEnerRech_","condAfterReactPath","condAfterReact","afterReactAtk_","condC6StackPath","condC6Stack","c6Electro_dmg_","electro_dmg_","afterRecast","afterReact","jumptyDumptyDmg1","jumptyDumptyDmg2","jumptyDumptyDmg3","mineDmg","mineDuration","dmg_","jumptyDumptyDmg","chainedReactionsDmg","sparklyExplosionDmg","fullyAimed","titanBreakerDmg","stormClusterDmg","energyGen","er","crowfeatherDmg","condSkillTenguAmbushPath","condSkillTenguAmbush","x","skillTenguAmbush_disp","skillTenguAmbush_","c6ElectroCritDmg_","titanbreaker","stormcluster","electro_critDMG_","TenguJuuraiAmbush","pressDmg","ringHealHP_","ringHealFlat","ringDmg","singleDmg","maxDmgBase","maxDmgExtend","durationBase","durationExtend","emSkillHeal_","emSkillDmg_","skillDurInc","markDmg","em","a1Heal_","a4Skill_healInc","a4Skill_dmgInc","condC6TriggerPath","condC6Trigger","c6eleMas","ringHeal","healInc","totalDmg","compareEq","stack0","stack1","stack2","stack3","holdCD","pressCD","tick","defShred","nodeA4DefShred","nodeC2DefIncrease","bubbleDuration","dmgBonusNeg","omenDuration","dmgBonus","torrentDuration","phantomDuration","electroChargeDmgInc","vaporizeDmgInc","hydroSwirlDmgInc","frozenExtension","critRateIncNeg","maxDmgBonus","condOmenPath","condOmen","condPoSPath","condPoS","electrocharged_dmg_","swirl_dmg_","vaporize_dmg_","condPoOPath","condPoO","condRoCPath","condRoC","hit1","hit2","whirl1Dmg","whirl2Dmg","moonDmg","wheelDmg","dance1Dmg","dance2Dmg","pirouetteDuration","lunarPrayerDuration","tranquilityAuraDuration","aeonDmg","bountyDuration","buffDuration","maxDmg_","moon_dmg_","hydro_enemyRes_","dendro_enemyRes_","critDmg_","maxCritRate_","maxCritDmg_","condA1AfterSkillPath","condA1AfterSkill","condA1AfterHitPath","condA1AfterHit","onlyDendroHydroTeam","isGoldenChaliceBountyActive","a1AfterSkillAndHit_eleMas","bountifulBloom_dmg_","max","c1_moon_dmg_","condC2HydroPath","condC2Hydro","condC2DendroPath","condC2Dendro","c2_hydro_enemyRes_","c2_dendro_enemyRes_","condC4AfterPirHitPath","condC4AfterPirHit","c4_burst_dmg_","c6_critRate_","c6_critDMG_","bloom_dmg_","critDMG_","hydro","dendro","jadeDmg","screenHpMod","screenHp","dmgPerGem","geoDmgBonus_","nodeA4GeoDmgBonus_","nodesC4","allElements","gemDmg","n","shieldDef","healDef","healChance","shieldDuration","healFlat","defToAtk","hpThreshold","healingChance","chargeStamina","burstAtkBonus","nodeSkillHealChanceBase","nodeSkillHealChanceC1BurstOn","nodeSkillHealChanceC1BurstOff","nodeC2ChargeDMG","nodeC2ChargeDec","nodeC4dmg","devotionShield","staminaChargedDec_","hitRegenPercent","hitRegenFlat","contRegenPercent","contRegenFlat","tickDmg","castDmg","healPercent","nodeA1HealingBonus","nodeC2ChargedDmgInc","nodeC2NormalDmgInc","hitRegen","coorDmg","burstDmg_bonus","resolveBonus1","resolveBonus2","resolveGained","hit3","hit41","hit42","hit5","charged1","charged2","plunge","plungeLow","plungeHigh","enerGen","electroDmg_bonus","def_ignore","atk_bonus","condSkillEyePath","condSkillEye","skillEye_","atkType","enemy","defIgn","energyCosts","condSkillEyeTeamPath","condSkillEyeTeam","skillEyeTeamBurstDmgInc","resolveStacks","condResolveStackPath","condResolveStack","resolveStackNode","resolveInitialBonus_","resolveInfusedBonus_","burstResolve","mvArr","resolveBonus","passive2ElecDmgBonus","c4AtkBonus_","skillEye","c","erBonus","companionDmg","atkSpdBonus","electroResBonus","enerThreshold","erInc","sprintStaminaDec","allDmgInc","defDec","electroSigilGenerated","condElectroSigilPath","condElectroSigil","condTheWolfWithinPath","condTheWolfWithin","enerRechElectroSigil_","electro_res_","enerRechA4_","companionDmg1","companionDmg2","companionDmg3","companionDmg4","fullBurstDmg1","fullBurstDmg2","fullBurstDmg3","fullBurstDmg4","c1i","crInc","crBonus","maxBonus","physShred","nodeA1CritInc","nodeA4CritBonusDisp","nodeA4CritBonus","nodeC1AtkSpd","nodeC1NormalInc","nodeC6PhysShred","nBonus_","cBonus_","sBonus_","p","heal_ratio_","c1","s_heal_","nc_heal_","energy","hydro_","burstNormalDmgInc","burstChargedDmgInc","burstSkillDmgInc","passiveHeal_","passiveCritRate_","c2SkillHeal","c2BurstHeal","c4AtkSpd_","c6Hydro_","spin","eleWheelDmg","kickPressDmg","kickHoldDmg","eleKickDmg","cdMin","cdMax","pressBaseHeal","pressAtkHeal","darumaDmg","darumaBaseHeal","darumaAtkHeal","darumaHits","baseHeal","emHeal","nearHeal","ener","darumaDmgInc","darumaHealInc","condActiveSwirlPath","condActiveSwirl","condC2SkillStackPath","condC2SkillStack","c2_kickPressDmg_","c2_kickDmg_","stack","c6_daruma_dmg_inc","c6_daruma_heal_inc","darumaHeal","pressHeal","extraHeal","activeSwirl","dmgAtk_","durationHold","trigger","triggerHold","res_","press_dmg_","durationPress","hold_dmg_","condQuillPath","condQuill","nodeSkill","enemyRes_","nodeBurstCryo_enemyRes_","nodeBurstPhysical_enemyRes_","condAsc1Path","condAsc1","nodeAsc4Press_skill_dmg_","nodeAsc4Press_burst_dmg_","nodeAsc4Hold","nodeAsc4Hold_normal_dmg_","nodeAsc4Hold_charged_dmg_","nodeAsc4Hold_plunging_dmg_","nodeC2Disp","c4Inc","quillDmg","cryo_dmgInc","cryo_critDMG_","quill","toString","field","declension_dmg_","conviction_dmg_","declension_duration","slugger_dmg","iris_dmg","atkSpd_","baseEnergy","addlEnergy","hsCritRate_","hsCritDmg_","stacksArr","condDeclensionStacksPath","condDeclensionStacks","totalStacks_dmg_","condSkillHitPath","condSkillHit","a4_eleMasDisp","a4_eleMas","condTakeFieldPath","condTakeField","c1_atkSpd_","c6_skill_critRate_","c6_skill_critDMG_","skill_critRate_","skill_critDMG_","eleMas_","ele_dmg_","condAbsorptionPath","condAbsorption","condSwirlReactionPath","condSwirlReaction","condSkillHitOpponentPath","condSkillHitOpponent","asc1Disp","asc1","asc4Disp","c6Base","c6Bonus","slice","riptide","flashDmg","riptideDuration","stanceDmg","normal1","normal2","normal3","normal4","normal5","normal61","normal62","riptideSlash","chargedStamina","preemptiveCd1","preemptiveCd2","maxCd","meleeDmg","riptideBlastDmg","rangedDmg","enerReturned","durationExt","auto_boost","nodePassive","hpShield_","baseShield","maxHpShield_","maxBaseShield","collapseDmg","scorchingDuration","shield_","collapse_dmgInc","burstDuration","auto_dmg","condP1BarrierStacksPath","condP1BarrierStacks","p1_shield_","p2Collapse_dmgInc","condC6AfterBarrierPath","condC6AfterBarrier","c6_normal_dmg_","c6_charged_dmg_","c6_plunging_dmg_","minShield","minPyroShield","maxShield","maxPyroShield","pyroShield","wreathArrow","clusterArrow","penetratorDuration","primaryDmg","secondaryDmg","charged_burst_dmg_","dendro_dmg_","chargeTimeRed","condA1AfterWreathPath","condA1AfterWreath","a1AfterWreath_eleMas","a4_charged_dmg_","a4_burst_dmg_","chargedShaftAddl","c1_charged_critRate_","condC2EnemyFieldPath","condC2EnemyField","c2EnemyField_dendro_dmg_","c4_eleMas","after","react","wreath","cluster","skillAssets","strKey","Translate","ns","key18","initial_dmg","initial_max","storm_dmg","storm_max","absorbDmg","nodesC6","objectKeyValueMap","absorb","talentSheet","lampDmg","unknown1","unknown2","lampDuration","condA1StacksPath","condA1Stacks","a1StacksArr","a1_eleMas_disp","a1_eleMas","a4_skill_dmg_","condC6BurstEffectPath","condC6BurstEffect","condC6BurstElePath","condC6BurstEle","c6_dendro_dmg_disp","c6_dendro_dmg_","c6_ele_dmg_disp","c6_ele_dmg_","amulets","amuletDuration","enerRech_duration","thunderDmg","thunderCd","addlAmulets","electro_enemyRes","numAttacks","thunder_dmg_","condSkillAmuletPath","condSkillAmulet","p2_enerRech_","skillAmulet_enerRech_Disp","skillAmulet_enerRech_","burstEnergyRestore","condC2ThunderPath","condC2Thunder","c2Thunder_electro_enemyRes_","condC6After2ThunderPath","condC6After2Thunder","c6_thunder_dmg_","numShockwaves","skill_cdRed","geoDmg","maxTriggers","skillDuration","condC1BurstAreaPath","condC1BurstArea","c1BurstArea_critRate_Disp","c1BurstArea_critRate_","condC4BurstHitPath","condC4BurstHit","c4Burst_energyRestore","talents","anemo","geo","electro","anemoData","geoData","electroData","dendroData","holdDmg","baseTicks","absorbTicks","stam_","dmgRatio","anemo_dmg_","p3_staminaGlidingDec_","c2Hit_anemo_enemyRes_","c2Hit_phys_enemyRes__","c4_anemo_dmg_","c6_anemo_enemyRes_","c6_ele_enemyRes_arr","base","full7","reactions","full14","staminaGlidingDec_","launched","takeDmg","pickup","dmg3","dmgNado","pyroRes","duration1","duration2","pyroDmg","condAfterChiliPath","condAfterChili","afterChili","condAfterGuobaHitPath","condAfterGuobaHit","afterGuobaHit","condDuringPyronadoPath","condDuringPyronado","duringPyronado","antiC6","pyro_enemyRes_","drain","skillDmgBonus","staminaClimbingDec_","condInBurstPath","condInBurst","auto_dmg_","lifeDrain","condA1BurstStackPath","condA1BurstStack","a1BurstStackArr","condA4SkillStackPath","condA4SkillStack","a4SkillStackArr","c2Inactive","c2Inactive_enerRech_","condC4BelowHPPath","condC4BelowHP","c4BelowHP_def_","inBurst","c4BelowHP","skill_duration","nodeA4","nodeC4","nodeSkillDmgRed_","nodeA4Heal","press1","one","press2","healing","shieldArr","defShield_","lvl3Dmg","pressPhysDmg","dotPyroDmg","burstphysical_critRate_","charged_atkBonus","condSkillHitNumPath","condSkillHitNum","condP2ShieldPath","condP2Shield","p2Shield_physical_dmg_Disp","p2Shield_physical_dmg_","condC1CritPath","condC1Crit","c1Crit_atkSPD_","c2BurstPhysical_critRate_","condC4SkillHitPath","condC4SkillHit","c4SkillHit_physical_enemyRes_","c6_staminaChargedDec_","condC6ChargedPath","condC6Charged","c6_chargedAtkBonus","lvl","flatMap","type","dmg4","tenkoDmg","eleMas_dmg_","defIgn_","sealStaminaRed_","maxSeals","sealDuration","sealInterval","seal_pyro_dmg_","extraSeals","afterBurst_charged_dmg_","condP1SealsPath","condP1Seals","p1_pyro_dmg_","seals","condP2ChargedCritPath","condP2ChargedCrit","condC2EnemyHpPath","condC2EnemyHp","c2EnemyHp_critRate_","pyro_shield","customShieldNode","norm_shield","barb","resetChance","maxDuration","throwDmg","hp_Arr","baseDmg_","stackDmg_","addlCharge","arrowDmg_","bonusHp_","maxHp_","charges","a1_hp_","condA4StacksPath","condA4Stacks","a4Stacks","a4Dmg_Disp","a4Dmg","condC4StacksPath","condC4Stacks","c4Stacks","c4Hp_","condC6ActivePath","condC6Active","c6Active","hitEle","arrowDmg","barbDmg","characterKey","full","kindling","exp","fixed_atk_","var_atk_","burst_durationInc","const3TalentInc","const5TalentInc","normal_dmgMult","a1Stacks","c1atk_","c2pyro_dmg_","normalEntries","kindlingEntries","skillInfusion","dataObj","includes","uiData","triggerNum","normalInc","toFixed","stele","resonance","holdDMG","shileDuration","skill_","burst_","nodesSkill","k","nodeP1","p4AutoDmgInc","p4normalDmgInc","p4ChargedDmgInc","p4PlungingDmgInc","p4SKillDmgInc","p4BurstDmgInc","plunging_dmgInc","Albedo","Aloy","Amber","AratakiItto","Barbara","Beidou","Bennett","Candace","Chongyun","Collei","Diluc","Diona","Dori","Eula","Fischl","Ganyu","Gorou","HuTao","Jean","KaedeharaKazuha","Kaeya","KamisatoAyaka","KamisatoAyato","Keqing","Klee","KujouSara","KukiShinobu","Lisa","Mona","Nilou","Ningguang","Noelle","Qiqi","RaidenShogun","Razor","Rosaria","SangonomiyaKokomi","Sayu","Shenhe","ShikanoinHeizou","Sucrose","Tartaglia","Thoma","Tighnari","Traveler","Venti","Xiangling","Xiao","Xingqiu","Xinyan","YaeMiko","Yanfei","Yelan","Yoimiya","YunJin","Zhongli"],"sourceRoot":""}