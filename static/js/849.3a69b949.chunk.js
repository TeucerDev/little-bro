"use strict";(self.webpackChunklittle_bro=self.webpackChunklittle_bro||[]).push([[849],{44361:function(e,n,i){i.d(n,{Z:function(){return P}});var s=i(93433),t=i(29439),r=i(39504),o=i(61889),l=i(58165),a=i(94721),c=i(66647),u=i(68870),d=i(20890),x=i(72791),f=i(22020),Z=i(10658),p=i(66218),h=i(42320),j=i(24351),v=i(3992),m=i(71310),g=i(68198),w=i(55942),y=i(9321),C=i(10157),k=i(73578),b=i(80184);function P(e){var n=e.show,i=e.ascension,P=void 0===i?0:i,T=e.onHide,I=e.onSelect,N=e.filter,D=void 0===N?function(){return!0}:N,R=e.weaponTypeFilter,S=(0,f.$)(["page_weapon","weaponNames_gen"]).t,W=(0,h.Z)((function(){return p.Z.getAll}),[]),G=(0,x.useState)(R?[R]:(0,s.Z)(j.yd)),_=(0,t.Z)(G,2),F=_[0],L=_[1];(0,x.useEffect)((function(){return R&&L([R])}),[R]);var z=(0,x.useState)(""),B=(0,t.Z)(z,2),E=B[0],$=B[1],q=(0,x.useDeferredValue)(E),H=W?j.fG.filter((function(e){return D(W[e])})).filter((function(e){var n;return F.includes(null===W||void 0===W||null===(n=W[e])||void 0===n?void 0:n.weaponType)})).filter((function(e){return!q||S("weaponNames_gen:".concat(e)).toLowerCase().includes(q.toLowerCase())})).sort((function(e,n){var i,s,t,r;return(null!==(i=null===W||void 0===W||null===(s=W[n])||void 0===s?void 0:s.rarity)&&void 0!==i?i:0)-(null!==(t=null===W||void 0===W||null===(r=W[e])||void 0===r?void 0:r.rarity)&&void 0!==t?t:0)})):[];return W?(0,b.jsx)(y.Z,{open:n,onClose:T,children:(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,b.jsx)(o.ZP,{item:!0,children:(0,b.jsx)(k.Z,{value:F,onChange:L,disabled:!!R,size:"small"})}),(0,b.jsx)(o.ZP,{item:!0,flexGrow:1,children:(0,b.jsx)(l.Z,{autoFocus:!0,size:"small",value:E,onChange:function(e){return $(e.target.value)},label:S("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,b.jsx)(o.ZP,{item:!0,children:(0,b.jsx)(g.Z,{onClick:T})})]})}),(0,b.jsx)(a.Z,{}),(0,b.jsx)(r.Z,{children:(0,b.jsx)(o.ZP,{container:!0,spacing:1,children:H.map((function(e){var n,i=W[e];return(0,b.jsx)(o.ZP,{item:!0,lg:3,md:4,children:(0,b.jsx)(m.Z,{sx:{height:"100%"},children:(0,b.jsxs)(c.Z,{onClick:function(){T(),I(e)},sx:{display:"flex"},children:[(0,b.jsx)(u.Z,{component:"img",src:i.getImg(P),sx:{width:100,height:"auto"},className:" grad-".concat(i.rarity,"star")}),(0,b.jsxs)(u.Z,{sx:{flexGrow:1,px:1},children:[(0,b.jsx)(d.Z,{variant:"subtitle1",children:i.name}),(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(w.Z,{src:null===(n=Z.Z.weaponTypes)||void 0===n?void 0:n[i.weaponType]})," ",(0,b.jsx)(C.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,b.jsx)(a.Z,{}),(0,b.jsx)(r.Z,{sx:{py:1},children:(0,b.jsx)(g.Z,{large:!0,onClick:T})})]})}):null}},49268:function(e,n,i){i.r(n),i.d(n,{default:function(){return H}});var s=i(29439),t=i(40117),r=i(62002),o=i(63204),l=i(39504),a=i(61889),c=i(68870),u=i(20890),d=i(2199),x=i(24518),f=i(9585),Z=i(94721),p=i(15021),h=i(72791),j=i(22020),v=i(3992),m=i(71310),g=i(31038),w=i(68198),y=i(37503),C=i(88034),k=i(29371),b=i(9321),P=i(23786),T=i(24351),I=i(33890),N=i(80184);function D(e){var n=e.refinement,i=e.setRefinement,s=(0,j.$)("ui").t;return(0,N.jsx)(I.Z,{title:s("refinement",{value:n}),children:T.a.map((function(e){return(0,N.jsx)(P.Z,{onClick:function(){return i(e)},selected:n===e,disabled:n===e,children:s("refinement",{value:e})},e)}))})}var R=i(10157),S=i(44361),W=i(13746),G=i(947),_=i(2139),F=i(66218),L=i(7618),z=i(26138),B=i(73036),E=i(24711),$=i(42320),q=i(74480);function H(e){var n,i=e.weaponId,P=e.footer,T=void 0!==P&&P,I=e.onClose,H=e.extraButtons,K=(0,j.$)("ui").t,M=(0,h.useContext)(W.R).data,A=(0,h.useContext)(L.t).database,J=(0,q.Z)(i),U=null!==J&&void 0!==J?J:{},V=U.key,O=void 0===V?"":V,Q=U.level,X=void 0===Q?0:Q,Y=U.refinement,ee=void 0===Y?1:Y,ne=U.ascension,ie=void 0===ne?0:ne,se=U.lock,te=U.location,re=void 0===te?"":te,oe=U.id,le=(0,$.Z)((function(){return F.Z.get(O)}),[O]),ae=(0,h.useCallback)((function(e){A.weapons.set(i,e)}),[i,A]),ce=(0,$.Z)((function(){return re?G.Z.get(re):void 0}),[re]),ue=ce&&ce.weaponTypeKey,de=(0,h.useCallback)((function(e){return oe&&A.weapons.set(oe,{location:e})}),[A,oe]),xe=(0,h.useCallback)((function(e){return e.weaponTypeKey===(null===le||void 0===le?void 0:le.weaponType)}),[le]),fe=(0,E.Z)(),Ze=(0,s.Z)(fe,3),pe=Ze[0],he=Ze[1],je=Ze[2],ve=null===le||void 0===le?void 0:le.getImg(ie);(0,h.useEffect)((function(){if(le&&ae&&le.key===(null===J||void 0===J?void 0:J.key)&&le.rarity<=2&&(X>70||ie>4)){var e=(0,s.Z)(_.vF[0],2),n=e[0],i=e[1];ae({level:n,ascension:i})}}),[le,J,ae,X,ie]);var me=(0,h.useMemo)((function(){return le&&J&&(0,B.mP)([le.data,(0,B.v0)(J)])}),[le,J]);return(0,N.jsx)(b.Z,{open:!!i,onClose:I,containerProps:{maxWidth:"md"},children:(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(S.Z,{ascension:ie,show:pe,onHide:je,onSelect:function(e){return ae({key:e})},weaponTypeFilter:ue}),(0,N.jsx)(l.Z,{children:le&&me&&(0,N.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,N.jsx)(a.ZP,{item:!0,xs:12,sm:3,children:(0,N.jsxs)(a.ZP,{container:!0,spacing:1.5,children:[(0,N.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,N.jsx)(c.Z,{component:"img",src:ve,className:"grad-".concat(le.rarity,"star"),sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,N.jsx)(a.ZP,{item:!0,xs:6,sm:12,children:(0,N.jsx)(u.Z,{children:(0,N.jsx)("small",{children:le.description})})})]})}),(0,N.jsxs)(a.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,N.jsx)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,N.jsxs)(d.Z,{children:[(0,N.jsx)(x.Z,{color:"info",onClick:he,children:null!==(n=null===le||void 0===le?void 0:le.name)&&void 0!==n?n:"Select a Weapon"}),(null===le||void 0===le?void 0:le.hasRefinement)&&(0,N.jsx)(D,{refinement:ee,setRefinement:function(e){return ae({refinement:e})}}),H]})}),(0,N.jsxs)(c.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[le&&(0,N.jsx)(k.Z,{level:X,ascension:ie,setBoth:ae,useLow:!le.hasRefinement}),(0,N.jsx)(x.Z,{color:"error",onClick:function(){return oe&&A.weapons.set(oe,{lock:!se})},startIcon:se?(0,N.jsx)(t.Z,{}):(0,N.jsx)(r.Z,{}),children:se?"Locked":"Unlocked"})]}),(0,N.jsx)(u.Z,{children:(0,N.jsx)(R.q,{stars:le.rarity})}),(0,N.jsx)(u.Z,{variant:"subtitle1",children:(0,N.jsx)("strong",{children:le.passiveName})}),(0,N.jsx)(u.Z,{gutterBottom:!0,children:le.passiveName&&le.passiveDescription(me.get(z.ri.weapon.refineIndex).value)}),(0,N.jsxs)(c.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,N.jsxs)(v.Z,{children:[(0,N.jsx)(f.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,N.jsx)(Z.Z,{}),(0,N.jsx)(C.lD,{children:[z.ri.weapon.main,z.ri.weapon.sub,z.ri.weapon.sub2].map((function(e,n){var i=me.get(e);return i.isEmpty||!i.value?null:(0,N.jsx)(C.JW,{node:i,component:p.ZP},i.info.key)}))})]}),M&&le.document&&(0,N.jsx)(y.Z,{sections:le.document})]})]})]})}),T&&oe&&(0,N.jsx)(l.Z,{sx:{py:1},children:(0,N.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,N.jsx)(a.ZP,{item:!0,flexGrow:1,children:(0,N.jsx)(g.Z,{showDefault:!0,size:"small",defaultIcon:(0,N.jsx)(o.Z,{}),defaultText:K("inventory"),value:re,onChange:de,filter:xe,disable:function(e){return""===e},disableClearable:!0})}),(0,N.jsx)(a.ZP,{item:!0,flexGrow:2}),!!I&&(0,N.jsx)(a.ZP,{item:!0,children:(0,N.jsx)(w.Z,{sx:{height:"100%"},large:!0,onClick:I})})]})})]})})}}}]);
//# sourceMappingURL=849.3a69b949.chunk.js.map