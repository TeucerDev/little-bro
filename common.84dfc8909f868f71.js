"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{5658:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox")},27216:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank")},73673:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},68164:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(6620),l=n(52322);const r=(0,a.Z)((0,l.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download")},23119:(e,t,n)=>{n.d(t,{Z:()=>_});var a=n(31461),l=n(7896),r=n(2784),o=n(6277),i=n(69075),s=n(7342),c=n(65992),d=n(43853),u=n(8250),h=n(98659),Z=n(62197),p=n(69222),m=n(15672);function g(e){return(0,m.Z)("MuiLink",e)}const f=(0,p.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var v=n(2818),y=n(47591);const b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=({theme:e,ownerState:t})=>{const n=(e=>b[e]||e)(t.color),a=(0,v.DW)(e,`palette.${n}`,!1)||t.color,l=(0,v.DW)(e,`palette.${n}Channel`);return"vars"in e&&l?`rgba(${l} / 0.4)`:(0,y.Fq)(a,.4)};var C=n(52322);const w=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,c.ZP)(Z.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,s.Z)(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>(0,l.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,l.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:x({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${f.focusVisible}`]:{outline:"auto"}}))),_=r.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiLink"}),{className:c,color:Z="primary",component:p="a",onBlur:m,onFocus:f,TypographyClasses:v,underline:y="always",variant:x="inherit",sx:_}=n,S=(0,a.Z)(n,w),{isFocusVisibleRef:H,onBlur:P,onFocus:B,ref:X}=(0,u.Z)(),[D,W]=r.useState(!1),q=(0,h.Z)(t,X),L=(0,l.Z)({},n,{color:Z,component:p,focusVisible:D,underline:y,variant:x}),V=(e=>{const{classes:t,component:n,focusVisible:a,underline:l}=e,r={root:["root",`underline${(0,s.Z)(l)}`,"button"===n&&"button",a&&"focusVisible"]};return(0,i.Z)(r,g,t)})(L);return(0,C.jsx)(k,(0,l.Z)({color:Z,className:(0,o.Z)(V.root,c),classes:v,component:p,onBlur:e=>{P(e),!1===H.current&&W(!1),m&&m(e)},onFocus:e=>{B(e),!0===H.current&&W(!0),f&&f(e)},ref:q,ownerState:L,variant:x,sx:[...Object.keys(b).includes(Z)?[]:[{color:Z}],...Array.isArray(_)?_:[_]]},S))}))},20370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var a=n(9725),l=n(67732),r=n(40535),o=n(54278),i=n(41075),s=n(92794),c=n(67550),d=n(21548),u=n(36893),h=n(10618),Z=n(29432),p=n(71765),m=n(38860),g=n(32912),f=n(66615),v=n(6620),y=n(52322);const b=(0,v.Z)([(0,y.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,y.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch");var x=n(79906),C=n(2784),w=n(13913),k=n(51650),_=n(10002),S=n(25434),H=n(56748),P=n(43966),B=n(52903);let X,D,W,q,L=e=>e;function V({location:e,setLocation:t}){const{t:n}=(0,d.$G)(["ui","artifact","charNames_gen"]),{database:a}=(0,C.useContext)(k.t),{gender:l}=(0,_.Z)(),r=(0,S.Z)((()=>w.Z.getAll),[]),o=(0,C.useCallback)((e=>n(`charNames_gen:${(0,u.LP)(a.chars.LocationToCharacterKey(e),l)}`)),[a,l,n]),i=(0,C.useCallback)((e=>{var t;switch(e){case"":return(0,B.tZ)(B.HY,{});case"Inventory":return(0,B.tZ)(f.Z,{});case"Equipped":return(0,B.tZ)(b,{});default:return r?(0,B.tZ)(H.Z,{src:null==(t=r(a.chars.LocationToCharacterKey(e),l))?void 0:t.thumbImgSide,sx:{pr:1}}):(0,B.tZ)(B.HY,{})}}),[a,l,r]),s=(0,C.useCallback)((e=>"Traveler"===e?u._0.some((e=>a.charMeta.get(e).favorite)):!!e&&a.charMeta.get(e).favorite),[a]),c=(0,C.useMemo)((()=>[{key:"",label:n(X||(X=L`artifact:filterLocation.any`))},{key:"Equipped",label:n(D||(D=L`artifact:filterLocation.currentlyEquipped`))},{key:"Inventory",label:n(W||(W=L`artifact:filterLocation.inventory`))},...u.xB.filter((e=>a.chars.get(a.chars.LocationToCharacterKey(e)))).map((e=>({key:e,label:o(e),favorite:s(e)}))).sort(((e,t)=>e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:e.label.localeCompare(t.label)))]),[n,o,s,a]);return(0,B.tZ)(C.Suspense,{fallback:(0,B.tZ)(x.Z,{variant:"text",width:100}),children:(0,B.tZ)(P.Z,{size:"small",options:c,valueKey:e,onChange:t,toImg:i,clearKey:"",label:n(q||(q=L`artifact:filterLocation.location`))})})}var T=n(92096),$=n(57061),R=n(41015),z=n(89343);function I({levelLow:e,levelHigh:t,setLow:n,setHigh:a,setBoth:l,dark:r=!1,disabled:o=!1}){const[i,s]=(0,C.useState)(e),[c,d]=(0,C.useState)(t),u=(0,C.useCallback)(((e,t)=>{if("number"==typeof t)throw new TypeError;const[n,a]=t;s(n),d(a)}),[s,d]);return(0,C.useEffect)((()=>s(e)),[s,e]),(0,C.useEffect)((()=>d(t)),[d,t]),(0,B.BX)(T.Z,{sx:{width:"100%",display:"flex",alignItems:"center",bgcolor:r?"contentDark.main":"contentLight.main"},children:[(0,B.tZ)(z.ZP,{value:i,onChange:e=>n((0,R.uZ)(e,0,t)),sx:{px:1,pl:2,width:100},inputProps:{sx:{textAlign:"right"}},startAdornment:"RV: ",disabled:o}),(0,B.tZ)($.ZP,{sx:{width:100,flexGrow:1,mx:2},getAriaLabel:()=>"Arifact RV Range",value:[i,c],onChange:u,onChangeCommitted:(e,t)=>l(t[0],t[1]),valueLabelDisplay:"auto",min:0,max:900,disabled:o}),(0,B.tZ)(z.ZP,{value:c,onChange:t=>a((0,R.uZ)(t,e,900)),sx:{px:1,width:50},inputProps:{sx:{textAlign:"center"}},disabled:o})]})}var M=n(9510);const N=["excluded","included"],O=["locked","unlocked"],K=(0,h.X)([...u.En]),j=(0,h.X)([...u.eV]),G=(0,h.X)([...N]),E=(0,h.X)([...O]),A=(0,h.X)([1,2,3,4]);function J({filterOption:e,filterOptionDispatch:t,disableSlotFilter:n=!1}){const{t:h}=(0,d.$G)(["artifact","ui"]),{artSetKeys:f=[],mainStatKeys:v=[],rarity:y=[],slotKeys:b=[],levelLow:x=0,levelHigh:C=20,substats:w=[],location:k="",exclusion:_=[...N],locked:S=[...O],rvLow:H=0,rvHigh:P=900,lines:X=[]}=e;return(0,B.BX)(i.ZP,{container:!0,spacing:1,children:[(0,B.BX)(i.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,B.tZ)(Z.Z,{fullWidth:!0,value:y,size:"small",children:u.En.map((e=>(0,B.tZ)(s.Z,{value:e,onClick:()=>t({rarity:K(y,e)}),children:(0,B.tZ)(p.q,{stars:e})},e)))}),(0,B.tZ)(Z.Z,{fullWidth:!0,value:b,size:"small",disabled:n,children:u.eV.map((e=>(0,B.tZ)(s.Z,{value:e,onClick:()=>t({slotKeys:j(b,e)}),children:(0,M.Ir)(e)},e)))}),(0,B.BX)(c.Z,{display:"flex",gap:1,children:[(0,B.tZ)(Z.Z,{fullWidth:!0,value:_,size:"small",children:N.map(((e,n)=>(0,B.BX)(s.Z,{value:e,sx:{display:"flex",gap:1},onClick:()=>t({exclusion:G(_,e)}),children:[(0,B.tZ)(l.G,{icon:n?a.Stf:a.gPx}),(0,B.tZ)(d.cC,{i18nKey:`exclusion.${e}`,t:h})]},e)))}),(0,B.tZ)(Z.Z,{fullWidth:!0,value:S,size:"small",children:O.map(((e,n)=>(0,B.BX)(s.Z,{value:e,sx:{display:"flex",gap:1},onClick:()=>t({locked:E(S,e)}),children:[n?(0,B.tZ)(r.Z,{}):(0,B.tZ)(o.Z,{}),(0,B.tZ)(d.cC,{i18nKey:`ui:${e}`,t:h})]},e)))})]}),(0,B.tZ)(Z.Z,{fullWidth:!0,value:X,size:"small",children:[1,2,3,4].map((e=>(0,B.tZ)(s.Z,{value:e,onClick:()=>t({lines:A(X,e)}),children:h("substat",{count:e})},e)))}),(0,B.tZ)(g.Z,{showLevelText:!0,levelLow:x,levelHigh:C,setLow:e=>t({levelLow:e}),setHigh:e=>t({levelHigh:e}),setBoth:(e,n)=>t({levelLow:e,levelHigh:n})}),(0,B.tZ)(I,{showLevelText:!0,levelLow:H,levelHigh:P,setLow:e=>t({rvLow:e}),setHigh:e=>t({rvHigh:e}),setBoth:(e,n)=>t({rvLow:e,rvHigh:n})})]}),(0,B.BX)(i.ZP,{item:!0,xs:12,md:6,display:"flex",flexDirection:"column",gap:1,children:[(0,B.tZ)(m.N5,{artSetKeys:f,setArtSetKeys:e=>t({artSetKeys:e})}),(0,B.tZ)(m.mY,{mainStatKeys:v,setMainStatKeys:e=>t({mainStatKeys:e})}),(0,B.tZ)(m.mW,{substatKeys:w,setSubstatKeys:e=>t({substats:e})}),(0,B.tZ)(V,{location:k,setLocation:e=>t({location:e})})]})]})}},86113:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67550),l=n(62197),r=n(52903);function o({avatar:e,title:t,action:n}){return(0,r.BX)(a.Z,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,(0,r.tZ)(l.Z,{variant:"subtitle1",sx:{flexGrow:1},children:t}),n&&(0,r.tZ)(l.Z,{variant:"caption",children:n})]})}},73740:(e,t,n)=>{n.d(t,{X:()=>T,Z:()=>W});var a=n(67550),l=n(62197),r=n(56961),o=n(2784),i=n(790),s=n(41015),c=n(87985),d=n(86113),u=n(7671),h=n(64919),Z=n(5658),p=n(27216),m=n(83249),g=n(94380),f=n(38553),v=n(53710),y=n(45475),b=n(83673),x=n(21845),C=n(52903);function w({conditional:e,disabled:t=!1}){return 1===Object.keys(e.states).length&&"path"in e?(0,C.tZ)(k,{conditional:e,disabled:t}):"path"in e?(0,C.tZ)(_,{conditional:e,disabled:t}):(0,C.tZ)(S,{conditional:e,disabled:t})}function k({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),r=(0,o.useCallback)((t=>{const l=(0,s.I8)(n.conditional);t?(0,s.SR)(l,e.path,t):(0,s.uH)(l,e.path),a({conditional:l})}),[e,n,a]),c=l.get(e.value).value,[d,u]=Object.entries(e.states)[0],h=P(u.name),g=B(e.name);return(0,C.BX)(m.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:c?"success":"primary",onClick:()=>r(c?void 0:d),disabled:t,startIcon:c?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),children:[g," ",h]})}function _({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),c=(0,o.useCallback)((t=>{const l=(0,s.I8)(n.conditional);t?(0,s.SR)(l,e.path,t):(0,s.uH)(l,e.path),a({conditional:l})}),[e,n,a]),d=l.get(e.value).value,u=d?e.states[d]:void 0,h=u?P(u.name):(0,C.tZ)(b.Z,{color:"secondary",children:"Not Active"}),Z=B(e.name);return(0,C.BX)(y.Z,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:d?"success":"primary",title:(0,C.BX)("span",{children:[Z," ",h]}),disabled:t,children:[(0,C.tZ)(g.Z,{onClick:()=>c(),selected:!u,disabled:!u,children:(0,C.tZ)("span",{children:"Not Active"})}),(0,C.tZ)(r.Z,{}),Object.entries(e.states).map((([e,t])=>(0,C.tZ)(g.Z,{onClick:()=>c(e),selected:d===e,disabled:d===e,children:t.name},e)))]})}function S({conditional:e,disabled:t}){const{character:n,characterDispatch:a}=(0,o.useContext)(v.K),{data:l}=(0,o.useContext)(i.R),r=(0,o.useCallback)(((e,t)=>{const l=(0,s.I8)(n.conditional);t?(0,s.SR)(l,e,t):(0,s.uH)(l,e),a({conditional:l})}),[n,a]);return(0,C.tZ)(f.Z,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(e.states).map((([e,n])=>{const a=l.get(n.value).value,o=a===e;return(0,C.tZ)(m.Z,{color:o?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>r(n.path,a?void 0:e),size:"small",startIcon:o?(0,C.tZ)(Z.Z,{}):(0,C.tZ)(p.Z,{}),sx:{borderRadius:0},children:B(n.name)},e)}))})}function H(e){return"string"!=typeof e}function P(e){if(!e)return"";let t="primary",n=e;return e&&H(e)&&e.props.color&&(t=e.props.color,n=(0,C.tZ)("span",{children:e.props.children})),(0,C.tZ)(b.Z,{sx:{ml:.5},color:t,children:n})}function B(e){if(H(e)){const t=e.props.key18,n=e.props.ns,a=e.props.values;return(0,C.tZ)(x.v,{ns:n,key18:t,values:a,useBadge:!0})}return e}function X({conditional:e,hideHeader:t=!1,hideDesc:n=!1}){const{data:a}=(0,o.useContext)(i.R);let l;if("path"in e){var r;const t=a.get(e.value).value;l=t&&(null==(r=e.states[t])?void 0:r.fields)}else l=Object.values(e.states).flatMap((e=>a.get(e.value).value?e.fields:[]));return(0,C.BX)(c.Z,{children:[!(0,s.mY)(t,e)&&(0,C.tZ)(T,{header:e.header,hideDesc:n}),(0,C.tZ)(u.Z,{sx:{p:0,"&:last-child":{pb:0}},children:(0,C.tZ)(w,{conditional:e})}),l&&(0,C.tZ)(h.ZP,{fields:l})]})}var D=n(82334);function W({sections:e,teamBuffOnly:t,hideDesc:n=!1,hideHeader:l=!1}){const{data:r}=(0,o.useContext)(i.R);if(!e.length)return null;const s=e.map(((e,a)=>e.canShow&&!r.get(e.canShow).value||t&&!e.teamBuff?null:(0,C.tZ)(q,{section:e,hideDesc:n,hideHeader:l},a))).filter((e=>e));return s.length?(0,C.tZ)(a.Z,{display:"flex",flexDirection:"column",gap:1,children:s}):null}function q({section:e,hideDesc:t=!1,hideHeader:n=!1}){return"fields"in e?(0,C.tZ)(L,{section:e,hideDesc:t,hideHeader:n}):"states"in e?(0,C.tZ)(X,{conditional:e,hideDesc:t,hideHeader:n}):(0,C.tZ)(V,{section:e})}function L({section:e,hideDesc:t,hideHeader:n}){return(0,C.BX)(c.Z,{children:[!(0,s.mY)(n,e)&&e.header&&(0,C.tZ)(T,{header:e.header,hideDesc:t,hideDivider:0===e.fields.length}),(0,C.tZ)(h.ZP,{fields:e.fields})]})}function V({section:e}){const{data:t}=(0,o.useContext)(i.R);return(0,C.tZ)("div",{children:(0,s.mY)(e.text,t)})}function T({header:e,hideDesc:t,hideDivider:n}){const{data:a}=(0,o.useContext)(i.R);let{icon:c,title:u,action:h}=e;c=(0,s.mY)(c,a);const Z=!t&&(0,s.mY)(e.description,a),p=t?u:(0,C.BX)("span",{children:[u," ",(0,C.tZ)(D.Z,{title:(0,C.tZ)(l.Z,{children:Z})})]});return(0,C.BX)(C.HY,{children:[(0,C.tZ)(d.Z,{avatar:c,title:p,action:h}),!n&&(0,C.tZ)(r.Z,{})]})}},52757:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img")({width:"100%",height:"auto"})},97859:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(38553),l=n(83249),r=n(94380),o=n(2784),i=n(21548),s=n(21626),c=n(41015),d=n(89343),u=n(45475),h=n(52903);function Z({level:e,ascension:t,setBoth:n,useLow:Z=!1}){const{t:p}=(0,i.$G)("ui"),m=Z?s.sU:s.SJ,g=(0,o.useCallback)(((e=1)=>{e=(0,c.uZ)(e,1,Z?s.d8:s.Qq);const t=m.findIndex((t=>e<=t));n({level:e,ascension:t})}),[n,m,Z]),f=(0,o.useCallback)((()=>{const a=m.findIndex((t=>90!==e&&e===t));n(t===a?{ascension:t+1}:{ascension:a})}),[n,m,t,e]);return(0,h.BX)(a.Z,{sx:{bgcolor:e=>e.palette.contentDark.main},children:[(0,h.tZ)(d.CC,{children:(0,h.tZ)(d.ZP,{onChange:g,value:e,startAdornment:"Lv. ",inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),(0,h.tZ)(l.Z,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(Z?s.nB:s.ek)(e),onClick:f,children:(0,h.BX)("strong",{children:["/ ",s.SJ[t]]})}),(0,h.tZ)(u.Z,{title:p("selectlevel"),sx:{flexGrow:1},children:[...Z?s.vF:s.D4].map((([a,l])=>{const o=a===e&&l===t;return(0,h.tZ)(r.Z,{selected:o,disabled:o,onClick:()=>n({level:a,ascension:l}),children:a===m[l]?`Lv. ${a}`:`Lv. ${a}/${m[l]}`},`${a}/${l}`)}))})]})}},14520:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(94380),l=n(21548),r=n(36893),o=n(45475),i=n(52903);function s({refinement:e,setRefinement:t}){const{t:n}=(0,l.$G)("ui");return(0,i.tZ)(o.Z,{title:n("refinement",{value:e}),children:r.a.map((l=>(0,i.tZ)(a.Z,{onClick:()=>t(l),selected:e===l,disabled:e===l,children:n("refinement",{value:l})},l)))})}},87051:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(31461),l=n(65992),r=n(83249),o=n(52903);const i=["children","disabled"],s=(0,l.ZP)(r.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function c(e){let{children:t}=e,n=(0,a.Z)(e,i);return(0,o.tZ)(s,Object.assign({},n,{disabled:!0,children:t}))}},59236:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(31461),l=n(25674),r=n(67550),o=n(36893),i=n(10618),s=n(65992),c=n(92794);const d=(0,s.ZP)(c.Z,{shouldForwardProp:e=>"baseColor"!==e&&"selectedColor"!==e})((({theme:e,baseColor:t="secondary",selectedColor:n="success"})=>({"&":{backgroundColor:e.palette[t].main,color:e.palette[t].contrastText},"&:hover":{backgroundColor:e.palette[t].dark},"&.Mui-selected":{backgroundColor:e.palette[n].main,color:e.palette[n].contrastText},"&.Mui-selected:hover":{backgroundColor:e.palette[n].dark},"&.Mui-disabled":{backgroundColor:e.palette[t].dark},"&.Mui-selected.Mui-disabled":{backgroundColor:e.palette[n].dark}})));var u=n(52972),h=n(52903);const Z=["value","onChange"],p=(0,i.X)([...o.N]);function m(e){let{value:t,onChange:n}=e,i=(0,a.Z)(e,Z);return(0,h.tZ)(l.Z,Object.assign({exclusive:!0,value:t},i,{children:o.N.map((e=>(0,h.tZ)(d,{value:e,selectedColor:e,onClick:()=>n(p(t,e)),children:(0,h.tZ)(r.Z,{sx:{fontSize:"2em",lineHeight:1},children:u.Z[e]})},e)))}))}},29117:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(31461),l=n(92794),r=n(79536),o=n(36893),i=n(10618),s=n(26578),c=n(29432),d=n(52903);const u=["value","onChange"],h=(0,i.X)([...o.yd]);function Z(e){let{value:t,onChange:n}=e,i=(0,a.Z)(e,u);return(0,d.tZ)(c.Z,Object.assign({exclusive:!0,value:t},i,{children:o.yd.map((e=>{var a;return(0,d.tZ)(l.Z,{value:e,onClick:()=>n(h(t,e)),children:(0,d.tZ)(s.Z,{src:null==(a=r.Z.weaponTypes)?void 0:a[e],size:2})},e)}))}))}},89431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(7671),l=n(41075),r=n(92794),o=n(67550),i=n(30609),s=n(56961),c=n(75213),d=n(62197),u=n(2784),h=n(21548),Z=n(79536),p=n(71026),m=n(51650),g=n(25434),f=n(36893),v=n(10618),y=n(87985),b=n(67937),x=n(72055),C=n(26578),w=n(98927),k=n(29432),_=n(71765),S=n(29117),H=n(52903);const P=(0,v.X)([...f.wC]);function B({show:e,ascension:t=0,onHide:n,onSelect:v,filter:B=(()=>!0),weaponTypeFilter:X}){const{t:D}=(0,h.$G)(["page_weapon","weaponNames_gen"]),W=(0,g.Z)((()=>p.Z.getAll),[]),[q,L]=(0,u.useState)(X?[X]:[...f.yd]),{database:V}=(0,u.useContext)(m.t),[T,$]=(0,u.useState)(V.displayWeapon.get());(0,u.useEffect)((()=>V.displayWeapon.follow(((e,t)=>$(t)))),[V]),(0,u.useEffect)((()=>X&&L([X])),[X]);const[R,z]=(0,u.useState)(""),I=(0,u.useDeferredValue)(R),{rarity:M}=T,N=W?f.fG.filter((e=>B(W(e)))).filter((e=>q.includes(W(e).weaponType))).filter((e=>!I||D(`weaponNames_gen:${e}`).toLowerCase().includes(I.toLowerCase()))).filter((e=>M.includes(W(e).rarity))).sort(((e,t)=>W(t).rarity-W(e).rarity)):[];return W?(0,H.tZ)(w.Z,{open:e,onClose:n,children:(0,H.BX)(y.Z,{children:[(0,H.tZ)(a.Z,{sx:{py:1},children:(0,H.BX)(l.ZP,{container:!0,spacing:1,children:[(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(S.Z,{value:q,onChange:L,disabled:!!X,size:"small"})}),(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(k.Z,{sx:{height:"100%"},value:M,size:"small",children:f.wC.map((e=>(0,H.tZ)(r.Z,{value:e,onClick:()=>V.displayWeapon.set({rarity:P(M,e)}),children:(0,H.BX)(o.Z,{display:"flex",gap:1,children:[(0,H.tZ)("strong",{children:e}),(0,H.tZ)(_.q,{stars:1})]})},e)))})}),(0,H.tZ)(l.ZP,{item:!0,flexGrow:1,children:(0,H.tZ)(i.Z,{autoFocus:!0,size:"small",value:R,onChange:e=>z(e.target.value),label:D("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,H.tZ)(l.ZP,{item:!0,children:(0,H.tZ)(x.Z,{onClick:n})})]})}),(0,H.tZ)(s.Z,{}),(0,H.tZ)(a.Z,{children:(0,H.tZ)(l.ZP,{container:!0,spacing:1,children:N.map((e=>{var a;const r=W(e);return(0,H.tZ)(l.ZP,{item:!0,lg:3,md:4,children:(0,H.tZ)(b.Z,{sx:{height:"100%"},children:(0,H.BX)(c.Z,{onClick:()=>{n(),v(e)},sx:{display:"flex"},children:[(0,H.tZ)(o.Z,{component:"img",src:r.getImg(t),sx:{width:100,height:"auto"},className:` grad-${r.rarity}star`}),(0,H.BX)(o.Z,{sx:{flexGrow:1,px:1},children:[(0,H.tZ)(d.Z,{variant:"subtitle1",children:r.name}),(0,H.BX)(d.Z,{children:[(0,H.tZ)(C.Z,{src:null==(a=Z.Z.weaponTypes)?void 0:a[r.weaponType]})," ",(0,H.tZ)(_.q,{stars:r.rarity,colored:!0})]})]})]})})},e)}))})}),(0,H.tZ)(s.Z,{}),(0,H.tZ)(a.Z,{sx:{py:1},children:(0,H.tZ)(x.Z,{large:!0,onClick:n})})]})}):null}},2679:(e,t,n)=>{n.d(t,{WC:()=>k,KX:()=>S,SJ:()=>_,r:()=>L,Zu:()=>H,xm:()=>X,L1:()=>q,q8:()=>W,qp:()=>B,s_:()=>D,M:()=>P});var a=n(34958),l=n(30507),r=n(19807),o=n(61215),i=n(36893),s=n(41015),c=n(97797);const d=(0,c.lp)(a.qH.lvl,o.PO,r.ZP.info("crystallize_level_multi")),u=(0,c.WV)(40/9,(0,c.F9)(a.qH.total.eleMas,1400)),h=(0,c.ce)((0,c.WV)((0,c.ce)((0,c.Sm)(c.J_,u),Object.assign({pivot:!0},r.ZP.info("base_crystallize_multi"))),d),r.ZP.info("crystallize")),Z=(0,c.lp)(a.qH.lvl,o.P_,r.ZP.info("transformative_level_multi")),p=(0,c.WV)(16,(0,c.F9)(a.qH.total.eleMas,2e3)),m=Object.assign({},(0,s.O)(Object.keys(o.Ne),(e=>{const{multi:t,resist:n,canCrit:l}=o.Ne[e];return(0,c.ce)((0,c.WV)((0,c.WV)((0,c.a9)(t,r.ZP.info(`${e}_multi`)),Z),(0,c.Sm)((0,c.ce)((0,c.Sm)(c.J_,p),Object.assign({pivot:!0},r.ZP.info("base_transformative_multi"))),a.qH.total[`${e}_dmg_`]),(0,c.P5)(a.qH.hit.hitMode,{hit:c.J_,critHit:l?(0,c.Sm)(c.J_,a.qH.total[`${e}_critDMG_`]):c.J_,avgHit:l?(0,c.Sm)(c.J_,(0,c.WV)((0,c.ce)((0,c.Fp)((0,c.VV)(a.qH.total[`${e}_critRate_`],(0,c.Sm)(c.J_,c.J_)),c.zv),Object.assign({},a.qH.total[`${e}_critRate_`].info,{pivot:!0})),a.qH.total[`${e}_critDMG_`])):c.J_},NaN),a.qH.enemy[`${n}_resMulti`]),r.ZP.info(`${e}_hit`))})),{swirl:(0,s.O)(o.Ne.swirl.variants,(e=>{const t=(0,c.WV)((0,c.WV)((0,c.a9)(o.Ne.swirl.multi,r.ZP.info("swirl_multi")),Z),(0,c.Sm)((0,c.ce)((0,c.Sm)(c.J_,p),Object.assign({pivot:!0},r.ZP.info("base_transformative_multi"))),a.qH.total.swirl_dmg_)),n=a.qH.enemy[`${e}_resMulti`];return(0,c.ce)(["pyro","hydro","cryo","electro"].includes(e)?"electro"===e?(0,c.aT)((0,c.WV)((0,c.Sm)(t,a.qH.hit.addTerm),n),{hit:{ele:(0,c.a9)(e)}}):(0,c.aT)((0,c.WV)(t,n,a.qH.hit.ampMulti),{hit:{ele:(0,c.a9)(e)}}):(0,c.WV)(t,n),r.ZP.info(`${e}_swirl_hit`))}))}),g={overloaded:(0,c.ce)((0,c.Dg)(a._d,"pyro",m.overloaded),r.ZP.info("overloaded_hit")),electrocharged:(0,c.ce)((0,c.Dg)(a._d,"hydro",m.electrocharged),r.ZP.info("electrocharged_hit")),superconduct:(0,c.ce)((0,c.Dg)(a._d,"cryo",m.superconduct),r.ZP.info("superconduct_hit")),burning:(0,c.ce)((0,c.Dg)(a._d,"pyro",m.burning),r.ZP.info("burning_hit")),bloom:(0,c.ce)((0,c.Dg)(a._d,"hydro",m.bloom),r.ZP.info("bloom_hit")),burgeon:(0,c.ce)((0,c.Dg)(a._d,"pyro",m.burgeon),r.ZP.info("burgeon_hit"))},f={anemo:{electroSwirl:m.swirl.electro,pyroSwirl:m.swirl.pyro,cryoSwirl:m.swirl.cryo,hydroSwirl:m.swirl.hydro,overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,burning:m.burning,bloom:m.bloom,burgeon:m.burgeon,hyperbloom:m.hyperbloom},geo:Object.assign({crystallize:h},Object.fromEntries(i.gs.map((e=>[`${e}Crystallize`,(0,c.ce)((0,c.WV)((0,c.aQ)(2.5),h),r.ZP.info(`${e}_crystallize`))]))),{shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon}),electro:{overloaded:m.overloaded,electrocharged:m.electrocharged,superconduct:m.superconduct,shattered:m.shattered,hyperbloom:m.hyperbloom,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},hydro:{electrocharged:m.electrocharged,shattered:m.shattered,bloom:m.bloom,overloaded:g.overloaded,superconduct:g.superconduct,burning:g.burning,burgeon:g.burgeon},pyro:{overloaded:m.overloaded,shattered:m.shattered,burning:m.burning,burgeon:m.burgeon,electrocharged:g.electrocharged,superconduct:g.superconduct,bloom:g.bloom},cryo:{superconduct:m.superconduct,shattered:m.shattered,overloaded:g.overloaded,electrocharged:g.electrocharged,burning:g.burning,bloom:g.bloom,burgeon:g.burgeon},dendro:{shattered:m.shattered,burning:m.burning,bloom:m.bloom,overloaded:g.overloaded,electrocharged:g.electrocharged,superconduct:g.superconduct,burgeon:g.burgeon}};var v=n(69190);const y=JSON.parse('{"GROW_CURVE_HP_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_ATTACK_S4":{"1":1,"2":1.083,"3":1.165,"4":1.248,"5":1.33,"6":1.413,"7":1.495,"8":1.578,"9":1.661,"10":1.743,"11":1.826,"12":1.908,"13":1.991,"14":2.073,"15":2.156,"16":2.239,"17":2.321,"18":2.404,"19":2.486,"20":2.569,"21":2.651,"22":2.734,"23":2.817,"24":2.899,"25":2.982,"26":3.064,"27":3.147,"28":3.229,"29":3.312,"30":3.394,"31":3.477,"32":3.56,"33":3.642,"34":3.725,"35":3.807,"36":3.89,"37":3.972,"38":4.055,"39":4.138,"40":4.22,"41":4.303,"42":4.385,"43":4.468,"44":4.55,"45":4.633,"46":4.716,"47":4.798,"48":4.881,"49":4.963,"50":5.046,"51":5.128,"52":5.211,"53":5.294,"54":5.376,"55":5.459,"56":5.541,"57":5.624,"58":5.706,"59":5.789,"60":5.872,"61":5.954,"62":6.037,"63":6.119,"64":6.202,"65":6.284,"66":6.367,"67":6.45,"68":6.532,"69":6.615,"70":6.697,"71":6.78,"72":6.862,"73":6.945,"74":7.028,"75":7.11,"76":7.193,"77":7.275,"78":7.358,"79":7.44,"80":7.523,"81":7.606,"82":7.688,"83":7.771,"84":7.853,"85":7.936,"86":8.018,"87":8.101,"88":8.183,"89":8.266,"90":8.349,"91":8.431,"92":8.514,"93":8.596,"94":8.679,"95":8.761,"96":8.844,"97":8.927,"98":9.009,"99":9.092,"100":9.174},"GROW_CURVE_HP_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652},"GROW_CURVE_ATTACK_S5":{"1":1,"2":1.083,"3":1.166,"4":1.25,"5":1.333,"6":1.417,"7":1.5,"8":1.584,"9":1.668,"10":1.751,"11":1.835,"12":1.919,"13":2.003,"14":2.088,"15":2.172,"16":2.256,"17":2.341,"18":2.425,"19":2.51,"20":2.594,"21":2.679,"22":2.764,"23":2.849,"24":2.934,"25":3.019,"26":3.105,"27":3.19,"28":3.275,"29":3.361,"30":3.446,"31":3.532,"32":3.618,"33":3.704,"34":3.789,"35":3.875,"36":3.962,"37":4.048,"38":4.134,"39":4.22,"40":4.307,"41":4.393,"42":4.48,"43":4.567,"44":4.653,"45":4.74,"46":4.827,"47":4.914,"48":5.001,"49":5.089,"50":5.176,"51":5.263,"52":5.351,"53":5.438,"54":5.526,"55":5.614,"56":5.702,"57":5.79,"58":5.878,"59":5.966,"60":6.054,"61":6.142,"62":6.23,"63":6.319,"64":6.407,"65":6.496,"66":6.585,"67":6.673,"68":6.762,"69":6.851,"70":6.94,"71":7.029,"72":7.119,"73":7.208,"74":7.297,"75":7.387,"76":7.476,"77":7.566,"78":7.656,"79":7.746,"80":7.836,"81":7.926,"82":8.016,"83":8.106,"84":8.196,"85":8.286,"86":8.377,"87":8.467,"88":8.558,"89":8.649,"90":8.739,"91":8.83,"92":8.921,"93":9.012,"94":9.103,"95":9.195,"96":9.286,"97":9.377,"98":9.469,"99":9.56,"100":9.652}}'),b=(0,s.xh)(y,(e=>[0,...Object.values(e)])),x=(0,s.O)(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],(e=>a.qH.total[e])),C=(0,c.Qq)((0,c.P5)(a.qH.hit.move,{skill:a.qH.charEle,burst:a.qH.charEle},void 0),(0,c.P5)(a.qH.weaponType,{sword:a._d,claymore:a._d,polearm:a._d,catalyst:a.qH.charEle},void 0),"physical");function w(e){switch(e){case"normal":case"charged":case"plunging":return"auto";case"skill":return"skill";case"burst":return"burst"}}function k(e,t,n={}){var r;return(0,c.aT)(a.qH.hit.dmg,(0,l.b3)([{hit:{base:e,move:(0,c.a9)(t),ele:null!=n&&null!=(r=n.hit)&&r.ele?void 0:C}},n]))}function _(e,t){const n=(0,c.WV)(e,(0,c.Sm)(c.J_,a.qH.total.shield_));return t?(0,c.aT)(n,t):n}function S(e,t){const n=a.qH.total.healInc,l=(0,c.WV)((0,c.Sm)(e,n),(0,c.Sm)(c.J_,a.qH.total.heal_,a.qH.total.incHeal_));return t?(0,c.aT)(l,t):l}function H(e,t,n,l={},r){const o=w(n);return k(r?(0,c.WV)((0,c.lp)(a.qH.total[`${o}Index`],t,{unit:"%"}),a.qH.total[e],r):(0,c.WV)((0,c.lp)(a.qH.total[`${o}Index`],t,{unit:"%"}),a.qH.total[e]),n,l)}function P(e,t,n,l={}){const r=w(n);return k((0,c.Sm)(...e.map(((e,n)=>(0,c.WV)((0,c.lp)(a.qH.total[`${r}Index`],t[n],{unit:"%"}),a.qH.total[e])))),n,l)}function B(e,t,n,l){return _((0,c.Sm)((0,c.WV)(t,a.qH.total[e]),n),l)}function X(e,t,n,l){return S((0,c.Sm)((0,c.WV)(t,a.qH.total[e]),n),l)}function D(e,t,n,l,r){const o=w(l),i=a.qH.total[`${o}Index`];return _((0,c.Sm)((0,c.WV)((0,c.lp)(i,t,{unit:"%"}),a.qH.total[e]),(0,c.lp)(i,n)),r)}function W(e,t){return(0,c.ce)((0,c.WV)((0,c.aQ)("geo"===e?1.5:2.5),t),{variant:e})}function q(e,t,n,l,r){const o=w(l),i=a.qH.total[`${o}Index`];return S((0,c.Sm)((0,c.WV)((0,c.lp)(i,t,{unit:"%"}),a.qH.total[e]),(0,c.lp)(i,n)),r)}function L(e,t,n,o,i,d={}){i.basic=Object.assign({},x);const u={charKey:(0,c.a9)(e),base:{},weaponType:(0,c.a9)(o.weaponTypeKey),premod:{},display:i};let h;t&&(u.charEle=(0,c.a9)(t),u.teamBuff={tally:{[t]:(0,c.a9)(1)}},u.display.basic[`${t}_dmg_`]=a.qH.total[`${t}_dmg_`],u.display.reaction=f[t]),n&&(0,s.SR)(u,["teamBuff","tally",n],(0,c.a9)(1)),(0,s.SR)(u,["teamBuff","tally","maxEleMas"],a.qH.premod.eleMas),"catalyst"!==o.weaponTypeKey&&(u.display.basic||(u.display.basic={}),u.display.basic.physical_dmg_=a.qH.total.physical_dmg_);for(const l of[...v.r,"def"]){const e=[];o.curves[l]&&e.push((Z=o.base[l],p=o.curves[l],(0,c.WV)(Z,(0,c.lp)(a.qH.lvl,b[p]))));if(o.ascensions.some((e=>e.props[l]))&&e.push((0,c.lp)(a.qH.asc,o.ascensions.map((e=>{var t;return null!=(t=e.props[l])?t:NaN})))),!e.length)continue;const t=(0,c.ce)(1===e.length?e[0]:(0,c.Sm)(...e),Object.assign({},r.ZP.info(l),{prefix:"char",asConst:!0}));if(l.endsWith("_dmg_")&&(t.info.variant=l.slice(0,-5)),"atk"===l||"def"===l||"hp"===l)u.base[l]=t;else{if(h)throw new Error("Duplicated Char Special");h=!0,u.special=t,u.premod[l]=a.qH.special}}var Z,p;return(0,l.b3)([u,(0,l.d1)(d)])}},1296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(31461),l=n(7671),r=n(67550),o=n(30609),i=n(56961),s=n(41075),c=n(65992),d=n(99479),u=n(43894),h=n(75213),Z=n(62197),p=n(2784),m=n(21548),g=n(87985),f=n(67937),v=n(50875),y=n(72055),b=n(98927),x=n(46026),C=n(83673),w=n(71765),k=n(59236),_=n(29117),S=n(790),H=n(13913),P=n(21626),B=n(51650),X=n(44304),D=n(10002),W=n(36617),q=n(25434),L=n(36893),V=n(45069),T=n(1661),$=n(52903);const R=["className"],z=Object.keys(V.V3);function I({show:e,onHide:t,onSelect:n,filter:a=(()=>!0),newFirst:c=!1}){const{t:d}=(0,m.$G)(["page_character","charNames_gen"]),{database:u}=(0,p.useContext)(B.t),[h,Z]=(0,p.useState)((()=>u.displayCharacter.get()));(0,p.useEffect)((()=>u.displayCharacter.follow(((e,t)=>Z(t)))),[u,Z]);const f=(0,q.Z)((()=>H.Z.getAll),[]),[v,C]=(0,W.Z)();(0,p.useEffect)((()=>u.charMeta.followAny((e=>C()))),[C,u]);const[w,P]=(0,p.useState)(""),X=(0,p.useDeferredValue)(w),D=(0,p.useDeferredValue)(h),R=(0,p.useDeferredValue)(v),I=(0,p.useMemo)((()=>{var e;if(!f)return[];const{element:t,weaponType:n,sortType:l,ascending:r}=D,o=[...c?["new"]:[],...null!=(e=V.V3[l])?e:[]];return R&&L.IV.filter((e=>a(u.chars.get(e),f[e]))).filter((0,T.C)({element:t,weaponType:n,name:X},(0,V.zU)(u,f))).sort((0,T.e)(o,r,(0,V._L)(u,f),["new","favorite"]))}),[u,c,D,f,R,X,a]);if(!f)return null;const{weaponType:M,element:O,sortType:K,ascending:j}=h;return(0,$.tZ)(b.Z,{open:e,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,$.BX)(g.Z,{children:[(0,$.BX)(l.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,$.tZ)(_.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({weaponType:e}),value:M,size:"small"}),(0,$.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>u.displayCharacter.set({element:e}),value:O,size:"small"}),(0,$.tZ)(r.Z,{flexGrow:1,children:(0,$.tZ)(o.Z,{autoFocus:!0,value:w,onChange:e=>P(e.target.value),label:d("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,$.tZ)(x.Z,{sx:{height:"100%"},sortKeys:z,value:K,onChange:e=>u.displayCharacter.set({sortType:e}),ascending:j,onChangeAsc:e=>u.displayCharacter.set({ascending:e})}),(0,$.tZ)(y.Z,{onClick:t})]}),(0,$.tZ)(i.Z,{}),(0,$.tZ)(S.R.Provider,{value:{teamData:void 0},children:(0,$.tZ)(l.Z,{children:(0,$.tZ)(s.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:I.map((e=>(0,$.tZ)(s.ZP,{item:!0,xs:1,children:(0,$.tZ)(N,{characterKey:e,onClick:()=>{t(),null==n||n(e)}})},e)))})})})]})})}const M=(0,c.ZP)((e=>{let{className:t}=e,n=(0,a.Z)(e,R);return(0,$.tZ)(d.Z,Object.assign({},n,{classes:{popper:t}}))}))({[`& .${u.Z.tooltip}`]:{padding:0}});function N({characterKey:e,onClick:t}){var n;const{gender:a}=(0,D.Z)(),l=(0,q.Z)((()=>H.Z.get(e,a)),[e,a]),o=(0,X.Z)(e),{level:i=1,ascension:s=0,constellation:c=0}=null!=o?o:{};return(0,$.tZ)(M,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",title:(0,$.tZ)(r.Z,{sx:{width:300},children:(0,$.tZ)(v.Z,{hideStats:!0,characterKey:e})}),children:(0,$.tZ)(r.Z,{children:(0,$.tZ)(f.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:(0,$.tZ)(h.Z,{onClick:t,children:(0,$.BX)(r.Z,{display:"flex",position:"relative",className:`grad-${null==l?void 0:l.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${null==l?void 0:l.bannerImg})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,$.tZ)(r.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,$.tZ)(r.Z,{component:"img",src:null==l?void 0:l.thumbImg,width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,$.BX)(r.Z,{flexGrow:1,sx:{pr:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,$.tZ)(Z.Z,{variant:"body2",children:(0,$.tZ)(C.Z,{color:null==l?void 0:l.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null==l?void 0:l.name})}),o?(0,$.BX)(r.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,$.BX)(r.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,$.BX)(Z.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",i]}),(0,$.BX)(Z.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",P.SJ[s]]})]}),(0,$.BX)(Z.Z,{variant:"body2",children:["C",c]})]}):(0,$.tZ)(Z.Z,{component:"span",variant:"body2",children:(0,$.tZ)(C.Z,{children:"NEW"})}),(0,$.tZ)(Z.Z,{variant:"body2",children:(0,$.tZ)(w.q,{stars:null!=(n=null==l?void 0:l.rarity)?n:1,colored:!0})})]})]})})})})})}},3694:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(9725),l=n(67732),r=n(54278),o=n(40535),i=n(75213),s=n(67550),c=n(79906),d=n(85801),u=n(62197),h=n(7671),Z=n(38553),p=n(99479),m=n(83249),g=n(2784),f=n(21548),v=n(79536),y=n(67937),b=n(43007),x=n(37923),C=n(57889),w=n(26578),k=n(71765),_=n(21626),S=n(71026),H=n(51650),P=n(34958),B=n(30507),X=n(61278),D=n(25434),W=n(94758),q=n(52903);let L,V=e=>e;function T({weaponId:e,onClick:t,onEdit:n,onDelete:T,canEquip:$=!1,extraButtons:R}){var z;const{t:I}=(0,f.$G)(["page_weapon","ui"]),{database:M}=(0,g.useContext)(H.t),N=(0,W.Z)(e),O=(0,D.Z)((()=>null!=N&&N.key?S.Z.get(N.key):void 0),[null==N?void 0:N.key]),K=(0,g.useCallback)((e=>e.weaponTypeKey===(null==O?void 0:O.weaponType)),[O]),j=(0,g.useCallback)((n=>(0,q.tZ)(i.Z,{onClick:()=>null==t?void 0:t(e),children:n})),[t,e]),G=(0,g.useCallback)((e=>(0,q.tZ)(s.Z,{children:e})),[]),E=(0,g.useCallback)((t=>e&&M.weapons.set(e,{location:t})),[M,e]),A=(0,g.useMemo)((()=>O&&N&&(0,B.mP)([O.data,(0,B.v0)(N)])),[O,N]);if(!N||!O||!A)return null;const{level:J,ascension:F,refinement:Y,id:U,location:Q="",lock:ee}=N,te=A.get(P.ri.weapon.type).value,ne=[P.ri.weapon.main,P.ri.weapon.sub,P.ri.weapon.sub2].map((e=>A.get(e))),ae=O.getImg(F);return(0,q.tZ)(g.Suspense,{fallback:(0,q.tZ)(c.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,q.BX)(y.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,q.BX)(C.Z,{condition:!!t,wrapper:j,falseWrapper:G,children:[(0,q.BX)(s.Z,{className:`grad-${O.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,q.tZ)(d.Z,{color:"primary",onClick:()=>M.weapons.set(U,{lock:!ee}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:ee?(0,q.tZ)(r.Z,{}):(0,q.tZ)(o.Z,{})}),(0,q.BX)(s.Z,{sx:{position:"relative",zIndex:1},children:[(0,q.BX)(s.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,q.tZ)(w.Z,{sx:{fontSize:"1.5em"},src:null==(z=v.Z.weaponTypes)?void 0:z[te]}),(0,q.tZ)(u.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,q.tZ)("strong",{children:O.name})})]}),(0,q.BX)(u.Z,{component:"span",variant:"h5",children:["Lv. ",J]}),(0,q.BX)(u.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",_.SJ[F]]}),(0,q.BX)(u.Z,{variant:"h6",children:["Refinement ",(0,q.tZ)("strong",{children:Y})]}),(0,q.tZ)(u.Z,{children:(0,q.tZ)(k.q,{stars:O.rarity,colored:!0})})]}),(0,q.tZ)(s.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,q.tZ)(s.Z,{component:"img",src:null!=ae?ae:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,q.tZ)(h.Z,{children:ne.map((e=>e.info.name?(0,q.BX)(s.Z,{sx:{display:"flex"},children:[(0,q.BX)(u.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,q.tZ)(u.Z,{children:(0,X.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,q.BX)(s.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,q.tZ)(s.Z,{sx:{flexGrow:1},children:$?(0,q.tZ)(b.W,{location:Q,setLocation:E,filter:K,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}}):(0,q.tZ)(x.Z,{location:Q})}),(0,q.BX)(Z.Z,{sx:{height:"100%"},children:[!!n&&(0,q.tZ)(p.Z,{title:(0,q.tZ)(u.Z,{children:I(L||(L=V`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,q.tZ)(m.Z,{color:"info",onClick:()=>n(U),children:(0,q.tZ)(l.G,{icon:a.Xcf,className:"fa-fw"})})}),!!T&&(0,q.tZ)(m.Z,{color:"error",onClick:()=>T(U),disabled:!!Q||ee,children:(0,q.tZ)(l.G,{icon:a.I7k,className:"fa-fw"})}),R]})]})]})})}},15878:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var a=n(54278),l=n(40535),r=n(7671),o=n(41075),i=n(67550),s=n(62197),c=n(38553),d=n(83249),u=n(42523),h=n(56961),Z=n(15873),p=n(2784),m=n(87985),g=n(67937),f=n(43007),v=n(72055),y=n(73740),b=n(64919),x=n(97859),C=n(98927),w=n(14520),k=n(71765),_=n(790),S=n(13913),H=n(21626),P=n(71026),B=n(51650),X=n(34958),D=n(30507),W=n(94657),q=n(10002),L=n(25434),V=n(94758),T=n(52903);const $=p.lazy((()=>n.e(592).then(n.bind(n,89431))));function R({weaponId:e,footer:t=!1,onClose:n,extraButtons:R}){var z;const{data:I}=(0,p.useContext)(_.R),{database:M}=(0,p.useContext)(B.t),N=(0,V.Z)(e),{key:O="",level:K=0,refinement:j=1,ascension:G=0,lock:E,location:A="",id:J}=null!=N?N:{},F=(0,L.Z)((()=>P.Z.get(O)),[O]),Y=(0,p.useCallback)((t=>{M.weapons.set(e,t)}),[e,M]),{gender:U}=(0,q.Z)(),Q=(0,L.Z)((()=>A?S.Z.get(M.chars.LocationToCharacterKey(A),U):void 0),[M,U,A]),ee=Q&&Q.weaponTypeKey,te=(0,p.useCallback)((e=>J&&M.weapons.set(J,{location:e})),[M,J]),ne=(0,p.useCallback)((e=>e.weaponTypeKey===(null==F?void 0:F.weaponType)),[F]),[ae,le,re]=(0,W.Z)(),oe=null==F?void 0:F.getImg(G);(0,p.useEffect)((()=>{if(F&&Y&&F.key===(null==N?void 0:N.key)&&F.rarity<=2&&(K>70||G>4)){const[e,t]=H.vF[0];Y({level:e,ascension:t})}}),[F,N,Y,K,G]);const ie=(0,p.useMemo)((()=>F&&N&&(0,D.mP)([F.data,(0,D.v0)(N)])),[F,N]);return(0,T.tZ)(C.Z,{open:!!e,onClose:n,containerProps:{maxWidth:"md"},children:(0,T.BX)(g.Z,{children:[(0,T.tZ)($,{ascension:G,show:ae,onHide:re,onSelect:e=>Y({key:e}),weaponTypeFilter:ee}),(0,T.tZ)(r.Z,{children:F&&ie&&(0,T.BX)(o.ZP,{container:!0,spacing:1.5,children:[(0,T.tZ)(o.ZP,{item:!0,xs:12,sm:3,children:(0,T.BX)(o.ZP,{container:!0,spacing:1.5,children:[(0,T.tZ)(o.ZP,{item:!0,xs:6,sm:12,children:(0,T.tZ)(i.Z,{component:"img",src:oe,className:`grad-${F.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),(0,T.tZ)(o.ZP,{item:!0,xs:6,sm:12,children:(0,T.tZ)(s.Z,{children:(0,T.tZ)("small",{children:F.description})})})]})}),(0,T.BX)(o.ZP,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,T.tZ)(i.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:(0,T.BX)(c.Z,{children:[(0,T.tZ)(d.Z,{color:"info",onClick:le,children:null!=(z=null==F?void 0:F.name)?z:"Select a Weapon"}),(null==F?void 0:F.hasRefinement)&&(0,T.tZ)(w.Z,{refinement:j,setRefinement:e=>Y({refinement:e})}),R]})}),(0,T.BX)(i.Z,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[F&&(0,T.tZ)(x.Z,{level:K,ascension:G,setBoth:Y,useLow:!F.hasRefinement}),(0,T.tZ)(d.Z,{color:"error",onClick:()=>J&&M.weapons.set(J,{lock:!E}),startIcon:E?(0,T.tZ)(a.Z,{}):(0,T.tZ)(l.Z,{}),children:E?"Locked":"Unlocked"})]}),(0,T.tZ)(s.Z,{children:(0,T.tZ)(k.q,{stars:F.rarity})}),(0,T.tZ)(s.Z,{variant:"subtitle1",children:(0,T.tZ)("strong",{children:F.passiveName})}),(0,T.tZ)(s.Z,{gutterBottom:!0,children:F.passiveName&&F.passiveDescription(ie.get(X.ri.weapon.refineIndex).value)}),(0,T.BX)(i.Z,{display:"flex",flexDirection:"column",gap:1,children:[(0,T.BX)(m.Z,{children:[(0,T.tZ)(u.Z,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),(0,T.tZ)(h.Z,{}),(0,T.tZ)(b.lD,{children:[X.ri.weapon.main,X.ri.weapon.sub,X.ri.weapon.sub2].map((e=>{const t=ie.get(e);return t.isEmpty||!t.value?null:(0,T.tZ)(b.JW,{node:t,component:Z.ZP},JSON.stringify(t.info))}))})]}),I&&F.document&&(0,T.tZ)(y.Z,{sections:F.document})]})]})]})}),t&&J&&(0,T.tZ)(r.Z,{sx:{py:1},children:(0,T.BX)(o.ZP,{container:!0,spacing:1,children:[(0,T.tZ)(o.ZP,{item:!0,flexGrow:1,children:(0,T.tZ)(f.W,{location:A,setLocation:te,filter:ne,autoCompleteProps:{getOptionDisabled:e=>!e.key,disableClearable:!0}})}),(0,T.tZ)(o.ZP,{item:!0,flexGrow:2}),!!n&&(0,T.tZ)(o.ZP,{item:!0,children:(0,T.tZ)(v.Z,{sx:{height:"100%"},large:!0,onClick:n})})]})})]})})}}}]);