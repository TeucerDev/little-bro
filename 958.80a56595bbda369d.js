"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[958,334],{32510:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(6620),r=l(52322);const i=(0,n.Z)((0,r.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay")},107:(e,t,l)=>{l.d(t,{Z:()=>I});var n=l(31461),r=l(7896),i=l(2784),a=l(6277),o=l(69075),c=l(47591),s=l(65992),d=l(43853),Z=l(7342),u=l(17377),h=l(69222),f=l(15672);function p(e){return(0,f.Z)("MuiAlert",e)}const m=(0,h.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var x=l(85801),g=l(6620),v=l(52322);const y=(0,g.Z)((0,v.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,g.Z)((0,v.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=(0,g.Z)((0,v.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),k=(0,g.Z)((0,v.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var C=l(80592);const w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],A=(0,s.ZP)(u.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:l}=e;return[t.root,t[l.variant],t[`${l.variant}${(0,Z.Z)(l.color||l.severity)}`]]}})((({theme:e,ownerState:t})=>{const l="light"===e.palette.mode?c._j:c.$n,n="light"===e.palette.mode?c.$n:c._j,i=t.color||t.severity;return(0,r.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&"standard"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:l(e.palette[i].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${i}StandardBg`]:n(e.palette[i].light,.9),[`& .${m.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&"outlined"===t.variant&&{color:e.vars?e.vars.palette.Alert[`${i}Color`]:l(e.palette[i].light,.6),border:`1px solid ${(e.vars||e).palette[i].light}`,[`& .${m.icon}`]:e.vars?{color:e.vars.palette.Alert[`${i}IconColor`]}:{color:e.palette[i].main}},i&&"filled"===t.variant&&(0,r.Z)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${i}FilledColor`],backgroundColor:e.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[i].dark:e.palette[i].main,color:e.palette.getContrastText(e.palette[i].main)}))})),E=(0,s.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),$=(0,s.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),B=(0,s.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),P={success:(0,v.jsx)(y,{fontSize:"inherit"}),warning:(0,v.jsx)(b,{fontSize:"inherit"}),error:(0,v.jsx)(S,{fontSize:"inherit"}),info:(0,v.jsx)(k,{fontSize:"inherit"})},I=i.forwardRef((function(e,t){var l,i,c,s,u,h;const f=(0,d.Z)({props:e,name:"MuiAlert"}),{action:m,children:g,className:y,closeText:b="Close",color:S,components:k={},componentsProps:I={},icon:M,iconMapping:X=P,onClose:j,role:z="alert",severity:N="success",slotProps:G={},slots:L={},variant:_="standard"}=f,R=(0,n.Z)(f,w),W=(0,r.Z)({},f,{color:S,severity:N,variant:_}),O=(e=>{const{variant:t,color:l,severity:n,classes:r}=e,i={root:["root",`${t}${(0,Z.Z)(l||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,o.Z)(i,p,r)})(W),V=null!=(l=null!=(i=L.closeButton)?i:k.CloseButton)?l:x.Z,F=null!=(c=null!=(s=L.closeIcon)?s:k.CloseIcon)?c:C.Z,D=null!=(u=G.closeButton)?u:I.closeButton,H=null!=(h=G.closeIcon)?h:I.closeIcon;return(0,v.jsxs)(A,(0,r.Z)({role:z,elevation:0,ownerState:W,className:(0,a.Z)(O.root,y),ref:t},R,{children:[!1!==M?(0,v.jsx)(E,{ownerState:W,className:O.icon,children:M||X[N]||P[N]}):null,(0,v.jsx)($,{ownerState:W,className:O.message,children:g}),null!=m?(0,v.jsx)(B,{ownerState:W,className:O.action,children:m}):null,null==m&&j?(0,v.jsx)(B,{ownerState:W,className:O.action,children:(0,v.jsx)(V,(0,r.Z)({size:"small","aria-label":b,title:b,color:"inherit",onClick:j},D,{children:(0,v.jsx)(F,(0,r.Z)({fontSize:"small"},H))}))}):null]}))}))},85213:(e,t,l)=>{l.d(t,{A:()=>f,Z:()=>h});var n=l(79906),r=l(33927),i=l(67550),a=l(62197),o=l(2784),c=l(21548),s=l(7300),d=l(83673),Z=l(21845),u=l(52903);function h({children:e,artifactSheet:t,numInSet:l=5}){return(0,u.tZ)(s.Z,{placement:"top",title:(0,u.tZ)(f,{artifactSheet:t,numInSet:l}),disableInteractive:!0,children:e})}function f({artifactSheet:e,numInSet:t=5}){return(0,u.tZ)(o.Suspense,{fallback:(0,u.tZ)(n.Z,{variant:"rectangular",width:100,height:100}),children:(0,u.tZ)(p,{artifactSheet:e,numInSet:t})})}function p({artifactSheet:e,numInSet:t=5}){const{t:l}=(0,c.$G)("sheet");return(0,u.tZ)(r.Z,{spacing:2,sx:{p:1},children:Object.keys(e.setEffects).map((n=>(0,u.BX)(i.Z,{sx:{opacity:parseInt(n)<=t?1:.5},children:[(0,u.tZ)(a.Z,{children:(0,u.tZ)(d.Z,{color:"success",children:l(`${n}set`)})}),(0,u.tZ)(a.Z,{children:(0,u.tZ)(Z.v,{ns:`artifact_${e.key}_gen`,key18:`setEffects.${n}`})})]},n)))})}},12121:(e,t,l)=>{l.d(t,{Z:()=>Z});var n=l(41075),r=l(92794),i=l(67550),a=l(19807),o=l(69190),c=l(29432),s=l(52972),d=l(52903);function Z({selectedKeys:e,onChange:t}){const l=o._.slice(0,6),Z=o._.slice(6),u=e.filter((e=>l.includes(e))),h=e.filter((e=>Z.includes(e)));return(0,d.BX)(n.ZP,{container:!0,spacing:1,children:[(0,d.tZ)(n.ZP,{item:!0,xs:12,md:6,children:(0,d.tZ)(c.Z,{fullWidth:!0,value:u,onChange:(e,l)=>t([...h,...l]),sx:{height:"100%"},children:l.map((e=>(0,d.tZ)(r.Z,{size:"small",value:e,children:(0,d.BX)(i.Z,{display:"flex",gap:1,alignItems:"center",children:[s.Z[e],a.ZP.getArtStr(e)]})},e)))})}),(0,d.tZ)(n.ZP,{item:!0,xs:12,md:6,children:(0,d.tZ)(c.Z,{fullWidth:!0,value:h,onChange:(e,l)=>t([...u,...l]),sx:{height:"100%"},children:Z.map((e=>(0,d.tZ)(r.Z,{size:"small",value:e,children:(0,d.BX)(i.Z,{display:"flex",gap:1,alignItems:"center",children:[s.Z[e],a.ZP.getArtStr(e)]})},e)))})})]})}},82334:(e,t,l)=>{l.d(t,{Z:()=>d});var n=l(31461),r=l(9725),i=l(67732),a=l(67550),o=l(7300),c=l(52903);const s=["className"],d=e=>{let{className:t}=e,l=(0,n.Z)(e,s);return(0,c.tZ)(o.Z,Object.assign({placement:"top"},l,{className:t,children:(0,c.tZ)(a.Z,{component:"span",sx:{cursor:"help"},children:(0,c.tZ)(i.G,{icon:r.sqG})})}))}},45220:(e,t,l)=>{l.d(t,{Z:()=>a});var n=l(83673),r=l(41015),i=l(52903);function a({value:e,max:t=1,valid:l}){let[a,o]="number"==typeof e?[`roll${(0,r.uZ)(Math.floor(e/t*10)-4,1,6)}`,e.toFixed()+"%"]:["secondary",e];return l||(a="error"),(0,i.tZ)(n.Z,{color:a,children:o})}},85563:(e,t,l)=>{l.d(t,{N:()=>T,Z:()=>K});var n=l(9725),r=l(67732),i=l(54278),a=l(40535),o=l(75213),c=l(67550),s=l(79906),d=l(62197),Z=l(85801),u=l(66198),h=l(7671),f=l(38553),p=l(99479),m=l(83249),x=l(2784),g=l(21548),v=l(85213),y=l(9510),b=l(67937),S=l(43007),k=l(37923),C=l(2344),w=l(57889),A=l(82334),E=l(45220),$=l(71765),B=l(52972),P=l(54878),I=l(74637),M=l(51650),X=l(19807),j=l(53163),z=l(25434),N=l(69190),G=l(36893),L=l(41015),_=l(52903);let R,W,O,V,F=e=>e;const D=(0,x.lazy)((()=>Promise.all([l.e(592),l.e(794),l.e(49)]).then(l.bind(l,52267)))),H=new Set(N._);function K({artifactId:e,artifactObj:t,onClick:l,onDelete:L,mainStatAssumptionLevel:K=0,effFilter:T=H,editorProps:J,canExclude:Q=!1,canEquip:U=!1,extraButtons:Y}){var ee,te,le;const{t:ne}=(0,g.$G)(["artifact","ui"]),{database:re}=(0,x.useContext)(M.t),ie=(0,j.Z)(e),ae=(0,z.Z)((()=>{var e;return I.y.get(null==(e=null!=t?t:ie)?void 0:e.setKey)}),[t,ie]),oe=(0,x.useCallback)((t=>e&&re.arts.set(e,{location:t})),[re,e]),ce=!t,[se,de]=(0,x.useState)(!1),Ze=(0,x.useCallback)((()=>de(!1)),[de]),ue=(0,x.useCallback)((()=>ce&&de(!0)),[ce,de]),he=(0,x.useCallback)((t=>(0,_.tZ)(o.Z,{onClick:()=>e&&(null==l?void 0:l(e)),sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:t})),[l,e]),fe=(0,x.useCallback)((e=>(0,_.tZ)(c.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:e})),[]),pe=null!=t?t:ie,{currentEfficiency:me,maxEfficiency:xe,currentEfficiency_:ge,maxEfficiency_:ve}=(0,x.useMemo)((()=>{if(!pe)return{currentEfficiency:0,maxEfficiency:0,currentEfficiency_:0,maxEfficiency_:0};const{currentEfficiency:e,maxEfficiency:t}=P.ZP.getArtifactEfficiency(pe,T),{currentEfficiency:l,maxEfficiency:n}=P.ZP.getArtifactEfficiency(pe,new Set(N._));return{currentEfficiency:e,maxEfficiency:t,currentEfficiency_:l,maxEfficiency_:n}}),[pe,T]);if(!pe)return null;const{id:ye,lock:be,slotKey:Se,rarity:ke,level:Ce,mainStatKey:we,substats:Ae,exclude:Ee,location:$e=""}=pe,Be=Math.max(Math.min(K,4*ke),Ce),Pe=X.ZP.unit(we),Ie=0!==xe,Me=null==ae?void 0:ae.getSlotName(Se),Xe=null==ae?void 0:ae.getSlotDesc(Se),je=Xe&&(0,_.tZ)(A.Z,{title:(0,_.BX)(c.Z,{children:[(0,_.tZ)(x.Suspense,{fallback:(0,_.tZ)(s.Z,{variant:"text",width:100}),children:(0,_.tZ)(d.Z,{variant:"h6",children:Me})}),(0,_.tZ)(d.Z,{children:Xe})]})}),ze=G.Kj.find((e=>we.startsWith(e))),Ne=ze?(0,_.tZ)(C.Z,{color:ze,children:B.Z[we]}):B.Z[we];return(0,_.BX)(x.Suspense,{fallback:(0,_.tZ)(s.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:350}}),children:[J&&(0,_.tZ)(x.Suspense,{fallback:!1,children:(0,_.tZ)(D,Object.assign({artifactIdToEdit:se?e:"",cancelEdit:Ze},J))}),(0,_.BX)(b.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,_.BX)(w.Z,{condition:!!l,wrapper:he,falseWrapper:fe,children:[(0,_.BX)(c.Z,{className:`grad-${ke}star`,sx:{position:"relative",width:"100%"},children:[!l&&(0,_.tZ)(Z.Z,{color:"primary",disabled:!ce,onClick:()=>re.arts.set(ye,{lock:!be}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:be?(0,_.tZ)(i.Z,{}):(0,_.tZ)(a.Z,{})}),(0,_.BX)(c.Z,{sx:{pt:2,px:2,position:"relative",zIndex:1},children:[(0,_.BX)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,_.tZ)(u.Z,{size:"small",label:(0,_.tZ)("strong",{children:` +${Ce}`}),color:P.ZP.levelVariant(Ce)}),!Me&&(0,_.tZ)(s.Z,{variant:"text",width:100}),Me&&(0,_.tZ)(d.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,_.tZ)("strong",{children:Me})}),!je&&(0,_.tZ)(s.Z,{width:10}),je]}),(0,_.tZ)(d.Z,{color:"text.secondary",variant:"body2",children:(0,_.tZ)(y.ZP,{slotKey:Se})}),(0,_.BX)(d.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[Ne,(0,_.tZ)("span",{children:X.ZP.get(we)})]}),(0,_.tZ)(d.Z,{variant:"h5",children:(0,_.tZ)("strong",{children:(0,_.BX)(C.Z,{color:Be!==Ce?"warning":void 0,children:[(0,X.qs)(null!=(ee=P.ZP.mainStatValue(we,ke,Be))?ee:0,X.ZP.unit(we)),Pe]})})}),(0,_.tZ)($.q,{stars:ke,colored:!0})]}),(0,_.tZ)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,_.tZ)(c.Z,{component:"img",src:null!=(te=null==ae?void 0:ae.slotIcons[Se])?te:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,_.BX)(h.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",pt:1,pb:0,width:"100%"},children:[Ae.map((e=>!!e.value&&(0,_.tZ)(q,{stat:e,effFilter:T,rarity:ke},e.key))),(0,_.BX)(d.Z,{variant:"caption",sx:{display:"flex",gap:1,my:1},children:[(0,_.tZ)(C.Z,{color:"secondary",sx:{flexGrow:1},children:ne(R||(R=F`artifact:editor.curSubEff`))}),(0,_.tZ)(E.Z,{value:me,max:900,valid:Ie}),me!==ge&&(0,_.tZ)("span",{children:"/"}),me!==ge&&(0,_.tZ)(E.Z,{value:ge,max:900,valid:Ie})]}),me!==xe&&(0,_.BX)(d.Z,{variant:"caption",sx:{display:"flex",gap:1},children:[(0,_.tZ)(C.Z,{color:"secondary",sx:{flexGrow:1},children:ne(W||(W=F`artifact:editor.maxSubEff`))}),(0,_.tZ)(E.Z,{value:xe,max:900,valid:Ie}),xe!==ve&&(0,_.tZ)("span",{children:"/"}),xe!==ve&&(0,_.tZ)(E.Z,{value:ve,max:900,valid:Ie})]}),(0,_.tZ)(c.Z,{flexGrow:1}),void 0!==pe.probability&&pe.probability>=0&&(0,_.BX)("strong",{children:["Probability: ",(100*pe.probability).toFixed(2),"%"]}),(0,_.BX)(d.Z,{color:"success.main",children:[null!=(le=null==ae?void 0:ae.name)?le:"Artifact Set"," ",ae&&(0,_.tZ)(A.Z,{title:(0,_.tZ)(v.A,{artifactSheet:ae})})]})]})]}),(0,_.BX)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,_.tZ)(c.Z,{sx:{flexGrow:1},children:ce&&U?(0,_.tZ)(S.W,{location:$e,setLocation:oe}):(0,_.tZ)(k.Z,{location:$e})}),ce&&(0,_.BX)(f.Z,{sx:{height:"100%"},children:[J&&(0,_.tZ)(p.Z,{title:(0,_.tZ)(d.Z,{children:ne(O||(O=F`artifact:edit`))}),placement:"top",arrow:!0,children:(0,_.tZ)(m.Z,{color:"info",size:"small",onClick:ue,children:(0,_.tZ)(r.G,{icon:n.Xcf,className:"fa-fw"})})}),Q&&(0,_.tZ)(p.Z,{title:(0,_.BX)(c.Z,{children:[(0,_.tZ)(d.Z,{children:ne(V||(V=F`artifact:excludeArtifactTip`))}),(0,_.tZ)(d.Z,{children:(0,_.tZ)(C.Z,{color:Ee?"error":"success",children:ne("artifact:"+(Ee?"excluded":"included"))})})]}),placement:"top",arrow:!0,children:(0,_.tZ)(m.Z,{onClick:()=>re.arts.set(ye,{exclude:!Ee}),color:Ee?"error":"success",size:"small",children:(0,_.tZ)(r.G,{icon:Ee?n.gPx:n.Stf,className:"fa-fw"})})}),!!L&&(0,_.tZ)(m.Z,{color:"error",size:"small",onClick:()=>L(ye),disabled:be,children:(0,_.tZ)(r.G,{icon:n.I7k,className:"fa-fw"})}),Y]})]})]})]})}function q({stat:e,effFilter:t,rarity:l}){var n,r,i;const a=null!=(n=null==(r=e.rolls)?void 0:r.length)?n:0,o=e.key?P.ZP.substatValue(e.key):0,s=(0,x.useMemo)((()=>e.key?P.ZP.getSubstatRollData(e.key,l):[]),[e.key,l]),Z=7-s.length,u=`roll${(0,L.uZ)(a,1,6)}`,h=null!=(i=e.efficiency)?i:0,f=e.key&&t.has(e.key),p=(0,L.V2)(.5+h/500*.5),m=X.ZP.getStr(e.key),g=X.ZP.unit(e.key),v=(0,x.useMemo)((()=>(0,_.tZ)(c.Z,{display:"flex",gap:.25,height:"1.3em",sx:{opacity:f?1:.3},children:[...e.rolls].sort().map(((e,t)=>(0,_.tZ)(T,{value:100*e/o,color:`roll${(0,L.uZ)(Z+s.indexOf(e),1,6)}.main`},`${t}${e}`)))})),[f,e.rolls,o,s,Z]);return(0,_.BX)(c.Z,{display:"flex",gap:1,alignContent:"center",children:[(0,_.BX)(d.Z,{sx:{flexGrow:1},color:a?`${u}.main`:"error.main",component:"span",children:[B.Z[e.key]," ",m,`+${(0,X.qs)(e.value,X.ZP.unit(e.key))}${g}`]}),v,(0,_.BX)(d.Z,{sx:{opacity:p,minWidth:40,textAlign:"right"},children:[h.toFixed(),"%"]})]})}function T({color:e="red",value:t=50}){return(0,_.tZ)(c.Z,{sx:{width:7,height:"100%",bgcolor:e,overflow:"hidden",borderRadius:1,display:"inline-block"},children:(0,_.tZ)(c.Z,{sx:{width:10,height:100-(0,L.uZ)(t,0,100)+"%",bgcolor:"gray"}})})}},53163:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(2784),r=l(51650);function i(e=""){const{database:t}=(0,n.useContext)(r.t),[l,i]=(0,n.useState)(t.arts.get(e));return(0,n.useEffect)((()=>i(t.arts.get(e))),[t,e]),(0,n.useEffect)((()=>e?t.arts.follow(e,((e,t,l)=>"update"===t&&i(l))):void 0),[e,i,t]),l}}}]);