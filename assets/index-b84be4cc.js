import{ca as Gh,k as K,ct as d,o as $,br as u,d as v,bv as b,cR as Kh,cC as Lh,e as qh}from"./index-6a1f6e84.js";import{y as zh,p as e,S as Vh,a1 as g,i as w,W as h,N as f,s as P,a7 as a,z as i,v as es,V as Uh,$ as m,a2 as p,X as t,a3 as _,R as c,Y as l,a8 as y,k as ae,P as S,a9 as Ke,O as ns,a4 as W,L as x,t as ts,a6 as Ra,aa as O,ab as Jh}from"./index-6e6a5a94.js";import{I as Qh,C as Ce}from"./ColoredText-ced08ed9.js";const as=class{constructor(n,k,H,M){this.passiveDescription=ia=>this.hasRefinement?this.tr(`passiveDescription.${ia}`):"",this.rarity=H.rarity,this.weaponType=H.weaponType,this.key=n,this.sheet=k,this.data=M}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return T8[n]}get tr(){return as.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=as;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([H,M])=>M.weaponType===k));s.getLevelString=n=>Gh(n.level,n.ascension);function o(n,k){const H=s.tr(n);return{title:H("passiveName"),icon:M=>K(Qh,{size:2,src:zh(n,M.get(e.weapon.asc).value>=2)}),action:k&&K(Vh,{color:"success",children:k}),description:M=>H(`passiveDescription.${M.get(e.weapon.refinement).value-1}`)}}function r(n,k,H={},M={}){const ia={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:M}},{mainStat:se,subStat:G}=k,ma=[ia];if(se.type!=="atk"&&se.type!=="def"&&se.type!=="hp")throw new Error("Main stat type must be `atk`");const Wh=h(P(i(se.base,a(e.weapon.lvl,d.weapon.expCurve[se.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),f.info(se.type));if(ma.push({base:{[se.type]:e.weapon.main},weapon:{main:Wh}}),G){if(G.type==="atk"||G.type==="def"||G.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Hh=h(i(G.base,a(e.weapon.lvl,d.weapon.expCurve[G.curve])),f.info(G.type));ma.push({premod:{[G.type]:e.weapon.sub},weapon:{sub:Hh}})}return es([...ma,Uh(H,n)])}const Le="AlleyHunter",os=d.weapon.data[Le],[,Xh]=g("weapon",Le),Yh=[-1,.02,.025,.03,.035,.04],[Zh,ss]=m(Le,"OppidanAmbush"),cs=p(ss,{...$(u(1,10),n=>i(a(e.weapon.refinement,Yh),n))},_),e1=r(Le,os,{premod:{all_dmg_:cs}}),n1={document:[{value:ss,path:Zh,header:o(Le,t("conditional")),name:Xh("condName"),states:Object.fromEntries(u(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:cs}]}]))}]},t1=new s(Le,n1,os,e1),de="AmosBow",ds=d.weapon.data[de],[,a1]=g("weapon",de),rs=[-1,.12,.15,.18,.21,.24],o1=[-1,.08,.1,.12,.14,.16],[s1,Ca]=m(de,"StrongWilled"),is=a(e.weapon.refinement,rs,f.info("normal_dmg_")),ms=a(e.weapon.refinement,rs,f.info("charged_dmg_")),ls=a(e.weapon.refinement,o1),$s=p(Ca,{...$(u(1,5),n=>i(ls,n))},_,f.info("normal_dmg_")),ps=p(Ca,{...$(u(1,5),n=>i(ls,n))},_,f.info("charged_dmg_")),c1=r(de,ds,{premod:{normal_dmg_:P(is,$s),charged_dmg_:P(ms,ps)}}),d1={document:[{header:o(de,t("base")),fields:[{node:is},{node:ms}]},{value:Ca,path:s1,header:o(de,t("stacks")),name:a1("condName"),states:$(u(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:$s},{node:ps}]}))}]},r1=new s(de,d1,ds,c1),re="AquaSimulacra",hs=d.weapon.data[re],[,i1]=g("weapon",re),m1=[-1,.16,.2,.24,.28,.32],l1=[-1,.2,.25,.3,.35,.4],[$1,us]=m(re,"passive"),_s=a(e.weapon.refinement,m1),fs=c(us,"on",a(e.weapon.refinement,l1)),p1=r(re,hs,{premod:{hp_:_s,all_dmg_:fs}}),h1={document:[{header:o(re,t("base")),fields:[{node:_s}]},{value:us,path:$1,header:o(re,t("conditional")),name:i1("condName"),states:{on:{fields:[{node:fs}]}}}]},u1=new s(re,h1,hs,p1),gn="BlackcliffWarbow",gs=d.weapon.data[gn],_1=[-1,.12,.15,.18,.21,.24],[f1,ws]=m(gn,"PressTheAdvantage"),ks=p(ws,{...$(u(1,3),n=>i(a(e.weapon.refinement,_1),n))},_),g1=r(gn,gs,{premod:{atk_:ks}}),w1={document:[{value:ws,path:f1,header:o(gn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(u(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ks},{text:l("duration"),value:30,unit:"s"}]}]))}]},k1=new s(gn,w1,gs,g1),wn="CompoundBow",vs=d.weapon.data[wn],v1=[-1,.04,.05,.06,.07,.08],y1=[-1,.012,.015,.018,.021,.024],[P1,Ia]=m(wn,"InfusionArrow"),ys=p(Ia,{...$(u(1,4),n=>i(a(e.weapon.refinement,v1),n))},_),Ps=p(Ia,{...$(u(1,4),n=>i(a(e.weapon.refinement,y1),n))},_),S1=r(wn,vs,{premod:{atk_:ys,atkSPD_:Ps}}),b1={document:[{value:Ia,path:P1,header:o(wn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:ys},{node:Ps}]}]))}]},O1=new s(wn,b1,vs,S1),ie="ElegyForTheEnd",[,B1]=g("weapon",ie),Ss=d.weapon.data[ie],A1=[-1,60,75,90,105,120],E1=[-1,100,125,150,175,200],x1=[-1,.2,.25,.3,.35,.4],[M1,ja]=m(ie,"ThePartingRefrain"),bs=a(e.weapon.refinement,A1,f.info("eleMas")),Os=c(ja,"on",a(e.weapon.refinement,E1,f.info("eleMas"))),Bs=c(ja,"on",a(e.weapon.refinement,x1)),D1=r(ie,Ss,{premod:{eleMas:bs},teamBuff:{premod:{atk_:Bs,eleMas:Os}}}),T1={document:[{header:o(ie,t("base")),fields:[{node:bs}]},{value:ja,path:M1,teamBuff:!0,header:o(ie,t("conditional")),name:B1("condName"),states:{on:{fields:[{node:Os},{node:Bs},{text:l("duration"),value:12,unit:"s"}]}}}]},R1=new s(ie,T1,Ss,D1),kn="EndOfTheLine",As=d.weapon.data[kn],C1=[-1,.8,1,1.2,1.4,1.6],Es=c(e.weapon.key,kn,y(i(a(e.weapon.refinement,C1,{unit:"%"}),e.total.atk),"elemental")),I1=r(kn,As,void 0,{dmg:Es}),j1={document:[{header:o(kn,t("base")),fields:[{node:h(Es,{name:t("dmg")})}]}]},F1=new s(kn,j1,As,I1),qe="FadingTwilight",xs=d.weapon.data[qe],[,Vo]=g("weapon",qe),[N1,Ms]=m(qe,"state"),Ds={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ts=p(Ms,Ds,_),W1=r(qe,xs,{premod:{all_dmg_:Ts}}),H1={document:[{value:Ms,path:N1,header:o(qe,t("conditional")),name:Vo("condName"),states:Object.fromEntries(Object.keys(Ds).map(n=>[n,{name:Vo(`states.${n}`),fields:[{node:Ts}]}]))}]},G1=new s(qe,H1,xs,W1),Ct="FavoniusWarbow",Rs=d.weapon.data[Ct],K1=r(Ct,Rs),L1={document:[{header:o(Ct),fields:[]}]},q1=new s(Ct,L1,Rs,K1),me="Hamayumi",Cs=d.weapon.data[me],[,z1]=g("weapon",me),Is=[-1,.16,.2,.24,.28,.32],js=[-1,.12,.15,.18,.21,.24],Fs=a(e.weapon.refinement,Is,f.info("normal_dmg_")),Ns=a(e.weapon.refinement,js,f.info("charged_dmg_")),[V1,Fa]=m(me,"FullDraw"),Ws=c(Fa,"on",a(e.weapon.refinement,Is,f.info("normal_dmg_"))),Hs=c(Fa,"on",a(e.weapon.refinement,js,f.info("charged_dmg_"))),U1=r(me,Cs,{premod:{normal_dmg_:P(Fs,Ws),charged_dmg_:P(Ns,Hs)}}),J1={document:[{header:o(me,t("base")),fields:[{node:Fs},{node:Ns}]},{value:Fa,path:V1,name:z1("condName"),header:o(me,t("conditional")),states:{on:{fields:[{node:Ws},{node:Hs}]}}}]},Q1=new s(me,J1,Cs,U1),Na="HuntersBow",Wa=d.weapon.data[Na],X1=r(Na,Wa),Y1={...Wa,document:[]},Z1=new s(Na,Y1,Wa,X1),Ie="HuntersPath",Gs=d.weapon.data[Ie],eu=[-1,.12,.15,.18,.21,.24],Ks=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,eu,{unit:"%"})])),nu=[-1,1.6,2,2.4,2.8,3.2],[tu,Ls]=m(Ie,"passive"),qs=c(Ls,"on",i(a(e.weapon.refinement,nu,{unit:"%"}),e.total.eleMas)),au=r(Ie,Gs,{premod:{...Ks,charged_dmgInc:qs}}),ou={document:[{header:o(Ie,t("base")),fields:Object.values(Ks).map(n=>({node:n}))},{value:Ls,path:tu,header:o(Ie,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:qs},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},su=new s(Ie,ou,Gs,au),vn="IbisPiercer",zs=d.weapon.data[vn],Vs=u(1,2),cu=[-1,40,50,60,70,80],[du,Us]=m(vn,"passiveStacks"),Js=p(Us,$(Vs,n=>i(a(e.weapon.refinement,cu),n)),_),ru=r(vn,zs,{premod:{eleMas:Js}}),iu={document:[{value:Us,path:du,header:o(vn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(Vs.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Js},{text:l("duration"),value:6,unit:"s"}]}]))}]},mu=new s(vn,iu,zs,ru),le="KingsSquire",Qs=d.weapon.data[le],[lu,Xs]=m(le,"passive"),$u=[-1,60,80,100,120,140],Ys=c(Xs,"on",a(e.weapon.refinement,$u)),pu=[-1,1,1.2,1.4,1.6,1.8],Zs=c(e.weapon.key,le,y(i(a(e.weapon.refinement,pu,{unit:"%"}),e.total.atk),"elemental")),hu=r(le,Qs,{premod:{eleMas:Ys}},{dmg:Zs}),uu={document:[{header:o(le,t("base")),fields:[{node:h(Zs,{name:t("dmg")})}]},{value:Xs,path:lu,header:o(le,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Ys},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},_u=new s(le,uu,Qs,hu),yn="Messenger",ec=d.weapon.data[yn],fu=[-1,1,1.25,1.5,1.75,2],nc=c(e.weapon.key,yn,y(i(a(e.weapon.refinement,fu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),gu=r(yn,ec,void 0,{dmg:nc}),wu={document:[{header:o(yn,t("base")),fields:[{node:h(nc,{name:t("dmg")})}]}]},ku=new s(yn,wu,ec,gu),$e="MitternachtsWaltz",tc=d.weapon.data[$e],vu=[-1,.2,.25,.3,.35,.4],yu=[-1,.2,.25,.3,.35,.4],[Pu,ac]=m($e,"EvernightDuetSkill"),[Su,oc]=m($e,"EvernightDuetNormal"),sc=c(ac,"on",a(e.weapon.refinement,vu)),cc=c(oc,"on",a(e.weapon.refinement,yu)),bu=r($e,tc,{premod:{skill_dmg_:sc,normal_dmg_:cc}}),Ou={document:[{value:oc,path:Su,header:o($e,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:cc},{text:l("duration"),value:5,unit:"s"}]}}},{value:ac,path:Pu,header:o($e,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:sc},{text:l("duration"),value:5,unit:"s"}]}}}]},Bu=new s($e,Ou,tc,bu),ze="MouunsMoon",dc=d.weapon.data[ze],[,Au]=g("weapon",ze),[Eu,rc]=m(ze,"WatatsumiWavewalker"),ic=b(4,36).map(n=>n*10),xu=[-1,.0012,.0015,.0018,.0021,.0024],Mu=[-1,.4,.5,.6,.7,.8],mc=p(rc,Object.fromEntries(ic.map(n=>[n,ae(i(a(e.weapon.refinement,xu,{unit:"%"}),n),a(e.weapon.refinement,Mu,{unit:"%"}))])),_),Du=r(ze,dc,{premod:{burst_dmg_:mc}}),Tu={document:[{value:rc,path:Eu,header:o(ze,t("conditional")),name:Au("party"),states:Object.fromEntries(ic.map(n=>[n,{name:n.toString(),fields:[{node:mc}]}]))}]},Ru=new s(ze,Tu,dc,Du),pe="PolarStar",lc=d.weapon.data[pe],[,Cu]=g("weapon",pe),$c=[-1,.12,.15,.18,.21,.24],Iu=[-1,.1,.125,.15,.175,.2],ju=[-1,.2,.25,.3,.35,.4],Fu=[-1,.3,.375,.45,.528,.6],Nu=[-1,.48,.6,.72,.84,.96],[Wu,pc]=m(pe,"GoldenMajesty"),hc=a(e.weapon.refinement,$c),uc=a(e.weapon.refinement,$c),_c=p(pc,{1:a(e.weapon.refinement,Iu),2:a(e.weapon.refinement,ju),3:a(e.weapon.refinement,Fu),4:a(e.weapon.refinement,Nu)},_),Hu=r(pe,lc,{premod:{skill_dmg_:hc,burst_dmg_:uc,atk_:_c}}),Gu={document:[{header:o(pe,t("base")),fields:[{node:hc},{node:uc}]},{value:pc,path:Wu,header:o(pe,t("stacks")),name:Cu("condName"),states:$(u(1,4),n=>({name:t("stack",{count:n}),fields:[{node:_c}]}))}]},Ku=new s(pe,Gu,lc,Hu),Pn="Predator",fc=d.weapon.data[Pn],Lu=S(.1),qu=S(.1),[zu,Ha]=m(Pn,"PressTheAdvantage"),gc=p(Ha,{...$(u(1,2),n=>i(Lu,n))},_),wc=p(Ha,{...$(u(1,2),n=>i(qu,n))},_),Vu=c(e.activeCharKey,"Aloy",66),Uu=r(Pn,fc,{premod:{normal_dmg_:gc,charged_dmg_:wc,atk:Vu}}),Ju={document:[{value:Ha,path:zu,header:o(Pn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:gc},{node:wc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Qu=new s(Pn,Ju,fc,Uu),Sn="PrototypeCrescent",kc=d.weapon.data[Sn],Xu=[-1,.36,.45,.54,.63,.72],[Yu,Ga]=m(Sn,"Unreturning"),vc=c(Ga,"on",a(e.weapon.refinement,Xu)),yc=c(Ga,"on",S(.1)),Zu=r(Sn,kc,{premod:{atk_:vc,moveSPD_:yc}}),e_={document:[{value:Ga,path:Yu,header:o(Sn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:vc},{node:yc},{text:l("duration"),value:10,unit:"s"}]}}}]},n_=new s(Sn,e_,kc,Zu),Ve="RangeGauge",Pc=d.weapon.data[Ve],[,t_]=g("weapon",Ve),a_=[-1,.03,.04,.05,.06,.07],o_=[-1,.07,.085,.1,.115,.13],[s_,Ka]=m(Ve,"marksConsumed"),La=u(1,3),Sc=p(Ka,$(La,n=>i(n,a(e.weapon.refinement,a_,{unit:"%"}))),_),c_=p(Ka,$(La,n=>i(n,a(e.weapon.refinement,o_,{unit:"%"}))),_),bc=$(v.map(n=>`${n}_dmg_`),()=>({...c_})),d_=r(Ve,Pc,{premod:{atk_:Sc,...bc}}),r_={document:[{value:Ka,path:s_,teamBuff:!0,header:o(Ve,t("stacks")),name:t_("condName"),states:$(La,n=>({name:`${n}`,fields:[{node:Sc},...Object.values(bc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},i_=new s(Ve,r_,Pc,d_),bn="RavenBow",Oc=d.weapon.data[bn],m_=[-1,.12,.15,.18,.21,.24],[l_,Bc]=m(bn,"BaneOfFlameAndWater"),Ac=c(Bc,"on",a(e.weapon.refinement,m_)),$_=r(bn,Oc,{premod:{all_dmg_:Ac}}),p_={document:[{value:Bc,path:l_,name:t("enemyAffected.hydroOrPyro"),header:o(bn,t("conditional")),states:{on:{fields:[{node:Ac}]}}}]},h_=new s(bn,p_,Oc,$_),On="RecurveBow",Ec=d.weapon.data[On],u_=[-1,.08,.1,.12,.14,.16],xc=c(e.weapon.key,On,Ke(i(e.total.hp,a(e.weapon.refinement,u_)))),__=r(On,Ec,void 0,{healing:xc}),f_={document:[{header:o(On,t("base")),fields:[{node:h(xc,{name:l("healing"),variant:"heal"})}]}]},g_=new s(On,f_,Ec,__),Bn="RoyalBow",Mc=d.weapon.data[Bn],w_=[-1,.08,.1,.12,.14,.16],[k_,Dc]=m(Bn,"Focus"),Tc=p(Dc,{...$(u(1,5),n=>i(a(e.weapon.refinement,w_),n))},_),v_=r(Bn,Mc,{premod:{critRate_:Tc}}),y_={document:[{value:Dc,path:k_,header:o(Bn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Tc}]}]))}]},P_=new s(Bn,y_,Mc,v_),It="Rust",Rc=d.weapon.data[It],S_=[-1,.4,.5,.6,.7,.8],Cc=a(e.weapon.refinement,S_),Ic=w(-.1),b_=r(It,Rc,{premod:{normal_dmg_:Cc,charged_dmg_:Ic}}),O_={document:[{header:o(It,t("base")),fields:[{node:Cc},{node:Ic}]}]},B_=new s(It,O_,Rc,b_),jt="SacrificialBow",jc=d.weapon.data[jt],A_=r(jt,jc),E_={document:[{header:o(jt),fields:[]}]},x_=new s(jt,E_,jc,A_),he="ScionOfTheBlazingSun",Fc=d.weapon.data[he],[,Uo]=g("weapon",he),M_=[-1,.6,.75,.9,1.05,1.2],D_=[-1,.28,.35,.42,.49,.56],T_=y(i(a(e.weapon.refinement,M_,{unit:"%"}),e.total.atk),"elemental"),[R_,Nc]=m(he,"afterHit"),Wc=c(Nc,"on",a(e.weapon.refinement,D_)),C_=r(he,Fc,{premod:{charged_dmg_:Wc}}),I_={document:[{header:o(he,t("dmg")),fields:[{node:h(T_,{name:Uo("dmg")})}]},{header:o(he,t("conditional")),path:R_,value:Nc,name:Uo("condName"),states:{on:{fields:[{node:Wc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},j_=new s(he,I_,Fc,C_),qa="SeasonedHuntersBow",za=d.weapon.data[qa],F_=r(qa,za),N_={...za,document:[]},W_=new s(qa,N_,za,F_),Ft="SharpshootersOath",Hc=d.weapon.data[Ft],H_=[-1,.24,.3,.36,.42,.48],Gc=a(e.weapon.refinement,H_),G_=r(Ft,Hc,{premod:{weakspotDMG_:Gc}}),K_={document:[{header:o(Ft,t("base")),fields:[{node:Gc}]}]},L_=new s(Ft,K_,Hc,G_),An="SkywardHarp",Kc=d.weapon.data[An],q_=[-1,.2,.25,.3,.35,.4],z_=S(1.25),Lc=a(e.weapon.refinement,q_),qc=c(e.weapon.key,An,y(i(z_,e.total.atk),"elemental",{hit:{ele:w("physical")}})),V_=r(An,Kc,{premod:{critDMG_:Lc}},{dmg:qc}),U_={document:[{header:o(An,t("base")),fields:[{node:Lc},{node:h(qc,{name:t("dmg")})}]}]},J_=new s(An,U_,Kc,V_),Ue="Slingshot",zc=d.weapon.data[Ue],[,Jo]=g("weapon",Ue),Q_=[-1,.36,.42,.48,.54,.6],[X_,Vc]=m(Ue,"Slingshot"),Y_=["less","more"],Va=p(Vc,{less:a(e.weapon.refinement,Q_,f.info("normal_dmg_")),more:S(-.1,f.info("normal_dmg_"))},_),Uc={...Va},Z_=r(Ue,zc,{premod:{normal_dmg_:Va,charged_dmg_:Uc}}),ef={document:[{value:Vc,path:X_,header:o(Ue,t("conditional")),name:Jo("condName"),states:$(Y_,n=>({name:Jo(n),fields:[{node:Va},{node:Uc}]}))}]},nf=new s(Ue,ef,zc,Z_),En="SongOfStillness",Jc=d.weapon.data[En],tf=[-1,.16,.2,.24,.28,.32],[af,Qc]=m(En,"afterHeal"),Xc=c(Qc,"on",a(e.weapon.refinement,tf)),of=r(En,Jc,{premod:{all_dmg_:Xc}}),sf={document:[{header:o(En,t("conditional")),path:af,value:Qc,name:t("afterHeal"),states:{on:{fields:[{node:Xc},{text:l("duration"),value:8,unit:"s"}]}}}]},cf=new s(En,sf,Jc,of),fn="TheFirstGreatMagic",Yc=d.weapon.data[fn],df=[-1,.16,.2,.24,.28,.32],la=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],$a=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Qo=p(e.charEle,x,_),pa=P(...v.map(n=>ns(x[n],1,W(n,e.charEle,x[n])))),Zc=a(e.weapon.refinement,df),ed=ts(Qo,3,a(e.weapon.refinement,la[2]),Ra(Qo,2,a(e.weapon.refinement,la[1]),a(e.weapon.refinement,la[0]))),ua=ts(pa,3,a(e.weapon.refinement,$a[2]),Ra(pa,2,a(e.weapon.refinement,$a[1]),c(pa,1,a(e.weapon.refinement,$a[0])))),rf=r(fn,Yc,{premod:{charged_dmg_:Zc,atk_:ed,moveSPD_:ua}}),mf={document:[{header:o(fn,t("base")),fields:[{node:Zc}]},{header:o(fn,t("stacks")),fields:[{node:ed},{canShow:n=>n.get(ua).value>0,node:ua}]}]},lf=new s(fn,mf,Yc,rf),Nt="TheStringless",nd=d.weapon.data[Nt],td=[-1,.24,.3,.36,.42,.48],ad=a(e.weapon.refinement,td),od=a(e.weapon.refinement,td),$f=r(Nt,nd,{premod:{skill_dmg_:ad,burst_dmg_:od}}),pf={document:[{header:o(Nt,t("base")),fields:[{node:ad},{node:od}]}]},hf=new s(Nt,pf,nd,$f),xn="TheViridescentHunt",sd=d.weapon.data[xn],uf=[-1,.4,.5,.6,.7,.8],cd=c(e.weapon.key,xn,y(i(a(e.weapon.refinement,uf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),_f=r(xn,sd,void 0,{dmg:cd}),ff={document:[{header:o(xn,t("base")),fields:[{node:h(cd,{name:t("dmg")})}]}]},gf=new s(xn,ff,sd,_f),ue="ThunderingPulse",dd=d.weapon.data[ue],[,wf]=g("weapon",ue),kf=[-1,.2,.25,.3,.35,.4],vf=[-1,.12,.15,.18,.21,.24],yf=[-1,.24,.3,.36,.42,.48],Pf=[-1,.4,.5,.6,.7,.8],[Sf,rd]=m(ue,"RuleByThunder"),id=a(e.weapon.refinement,kf),md=p(rd,{1:a(e.weapon.refinement,vf),2:a(e.weapon.refinement,yf),3:a(e.weapon.refinement,Pf)},_),bf=r(ue,dd,{premod:{atk_:id,normal_dmg_:md}}),Of={document:[{header:o(ue,t("base")),fields:[{node:id}]},{value:rd,path:Sf,header:o(ue,t("stacks")),name:wf("condName"),states:$(u(1,3),n=>({name:t("stack",{count:n}),fields:[{node:md}]}))}]},Bf=new s(ue,Of,dd,bf),Mn="WindblumeOde",ld=d.weapon.data[Mn],Af=[-1,.16,.2,.24,.28,.32],[Ef,$d]=m(Mn,"WindblumeWish"),pd=c($d,"on",a(e.weapon.refinement,Af)),xf=r(Mn,ld,{premod:{atk_:pd}}),Mf={document:[{value:$d,path:Ef,name:t("afterUse.skill"),header:o(Mn,t("conditional")),states:{on:{fields:[{node:pd},{text:l("duration"),value:6,unit:"s"}]}}}]},Df=new s(Mn,Mf,ld,xf),Tf={AlleyHunter:t1,AmosBow:r1,AquaSimulacra:u1,BlackcliffWarbow:k1,CompoundBow:O1,ElegyForTheEnd:R1,FadingTwilight:G1,FavoniusWarbow:q1,Hamayumi:Q1,HuntersBow:Z1,HuntersPath:su,IbisPiercer:mu,KingsSquire:_u,Messenger:ku,MitternachtsWaltz:Bu,MouunsMoon:Ru,PolarStar:Ku,Predator:Qu,PrototypeCrescent:n_,RangeGauge:i_,RavenBow:h_,RecurveBow:g_,RoyalBow:P_,Rust:B_,SacrificialBow:x_,ScionOfTheBlazingSun:j_,SeasonedHuntersBow:W_,SharpshootersOath:L_,SkywardHarp:J_,Slingshot:nf,SongOfStillness:cf,TheFirstGreatMagic:lf,TheStringless:hf,TheViridescentHunt:gf,ThunderingPulse:Bf,EndOfTheLine:F1,WindblumeOde:Df},je="AThousandFloatingDreams",hd=d.weapon.data[je],Rf=[-1,32,40,48,56,64],Cf=[-1,.1,.14,.18,.22,.26],If=[-1,40,42,44,46,48],ud=p(e.charEle,Object.fromEntries(v.map(n=>[n,h(P(x[n],-1),{asConst:!0})])),_),jf=P(...v.map(n=>x[n])),_d=i(ud,a(e.weapon.refinement,Rf)),fd=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(h(P(jf,-1,i(ud,-1)),{asConst:!0}),a(e.weapon.refinement,Cf,{unit:"%"})))])),gd=c(e.weapon.key,je,a(e.weapon.refinement,If),{...f.info("eleMas"),isTeamBuff:!0}),Ff=W(e.charKey,O.charKey,gd),Nf=r(je,hd,{premod:{eleMas:_d,...fd},teamBuff:{premod:{eleMas:Ff}}}),Wf={document:[{header:o(je,t("base")),fields:[{node:_d},...Object.values(fd).map(n=>({node:n}))]},{header:o(je,t("teamBuff")),teamBuff:!0,fields:[{node:gd}]}]},Hf=new s(je,Wf,hd,Nf),Ua="ApprenticesNotes",Ja=d.weapon.data[Ua],Gf=r(Ua,Ja),Kf={...Ja,document:[]},Lf=new s(Ua,Kf,Ja,Gf),Dn="BalladOfTheBoundlessBlue",wd=d.weapon.data[Dn],qf=[-1,.08,.1,.12,.14,.16],zf=[-1,.06,.075,.09,.105,.12],[Vf,Qa]=m(Dn,"hits"),Xa=u(1,3),kd=p(Qa,$(Xa,n=>i(n,a(e.weapon.refinement,qf,{unit:"%"}))),_),vd=p(Qa,$(Xa,n=>i(n,a(e.weapon.refinement,zf,{unit:"%"}))),_),Uf=r(Dn,wd,{premod:{normal_dmg_:kd,charged_dmg_:vd}}),Jf={document:[{value:Qa,path:Vf,teamBuff:!0,header:o(Dn,t("stacks")),name:t("hitOp.normalOrCharged"),states:$(Xa,n=>({name:t("hits",{count:n}),fields:[{node:kd},{node:vd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Qf=new s(Dn,Jf,wd,Uf),Tn="BlackcliffAgate",yd=d.weapon.data[Tn],[Xf,Pd]=m(Tn,"PressTheAdvantage"),Sd=u(1,3),Yf=[-1,.12,.15,.18,.21,.24],bd=i(p(Pd,$(Sd,n=>w(n)),0),a(e.weapon.refinement,Yf)),Zf=r(Tn,yd,{premod:{atk_:bd}}),eg={document:[{value:Pd,path:Xf,header:o(Tn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Sd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:bd},{text:l("duration"),value:30,unit:"s"}]}]))}]},ng=new s(Tn,eg,yd,Zf),U="CashflowSupervision",Ya=d.weapon.data[U],Od=Ya.refinementBonus.atk_;if(!Od)throw new Error(`data_gen.refinementBonus.atk_ for ${U} was undefined`);const tg=[-1,.16,.2,.24,.28,.32],ag=[-1,.14,.175,.21,.245,.28],og=[-1,.08,.1,.12,.14,.16],Bd=c(e.weapon.key,U,a(e.weapon.refinement,Od)),[sg,Wt]=m(U,"hpChanges"),Za=u(1,3),Ad=p(Wt,$(Za,n=>i(n,a(e.weapon.refinement,tg,{unit:"%"}))),_),Ed=p(Wt,$(Za,n=>i(n,a(e.weapon.refinement,ag,{unit:"%"}))),_),xd=c(Wt,"3",a(e.weapon.refinement,og)),cg=r(U,Ya,{premod:{atk_:Bd,normal_dmg_:Ad,charged_dmg_:Ed,atkSPD_:xd}}),dg={document:[{header:o(U,t("base")),fields:[{node:Bd}]},{value:Wt,path:sg,header:o(U,t("stacks")),name:t("hpChange"),states:$(Za,n=>({name:t("times",{count:n}),fields:[{node:Ad},{node:Ed},{node:xd},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},rg=new s(U,dg,Ya,cg),Rn="CranesEchoingCall",Md=d.weapon.data[Rn],ig=[-1,.28,.41,.54,.67,.8],[mg,Dd]=m(Rn,"passive"),Td=c(Dd,"on",a(e.weapon.refinement,ig,{unit:"%"})),lg=r(Rn,Md,{teamBuff:{premod:{plunging_dmg_:Td}}}),$g={document:[{value:Dd,path:mg,header:o(Rn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Td},{text:l("duration"),value:20,unit:"s"}]}}}]},pg=new s(Rn,$g,Md,lg),_e="DodocoTales",Rd=d.weapon.data[_e],hg=[-1,.16,.2,.24,.28,.32],ug=[-1,.08,.1,.12,.14,.16],[_g,Cd]=m(_e,"DodoventureNormal"),[fg,Id]=m(_e,"DodoventureCharged"),jd=c("on",Cd,a(e.weapon.refinement,hg)),Fd=c("on",Id,a(e.weapon.refinement,ug)),gg=r(_e,Rd,{premod:{charged_dmg_:jd,atk_:Fd}}),wg={document:[{value:Cd,path:_g,name:t("hitOp.normal"),header:o(_e,t("conditional")),states:{on:{fields:[{node:jd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Id,path:fg,name:t("hitOp.charged"),header:o(_e,t("conditional")),states:{on:{fields:[{node:Fd},{text:l("duration"),value:6,unit:"s"}]}}}]},kg=new s(_e,wg,Rd,gg),Cn="EmeraldOrb",Nd=d.weapon.data[Cn],vg=[-1,.2,.25,.3,.35,.4],[yg,Wd]=m(Cn,"Rapids"),Hd=c("on",Wd,a(e.weapon.refinement,vg)),Pg=r(Cn,Nd,{premod:{atk_:Hd}}),Sg={document:[{value:Wd,path:yg,name:t("elementalReaction.hydro"),header:o(Cn,t("conditional")),states:{on:{fields:[{node:Hd},{text:l("duration"),value:12,unit:"s"}]}}}]},bg=new s(Cn,Sg,Nd,Pg),xe="EverlastingMoonglow",eo=d.weapon.data[xe],Og=[-1,.01,.015,.02,.025,.03],[,Bg]=g("weapon",xe),_a=c(e.weapon.key,xe,i(a(e.weapon.refinement,Og,{unit:"%"}),e.premod.hp)),Gd=eo.refinementBonus.heal_;if(!Gd)throw new Error(`data_gen.refinementBonus.heal_ for ${xe} was undefined`);const Kd=a(e.weapon.refinement,Gd),Ag=r(xe,eo,{premod:{normal_dmgInc:_a,heal_:Kd}},{normal_dmgInc:_a}),Eg={document:[{header:o(xe,t("base")),fields:[{node:Kd},{text:Bg("name"),node:_a}]}]},xg=new s(xe,Eg,eo,Ag),In="EyeOfPerception",Ld=d.weapon.data[In],Mg=[-1,2.4,2.7,3,3.3,3.6],qd=c(e.weapon.key,In,y(i(a(e.weapon.refinement,Mg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Dg=r(In,Ld,void 0,{dmg_:qd}),Tg={document:[{header:o(In,t("base")),fields:[{node:h(qd,{name:t("dmg")})}]}]},Rg=new s(In,Tg,Ld,Dg),Ht="FavoniusCodex",zd=d.weapon.data[Ht],Cg=r(Ht,zd),Ig={document:[{header:o(Ht),fields:[]}]},jg=new s(Ht,Ig,zd,Cg),I="FlowingPurity",Vd=d.weapon.data[I],[,Fg]=g("weapon",I),Ng=[-1,.08,.1,.12,.14,.16],Wg=[-1,.02,.025,.03,.035,.04],Hg=[-1,.12,.15,.18,.21,.24],[Gg,Ud]=m(I,"afterSkill"),Kg=c(Ud,"on",a(e.weapon.refinement,Ng)),no=v.map(n=>`${n}_dmg_`),Jd=$(no,n=>h({...Kg},f.info(n))),Lg=i(S(.24),e.total.hp),[qg,Qd]=m(I,"bond"),zg=c(e.weapon.key,I,c(Qd,"on",ae(i(a(e.weapon.refinement,Wg,{unit:"%"}),i(Lg,S(1/1e3))),a(e.weapon.refinement,Hg,{unit:"%"})))),fa=$(no,n=>h({...zg},f.info(n))),Vg=r(I,Vd,{premod:{...$(no,n=>P(Jd[n],fa[n]))}},fa),Ug={document:[{header:o(I,t("conditional")),path:Gg,value:Ud,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(Jd).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(I,t("conditional")),path:qg,value:Qd,name:Fg("bondCondName"),states:{on:{fields:[...Object.values(fa).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},Jg=new s(I,Ug,Vd,Vg),L="Frostbearer",Xd=d.weapon.data[L],Qg=[-1,.8,.95,1.1,1.25,1.4],Xg=[-1,2,2.4,2.8,3.2,3.6],Yd=c(e.weapon.key,L,y(i(a(e.weapon.refinement,Qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Zd=c(e.weapon.key,L,y(i(a(e.weapon.refinement,Xg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yg=r(L,Xd,void 0,{dmgAoe:Yd,dmgOnCryoOp:Zd}),Zg={document:[{header:o(L,t("base")),fields:[{node:h(Yd,{name:s.trm(L)("aoeDmg")})},{node:h(Zd,{name:s.trm(L)("cryoAffectedDmg")})}]}]},ew=new s(L,Zg,Xd,Yg),Je="FruitOfFulfillment",er=d.weapon.data[Je],[,nw]=g("weapon",Je),tw=[-1,24,27,30,33,36],[aw,to]=m(Je,"stacks"),ao=b(1,5),nr=p(to,Object.fromEntries(ao.map(n=>[n,i(a(e.weapon.refinement,tw),n)])),_),tr=p(to,Object.fromEntries(ao.map(n=>[n,i(S(-.05),n)])),_),ow=r(Je,er,{premod:{eleMas:nr,atk_:tr}}),sw={document:[{teamBuff:!0,header:o(Je,t("stacks")),path:aw,value:to,name:nw("stackName"),states:Object.fromEntries(ao.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:nr},{node:tr}]}]))}]},cw=new s(Je,sw,er,ow),jn="HakushinRing",ar=d.weapon.data[jn],dw=[-1,.1,.125,.15,.175,.2],[rw,oe]=m(jn,"SakuraSaiguu"),Me=a(e.weapon.refinement,dw),or=c("anemo",oe,Me),sr=c("cryo",oe,Me),cr=c("geo",oe,Me),dr=c("hydro",oe,Me),rr=c("pyro",oe,Me),ir=c("dendro",oe,Me),iw=c("anemo",O.charEle,or),mw=c("cryo",O.charEle,sr),lw=c("geo",O.charEle,cr),$w=c("hydro",O.charEle,dr),pw=c("pyro",O.charEle,rr),hw=c("dendro",O.charEle,ir),ce=W(oe,void 0,Me),uw=c("electro",O.charEle,ce),_w=r(jn,ar,{teamBuff:{premod:{anemo_dmg_:iw,cryo_dmg_:mw,electro_dmg_:uw,geo_dmg_:lw,hydro_dmg_:$w,pyro_dmg_:pw,dendro_dmg_:hw}}}),fw={document:[{value:oe,path:rw,name:t("elementalReaction.electro"),teamBuff:!0,header:o(jn,t("conditional")),states:{anemo:{name:K(Ce,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:h(or,{...f.info("anemo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:K(Ce,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:h(sr,{...f.info("cryo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:K(Ce,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:h(cr,{...f.info("geo_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:K(Ce,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:h(rr,{...f.info("pyro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:K(Ce,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:h(dr,{...f.info("hydro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:K(Ce,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:h(ir,{...f.info("dendro_dmg_"),isTeamBuff:!0})},{node:h(ce,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},gw=new s(jn,fw,ar,_w),De="JadefallsSplendor",mr=d.weapon.data[De],[,ww]=g("weapon",De),[kw,lr]=m(De,"condPassive"),vw=[-1,.003,.005,.007,.009,.011],yw=[-1,.12,.2,.28,.36,.44],Pw=c(e.weapon.key,De,c(lr,"on",ae(a(e.weapon.refinement,yw,{unit:"%"}),i(a(e.weapon.refinement,vw,{unit:"%"}),e.total.hp,1/1e3)))),ga=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,Pw)])),Sw=r(De,mr,{premod:{...ga}},{...ga}),bw={document:[{header:o(De,t("conditional")),path:kw,value:lr,name:ww("condName"),states:{on:{fields:[...Object.values(ga).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},Ow=new s(De,bw,mr,Sw),Fn="KagurasVerity",$r=d.weapon.data[Fn],[Bw,oo]=m(Fn,"KaguraDance"),pr=b(1,3),hr=[-1,.12,.15,.18,.21,.24],ur=pr.map(n=>c(oo,n.toString(),a(e.weapon.refinement,hr.map(k=>k*n)),f.info("skill_dmg_"))),_r=Object.fromEntries(v.map(n=>[n,c(oo,"3",a(e.weapon.refinement,hr))])),Aw=r(Fn,$r,{premod:{skill_dmg_:P(...ur),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,_r[n]]))}}),Ew={document:[{value:oo,path:Bw,header:o(Fn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(pr.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ur[n-1]},...v.map(k=>({node:_r[k]}))]}]))}]},xw=new s(Fn,Ew,$r,Aw),Fe="LostPrayerToTheSacredWinds",fr=d.weapon.data[Fe],Mw=[-1,.08,.1,.12,.14,.16],[Dw,gr]=m(Fe,"BoundlessBlessing"),wr=S(.1),Tw=a(e.weapon.refinement,Mw,{unit:"%"}),kr=Object.fromEntries(v.map(n=>[n,p(gr,{...$(u(1,4),k=>i(Tw,k))},_)])),Rw=r(Fe,fr,{premod:{moveSPD_:wr,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,kr[n]]))}}),Cw={document:[{header:o(Fe,t("base")),fields:[{node:wr}]},{value:gr,path:Dw,header:o(Fe,t("stacks")),name:t("timeOnField"),states:$(u(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:kr[k]}))}))}]},Iw=new s(Fe,Cw,fr,Rw),Nn="MagicGuide",vr=d.weapon.data[Nn],jw=[-1,.12,.15,.18,.21,.24],[Fw,yr]=m(Nn,"BaneOfStormAndTide"),Pr=c("on",yr,a(e.weapon.refinement,jw)),Nw=r(Nn,vr,{premod:{all_dmg_:Pr}}),Ww={document:[{value:yr,path:Fw,name:t("enemyAffected.hydroOrElectro"),header:o(Nn,t("conditional")),states:{on:{fields:[{node:Pr}]}}}]},Hw=new s(Nn,Ww,vr,Nw),Wn="MappaMare",Sr=d.weapon.data[Wn],[Gw,br]=m(Wn,"InfusionScroll"),Kw=[-1,.08,.1,.12,.14,.16],Lw=a(e.weapon.refinement,Kw),Or=Kh(v,n=>[`${n}_dmg_`,p(br,{...$(u(1,2),k=>i(Lw,k))},_)]),qw=r(Wn,Sr,{premod:Or}),zw={document:[{value:br,path:Gw,header:o(Wn,t("stacks")),name:t("afterReaction"),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(Or).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Vw=new s(Wn,zw,Sr,qw),D="MemoryOfDust",Br=d.weapon.data[D],[,Uw]=g("weapon",D),Jw=[-1,.2,.25,.3,.35,.4],Qw=[-1,.04,.05,.06,.07,.08],[Xw,Ar]=m(D,"GoldenMajesty"),Er=a(e.weapon.refinement,Jw),[Yw,xr]=m(D,"WithShield"),Zw=a(e.weapon.refinement,Qw),Mr=i(P(1,c(xr,"protected",1)),p(Ar,Object.fromEntries(b(1,5).map(n=>[n,i(Zw,n)])),_)),ek=r(D,Br,{premod:{shield_:Er,atk_:Mr}}),nk={document:[{header:o(D,t("base")),fields:[{node:Er}]},{value:Ar,path:Xw,header:o(D,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Mr},{text:l("duration"),value:8,unit:"s"}]}]))},{value:xr,path:Yw,header:o(D,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Uw("atkEffInc"),value:100,unit:"%"}]}}}]},tk=new s(D,nk,Br,ek),Hn="OathswornEye",Dr=d.weapon.data[Hn],ak=[-1,.24,.3,.36,.42,.48],[ok,Tr]=m(Hn,"faLight"),sk=a(e.weapon.refinement,ak),Rr=c("skillBurst",Tr,sk),ck=r(Hn,Dr,{premod:{enerRech_:Rr}}),dk={document:[{value:Tr,path:ok,header:o(Hn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Rr}]}}}]},rk=new s(Hn,dk,Dr,ck),Gn="OtherworldlyStory",Cr=d.weapon.data[Gn],ik=[-1,.01,.0125,.015,.0175,.02],Ir=c(e.weapon.key,Gn,Ke(i(a(e.weapon.refinement,ik,{unit:"%"}),e.total.hp))),mk=r(Gn,Cr,void 0,{heal:Ir}),lk={document:[{header:o(Gn,t("base")),fields:[{node:h(Ir,{name:l("healing"),variant:"heal"})}]}]},$k=new s(Gn,lk,Cr,mk),so="PocketGrimoire",jr=d.weapon.data[so],pk=r(so,jr),hk={document:[]},uk=new s(so,hk,jr,pk),Qe="PrototypeAmber",Fr=d.weapon.data[Qe],[_k,fk]=m(Qe,"Gliding"),gk=[-1,.04,.045,.05,.055,.06],Nr=c(e.weapon.key,Qe,Ke(i(a(e.weapon.refinement,gk,{unit:"%"}),e.total.hp))),wk=r(Qe,Fr,void 0,{heal:Nr}),kk={document:[{value:fk,path:_k,name:t("afterUse.burst"),header:o(Qe,t("conditional")),states:{on:{fields:[{node:h(Nr,{name:l("healing"),variant:"heal"})}]}}}]},vk=new s(Qe,kk,Fr,wk),fe="QuantumCatalyst",Wr=d.weapon.data[fe],yk=[-1,.18,.225,.27,.315,.36],Pk=[-1,.06,.075,.09,.105,.12],Sk=[-1,10,12,14,16,18],Hr=u(1,5),[bk,Gr]=m(fe,"stacks"),Kr=a(e.weapon.refinement,yk),At=c(e.weapon.key,fe,i(a(e.weapon.refinement,Pk,{unit:"%"}),e.total.eleMas)),wa={...At},Lr=p(Gr,$(Hr,n=>i(a(e.weapon.refinement,Sk),n)),_),Ok=r(fe,Wr,{premod:{enerRech_:Kr,normal_dmgInc:At,charged_dmgInc:wa,eleMas:Lr}},{normal_dmgInc:At,charged_dmgInc:wa}),Bk={document:[{header:o(fe,t("base")),fields:[{node:Kr},{node:At},{node:wa}]},{value:Gr,path:bk,teamBuff:!0,header:o(fe,t("stacks")),name:t("elementalReaction.electro"),states:$(Hr,n=>({name:t("stack",{count:n}),fields:[{node:Lr},{text:l("duration"),value:12,unit:"s"}]}))}]},Ak=new s(fe,Bk,Wr,Ok),Kn="RoyalGrimoire",qr=d.weapon.data[Kn],[Ek,zr]=m(Kn,"stack"),xk=[-1,.08,.1,.12,.14,.16],Vr=p(zr,$(u(1,5),n=>i(a(e.weapon.refinement,xk,{unit:"%"}),n)),_),Mk=r(Kn,qr,{premod:{critRate_:Vr}}),Dk={document:[{value:zr,path:Ek,header:o(Kn,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Vr}]}]))}]},Tk=new s(Kn,Dk,qr,Mk),Gt="SacrificialFragments",Ur=d.weapon.data[Gt],Rk=r(Gt,Ur),Ck={document:[{header:o(Gt),fields:[]}]},Ik=new s(Gt,Ck,Ur,Rk),Xe="SacrificialJade",Jr=d.weapon.data[Xe],[,jk]=g("weapon",Xe),Fk=[-1,.32,.4,.48,.56,.64],Nk=[-1,40,50,60,70,80],[Wk,co]=m(Xe,"offField"),Qr=c(co,"on",a(e.weapon.refinement,Fk)),Xr=c(co,"on",a(e.weapon.refinement,Nk)),Hk=r(Xe,Jr,{premod:{eleMas:Xr,hp_:Qr}}),Gk={document:[{teamBuff:!0,header:o(Xe,t("conditional")),path:Wk,value:co,name:jk("condOffField"),states:{on:{fields:[{node:Qr},{node:Xr}]}}}]},Kk=new s(Xe,Gk,Jr,Hk),Ln="SkywardAtlas",Yr=d.weapon.data[Ln],Lk=[-1,.12,.15,.18,.21,.24],Zr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Lk)])),qk=[-1,1.6,2,2.4,2.8,3.2],ei=c(e.weapon.key,Ln,y(i(a(e.weapon.refinement,qk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),zk=r(Ln,Yr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Zr[n]]))}},{dmg:ei}),Vk={document:[{header:o(Ln,t("base")),fields:[...v.map(n=>({node:Zr[n]})),{node:h(ei,{name:t("dmg")})}]}]},Uk=new s(Ln,Vk,Yr,zk),ge="SolarPearl",ni=d.weapon.data[ge],Jk=[-1,.2,.25,.3,.35,.4],[Qk,ti]=m(ge,"solarShineNormal"),[Xk,ai]=m(ge,"solarShineSkillBurst"),oi=a(e.weapon.refinement,Jk),ro=c("normal",ti,oi),si={...ro},ci=c("skillBurst",ai,oi),Yk=r(ge,ni,{premod:{skill_dmg_:ro,burst_dmg_:si,normal_dmg_:ci}}),Zk={document:[{value:ti,path:Qk,header:o(ge,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:ro},{node:si}]}}},{value:ai,path:Xk,header:o(ge,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:ci}]}}}]},e2=new s(ge,Zk,ni,Yk),Ye="TheWidsith",di=d.weapon.data[Ye],[n2,ha]=g("weapon",Ye),t2=[-1,.6,.75,.9,1.05,1.2],a2=[-1,.48,.6,.72,.84,.96],o2=[-1,240,300,360,420,480],[s2,Kt]=m(Ye,"Debut"),ri=c("recitative",Kt,a(e.weapon.refinement,t2)),ii=Object.fromEntries(v.map(n=>[n,c("aria",Kt,a(e.weapon.refinement,a2))])),mi=c("interlude",Kt,a(e.weapon.refinement,o2)),c2=r(Ye,di,{premod:{atk_:ri,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ii[n]])),eleMas:mi}}),d2={document:[{value:Kt,path:s2,teamBuff:!0,header:o(Ye,t("conditional")),name:n2("passiveName"),states:{aria:{name:ha("aria"),fields:[...v.map(n=>({node:ii[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:ha("interlude"),fields:[{node:mi},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:ha("recitative"),fields:[{node:ri},{text:l("duration"),value:10,unit:"s"}]}}}]},r2=new s(Ye,d2,di,c2),Ze="ThrillingTalesOfDragonSlayers",li=d.weapon.data[Ze],[,i2]=g("weapon",Ze),m2=[-1,.24,.3,.36,.42,.48],[l2,$i]=m(Ze,"Heritage"),pi=c("on",$i,a(e.weapon.refinement,m2)),$2=W(e.activeCharKey,e.charKey,c(e.activeCharKey,O.charKey,pi)),p2=r(Ze,li,{teamBuff:{premod:{atk_:$2}}}),h2={document:[{value:$i,path:l2,name:i2("condName"),teamBuff:!0,header:o(Ze,t("conditional")),states:{on:{fields:[{node:h(pi,f.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},u2=new s(Ze,h2,li,p2),J="TomeOfTheEternalFlow",io=d.weapon.data[J],hi=io.refinementBonus.hp_;if(!hi)throw new Error(`data_gen.refinementBonus.hp_ for ${J} was undefined`);const _2=[-1,.14,.18,.22,.26,.3],ui=c(e.weapon.key,J,a(e.weapon.refinement,hi)),[f2,_i]=m(J,"hpChanges"),fi=u(1,3),gi=p(_i,$(fi,n=>i(n,a(e.weapon.refinement,_2,{unit:"%"}))),_),g2=r(J,io,{premod:{hp_:ui,charged_dmg_:gi}}),w2={document:[{header:o(J,t("base")),fields:[{node:ui}]},{value:_i,path:f2,header:o(J,t("stacks")),name:t("hpChange"),states:$(fi,n=>({name:t("times",{count:n}),fields:[{node:gi},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},k2=new s(J,w2,io,g2),B="TulaytullahsRemembrance",wi=d.weapon.data[B],v2=[-1,.1,.125,.15,.175,.2],y2=[-1,.048,.06,.072,.084,.096],ki=b(1,12),P2=[-1,.096,.12,.144,.168,.192],vi=b(1,5),S2=[-1,.48,.6,.72,.84,.96],yi=c(e.weapon.key,B,a(e.weapon.refinement,v2)),[b2,Pi]=m(B,"timePassive"),O2=c(e.weapon.key,B,p(Pi,Object.fromEntries(ki.map(n=>[n,i(n,a(e.weapon.refinement,y2,{unit:"%"}))])),_,f.info("normal_dmg_"))),[B2,Si]=m(B,"hitPassive"),A2=c(e.weapon.key,B,p(Si,Object.fromEntries(vi.map(n=>[n,i(n,a(e.weapon.refinement,P2,{unit:"%"}))])),_,f.info("normal_dmg_"))),bi=ae(a(e.weapon.refinement,S2,{unit:"%"}),P(O2,A2)),E2=r(B,wi,{premod:{atkSPD_:yi,normal_dmg_:bi}}),x2={document:[{header:o(B,t("base")),fields:[{node:yi}]},{header:o(B,t("conditional")),fields:[{node:bi}]},{value:Pi,path:b2,header:o(B,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(ki.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:Si,path:B2,header:o(B,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(vi.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},M2=new s(B,x2,wi,E2),qn="TwinNephrite",Oi=d.weapon.data[qn],Bi=[-1,.12,.14,.16,.18,.2],[D2,mo]=m(qn,"GuerillaTactics"),Ai=c("on",mo,a(e.weapon.refinement,Bi)),Ei=c("on",mo,a(e.weapon.refinement,Bi)),T2=r(qn,Oi,{premod:{atk_:Ai,moveSPD_:Ei}}),R2={document:[{value:mo,path:D2,name:t("afterDefeatEnemy"),header:o(qn,t("conditional")),states:{on:{fields:[{node:Ai},{node:Ei},{text:l("duration"),value:15,unit:"s"}]}}}]},C2=new s(qn,R2,Oi,T2),we="WanderingEvenstar",xi=d.weapon.data[we],I2=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,we,i(a(e.weapon.refinement,I2,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,we,i(S(.3),Et)),j2=W(e.activeCharKey,e.charKey,lo),F2=r(we,xi,{total:{atk:Et},teamBuff:{total:{atk:j2}}},{selfAtk:Et,teamAtkDisp:lo}),N2={document:[{header:o(we,t("base")),fields:[{node:Et}]},{header:o(we,t("teamBuff")),teamBuff:!0,fields:[{node:h(lo,{...f.info("atk"),isTeamBuff:!0})}]}]},W2=new s(we,N2,xi,F2),zn="WineAndSong",Mi=d.weapon.data[zn],H2=[-1,.2,.25,.3,.35,.4],[G2,Di]=m(zn,"EverChanging"),Ti=c("on",Di,a(e.weapon.refinement,H2)),K2=r(zn,Mi,{premod:{atk_:Ti}}),L2={document:[{value:Di,path:G2,name:t("afterSprint"),header:o(zn,t("conditional")),states:{on:{fields:[{node:Ti},{text:l("duration"),value:5,unit:"s"}]}}}]},q2=new s(zn,L2,Mi,K2),z2={ApprenticesNotes:Lf,AThousandFloatingDreams:Hf,BalladOfTheBoundlessBlue:Qf,BlackcliffAgate:ng,CashflowSupervision:rg,CranesEchoingCall:pg,DodocoTales:kg,EmeraldOrb:bg,EverlastingMoonglow:xg,EyeOfPerception:Rg,FavoniusCodex:jg,FlowingPurity:Jg,Frostbearer:ew,FruitOfFulfillment:cw,HakushinRing:gw,JadefallsSplendor:Ow,KagurasVerity:xw,LostPrayerToTheSacredWinds:Iw,MagicGuide:Hw,MappaMare:Vw,MemoryOfDust:tk,OathswornEye:rk,OtherworldlyStory:$k,PocketGrimoire:uk,PrototypeAmber:vk,QuantumCatalyst:Ak,RoyalGrimoire:Tk,SacrificialFragments:Ik,SacrificialJade:Kk,SkywardAtlas:Uk,SolarPearl:e2,TheWidsith:r2,ThrillingTalesOfDragonSlayers:u2,TomeOfTheEternalFlow:k2,TulaytullahsRemembrance:M2,TwinNephrite:C2,WanderingEvenstar:W2,WineAndSong:q2},en="Akuoumaru",Ri=d.weapon.data[en],[,V2]=g("weapon",en),[U2,Ci]=m(en,"WatatsumiWavewalker"),Ii=b(4,36).map(n=>n*10),J2=[-1,.0012,.0015,.0018,.0021,.0024],Q2=[-1,.4,.5,.6,.7,.8],ji=p(Ci,Object.fromEntries(Ii.map(n=>[n,ae(i(a(e.weapon.refinement,J2,{unit:"%"}),n),a(e.weapon.refinement,Q2,{unit:"%"}))])),_),X2=r(en,Ri,{premod:{burst_dmg_:ji}}),Y2={document:[{value:Ci,path:U2,header:o(en,t("stacks")),name:V2("party"),states:Object.fromEntries(Ii.map(n=>[n,{name:n.toString(),fields:[{node:ji}]}]))}]},Z2=new s(en,Y2,Ri,X2),A="BeaconOfTheReedSea",Fi=d.weapon.data[A],ev=[-1,.2,.25,.3,.35,.4],[nv,Ni]=m(A,"afterSkill"),Wi=c(e.weapon.key,A,c(Ni,"on",a(e.weapon.refinement,ev,{...f.info("atk_")}))),tv=[-1,.2,.25,.3,.35,.4],[av,Hi]=m(A,"afterDmg"),Gi=c(e.weapon.key,A,c(Hi,"on",a(e.weapon.refinement,tv,{...f.info("atk_")}))),ov=[-1,.32,.4,.48,.56,.64],[sv,Ki]=m(A,"noShield"),Li=c(e.weapon.key,A,c(Ki,"on",a(e.weapon.refinement,ov,{...f.info("hp_")}))),cv=r(A,Fi,{premod:{atk_:P(Wi,Gi),hp_:Li}},{}),dv={document:[{header:o(A,t("conditional")),path:nv,value:Ni,name:t("hitOp.skill"),states:{on:{fields:[{node:Wi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:av,value:Hi,name:t("takeDmg"),states:{on:{fields:[{node:Gi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(A,t("conditional")),path:sv,value:Ki,name:t("notProtectedByShield"),states:{on:{fields:[{node:Li}]}}}]},rv=new s(A,dv,Fi,cv),Vn="BlackcliffSlasher",qi=d.weapon.data[Vn],[iv,zi]=m(Vn,"PressTheAdvantage"),Vi=u(1,3),mv=[-1,.12,.15,.18,.21,.24],Ui=i(p(zi,$(Vi,n=>w(n)),0),a(e.weapon.refinement,mv)),lv=r(Vn,qi,{premod:{atk_:Ui}}),$v={document:[{value:zi,path:iv,header:o(Vn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Vi.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ui},{text:l("duration"),value:30,unit:"s"}]}]))}]},pv=new s(Vn,$v,qi,lv),Un="BloodtaintedGreatsword",Ji=d.weapon.data[Un],hv=[-1,.12,.15,.18,.21,.24],[uv,Qi]=m(Un,"BaneOfFireAndThunder"),Xi=c("on",Qi,a(e.weapon.refinement,hv)),_v=r(Un,Ji,{premod:{all_dmg_:Xi}}),fv={document:[{value:Qi,path:uv,name:t("enemyAffected.pyroOrElectro"),header:o(Un,t("conditional")),states:{on:{fields:[{node:Xi}]}}}]},gv=new s(Un,fv,Ji,_v),Lt="DebateClub",Yi=d.weapon.data[Lt],wv=[-1,.6,.75,.9,1.05,1.2],kv=y(i(a(e.weapon.refinement,wv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}}),vv=r(Lt,Yi),yv={document:[{header:o(Lt,t("base")),fields:[{node:h(kv,{name:t("dmg")})}]}]},Pv=new s(Lt,yv,Yi,vv),qt="FavoniusGreatsword",Zi=d.weapon.data[qt],Sv=r(qt,Zi),bv={document:[{header:o(qt),fields:[]}]},Ov=new s(qt,bv,Zi,Sv),nn="FerrousShadow",em=d.weapon.data[nn],[,Xo]=g("weapon",nn),Bv=[-1,.3,.35,.4,.45,.5],[Av,nm]=m(nn,"Unbending"),tm=c("on",nm,a(e.weapon.refinement,Bv)),Ev=r(nn,em,{premod:{charged_dmg_:tm}}),xv={document:[{value:nm,path:Av,name:Xo("condName"),header:o(nn,t("conditional")),states:{on:{fields:[{node:tm},{text:Xo("resistance")}]}}}]},Mv=new s(nn,xv,em,Ev),tn="ForestRegalia",am=d.weapon.data[tn],[,Dv]=g("weapon",tn),[Tv,om]=m(tn,"passive"),Rv=[-1,60,75,90,105,120],sm=c(om,"on",a(e.weapon.refinement,Rv)),Cv=c(e.activeCharKey,O.charKey,sm),Iv=r(tn,am,{teamBuff:{premod:{eleMas:Cv}}}),jv={document:[{value:om,path:Tv,teamBuff:!0,header:o(tn,t("conditional")),name:Dv("condName"),states:{on:{fields:[{node:h(sm,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Fv=new s(tn,jv,am,Iv),zt="KatsuragikiriNagamasa",cm=d.weapon.data[zt],Nv=[-1,.06,.075,.09,.105,.12],dm=a(e.weapon.refinement,Nv),Wv=r(zt,cm,{premod:{skill_dmg_:dm}}),Hv={document:[{header:o(zt,t("base")),fields:[{node:dm}]}]},Gv=new s(zt,Hv,cm,Wv),Vt="LithicBlade",rm=d.weapon.data[Vt],Kv=[-1,.07,.08,.09,.1,.11],Lv=[-1,.03,.04,.05,.06,.07],im=i(a(e.weapon.refinement,Kv,{unit:"%"}),x.liyue),mm=i(a(e.weapon.refinement,Lv,{unit:"%"}),x.liyue),qv=r(Vt,rm,{premod:{atk_:im,critRate_:mm}}),zv={document:[{header:o(Vt,t("stacks")),fields:[{node:im},{node:mm}]}]},Vv=new s(Vt,zv,rm,qv),Ne="LuxuriousSeaLord",lm=d.weapon.data[Ne],Uv=[-1,.12,.15,.18,.21,.24],Jv=[-1,1,1.25,1.5,1.75,2],$m=a(e.weapon.refinement,Uv),pm=c(e.weapon.key,Ne,y(i(a(e.weapon.refinement,Jv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Qv=r(Ne,lm,{premod:{burst_dmg_:$m}},{dmg:pm}),Xv={document:[{header:o(Ne,t("base")),fields:[{node:$m}]},{header:o(Ne,t("conditional")),fields:[{node:h(pm,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Yv=new s(Ne,Xv,lm,Qv),an="MailedFlower",hm=d.weapon.data[an],[,Zv]=g("weapon",an),ey=[-1,.12,.15,.18,.21,.24],ny=[-1,48,60,72,84,96],[ty,$o]=m(an,"passive"),um=c($o,"on",a(e.weapon.refinement,ey,{unit:"%"})),_m=c($o,"on",a(e.weapon.refinement,ny)),ay=r(an,hm,{premod:{atk_:um,eleMas:_m}}),oy={document:[{value:$o,path:ty,name:Zv("condName"),header:o(an,t("conditional")),states:{on:{fields:[{node:um},{node:_m},{text:l("duration"),value:8,unit:"s"}]}}}]},sy=new s(an,oy,hm,ay),ke="MakhairaAquamarine",fm=d.weapon.data[ke],cy=[-1,.24,.3,.36,.42,.48],xt=c(e.weapon.key,ke,i(a(e.weapon.refinement,cy,{unit:"%"}),e.premod.eleMas)),po=c(e.weapon.key,ke,i(S(.3),xt)),dy=W(e.activeCharKey,e.charKey,po),ry=r(ke,fm,{total:{atk:xt},teamBuff:{total:{atk:dy}}},{selfAtk:xt,teamAtkDisp:po}),iy={document:[{header:o(ke,t("base")),fields:[{node:xt}]},{header:o(ke,t("teamBuff")),teamBuff:!0,fields:[{node:h(po,{...f.info("atk"),isTeamBuff:!0})}]}]},my=new s(ke,iy,fm,ry),ho="OldMercsPal",gm=d.weapon.data[ho],ly=r(ho,gm),$y={document:[]},py=new s(ho,$y,gm,ly),on="PortablePowerSaw",wm=d.weapon.data[on],[,hy]=g("weapon",on),uy=[-1,40,50,60,70,80],[_y,km]=m(on,"symbolsConsumed"),vm=u(1,3),ym=p(km,$(vm,n=>i(n,a(e.weapon.refinement,uy,{unit:"%"}))),_),fy=r(on,wm,{premod:{eleMas:ym}}),gy={document:[{value:km,path:_y,teamBuff:!0,header:o(on,t("stacks")),name:hy("condName"),states:$(vm,n=>({name:`${n}`,fields:[{node:ym},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},wy=new s(on,gy,wm,fy),Jn="PrototypeArchaic",Pm=d.weapon.data[Jn],ky=[-1,2.4,3,3.6,4.2,4.8],Sm=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,ky,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),vy=r(Jn,Pm,void 0,{dmg:Sm}),yy={document:[{header:o(Jn,t("base")),fields:[{node:h(Sm,{name:t("dmg")})}]}]},Py=new s(Jn,yy,Pm,vy),Qn="Rainslasher",bm=d.weapon.data[Qn],Sy=[-1,.2,.24,.28,.32,.36],[by,Om]=m(Qn,"BaneOfStormAndTide"),Bm=c("on",Om,a(e.weapon.refinement,Sy)),Oy=r(Qn,bm,{premod:{all_dmg_:Bm}}),By={document:[{value:Om,path:by,name:t("enemyAffected.hydroOrElectro"),header:o(Qn,t("conditional")),states:{on:{fields:[{node:Bm}]}}}]},Ay=new s(Qn,By,bm,Oy),sn="RedhornStonethresher",Am=d.weapon.data[sn],Ey=[-1,.28,.35,.42,.49,.56],xy=[-1,.4,.5,.6,.7,.8],My=[-1,.4,.5,.6,.7,.8],Em=a(e.weapon.refinement,Ey),ka=c(e.weapon.key,sn,i(a(e.weapon.refinement,xy,{unit:"%"}),e.premod.def)),va=c(e.weapon.key,sn,i(a(e.weapon.refinement,My,{unit:"%"}),e.premod.def)),Dy=r(sn,Am,{premod:{def_:Em,normal_dmgInc:ka,charged_dmgInc:va}},{normal_dmgInc:ka,charged_dmgInc:va}),Ty={document:[{header:o(sn,t("base")),fields:[{node:Em},{node:ka},{node:va}]}]},Ry=new s(sn,Ty,Am,Dy),Xn="RoyalGreatsword",xm=d.weapon.data[Xn],[Cy,Mm]=m(Xn,"stack"),Iy=[-1,.08,.1,.12,.14,.16],Dm=p(Mm,$(u(1,5),n=>i(a(e.weapon.refinement,Iy,{unit:"%"}),n)),_),jy=r(Xn,xm,{premod:{critRate_:Dm}}),Fy={document:[{value:Mm,path:Cy,name:t("stacks"),header:o(Xn,t("stacks")),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Dm}]}]))}]},Ny=new s(Xn,Fy,xm,jy),Ut="SacrificialGreatsword",Tm=d.weapon.data[Ut],Wy=r(Ut,Tm),Hy={document:[{header:o(Ut),fields:[]}]},Gy=new s(Ut,Hy,Tm,Wy),cn="SerpentSpine",Rm=d.weapon.data[cn],[,Ky]=g("weapon",cn),Ly=[-1,.06,.07,.08,.09,.1],qy=[-1,3,2.7,2.4,2.2,2],[zy,Cm]=m(cn,"Wavesplitter"),Vy=a(e.weapon.refinement,Ly,{unit:"%"}),Im=p(Cm,{...$(u(1,5),n=>i(Vy,n))},_),Uy=r(cn,Rm,{premod:{all_dmg_:Im}}),Jy={document:[{value:Cm,path:zy,header:o(cn,t("stacks")),name:t("activeCharField"),states:{...$(u(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Im},{text:Ky("takeMoreDmg"),value:k=>qy[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},Qy=new s(cn,Jy,Rm,Uy),Yn="SkyriderGreatsword",jm=d.weapon.data[Yn],[Xy,Fm]=m(Yn,"stack"),Yy=[-1,.06,.07,.08,.09,.1],Nm=p(Fm,$(u(1,4),n=>i(a(e.weapon.refinement,Yy,{unit:"%"}),n)),_),Zy=r(Yn,jm,{premod:{atk_:Nm}}),eP={document:[{value:Fm,path:Xy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Nm},{text:l("duration"),value:6,unit:"s"}]}]))}]},nP=new s(Yn,eP,jm,Zy),Zn="SkywardPride",Wm=d.weapon.data[Zn],tP=[-1,.08,.1,.12,.14,.16],aP=[-1,.8,1,1.2,1.4,1.6],Hm=a(e.weapon.refinement,tP),Gm=c(e.weapon.key,Zn,y(i(a(e.weapon.refinement,aP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),oP=r(Zn,Wm,{premod:{all_dmg_:Hm}},{dmg:Gm}),sP={document:[{header:o(Zn,t("base")),fields:[{node:Hm},{node:h(Gm,{name:t("dmg")})}]}]},cP=new s(Zn,sP,Wm,oP),q="SnowTombedStarsilver",Km=d.weapon.data[q],dP=[-1,.8,.95,1.1,1.25,1.4],rP=[-1,2,2.4,2.8,3.2,3.6],Lm=c(e.weapon.key,q,y(i(a(e.weapon.refinement,dP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),qm=c(e.weapon.key,q,y(i(a(e.weapon.refinement,rP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),iP=r(q,Km,void 0,{dmgAoe:Lm,dmgOnCryoOp:qm}),mP={document:[{header:o(q,t("base")),fields:[{node:h(Lm,{name:s.trm(q)("aoeDmg")})},{node:h(qm,{name:s.trm(q)("cryoAffectedDmg")})}]}]},lP=new s(q,mP,Km,iP),ve="SongOfBrokenPines",zm=d.weapon.data[ve],[,$P]=g("weapon",ve),pP=[-1,.16,.2,.24,.28,.32],hP=[-1,.2,.25,.3,.35,.4],uP=[-1,.12,.15,.18,.21,.24],[_P,uo]=m(ve,"RebelsBannerHymn"),Vm=a(e.weapon.refinement,pP,{unit:"%"}),Um=c("on",uo,a(e.weapon.refinement,hP,f.info("atk_"))),Jm=c("on",uo,a(e.weapon.refinement,uP)),fP=r(ve,zm,{premod:{atk_:Vm},teamBuff:{premod:{atk_:Um,atkSPD_:Jm}}}),gP={document:[{header:o(ve,t("base")),fields:[{node:Vm}]},{value:uo,path:_P,teamBuff:!0,header:o(ve,t("conditional")),name:$P("name"),states:{on:{fields:[{node:Um},{node:Jm},{text:l("duration"),value:12,unit:"s"}]}}}]},wP=new s(ve,gP,zm,fP),Q="TalkingStick",Qm=d.weapon.data[Q],[,Yo]=g("weapon",Q),kP=[-1,.16,.2,.24,.28,.32],vP=[-1,.12,.15,.18,.21,.24],[yP,Xm]=m(Q,"affectedPyro"),Ym=c(Xm,"on",a(e.weapon.refinement,kP)),[PP,Zm]=m(Q,"affectedOther"),SP=c(Zm,"on",a(e.weapon.refinement,vP)),el=$(v.map(n=>`${n}_dmg_`),()=>({...SP})),bP=r(Q,Qm,{premod:{atk_:Ym,...el}}),OP={document:[{value:Xm,path:yP,header:o(Q,t("conditional")),name:Yo("condName.atk_"),states:{on:{fields:[{node:Ym},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Zm,path:PP,header:o(Q,t("conditional")),name:Yo("condName.dmg_"),states:{on:{fields:[...Object.values(el).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},BP=new s(Q,OP,Qm,bP),X="TheBell",nl=d.weapon.data[X],AP=[-1,.2,.23,.26,.29,.32],EP=[-1,.12,.15,.18,.21,.24],[xP,tl]=m(X,"RebelliousGuardian"),al=c(e.weapon.key,X,c(tl,"on",Jh(i(a(e.weapon.refinement,AP,{unit:"%"}),e.total.hp)))),[MP,ol]=m(X,"WithShield"),sl=c(ol,"protected",a(e.weapon.refinement,EP,{unit:"%"})),DP=r(X,nl,{premod:{all_dmg_:sl}},{shield:al}),TP={document:[{value:tl,path:xP,header:o(X,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:h(al,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:ol,path:MP,header:o(X,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:sl}]}}}]},RP=new s(X,TP,nl,DP),T="TheUnforged",cl=d.weapon.data[T],[,CP]=g("weapon",T),IP=[-1,.2,.25,.3,.35,.4],jP=[-1,.04,.05,.06,.07,.08],[FP,dl]=m(T,"GoldenMajesty"),rl=a(e.weapon.refinement,IP),[NP,il]=m(T,"WithShield"),WP=a(e.weapon.refinement,jP),ml=i(P(1,c(il,"protected",1)),p(dl,Object.fromEntries(b(1,5).map(n=>[n,i(WP,n)])),_)),HP=r(T,cl,{premod:{shield_:rl,atk_:ml}}),GP={document:[{header:o(T,t("base")),fields:[{node:rl}]},{value:dl,path:FP,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ml},{text:l("duration"),value:8,unit:"s"}]}]))},{value:il,path:NP,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:CP("atkEffInc"),value:100,unit:"%"}]}}}]},KP=new s(T,GP,cl,HP),et="TidalShadow",ll=d.weapon.data[et],LP=[-1,.24,.3,.36,.42,.48],[qP,$l]=m(et,"afterHeal"),pl=c($l,"on",a(e.weapon.refinement,LP)),zP=r(et,ll,{premod:{atk_:pl}}),VP={document:[{header:o(et,t("conditional")),path:qP,value:$l,name:t("afterHeal"),states:{on:{fields:[{node:pl},{text:l("duration"),value:8,unit:"s"}]}}}]},UP=new s(et,VP,ll,zP),j="UltimateOverlordsMegaMagicSword",_o=d.weapon.data[j],[,JP]=g("weapon",j),hl=_o.refinementBonus.atk_;if(!hl)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const QP=[-1,.01,.0125,.015,.0175,.02],ul=c(e.weapon.key,j,a(e.weapon.refinement,hl),f.info("atk_")),[XP,_l]=m(j,"melusines"),fl=u(1,12),gl=p(_l,$(fl,n=>i(n,a(e.weapon.refinement,QP,{unit:"%"}))),_,f.info("atk_")),YP=r(j,_o,{premod:{atk_:P(ul,gl)}}),ZP={document:[{header:o(j,t("base")),fields:[{node:ul}]},{value:_l,path:XP,header:o(j,t("stacks")),name:JP("condName"),states:$(fl,n=>({name:`${n}`,fields:[{node:gl}]}))}]},eS=new s(j,ZP,_o,YP),F="Verdict",fo=d.weapon.data[F],[,nS]=g("weapon",F),wl=fo.refinementBonus.atk_;if(!wl)throw new Error(`data_gen.refinementBonus.atk_ for ${F} was undefined`);const tS=[-1,.18,.225,.27,.315,.36],kl=c(e.weapon.key,F,a(e.weapon.refinement,wl)),[aS,vl]=m(F,"seals"),yl=u(1,2),Pl=p(vl,$(yl,n=>i(n,a(e.weapon.refinement,tS,{unit:"%"}))),_),oS=r(F,fo,{premod:{atk_:kl,skill_dmg_:Pl}}),sS={document:[{header:o(F,t("base")),fields:[{node:kl}]},{value:vl,path:aS,header:o(F,t("stacks")),name:nS("condName"),states:$(yl,n=>({name:`${n}`,fields:[{node:Pl}]}))}]},cS=new s(F,sS,fo,oS),go="WasterGreatsword",wo=d.weapon.data[go],dS=r(go,wo),rS={...wo,document:[]},iS=new s(go,rS,wo,dS),dn="WhiteIronGreatsword",Sl=d.weapon.data[dn],mS=[-1,.08,.1,.12,.14,.16],[lS,bl]=m(dn,"CullTheWeak"),Ol=c(e.weapon.key,dn,c(bl,"on",Ke(i(a(e.weapon.refinement,mS,{unit:"%"}),e.total.hp)))),$S=r(dn,Sl,void 0,{heal:Ol}),pS={document:[{value:bl,path:lS,name:t("afterDefeatEnemy"),header:o(dn,t("conditional")),states:{on:{fields:[{node:h(Ol,{name:l("healing"),variant:"heal"})}]}}}]},hS=new s(dn,pS,Sl,$S),nt="Whiteblind",Bl=d.weapon.data[nt],[uS,ko]=m(nt,"stack"),Al=[-1,.06,.075,.09,.105,.12],El=p(ko,$(u(1,4),n=>i(a(e.weapon.refinement,Al,{unit:"%"}),n)),_),xl=p(ko,$(u(1,4),n=>i(a(e.weapon.refinement,Al,{unit:"%"}),n)),_),_S=r(nt,Bl,{premod:{atk_:El,def_:xl}}),fS={document:[{value:ko,path:uS,name:t("hitOp.normalOrCharged"),header:o(nt,t("stacks")),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:El},{node:xl},{text:l("duration"),value:6,unit:"s"}]}]))}]},gS=new s(nt,fS,Bl,_S),We="WolfsGravestone",Ml=d.weapon.data[We],wS=[-1,.2,.25,.3,.35,.4],kS=[-1,.4,.5,.6,.7,.8],[vS,Dl]=m(We,"WolfishTracker"),Tl=a(e.weapon.refinement,wS),Rl=c("on",Dl,a(e.weapon.refinement,kS,f.info("atk_"))),yS=r(We,Ml,{premod:{atk_:Tl},teamBuff:{premod:{atk_:Rl}}}),PS={document:[{header:o(We,t("base")),fields:[{node:Tl}]},{value:Dl,path:vS,teamBuff:!0,header:o(We,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Rl},{text:l("duration"),value:12,unit:"s"}]}}}]},SS=new s(We,PS,Ml,yS),bS={Akuoumaru:Z2,BeaconOfTheReedSea:rv,BlackcliffSlasher:pv,BloodtaintedGreatsword:gv,DebateClub:Pv,FavoniusGreatsword:Ov,FerrousShadow:Mv,ForestRegalia:Fv,KatsuragikiriNagamasa:Gv,LithicBlade:Vv,LuxuriousSeaLord:Yv,MailedFlower:sy,MakhairaAquamarine:my,OldMercsPal:py,PortablePowerSaw:wy,PrototypeArchaic:Py,Rainslasher:Ay,RedhornStonethresher:Ry,RoyalGreatsword:Ny,SacrificialGreatsword:Gy,SerpentSpine:Qy,SkyriderGreatsword:nP,SkywardPride:cP,SnowTombedStarsilver:lP,SongOfBrokenPines:wP,TalkingStick:BP,TheBell:RP,TheUnforged:KP,TidalShadow:UP,UltimateOverlordsMegaMagicSword:eS,Verdict:cS,WasterGreatsword:iS,Whiteblind:gS,WhiteIronGreatsword:hS,WolfsGravestone:SS},Jt="BalladOfTheFjords",Cl=d.weapon.data[Jt],OS=[-1,120,150,180,210,240],ya=ns(x.ele,3,a(e.weapon.refinement,OS)),BS=r(Jt,Cl,{premod:{eleMas:ya}}),AS={document:[{header:o(Jt,t("talents.passive")),canShow:W(ya,0,1),fields:[{node:ya}]}]},ES=new s(Jt,AS,Cl,BS),vo="BeginnersProtector",yo=d.weapon.data[vo],xS=r(vo,yo),MS={...yo,document:[]},DS=new s(vo,MS,yo,xS),rn="BlackTassel",Il=d.weapon.data[rn],[,TS]=g("weapon",rn),RS=[-1,.4,.5,.6,.7,.8],[CS,jl]=m(rn,"PressTheAdvantage"),Fl=c("on",jl,a(e.weapon.refinement,RS)),IS=r(rn,Il,{premod:{all_dmg_:Fl}}),jS={document:[{value:jl,path:CS,header:o(rn,t("conditional")),name:TS("condName"),states:{on:{fields:[{node:Fl}]}}}]},FS=new s(rn,jS,Il,IS),tt="BlackcliffPole",Nl=d.weapon.data[tt],[NS,Wl]=m(tt,"PressTheAdvantage"),Hl=u(1,3),WS=[-1,.12,.15,.18,.21,.24],Gl=i(p(Wl,$(Hl,n=>w(n)),0),a(e.weapon.refinement,WS)),HS=r(tt,Nl,{premod:{atk_:Gl}}),GS={document:[{value:Wl,path:NS,teamBuff:!0,header:o(tt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Hl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Gl},{text:l("duration"),value:30,unit:"s"}]}]))}]},KS=new s(tt,GS,Nl,HS),ye="CalamityQueller",Kl=d.weapon.data[ye],[,Pa]=g("weapon",ye),[LS,Ll]=m(ye,"stack"),qS=[-1,.12,.15,.18,.21,.24],zS=[-1,.032,.04,.048,.056,.064],ql=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,qS)])),zl=i(Ra(e.charKey,e.activeCharKey,w(1,{name:Pa("active")}),w(2,{name:Pa("inactive")})),p(Ll,$(u(1,6),n=>w(n,{name:t("stacks")})),0),a(e.weapon.refinement,zS)),VS=r(ye,Kl,{premod:{...ql,atk_:zl}}),US={document:[{header:o(ye,t("base")),fields:Object.values(ql).map(n=>({node:n}))},{value:Ll,path:LS,teamBuff:!0,header:o(ye,t("stacks")),name:Pa("effectName"),states:Object.fromEntries(u(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zl}]}]))}]},JS=new s(ye,US,Kl,VS),at="CrescentPike",Vl=d.weapon.data[at],QS=[-1,.2,.25,.3,.35,.4],Ul=c(e.weapon.key,at,y(i(e.total.atk,a(e.weapon.refinement,QS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),XS=r(at,Vl,void 0,{hit:Ul}),YS={document:[{header:o(at,t("talents.passive")),fields:[{node:h(Ul,{name:t("dmg")})}]}]},ZS=new s(at,YS,Vl,XS),ot="CrimsonMoonsSemblance",Jl=d.weapon.data[ot],e4=[-1,.12,.16,.2,.24,.28],n4=[-1,.2,.28,.36,.44,.52],[t4,Po]=m(ot,"bond"),Ql=W(Po,void 0,a(e.weapon.refinement,e4),f.info("all_dmg_")),a4=c(Po,"2",a(e.weapon.refinement,n4),f.info("all_dmg_")),Xl=P(Ql,a4),o4=r(ot,Jl,{premod:{all_dmg_:Xl}}),s4={document:[{value:Po,path:t4,header:o(ot,t("conditional")),name:t("currentBond"),states:{1:{name:"< 30%",fields:[{node:Ql}]},2:{name:">= 30%",fields:[{node:Xl}]}}}]},c4=new s(ot,s4,Jl,o4),mn="Deathmatch",Yl=d.weapon.data[mn],[,d4]=g("weapon",mn),[r4,So]=m(mn,"stack"),Zl=[-1,.16,.2,.24,.28,.32],i4=[-1,.24,.3,.36,.42,.48],Sa=p(So,{oneOrNone:a(e.weapon.refinement,i4,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Zl,{unit:"%"})},_),ba=c(So,"moreThanOne",a(e.weapon.refinement,Zl,{unit:"%"})),m4=r(mn,Yl,{premod:{atk_:Sa,def_:ba}}),l4={document:[{value:So,path:r4,teamBuff:!0,header:o(mn,t("conditional")),name:d4("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Sa},{node:ba}]},moreThanOne:{name:"≥2",fields:[{node:Sa},{node:ba}]}}}]},$4=new s(mn,l4,Yl,m4),Qt="DialoguesOfTheDesertSages",e0=d.weapon.data[Qt],p4=r(Qt,e0),h4={document:[{header:o(Qt),fields:[]}]},u4=new s(Qt,h4,e0,p4),st="DragonsBane",n0=d.weapon.data[st],_4=[-1,.2,.24,.28,.32,.36],[f4,t0]=m(st,"BaneOfFlameAndWater"),a0=c("on",t0,a(e.weapon.refinement,_4)),g4=r(st,n0,{premod:{all_dmg_:a0}}),w4={document:[{value:t0,path:f4,header:o(st,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:a0}]}}}]},k4=new s(st,w4,n0,g4),z="DragonspineSpear",o0=d.weapon.data[z],v4=[-1,.8,.95,1.1,1.25,1.4],y4=[-1,2,2.4,2.8,3.2,3.6],s0=c(e.weapon.key,z,y(i(a(e.weapon.refinement,v4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),c0=c(e.weapon.key,z,y(i(a(e.weapon.refinement,y4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),P4=r(z,o0,void 0,{dmgAoe:s0,dmgOnCryoOp:c0}),S4={document:[{header:o(z,t("base")),fields:[{node:h(s0,{name:s.trm(z)("aoeDmg")})},{node:h(c0,{name:s.trm(z)("cryoAffectedDmg")})}]}]},b4=new s(z,S4,o0,P4),Pe="EngulfingLightning",d0=d.weapon.data[Pe],O4=[-1,.28,.35,.42,.49,.56],B4=[-1,.8,.9,1,1.1,1.2],Oa=c(e.weapon.key,Pe,ae(i(a(e.weapon.refinement,O4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,B4))),A4=[-1,.3,.35,.4,.45,.5,.55],[E4,r0]=m(Pe,"TimelessDream"),i0=c("on",r0,a(e.weapon.refinement,A4)),x4=r(Pe,d0,{premod:{atk_:Oa,enerRech_:i0}},{atk_:Oa}),M4={document:[{header:o(Pe,t("base")),fields:[{node:Oa}]},{teamBuff:!0,value:r0,path:E4,header:o(Pe,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:i0},{text:l("duration"),value:12,unit:"s"}]}}}]},D4=new s(Pe,M4,d0,x4),Xt="FavoniusLance",m0=d.weapon.data[Xt],T4=r(Xt,m0),R4={document:[{header:o(Xt),fields:[]}]},C4=new s(Xt,R4,m0,T4),ct="Halberd",l0=d.weapon.data[ct],I4=[-1,1.6,2,2.4,2.8,3.2],$0=c(e.weapon.key,ct,y(i(a(e.weapon.refinement,I4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),j4=r(ct,l0,void 0,{dmg:$0}),F4={document:[{header:o(ct,t("base")),fields:[{node:h($0,{name:t("dmg")})}]}]},N4=new s(ct,F4,l0,j4),bo="IronPoint",Oo=d.weapon.data[bo],W4=r(bo,Oo),H4={...Oo,document:[]},G4=new s(bo,H4,Oo,W4),Yt="KitainCrossSpear",p0=d.weapon.data[Yt],K4=[-1,.06,.075,.09,.105,.12],h0=a(e.weapon.refinement,K4),L4=r(Yt,p0,{premod:{skill_dmg_:h0}}),q4={document:[{header:o(Yt,t("base")),fields:[{node:h0}]}]},z4=new s(Yt,q4,p0,L4),Zt="LithicSpear",u0=d.weapon.data[Zt],V4=[-1,.07,.08,.09,.1,.11],U4=[-1,.03,.04,.05,.06,.07],_0=i(a(e.weapon.refinement,V4,{unit:"%"}),x.liyue),f0=i(a(e.weapon.refinement,U4,{unit:"%"}),x.liyue),J4=r(Zt,u0,{premod:{atk_:_0,critRate_:f0}}),Q4={document:[{header:o(Zt,t("stacks")),fields:[{node:_0},{node:f0}]}]},X4=new s(Zt,Q4,u0,J4),dt="MissiveWindspear",g0=d.weapon.data[dt],[Y4,Bo]=m(dt,"passive"),Z4=[-1,.12,.15,.18,.21,.24],e5=[-1,48,60,72,84,96],w0=c(Bo,"on",a(e.weapon.refinement,Z4,{unit:"%"})),k0=c(Bo,"on",a(e.weapon.refinement,e5)),n5=r(dt,g0,{premod:{atk_:w0,eleMas:k0}}),t5={document:[{value:Bo,path:Y4,teamBuff:!0,header:o(dt,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:w0},{node:k0},{text:l("duration"),value:10,unit:"s"}]}}}]},a5=new s(dt,t5,g0,n5),ln="Moonpiercer",v0=d.weapon.data[ln],[,o5]=g("weapon",ln),[s5,y0]=m(ln,"passive"),c5=[-1,.16,.2,.24,.28,.32],P0=c(y0,"on",a(e.weapon.refinement,c5,{unit:"%"})),d5=c(e.activeCharKey,O.charKey,P0),r5=r(ln,v0,{teamBuff:{premod:{atk_:d5}}}),i5={document:[{value:y0,path:s5,teamBuff:!0,header:o(ln,t("conditional")),name:o5("condName"),states:{on:{fields:[{node:h(P0,f.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},m5=new s(ln,i5,v0,r5),rt="PrimordialJadeWingedSpear",S0=d.weapon.data[rt],[l5,Ao]=m(rt,"stack"),$5=[-1,.032,.039,.046,.053,.06],p5=[-1,.12,.15,.18,.21,.24],b0=p(Ao,$(u(1,7),n=>i(a(e.weapon.refinement,$5,{unit:"%"}),n)),_),O0=c(Ao,"7",a(e.weapon.refinement,p5,{unit:"%"})),h5=r(rt,S0,{premod:{atk_:b0,all_dmg_:O0}}),u5={document:[{value:Ao,path:l5,teamBuff:!0,header:o(rt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:b0},{node:O0}]}]))}]},_5=new s(rt,u5,S0,h5),$n="ProspectorsDrill",B0=d.weapon.data[$n],[,f5]=g("weapon",$n),g5=[-1,.03,.04,.05,.06,.07],w5=[-1,.07,.085,.1,.115,.13],[k5,Eo]=m($n,"marksConsumed"),xo=u(1,3),A0=p(Eo,$(xo,n=>i(n,a(e.weapon.refinement,g5,{unit:"%"}))),_),v5=p(Eo,$(xo,n=>i(n,a(e.weapon.refinement,w5,{unit:"%"}))),_),E0=$(v.map(n=>`${n}_dmg_`),()=>({...v5})),y5=r($n,B0,{premod:{atk_:A0,...E0}}),P5={document:[{value:Eo,path:k5,teamBuff:!0,header:o($n,t("stacks")),name:f5("condName"),states:$(xo,n=>({name:`${n}`,fields:[{node:A0},...Object.values(E0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},S5=new s($n,P5,B0,y5),it="PrototypeStarglitter",x0=d.weapon.data[it],[b5,Mo]=m(it,"stack"),M0=[-1,.08,.1,.12,.14,.16],D0=p(Mo,$(u(1,2),n=>i(a(e.weapon.refinement,M0,{unit:"%"}),n)),_),T0=p(Mo,$(u(1,2),n=>i(a(e.weapon.refinement,M0,{unit:"%"}),n)),_),O5=r(it,x0,{premod:{normal_dmg_:D0,charged_dmg_:T0}}),B5={document:[{value:Mo,path:b5,header:o(it,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(u(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:D0},{node:T0}]}]))}]},A5=new s(it,B5,x0,O5),ea="RightfulReward",R0=d.weapon.data[ea],E5=r(ea,R0),x5={document:[{header:o(ea),fields:[]}]},M5=new s(ea,x5,R0,E5),mt="RoyalSpear",C0=d.weapon.data[mt],[D5,I0]=m(mt,"stack"),T5=[-1,.08,.1,.12,.14,.16],j0=p(I0,$(u(1,5),n=>i(a(e.weapon.refinement,T5,{unit:"%"}),n)),_),R5=r(mt,C0,{premod:{critRate_:j0}}),C5={document:[{value:I0,path:D5,teamBuff:!0,header:o(mt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:j0}]}]))}]},I5=new s(mt,C5,C0,R5),lt="SkywardSpine",F0=d.weapon.data[lt],j5=[-1,.08,.1,.12,.14,.16],F5=[-1,.4,.55,.7,.85,1],N0=S(.12),W0=a(e.weapon.refinement,j5),H0=c(e.weapon.key,lt,y(i(a(e.weapon.refinement,F5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),N5=r(lt,F0,{premod:{critRate_:W0,atkSPD_:N0}},{dmg:H0}),W5={document:[{header:o(lt,t("base")),fields:[{node:W0},{node:N0},{node:h(H0,{name:t("dmg")})}]}]},H5=new s(lt,W5,F0,N5),Se="StaffOfHoma",G0=d.weapon.data[Se],G5=[-1,.2,.25,.3,.35,.4],K5=[-1,.008,.01,.012,.014,.016],L5=[-1,.01,.012,.014,.016,.018],K0=a(e.weapon.refinement,G5,{unit:"%"}),[q5,L0]=m(Se,"RecklessCinnabar"),q0=i(a(e.weapon.refinement,K5,{unit:"%"}),e.premod.hp),Ba=c(e.weapon.key,Se,c("on",L0,i(a(e.weapon.refinement,L5,{unit:"%"}),e.premod.hp),f.info("atk"))),z5=r(Se,G0,{premod:{hp_:K0},total:{atk:P(q0,Ba)}},{atk2_:Ba}),V5={document:[{header:o(Se,t("base")),fields:[{node:K0},{node:h(q0,f.info("atk"))}]},{value:L0,path:q5,teamBuff:!0,header:o(Se),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:h(Ba,f.info("atk"))}]}}}]},U5=new s(Se,V5,G0,z5),Y="StaffOfTheScarletSands",z0=d.weapon.data[Y],[J5,V0]=m(Y,"stacks"),Q5=[-1,.52,.65,.78,.91,1.04],X5=[-1,.28,.35,.42,.49,.56],U0=b(1,3),J0=c(e.weapon.key,Y,i(a(e.weapon.refinement,Q5,{unit:"%"}),e.premod.eleMas),f.info("atk")),Q0=p(V0,Object.fromEntries(U0.map(n=>[n,i(n,a(e.weapon.refinement,X5,{unit:"%"}),e.premod.eleMas)])),_,f.info("atk")),Zo=c(e.weapon.key,Y,P(J0,Q0)),Y5=r(Y,z0,{total:{atk:Zo}},{atk:Zo}),Z5={document:[{header:o(Y,t("base")),fields:[{node:J0}]},{value:V0,path:J5,header:o(Y,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(U0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:Q0},{text:l("duration"),value:10,unit:"s"}]}]))}]},eb=new s(Y,Z5,z0,Y5),na="TheCatch",X0=d.weapon.data[na],nb=[-1,.16,.2,.24,.28,.32],tb=[-1,.06,.075,.09,.105,.12],Y0=a(e.weapon.refinement,nb),Z0=a(e.weapon.refinement,tb),ab=r(na,X0,{premod:{burst_dmg_:Y0,burst_critRate_:Z0}}),ob={document:[{header:o(na,t("base")),fields:[{node:Y0},{node:Z0}]}]},sb=new s(na,ob,X0,ab),R="VortexVanquisher",e$=d.weapon.data[R],[,cb]=g("weapon",R),db=[-1,.2,.25,.3,.35,.4],rb=[-1,.04,.05,.06,.07,.08],[ib,n$]=m(R,"GoldenMajesty"),t$=a(e.weapon.refinement,db),[mb,a$]=m(R,"WithShield"),lb=a(e.weapon.refinement,rb),o$=i(P(1,c(a$,"protected",1)),p(n$,Object.fromEntries(b(1,5).map(n=>[n,i(lb,n)])),_)),$b=r(R,e$,{premod:{shield_:t$,atk_:o$}}),pb={document:[{header:o(R,t("base")),fields:[{node:t$}]},{value:n$,path:ib,teamBuff:!0,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:o$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:a$,path:mb,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:cb("atkEffInc"),value:100,unit:"%"}]}}}]},hb=new s(R,pb,e$,$b),pn="WavebreakersFin",s$=d.weapon.data[pn],[,ub]=g("weapon",pn),[_b,c$]=m(pn,"WatatsumiWavewalker"),d$=b(4,36).map(n=>n*10),fb=[-1,.0012,.0015,.0018,.0021,.0024],gb=[-1,.4,.5,.6,.7,.8],r$=p(c$,Object.fromEntries(d$.map(n=>[n,ae(i(a(e.weapon.refinement,fb,{unit:"%"}),n),a(e.weapon.refinement,gb,{unit:"%"}))])),_),wb=r(pn,s$,{premod:{burst_dmg_:r$}}),kb={document:[{value:c$,path:_b,header:o(pn),name:ub("party"),states:Object.fromEntries(d$.map(n=>[n,{name:n.toString(),fields:[{node:r$}]}]))}]},vb=new s(pn,kb,s$,wb),ta="WhiteTassel",i$=d.weapon.data[ta],yb=[-1,.24,.3,.36,.42,.48],m$=a(e.weapon.refinement,yb),Pb=r(ta,i$,{premod:{normal_dmg_:m$}}),Sb={document:[{header:o(ta,t("base")),fields:[{node:m$}]}]},bb=new s(ta,Sb,i$,Pb),Ob={BalladOfTheFjords:ES,BeginnersProtector:DS,BlackcliffPole:KS,BlackTassel:FS,CalamityQueller:JS,CrescentPike:ZS,CrimsonMoonsSemblance:c4,Deathmatch:$4,DialoguesOfTheDesertSages:u4,DragonsBane:k4,DragonspineSpear:b4,EngulfingLightning:D4,FavoniusLance:C4,Halberd:N4,IronPoint:G4,KitainCrossSpear:z4,LithicSpear:X4,MissiveWindspear:a5,Moonpiercer:m5,PrimordialJadeWingedSpear:_5,ProspectorsDrill:S5,PrototypeStarglitter:A5,RightfulReward:M5,RoyalSpear:I5,SkywardSpine:H5,StaffOfHoma:U5,StaffOfTheScarletSands:eb,TheCatch:sb,VortexVanquisher:hb,WavebreakersFin:vb,WhiteTassel:bb},aa="AmenomaKageuchi",l$=d.weapon.data[aa],Bb=r(aa,l$),Ab={document:[{header:o(aa),fields:[]}]},Eb=new s(aa,Ab,l$,Bb),Z="AquilaFavonia",Do=d.weapon.data[Z],xb=[-1,2,2.3,2.6,2.9,3.2],Mb=[-1,1,1.15,1.3,1.45,1.6],$$=Do.refinementBonus.atk_;if(!$$)throw new Error(`data_gen.refinementBonus.atk_ for ${Z} was undefined`);const p$=a(e.weapon.refinement,$$),h$=c(e.weapon.key,Z,i(a(e.weapon.refinement,Mb,{unit:"%"}),e.premod.atk)),u$=c(e.weapon.key,Z,y(i(a(e.weapon.refinement,xb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Db=r(Z,Do,{premod:{atk_:p$}},{heal:h$,dmg:u$}),Tb={document:[{header:o(Z,t("base")),fields:[{node:p$}]},{header:o(Z,t("base")),fields:[{node:h(h$,{name:l("healing"),variant:"heal"})},{node:h(u$,{name:t("dmg")})}]}]},Rb=new s(Z,Tb,Do,Db),$t="BlackcliffLongsword",_$=d.weapon.data[$t],[Cb,f$]=m($t,"PressTheAdvantage"),g$=u(1,3),Ib=[-1,.12,.15,.18,.21,.24],w$=i(p(f$,$(g$,n=>w(n)),0),a(e.weapon.refinement,Ib)),jb=r($t,_$,{premod:{atk_:w$}}),Fb={document:[{value:f$,path:Cb,header:o($t,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(g$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:w$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Nb=new s($t,Fb,_$,jb),Te="CinnabarSpindle",k$=d.weapon.data[Te],[,Wb]=g("weapon",Te),Hb=[-1,.4,.5,.6,.7,.8],[Gb,v$]=m(Te,"SpotlessHeart"),Aa=c(e.weapon.key,Te,c("on",v$,i(a(e.weapon.refinement,Hb,{unit:"%"}),e.premod.def))),Kb=r(Te,k$,{premod:{skill_dmgInc:Aa}},{skill_dmgInc:Aa}),Lb={document:[{value:v$,path:Gb,header:o(Te,t("conditional")),name:Wb("name"),states:{on:{fields:[{node:Aa}]}}}]},qb=new s(Te,Lb,k$,Kb),pt="CoolSteel",y$=d.weapon.data[pt],zb=[-1,.12,.15,.18,.21,.24],[Vb,P$]=m(pt,"BaneOfWaterAndIce"),S$=c("on",P$,a(e.weapon.refinement,zb)),Ub=r(pt,y$,{premod:{all_dmg_:S$}}),Jb={document:[{value:P$,path:Vb,name:t("enemyAffected.hydroOrCryo"),header:o(pt,t("conditional")),states:{on:{fields:[{node:S$}]}}}]},Qb=new s(pt,Jb,y$,Ub),ht="DarkIronSword",b$=d.weapon.data[ht],Xb=[-1,.2,.25,.3,.35,.5],[Yb,O$]=m(ht,"Overloaded"),B$=c("on",O$,a(e.weapon.refinement,Xb,{unit:"%"})),Zb=r(ht,b$,{premod:{atk_:B$}}),e3={document:[{value:O$,path:Yb,name:t("elementalReaction.electro"),header:o(ht,t("conditional")),states:{on:{fields:[{node:B$},{text:l("duration"),value:12,unit:"s"}]}}}]},n3=new s(ht,e3,b$,Zb),To="DullBlade",Ro=d.weapon.data[To],t3=r(To,Ro),a3={...Ro,document:[]},o3=new s(To,a3,Ro,t3),oa="FavoniusSword",A$=d.weapon.data[oa],s3=r(oa,A$),c3={document:[{header:o(oa),fields:[]}]},d3=new s(oa,c3,A$,s3),sa="FesteringDesire",E$=d.weapon.data[sa],r3=[-1,.16,.2,.24,.28,.32],i3=[-1,.06,.075,.09,.105,.12],x$=a(e.weapon.refinement,r3,{unit:"%"}),M$=a(e.weapon.refinement,i3,{unit:"%"}),m3=r(sa,E$,{premod:{skill_dmg_:x$,skill_critRate_:M$}}),l3={document:[{header:o(sa,t("base")),fields:[{node:x$},{node:M$}]}]},$3=new s(sa,l3,E$,m3),ut="FilletBlade",D$=d.weapon.data[ut],p3=[-1,2.4,2.8,3.2,3.6,4],h3=[-1,15,14,13,12,11],T$=c(e.weapon.key,ut,y(i(a(e.weapon.refinement,p3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),u3=r(ut,D$,void 0,{dmg_:T$}),_3={document:[{header:o(ut,t("base")),fields:[{node:h(T$,{name:t("dmg")})},{text:l("cd"),value:n=>h3[n.get(e.weapon.refinement).value],unit:"s"}]}]},f3=new s(ut,_3,D$,u3),N="FinaleOfTheDeep",R$=d.weapon.data[N],[,g3]=g("weapon",N),w3=[-1,.12,.15,.18,.21,.24],k3=[-1,.024,.03,.036,.042,.048],v3=[-1,150,187.5,225,262.5,300],[y3,C$]=m(N,"afterSkill"),I$=c(C$,"on",a(e.weapon.refinement,w3)),P3=i(S(.25),e.total.hp),[S3,j$]=m(N,"bond"),Ea=c(e.weapon.key,N,c(j$,"on",ae(i(P3,a(e.weapon.refinement,k3,{unit:"%"})),a(e.weapon.refinement,v3,{unit:"%"})))),b3=r(N,R$,{premod:{atk_:I$,atk:Ea}},{bond_atk:Ea}),O3={document:[{header:o(N,t("conditional")),path:y3,value:C$,name:t("hitOp.skill"),states:{on:{fields:[{node:I$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(N,t("conditional")),path:S3,value:j$,name:g3("bondCondName"),states:{on:{fields:[{node:Ea},{text:l("duration"),value:15,unit:"s"}]}}}]},B3=new s(N,O3,R$,b3),He="FleuveCendreFerryman",F$=d.weapon.data[He],A3=[-1,.08,.1,.12,.14,.16],E3=[-1,.16,.2,.24,.28,.32],N$=a(e.weapon.refinement,A3),[x3,W$]=m(He,"afterSkill"),H$=c(W$,"on",a(e.weapon.refinement,E3)),M3=r(He,F$,{premod:{skill_critRate_:N$,enerRech_:H$}}),D3={document:[{header:o(He,t("base")),fields:[{node:N$}]},{header:o(He,t("conditional")),value:W$,path:x3,name:t("afterUse.skill"),states:{on:{fields:[{node:H$},{text:l("duration"),value:5,unit:"s"}]}}}]},T3=new s(He,D3,F$,M3),ee="FreedomSworn",Co=d.weapon.data[ee],[,R3]=g("weapon",ee),[C3,Io]=m(ee,"MillennialMovement"),I3=[-1,.16,.2,.24,.28,.32],j3=[-1,.2,.25,.3,.35,.4],G$=Co.refinementBonus.dmg_;if(!G$)throw new Error(`data_gen.refinementBonus.dmg_ for ${ee} was undefined`);const K$=a(e.weapon.refinement,G$),L$=c("on",Io,a(e.weapon.refinement,j3)),ca=c("on",Io,a(e.weapon.refinement,I3)),q$={...ca},z$={...ca},F3=r(ee,Co,{premod:{all_dmg_:K$},teamBuff:{premod:{atk_:L$,normal_dmg_:ca,charged_dmg_:q$,plunging_dmg_:z$}}}),N3={document:[{header:o(ee,t("base")),fields:[{node:K$}]},{value:Io,path:C3,teamBuff:!0,header:o(ee,t("conditional")),name:R3("sigilsConsumed"),states:{on:{fields:[{node:L$},{node:ca},{node:q$},{node:z$},{text:l("duration"),value:12,unit:"s"}]}}}]},W3=new s(ee,N3,Co,F3),be="HaranGeppakuFutsu",V$=d.weapon.data[be],[,H3]=g("weapon",be),G3=[-1,.12,.15,.18,.21,.24],K3=[-1,.2,.25,.3,.35,.4],[L3,U$]=m(be,"HonedFlow"),J$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,G3,f.info(`${n}_dmg_`))])),Q$=p(U$,$(u(1,2),n=>i(n,a(e.weapon.refinement,K3))),_),q3=r(be,V$,{premod:{...J$,normal_dmg_:Q$}}),z3={document:[{header:o(be,t("base")),fields:[...v.map(n=>({node:J$[`${n}_dmg_`]}))]},{value:U$,path:L3,name:H3("consumed"),header:o(be,t("conditional")),states:$(u(1,2),n=>({name:t("stack",{count:n}),fields:[{node:Q$}]}))}]},V3=new s(be,z3,V$,q3),_t="HarbingerOfDawn",X$=d.weapon.data[_t],[U3,Y$]=m(_t,"SkyPiercingMight"),J3=[-1,.14,.175,.21,.245,.28],Z$=c("on",Y$,a(e.weapon.refinement,J3)),Q3=r(_t,X$,{premod:{critRate_:Z$}}),X3={document:[{value:Y$,path:U3,header:o(_t,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:Z$}]}}}]},Y3=new s(_t,X3,X$,Q3),ft="IronSting",ep=d.weapon.data[ft],[Z3,np]=m(ft,"InfusionStinger"),tp=u(1,2),eO=[-1,.06,.075,.09,.105,.12],ap=i(p(np,$(tp,n=>w(n)),_),a(e.weapon.refinement,eO)),nO=r(ft,ep,{premod:{all_dmg_:ap}}),tO={document:[{value:np,path:Z3,header:o(ft,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(tp.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ap},{text:l("duration"),value:6,unit:"s"}]}]))}]},aO=new s(ft,tO,ep,nO),Oe="KagotsurubeIsshin",op=d.weapon.data[Oe],[oO,sp]=m(Oe,"passive"),cp=c(sp,"on",S(.15)),dp=c(e.weapon.key,Oe,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),sO=r(Oe,op,{premod:{atk_:cp}},{dmg:dp}),cO={document:[{header:o(Oe,t("base")),fields:[{node:h(dp,{name:t("dmg")})}]},{header:o(Oe,t("conditional")),value:sp,path:oO,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:cp},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},dO=new s(Oe,cO,op,sO),E="KeyOfKhajNisut",rp=d.weapon.data[E],rO=[-1,.0012,.0015,.0018,.0021,.0024],iO=[-1,.002,.0025,.003,.0035,.004],ip=b(1,3),mO=[-1,.2,.25,.3,.35,.4],mp=c(e.weapon.key,E,a(e.weapon.refinement,mO,{unit:"%"})),[lO,Mt]=m(E,"afterSkill"),xa=c(e.weapon.key,E,p(Mt,Object.fromEntries(ip.map(n=>[n,i(n,a(e.weapon.refinement,rO,{unit:"%",fixed:2}),e.total.hp)])),_)),Ma=c(e.weapon.key,E,c(Mt,"3",i(a(e.weapon.refinement,iO,{unit:"%",fixed:2}),e.total.hp))),$O=r(E,rp,{premod:{hp_:mp},total:{eleMas:xa},teamBuff:{total:{eleMas:Ma}}},{selfEleMas:xa,teamEleMas:Ma}),pO={document:[{header:o(E,t("base")),fields:[{node:mp}]},{header:o(E,t("stacks")),teamBuff:!0,path:lO,value:Mt,name:t("hitOp.skill"),states:Object.fromEntries(ip.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xa},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(E,t("teamBuff")),canShow:c(Mt,"3",1),teamBuff:!0,fields:[{node:Ma},{text:l("duration"),value:20,unit:"s"}]}]},hO=new s(E,pO,rp,$O),ne="LightOfFoliarIncision",lp=d.weapon.data[ne],uO=[-1,.04,.05,.06,.07,.08],$p=c(e.weapon.key,ne,a(e.weapon.refinement,uO)),[_O,pp]=m(ne,"afterNormalEle"),fO=[-1,1.2,1.5,1.8,2.1,2.4],Dt=c(e.weapon.key,ne,c(pp,"on",i(a(e.weapon.refinement,fO,{unit:"%"}),e.total.eleMas))),Da={...Dt},gO=r(ne,lp,{premod:{normal_dmgInc:Dt,skill_dmgInc:Da,critRate_:$p}},{normal_dmgInc:Dt,skill_dmgInc:Da}),wO={document:[{header:o(ne,t("base")),fields:[{node:$p}]},{header:o(ne,t("conditional")),path:_O,value:pp,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Dt},{node:Da},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},kO=new s(ne,wO,lp,gO),gt="LionsRoar",hp=d.weapon.data[gt],[vO,up]=m(gt,"BaneOfFireAndThunder"),yO=[-1,.2,.24,.28,.32,.36],_p=c("on",up,a(e.weapon.refinement,yO)),PO=r(gt,hp,{premod:{all_dmg_:_p}}),SO={document:[{value:up,path:vO,header:o(gt,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:_p}]}}}]},bO=new s(gt,SO,hp,PO),Be="MistsplitterReforged",fp=d.weapon.data[Be],[,OO]=g("weapon",Be),gp=["1","2","3"],BO=[-1,.12,.15,.18,.21,.24],AO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[EO,wp]=m(Be,"MistsplittersEmblem"),kp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,BO,f.info(`${n}_dmg_`))])),vp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,p(wp,$(gp,k=>a(e.weapon.refinement,AO[k])),_,f.info(`${n}_dmg_`)))])),xO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(kp[`${n}_dmg_`],vp[`${n}_dmg_`])])),MO=r(Be,fp,{premod:{...xO}}),DO={document:[{header:o(Be,t("base")),fields:v.map(n=>({node:kp[`${n}_dmg_`]}))},{value:wp,path:EO,name:OO("emblem"),teamBuff:!0,header:o(Be,t("stacks")),states:Object.fromEntries(gp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:vp[`${k}_dmg_`]}))}]))}]},TO=new s(Be,DO,fp,MO),wt="PrimordialJadeCutter",yp=d.weapon.data[wt],RO=[-1,.2,.25,.3,.35,.4],CO=[-1,.012,.015,.018,.021,.024],Pp=a(e.weapon.refinement,RO),Ta=c(e.weapon.key,wt,i(a(e.weapon.refinement,CO,{unit:"%"}),e.premod.hp)),IO=r(wt,yp,{premod:{hp_:Pp},total:{atk:Ta}},{atk:Ta}),jO={document:[{header:o(wt,t("base")),fields:[{node:Pp},{node:Ta}]}]},FO=new s(wt,jO,yp,IO),kt="PrototypeRancour",Sp=d.weapon.data[kt],[NO,jo]=m(kt,"stack"),bp=[-1,.04,.05,.06,.07,.08],Op=p(jo,$(u(1,4),n=>i(a(e.weapon.refinement,bp,{unit:"%"}),n)),_),Bp=p(jo,$(u(1,4),n=>i(a(e.weapon.refinement,bp,{unit:"%"}),n)),_),WO=r(kt,Sp,{premod:{atk_:Op,def_:Bp}}),HO={document:[{value:jo,path:NO,header:o(kt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(u(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Op},{node:Bp},{text:l("duration"),value:6,unit:"s"}]}]))}]},GO=new s(kt,HO,Sp,WO),vt="RoyalLongsword",Ap=d.weapon.data[vt],[KO,Ep]=m(vt,"stack"),LO=[-1,.08,.1,.12,.14,.16],xp=p(Ep,$(u(1,5),n=>i(a(e.weapon.refinement,LO,{unit:"%"}),n)),_),qO=r(vt,Ap,{premod:{critRate_:xp}}),zO={document:[{value:Ep,path:KO,header:o(vt,t("stacks")),name:t("stacks"),states:Object.fromEntries(u(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xp}]}]))}]},VO=new s(vt,zO,Ap,qO),da="SacrificialSword",Mp=d.weapon.data[da],UO=r(da,Mp),JO={document:[{header:o(da),fields:[]}]},QO=new s(da,JO,Mp,UO),hn="SapwoodBlade",Dp=d.weapon.data[hn],[,XO]=g("weapon",hn),[YO,Tp]=m(hn,"passive"),ZO=[-1,60,75,90,105,120],Rp=c(Tp,"on",a(e.weapon.refinement,ZO)),e6=c(e.activeCharKey,O.charKey,Rp),n6=r(hn,Dp,{teamBuff:{premod:{eleMas:e6}}}),t6={document:[{value:Tp,path:YO,teamBuff:!0,header:o(hn,t("conditional")),name:XO("condName"),states:{on:{fields:[{node:h(Rp,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},a6=new s(hn,t6,Dp,n6),Fo="SilverSword",No=d.weapon.data[Fo],o6=r(Fo,No),s6={...No,document:[]},c6=new s(Fo,s6,No,o6),yt="SkyriderSword",Cp=d.weapon.data[yt],[d6,Wo]=m(yt,"Determination"),Ip=[-1,.12,.15,.18,.21,.24],jp=c(Wo,"on",a(e.weapon.refinement,Ip,{unit:"%"})),Fp=c(Wo,"on",a(e.weapon.refinement,Ip,{unit:"%"})),r6=r(yt,Cp,{premod:{atk_:jp,moveSPD_:Fp}}),i6={document:[{value:Wo,path:d6,header:o(yt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:jp},{node:Fp},{text:l("duration"),value:15,unit:"s"}]}}}]},m6=new s(yt,i6,Cp,r6),te="SkywardBlade",Ho=d.weapon.data[te],[l6,ra]=m(te,"SkyPiercingMight"),$6=[-1,.2,.25,.3,.35,.4],Np=c("on",ra,S(.1)),Wp=c("on",ra,S(.1)),Hp=c(e.weapon.key,te,c("on",ra,y(i(a(e.weapon.refinement,$6,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Gp=Ho.refinementBonus.critRate_;if(!Gp)throw new Error(`data_gen.refinementBonus.critRate_ for ${te} was undefined`);const Kp=a(e.weapon.refinement,Gp),p6=r(te,Ho,{premod:{critRate_:Kp,moveSPD_:Np,atkSPD_:Wp}},{dmg:Hp}),h6={document:[{header:o(te,t("base")),fields:[{node:Kp}]},{value:ra,path:l6,header:o(te,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Np},{node:Wp},{node:h(Hp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},u6=new s(te,h6,Ho,p6),Ae="SplendorOfTranquilWaters",Lp=d.weapon.data[Ae],_6=[-1,.08,.1,.12,.14,.16],f6=[-1,.14,.175,.21,.245,.28],[g6,qp]=m(Ae,"selfHpChange"),zp=u(1,3),Vp=p(qp,$(zp,n=>i(n,a(e.weapon.refinement,_6,{unit:"%"}))),_),[w6,Up]=m(Ae,"teamHpChange"),Jp=u(1,2),Qp=p(Up,$(Jp,n=>i(n,a(e.weapon.refinement,f6,{unit:"%"}))),_),k6=r(Ae,Lp,{premod:{hp_:Qp,skill_dmg_:Vp}}),v6={document:[{value:qp,path:g6,header:o(Ae,t("stacks")),name:t("hpChange"),states:$(zp,n=>({name:t("times",{count:n}),fields:[{node:Vp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Up,path:w6,header:o(Ae,t("stacks")),name:t("otherHpChange"),states:$(Jp,n=>({name:t("times",{count:n}),fields:[{node:Qp},{text:l("duration"),value:6,unit:"s"}]}))}]},y6=new s(Ae,v6,Lp,k6),C="SummitShaper",Xp=d.weapon.data[C],[,P6]=g("weapon",C),[S6,Yp]=m(C,"GoldenMajesty"),[b6,Zp]=m(C,"WithShield"),O6=[-1,.2,.25,.3,.35,.4],B6=[-1,.04,.05,.06,.07,.08],eh=a(e.weapon.refinement,O6),A6=a(e.weapon.refinement,B6),nh=i(P(1,c(Zp,"protected",1)),p(Yp,Object.fromEntries(b(1,5).map(n=>[n,i(A6,n)])),_)),E6=r(C,Xp,{premod:{shield_:eh,atk_:nh}}),x6={document:[{header:o(C,t("base")),fields:[{node:eh}]},{value:Yp,path:S6,header:o(C,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries(b(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:nh},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Zp,path:b6,header:o(C,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:P6("atkEffInc"),value:100,unit:"%"}]}}}]},M6=new s(C,x6,Xp,E6),Pt="SwordOfDescension",th=d.weapon.data[Pt],ah=p(e.charKey,$(Lh,n=>w(66)),_),oh=c(e.weapon.key,Pt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),D6=r(Pt,th,{premod:{atk:ah}},{dmg_:oh}),T6={document:[{header:o(Pt,t("base")),fields:[{node:ah},{node:h(oh,{name:t("dmg")})}]}]},R6=new s(Pt,T6,th,D6),St="SwordOfNarzissenkreuz",sh=d.weapon.data[St],C6=[-1,1.6,2,2.4,2.8,3.2],ch=c(e.weapon.key,St,y(i(a(e.weapon.refinement,C6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),I6=r(St,sh,void 0,{dmg:ch}),j6={document:[{header:o(St,t("dmg")),fields:[{node:h(ch,{name:t("dmg")})}]}]},F6=new s(St,j6,sh,I6),un="TheAlleyFlash",dh=d.weapon.data[un],[,N6]=g("weapon",un),[W6,rh]=m(un,"ItinerantHero"),H6=[-1,.12,.15,.18,.21,.24],ih=c(rh,"on",a(e.weapon.refinement,H6,{unit:"%"})),G6=r(un,dh,{premod:{all_dmg_:ih}}),K6={document:[{value:rh,path:W6,header:o(un,t("conditional")),name:N6("condName"),states:{on:{fields:[{node:ih}]}}}]},L6=new s(un,K6,dh,G6),bt="TheBlackSword",mh=d.weapon.data[bt],lh=[-1,.2,.25,.3,.35,.4],q6=[-1,.6,.7,.8,.9,1],$h=a(e.weapon.refinement,lh),ph=a(e.weapon.refinement,lh),hh=c(e.weapon.key,bt,Ke(i(a(e.weapon.refinement,q6,{unit:"%"}),e.total.atk))),z6=r(bt,mh,{premod:{normal_dmg_:$h,charged_dmg_:ph}},{heal:hh}),V6={document:[{header:o(bt,t("base")),fields:[{node:$h},{node:ph},{node:h(hh,{name:l("healing"),variant:"heal"})}]}]},U6=new s(bt,V6,mh,z6),_n="TheDockhandsAssistant",uh=d.weapon.data[_n],[,J6]=g("weapon",_n),Q6=[-1,40,50,60,70,80],[X6,_h]=m(_n,"symbolsConsumed"),fh=u(1,3),gh=p(_h,$(fh,n=>i(n,a(e.weapon.refinement,Q6,{unit:"%"}))),_),Y6=r(_n,uh,{premod:{eleMas:gh}}),Z6={document:[{value:_h,path:X6,teamBuff:!0,header:o(_n,t("stacks")),name:J6("condName"),states:$(fh,n=>({name:`${n}`,fields:[{node:gh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},e8=new s(_n,Z6,uh,Y6),Ot="TheFlute",wh=d.weapon.data[Ot],kh=c(e.weapon.key,Ot,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),n8=r(Ot,wh,void 0,{dmg_:kh}),t8={document:[{header:o(Ot,t("base")),fields:[{node:h(kh,{name:t("dmg")})}]}]},a8=new s(Ot,t8,wh,n8),Re="ToukabouShigure",vh=d.weapon.data[Re],[,o8]=g("weapon",Re),[s8,yh]=m(Re,"passive"),c8=[-1,.16,.2,.24,.28,.32],Ph=c(e.weapon.key,Re,c(yh,"on",a(e.weapon.refinement,c8,{unit:"%"}))),d8=r(Re,vh,{premod:{all_dmg_:Ph}}),r8={document:[{value:yh,path:s8,header:o(Re,t("stacks")),name:o8("condName"),states:{on:{fields:[{node:Ph},{text:l("duration"),value:10,unit:"s"}]}}}]},i8=new s(Re,r8,vh,d8),Bt="TravelersHandySword",Sh=d.weapon.data[Bt],m8=[-1,.01,.0125,.015,.0175,.02],bh=c(e.weapon.key,Bt,Ke(i(a(e.weapon.refinement,m8,{unit:"%"}),e.total.hp))),l8=r(Bt,Sh,void 0,{heal:bh}),$8={document:[{header:o(Bt,t("base")),fields:[{node:h(bh,{name:l("healing"),variant:"heal"})}]}]},p8=new s(Bt,$8,Sh,l8),Ge="UrakuMisugiri",Oh=d.weapon.data[Ge],h8=[-1,.16,.2,.24,.28,.32],u8=[-1,.24,.3,.36,.42,.48],_8=[-1,.2,.25,.3,.35,.4],Go=a(e.weapon.refinement,h8),Ko=a(e.weapon.refinement,u8),[f8,Lo]=m(Ge,"teamGeo"),Bh=1,Ah=c(Lo,"on",i(S(Bh),Go)),Eh=c(Lo,"on",i(S(Bh),Ko)),xh=a(e.weapon.refinement,_8),g8=r(Ge,Oh,{premod:{normal_dmg_:P(Go,Ah),skill_dmg_:P(Ko,Eh),def_:xh}}),w8={document:[{header:o(Ge,t("base")),fields:[{node:xh},{node:h(Go,f.info("normal_dmg_"))},{node:h(Ko,f.info("skill_dmg_"))}]},{value:Lo,path:f8,header:o(Ge,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:h(Ah,f.info("normal_dmg_"))},{node:h(Eh,f.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},k8=new s(Ge,w8,Oh,g8),V="WolfFang",Mh=d.weapon.data[V],v8=[-1,.16,.2,.24,.28,.32],Dh=[-1,.02,.025,.03,.035,.04],Tt=u(1,4),qo=a(e.weapon.refinement,v8),Th={...qo},[y8,Rh]=m(V,"skillStacks"),Ch=i(a(e.weapon.refinement,Dh),p(Rh,$(Tt,n=>w(n)),_)),[P8,Ih]=m(V,"burstStacks"),jh=i(a(e.weapon.refinement,Dh),p(Ih,$(Tt,n=>w(n)),_)),S8=r(V,Mh,{premod:{skill_dmg_:qo,burst_dmg_:Th,skill_critRate_:Ch,burst_critRate_:jh}}),b8={document:[{header:o(V,t("base")),fields:[{node:qo},{node:Th}]},{header:o(V,t("conditional")),value:Rh,path:y8,name:t("hitOp.skill"),states:$(Tt,n=>({name:t("stack",{count:n}),fields:[{node:Ch},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(V,t("conditional")),value:Ih,path:P8,name:t("hitOp.burst"),states:$(Tt,n=>({name:t("stack",{count:n}),fields:[{node:jh},{text:l("duration"),value:10,unit:"s"}]}))}]},O8=new s(V,b8,Mh,S8),Ee="XiphosMoonlight",Fh=d.weapon.data[Ee],B8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Rt=c(e.weapon.key,Ee,i(a(e.weapon.refinement,B8,{unit:"%",fixed:3}),e.premod.eleMas)),zo=c(e.weapon.key,Ee,i(S(.3),Rt)),A8=W(e.charKey,O.charKey,zo),E8=r(Ee,Fh,{total:{enerRech_:Rt},teamBuff:{total:{enerRech_:A8}}},{selfEnerRech_:Rt,teamEnerRech_disp:zo}),x8={document:[{header:o(Ee,t("base")),fields:[{node:Rt}]},{header:o(Ee,t("teamBuff")),teamBuff:!0,fields:[{node:h(zo,{...f.info("enerRech_"),isTeamBuff:!0})}]}]},M8=new s(Ee,x8,Fh,E8),D8={AmenomaKageuchi:Eb,AquilaFavonia:Rb,BlackcliffLongsword:Nb,CinnabarSpindle:qb,CoolSteel:Qb,DarkIronSword:n3,DullBlade:o3,FavoniusSword:d3,FesteringDesire:$3,FilletBlade:f3,FinaleOfTheDeep:B3,FleuveCendreFerryman:T3,FreedomSworn:W3,HaranGeppakuFutsu:V3,HarbingerOfDawn:Y3,IronSting:aO,KagotsurubeIsshin:dO,KeyOfKhajNisut:hO,LightOfFoliarIncision:kO,LionsRoar:bO,MistsplitterReforged:TO,PrimordialJadeCutter:FO,PrototypeRancour:GO,RoyalLongsword:VO,SacrificialSword:QO,SapwoodBlade:a6,SilverSword:c6,SkyriderSword:m6,SkywardBlade:u6,SplendorOfTranquilWaters:y6,SummitShaper:M6,SwordOfDescension:R6,SwordOfNarzissenkreuz:F6,TheAlleyFlash:L6,TheBlackSword:U6,TheDockhandsAssistant:e8,TheFlute:a8,ToukabouShigure:i8,TravelersHandySword:p8,UrakuMisugiri:k8,WolfFang:O8,XiphosMoonlight:M8},Nh={...D8,...bS,...Ob,...Tf,...z2},T8=Object.fromEntries(qh.map(n=>[n,es(Object.values(Nh).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function j8(n){return Nh[n]}export{s as W,j8 as g};
