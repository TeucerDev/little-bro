import{al as e3,ak as a3,am as Of,ay as l3,r as Ip,ao as n3,ar as s3,j as Rk,an as o3,at as Ov,au as i3,c as c3,ae as r3,k as P,cg as d3,cI as m3,ci as u3,cJ as g3,cf as h3,ce as p3,ch as k3,cK as f3,cy as b3,cz as v3,cA as _3,cB as y3,cC as T3,cD as $3,cE as x3,cF as D3,cG as P3,cH as C3,bk as S3,bi as w3,bm as Po,bs as Vp,u as E1,y as Su,v as A3,T as K1,o as C,d4 as N1,cL as Fm,d5 as F1,d6 as B3,cm as Fc,f as I3,b5 as O1,d7 as Mk,a8 as j1,bE as R3,d8 as M3,b2 as Bm,aQ as Bs,bf as G1,cu as Tr,i as fr,aH as Ug,d9 as H3,bC as E3,bD as K3,W as N3,da as F3,db as Qu,dc as O3,bV as j3,co as _,bo as N,b0 as G3,ac as Rp,d as jf,cw as z3}from"./index-a860c133.js";import{c as jv,a as Gv,w as zv,C as yt,i as W3,I as L3}from"./ColoredText-0f1f7ce3.js";function U3(t){return a3("MuiCardActionArea",t)}const q3=e3("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Jp=q3,V3=["children","className","focusVisibleClassName"],J3=t=>{const{classes:l}=t;return i3({root:["root"],focusHighlight:["focusHighlight"]},U3,l)},Q3=Of(l3,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,l)=>l.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Jp.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Jp.focusVisible} .${Jp.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),X3=Of("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,l)=>l.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),Y3=Ip.forwardRef(function(l,r){const u=n3({props:l,name:"MuiCardActionArea"}),{children:v,className:g,focusVisibleClassName:b}=u,k=s3(u,V3),T=u,x=J3(T);return Rk.jsxs(Q3,o3({className:Ov(x.root,g),focusVisibleClassName:Ov(b,x.focusVisible),ref:r,ownerState:T},k,{children:[v,Rk.jsx(X3,{className:x.focusHighlight,ownerState:T})]}))}),Gj=Y3,zj=c3(Rk.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter");function Z3(t,l,r="F"){switch(l){case"icon":case"iconSide":return jv[r3(t,r)][l]??"";default:return jv[t][l]??""}}function Wj(t,l){return t==="PrayersForDestiny"||t==="PrayersForIllumination"||t==="PrayersForWisdom"||t==="PrayersToSpringtime"?Gv[t].circlet:Gv[t][l]??""}function Lj(t,l=!0){return zv[t][l?"awakenIcon":"icon"]??zv[t].icon??""}function tA({statKey:t,iconProps:l={}}){switch(t){case"hp":case"hp_":case"base_hp":return P(w3,{...l});case"atk":case"atk_":case"base_atk":return P(S3,{...l});case"def":case"def_":case"base_def":return P(C3,{...l});case"eleMas":return P(P3,{...l});case"critRate_":return P(D3,{...l});case"critDMG_":return P(x3,{...l});case"enerRech_":return P($3,{...l});case"incHeal_":return P(T3,{...l});case"heal_":return P(y3,{...l});case"cdRed_":return P(_3,{...l});case"shield_":return P(v3,{...l});case"stamina":return P(b3,{...l})}const r=t.split("_")[0];return Po.includes(r)?P(eA,{ele:r,iconProps:l}):null}function eA({ele:t,iconProps:l={}}){switch(t){case"anemo":return P(f3,{...l});case"cryo":return P(k3,{...l});case"dendro":return P(p3,{...l});case"electro":return P(h3,{...l});case"geo":return P(g3,{...l});case"hydro":return P(u3,{...l});case"physical":return P(m3,{...l});case"pyro":return P(d3,{...l})}}class y{constructor(){if(this instanceof y)throw Error("A static class cannot be instantiated.")}static info(l){const r={};r.name=Vp.get(l),r.unit=Vp.unit(l);const u=Vp.getVariant(l);return r.variant=u,r.icon=P(tA,{statKey:l,iconProps:{fontSize:"inherit",color:u}}),r}}const aA=Of("span",{name:"SqBadge",slot:"Root"})(({theme:t,color:l="primary"})=>{var r,u;return{display:"inline-block",padding:".25em .4em",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:(r=t.palette[l])==null?void 0:r.main,color:(u=t.palette[l])==null?void 0:u.contrastText}}),Mn=aA,qg={anemo:P(yt,{color:"anemo"}),geo:P(yt,{color:"geo"}),cryo:P(yt,{color:"cryo"}),hydro:P(yt,{color:"hydro"}),pyro:P(yt,{color:"pyro"}),electro:P(yt,{color:"electro"}),dendro:P(yt,{color:"dendro"}),heal:P(yt,{color:"heal"}),vaporize:P(yt,{color:"vaporize"}),spread:P(yt,{color:"spread"}),aggravate:P(yt,{color:"aggravate"}),overloaded:P(yt,{color:"overloaded"}),superconduct:P(yt,{color:"superconduct"}),electrocharged:P(yt,{color:"electrocharged"}),shattered:P(yt,{color:"shattered"}),bloom:P(yt,{color:"bloom"}),burgeon:P(yt,{color:"burgeon"}),hyperbloom:P(yt,{color:"hyperbloom"})},Vg={anemo:P(Mn,{color:"anemo"}),geo:P(Mn,{color:"geo"}),cryo:P(Mn,{color:"cryo"}),hydro:P(Mn,{color:"hydro"}),pyro:P(Mn,{color:"pyro"}),electro:P(Mn,{color:"electro"}),dendro:P(Mn,{color:"dendro"}),heal:P(Mn,{color:"heal"}),vaporize:P(Mn,{color:"vaporize"}),spread:P(Mn,{color:"spread"}),aggravate:P(Mn,{color:"aggravate"}),overloaded:P(Mn,{color:"overloaded"}),superconduct:P(Mn,{color:"superconduct"}),electrocharged:P(Mn,{color:"electrocharged"}),shattered:P(Mn,{color:"shattered"}),bloom:P(Mn,{color:"bloom"}),burgeon:P(Mn,{color:"burgeon"}),hyperbloom:P(Mn,{color:"hyperbloom"})};function Oc({ns:t,key18:l,values:r,children:u,useBadge:v}){const{t:g}=E1(t),b=`${t}:${l}`,k=r?g(b,r,{returnObjects:!0}):g(b,{returnObjects:!0});return typeof k=="string"?P("span",{children:u?P(Su,{i18nKey:b,t:g,components:v?Vg:qg,values:r,children:u}):r?P(Su,{i18nKey:b,t:g,values:r}):P(Su,{i18nKey:b,t:g,components:v?Vg:qg})}):P(Ip.Suspense,{fallback:P(A3,{children:u}),children:P(Hk,{key18:b,obj:k,t:g,values:r,useBadge:v})})}function Wv({children:t}){return P(K1,{gutterBottom:!0,children:t})}function Hk({key18:t,obj:l,li:r,t:u,values:v,useBadge:g}){return typeof l=="string"?P(Su,{i18nKey:t,components:g?Vg:qg,parent:Wv,t:u,values:v}):Array.isArray(l)?P(K1,{component:"div",children:P("ul",{children:P(Hk,{key18:t,obj:{...l},li:!0,t:u,values:v,useBadge:g})})}):Object.entries(l).map(([b,k])=>{if(k==="<br/>")return null;if(typeof k=="object")return P(Hk,{key18:`${t}.${b}`,obj:k,t:u,values:v,useBadge:g},b);if(typeof k=="string"){const T=P(Su,{i18nKey:`${t}.${b}`,components:g?Vg:qg,parent:Wv,t:u,values:v},b);return r?P("li",{children:T},b):T}return null})}function lA(t){return P(Oc,{ns:"artifactNames_gen",key18:t})}const St=c(1),O=c(0),Uj=p(0),Ek=p("none");function p(t,l){return typeof t=="number"?{operation:"const",operands:[],type:"number",value:t,info:l}:{operation:"const",operands:[],type:"string",value:t,info:l}}function c(t,l){return t>=Number.MAX_VALUE/100&&(t=1/0),t<=-Number.MAX_VALUE/100&&(t=-1/0),p(t,{unit:"%",...l})}function e(t,l){return l&&(t.info={...t.info,...l}),t}function w(t,l,r,u){return{operation:"lookup",operands:r!=="none"?[ga(t),ga(r)]:[ga(t)],table:l,info:u}}function yl(...t){return{operation:"min",operands:Ed(t)}}function Wm(...t){return{operation:"max",operands:Ed(t)}}function D(...t){return{operation:"add",operands:Ed(t)}}function m(...t){return{operation:"mul",operands:Ed(t)}}function Om(t,l){return{operation:"sum_frac",operands:Ed([t,l])}}function nA(t){return{operation:"res",operands:Ed([t])}}function Co(t,l,r,u,v){return{operation:"match",operands:[ga(t),ga(l),ga(r),ga(u)],info:v}}function i(t,l,r,u){return{operation:"match",operands:[ga(t),ga(l),Kd(r,u),ga(0)],emptyOn:"unmatch"}}function rn(t,l,r,u){return{operation:"match",operands:[ga(t),ga(l),Kd(r,u),ga(void 0)],emptyOn:"unmatch"}}function z(t,l,r,u){return{operation:"match",operands:[ga(t),ga(l),ga(0),Kd(r,u)],emptyOn:"match"}}function sA(t,l,r,u){return{operation:"match",operands:[ga(t),ga(l),ga(void 0),Kd(r,u)],emptyOn:"match"}}function n(t,l,r,u){return{operation:"threshold",operands:[ga(t),ga(l),Kd(r,u),ga(0)],emptyOn:"l"}}function Sr(t,l,r,u){return{operation:"threshold",operands:[ga(t),ga(l),Kd(r,u),ga(void 0)],emptyOn:"l"}}function oA(t,l,r,u){return{operation:"threshold",operands:[ga(t),ga(l),ga(0),Kd(r,u)],emptyOn:"ge"}}function br(t,l,r,u,v){return{operation:"threshold",operands:[ga(t),ga(l),ga(r),ga(u)],info:v}}function ju(t,l=[]){if(t.operation){if(t.operation!=="read")throw new Error(`Found ${t.operation} node while making reader`);return{...t,path:l}}else return C(Object.keys(t),r=>ju(t[r],[...l,r]))}function jm(t,l){return{operation:"data",operands:[t],data:l}}function Lv(t,l,r){return{operation:"data",operands:[t],data:l,reset:!0,info:r}}function qj(t,l="add",r){return{operation:"read",operands:[],path:["dyn",t],accu:l,type:"number",info:r}}function iA(t,l){return{operation:"read",operands:[],path:t,info:l,type:"number"}}function cA(t){return{operation:"read",operands:[],path:t,type:"string"}}function ba(t,l){return{operation:"read",operands:[],path:[],accu:t,info:l,type:"number"}}function ls(t){return{operation:"read",operands:[],path:[],accu:t,type:"string"}}function z1(...t){return{operation:"prio",operands:Ed(t)}}function $(t,l,r){return{operation:"subscript",operands:[t],list:l,info:r}}function Ed(t){return t.map(l=>typeof l=="object"?l:p(l))}function ga(t){return typeof t!="object"?p(t):t}function Kd(t,l){return l?typeof t!="object"?p(t,l):e({...t},l):ga(t)}function Gu(t){const l=new Map;function r(u){if(typeof u!="object")return u;const v=l.get(u);if(v)return v;const g=Array.isArray(u)?u.map(b=>r(b)):Object.fromEntries(Object.entries(u).map(([b,k])=>[b,b==="info"?k:r(k)]));return l.set(u,g),g}return r(t)}function W1(t,l,r){const u=new Set,v=new Set;function g(b){if(!v.has(b)){if(u.has(b)){console.error("Found cyclical dependency during formula traversal");return}u.add(b),l(b),b.operands.forEach(g),r(b),u.delete(b),v.add(b)}}t.forEach(g)}function L1(t,l,r){const u=new Set,v=new Map,g=new Map;function b(x){let f=v.get(x);if(f)return f;f=l(x);let H=g.get(f);return H||(u.has(f)?(console.error("Found cyclical dependency during formula mapping"),p(NaN)):(u.add(f),H=r(k(f),x),u.delete(f),v.set(x,H),g.set(f,H),H))}function k(x){const f=x.operands.map(b);return Uv(f,x.operands)?x:{...x,operands:f}}const T=t.map(b);return Uv(T,t)?t:T}function rA(t,l,r){const u=new Map;function v(g,b){let k=u.get(b);k||u.set(b,k=[new Set,new Map]);const[T,x]=k,f=x.get(g);if(f)return f;if(T.has(g))throw new Error("Found cyclical dependency during formula mapping");T.add(g);const H=r(g,b,v);return x.set(g,H),T.delete(g),H}return t.map(g=>v(g,l))}function Uv(t,l){return t===void 0?l===void 0:l===void 0?!1:t.length===l.length&&t.every((r,u)=>r===l[u])}const qv=!0,Qi=!0,mi=Po,Im=["auto","skill","burst"],wm=["normal","charged","plunging_collision","plunging_impact","skill","burst","elemental"],U1=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","physical_dmg_","anemo_dmg_","geo_dmg_","dendro_dmg_","heal_"],q1=["overloaded","shattered","electrocharged","superconduct","swirl","burning","bloom","burgeon","hyperbloom"],V1=["vaporize","melt"],J1=["spread","aggravate"],dA=["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_","dmgRed_","healInc"],mA=["base_atk","base_hp","base_def"],Mu=[...U1,...["all",...q1,...V1,...J1,...wm,"plunging","normalEle"].map(t=>`${t}_dmg_`)],Jg=[...mi.flatMap(t=>[`${t}_dmgInc`,`${t}_critDMG_`,`${t}_res_`]),...Im.map(t=>`${t}Boost`),...[...wm,"plunging"].flatMap(t=>[`${t}_dmgInc`,`${t}_critDMG_`,`${t}_critRate_`]),...N1.flatMap(t=>[`${t}_critRate_`,`${t}_critDMG_`]),"all_dmgInc",...B3,"enemyDefRed_","enemyDefIgn_",...dA,...mA],Vj=[...Mu,...Jg],Vv=C(Im,t=>ba()),fd=C(Mu,t=>ba(void 0,y.info(t))),ui=C(Jg,t=>ba(void 0,y.info(t)));for(const t of mi)ui[`${t}_res_`].info.variant=t,ui[`${t}_enemyRes_`].info.variant=t,ui[`${t}_critDMG_`].info.variant=t,ui[`${t}_dmgInc`].info.variant=t,fd[`${t}_dmg_`].info.variant=t;for(const t of[...q1,...V1,...J1])fd[`${t}_dmg_`].info.variant=t;N1.forEach(t=>{ui[`${t}_critRate_`].info.variant=t,ui[`${t}_critDMG_`].info.variant=t});ui.healInc.info.variant="heal";ui.incHeal_.info.variant="heal";fd.heal_.info.variant="heal";function Xu(t,l){return l=Gu(l),Fc(l,[],r=>r.operation,r=>r.info={...t,...r.info}),l}function uA(t,l){Fc(l,[],r=>r.operation,r=>{r.operation==="read"&&r.type==="number"&&(r.accu=t)})}const gA={activeCharKey:ls(),charKey:ls(),charEle:ls(),weaponType:ls(),lvl:ba(void 0,{...y.info("level"),prefix:"char"}),constellation:ba(),asc:ba(),special:ba(),infusion:{overridableSelf:ls("small"),nonOverridableSelf:ls("small"),team:ls("small")},base:C(["atk","hp","def"],t=>ba("add",y.info(t))),customBonus:Xu({prefix:"custom",pivot:Qi},{...fd,...ui}),premod:{...Vv,...fd,...ui},total:Xu({prefix:"total",pivot:Qi},{...Vv,...Fm(Im,t=>[`${t}Index`,ba()]),...fd,...ui,cappedCritRate:ba(void 0,y.info("critRate_"))}),art:Xu({prefix:"art",asConst:qv},{...C(U1,t=>fd[t]),...C(I3,t=>({id:ls(),set:ls()}))}),artSet:C(O1,t=>ba("add",{name:lA(t)})),weapon:Xu({prefix:"weapon",asConst:qv},{id:ls(),key:ls(),type:ls(),lvl:ba(),asc:ba(),refinement:ba(),main:ba(),sub:ba(),sub2:ba()}),enemy:{def:ba("add",{...y.info("enemyDef_multi_"),pivot:Qi}),transDef:ba("add",{...y.info("enemyDef_multi_"),pivot:Qi}),...C(mi.map(t=>`${t}_resMulti_`),t=>ba()),level:ba(void 0,y.info("enemyLevel")),...Fm(mi,t=>[`${t}_res_`,ba(void 0,{prefix:"base",...y.info(`${t}_enemyRes_`)})]),defRed:ba(void 0),defIgn:ba("add",{...y.info("enemyDefIgn_"),pivot:Qi})},hit:{reaction:ls(),ele:ls(),move:ls(),hitMode:ls(),base:ba("add",y.info("base")),ampMulti:ba(),addTerm:ba(void 0,{pivot:Qi}),dmgBonus:ba("add",{...y.info("dmg_"),pivot:Qi}),dmgInc:ba("add",y.info("dmgInc")),dmg:ba()}},a=ju(Gu(gA)),{base:Q1,customBonus:Gg,premod:Fs,total:ll,art:X1,hit:un,enemy:dc}=a;uA("add",{customBonus:Gg,premod:Fs,art:X1,total:C(Mu,t=>ll[t])});Q1.atk.info={...y.info("atk"),prefix:"base",pivot:Qi};delete ll.critRate_.info.pivot;ll.critRate_.info.prefix="uncapped";const Yu=e(D(St,m(25/9,Om(ll.eleMas,1400))),{...y.info("base_amplifying_multi_"),pivot:Qi}),Jv=D(St,m(5,Om(ll.eleMas,1200))),Jj={base:C(["atk","def","hp"],t=>a.customBonus[`base_${t}`]),premod:{...C(Im,t=>Fs[`${t}Boost`]),...C(Jg,t=>{const l=[];t.endsWith("_enemyRes_")&&l.push(dc[t.replace(/_enemyRes_$/,"_res_")]);const r=[...l,Gg[t]].filter(u=>u);return r.length===1?r[0]:D(...r)}),...C(Mu,t=>{const l=[],r=y.info(t);switch(t){case"atk":case"def":case"hp":l.push(m(Q1[t],D(St,Fs[`${t}_`])));break;case"critRate_":l.push(c(.05,{...r,prefix:"default"}),w(un.move,C(wm,v=>v.includes("plunging")?D(Fs[`${v}_critRate_`],Fs.plunging_critRate_):Fs[`${v}_critRate_`]),0));break;case"critDMG_":l.push(c(.5,{...r,prefix:"default"}),w(un.ele,C(mi,v=>Fs[`${v}_critDMG_`]),0),w(un.move,C(wm,v=>v.includes("plunging")?D(Fs[`${v}_critDMG_`],Fs.plunging_critDMG_):Fs[`${v}_critDMG_`]),0));break;case"enerRech_":l.push(c(1,{...r,prefix:"default"}));break}const u=[...l,X1[t],Gg[t]].filter(v=>v);return u.length===1?u[0]:D(...u)})},total:{...C(Im,t=>Fs[t]),...C(Mu,t=>Fs[t]),...C(Jg,t=>Fs[t]),...Fm(Im,t=>[`${t}Index`,D(ll[t],-1)]),stamina:D(p(100,{...y.info("stamina"),prefix:"default"}),Gg.stamina),cappedCritRate:Wm(yl(ll.critRate_,St),O)},hit:{dmgBonus:D(ll.all_dmg_,w(un.move,C(wm,t=>t.includes("plunging")?D(ll[`${t}_dmg_`],ll.plunging_dmg_):ll[`${t}_dmg_`]),O),w(un.ele,C(mi,t=>ll[`${t}_dmg_`]),O),i(un.move,"normal",z(un.ele,"physical",ll.normalEle_dmg_))),dmgInc:D(e(D(ll.all_dmgInc,w(un.ele,C(mi,t=>ll[`${t}_dmgInc`]),NaN),w(un.move,C(wm,t=>t.includes("plunging")?D(ll[`${t}_dmgInc`],ll.plunging_dmgInc):ll[`${t}_dmgInc`]),NaN)),{...y.info("dmgInc"),pivot:Qi}),un.addTerm),addTerm:w(un.reaction,{spread:i(un.ele,"dendro",m($(a.lvl,Mk),1.25,D(Jv,ll.spread_dmg_)),y.info("spread_dmgInc")),aggravate:i(un.ele,"electro",m($(a.lvl,Mk),1.15,D(Jv,ll.aggravate_dmg_)),y.info("aggravate_dmgInc"))},O),dmg:m(D(un.base,un.dmgInc),D(St,un.dmgBonus),w(un.hitMode,{hit:St,critHit:D(St,ll.critDMG_),avgHit:D(St,m(ll.cappedCritRate,ll.critDMG_))},NaN),dc.def,w(un.ele,C(mi,t=>dc[`${t}_resMulti_`]),NaN),un.ampMulti),ampMulti:w(un.reaction,{vaporize:w(un.ele,{hydro:m(p(2,y.info("vaporize_multi_")),D(Yu,ll.vaporize_dmg_)),pyro:m(p(1.5,y.info("vaporize_multi_")),D(Yu,ll.vaporize_dmg_))},St),melt:w(un.ele,{pyro:m(p(2,y.info("melt_multi_")),D(Yu,ll.melt_dmg_)),cryo:m(p(1.5,y.info("melt_multi_")),D(Yu,ll.melt_dmg_))},St)},St)},enemy:{def:Om(D(a.lvl,100),m(D(dc.level,100),D(St,m(-1,dc.defRed)),D(St,m(-1,dc.defIgn)))),transDef:Om(99999999,m(D(m(5,dc.level),500),D(St,m(-1,dc.defRed)),D(St,m(-1,dc.defIgn)))),defRed:ll.enemyDefRed_,...Fm(mi,t=>[`${t}_resMulti_`,nA(ll[`${t}_enemyRes_`])])}},G=ju(Gu(a),["target"]),Qv=ju({...C([...mi,...F1],t=>ba("add")),maxEleMas:ba("max")},["tally"]),dn={...Qv,ele:D(...mi.map(t=>yl(Qv[t],1)))},hA=a,Do=z1(a.infusion.nonOverridableSelf,sA(a.infusion.team,Ek,a.infusion.team),a.infusion.overridableSelf),d=(t,l)=>P(Oc,{ns:"sheet",key18:t,values:l}),s=t=>P(Oc,{ns:"sheet_gen",key18:t}),Gf=t=>cA(["conditional",...t]);function h(t,l){const r=[t,l],u=Gf(r);return[r,u]}function Nd(t,l){const r=t==="char"&&l==="Somnia"||t==="weapon"&&l==="QuantumCatalyst";return[u=>P(Oc,{ns:r?`${t}_${l}`:`${t}_${l}_gen`,key18:u}),(u,v)=>P(Oc,{ns:`${t}_${l}`,key18:u,values:v})]}function zf(t,l){return P(pA,{cKey:t,chg:l})}function pA({cKey:t,chg:l}){const{silly:r}=Ip.useContext(j1),{i18n:u}=E1("sillyWisher_charNames");return r&&u.exists(`sillyWisher_charNames:${t}`)?P(Oc,{ns:"sillyWisher_charNames",key18:t}):l("name")}function kA(t,l,r){return[e(l,{...r,isTeamBuff:!0}),i(a.activeCharKey,t,l)]}class R{constructor(l,r){this.isMelee=()=>{const u=this.sheet.weaponTypeKey;return u==="sword"||u==="polearm"||u==="claymore"},this.getTalentOfKey=u=>this.talent[u],this.sheet=l,this.data=r}get name(){return this.sheet.name}get rarity(){return this.sheet.rarity}get elementKey(){return this.sheet.elementKey}get weaponTypeKey(){return this.sheet.weaponTypeKey}get constellationName(){return this.sheet.constellationName}get isTraveler(){return"talents"in this.sheet}get talent(){return this.sheet.talent}}R.get=()=>null;R.getLevelString=(t,l)=>`${t}/${R3[l]}`;const Y1=["TravelerAnemoF","TravelerGeoF","TravelerElectroF","TravelerDendroF","TravelerHydroF"],Z1=["TravelerAnemoM","TravelerGeoM","TravelerElectroM","TravelerDendroM","TravelerHydroM"],fA=[...M3,...Y1,...Z1],il=["hydro","pyro","cryo","electro"],Qj={pyro:["vaporize","melt"],hydro:["vaporize"],cryo:["melt"],anemo:["vaporize","melt"]},Xj={dendro:["spread"],electro:["aggravate"],anemo:["aggravate"]},Xv={passive1:n(a.asc,1,1),passive2:n(a.asc,4,1),constellation1:n(a.constellation,1,1),constellation2:n(a.constellation,2,1),constellation3:n(a.constellation,3,1),constellation4:n(a.constellation,4,1),constellation5:n(a.constellation,5,1),constellation6:n(a.constellation,6,1)},A=(t,l)=>{const[r,u]=Nd("char",t),v=g=>g==="auto"?W3.weaponTypes[l]:Z3(vA(t),g,"F");return{chg:r,ch:u,talentTem:(g,b)=>bA(g,r,v(g),b),headerTem:(g,b)=>_A(g,r,v(g),b),fieldsTem:(g,b)=>yA(g,b),condTem:(g,b)=>TA(g,b,r,v(g)),name:zf(t,r)}},bA=(t,l,r,u)=>({name:l(`${t}.name`),img:r,sections:[...t!=="auto"?[{text:l(`${t}.description`)}]:[],...u||[]]}),t2=(t,l,r)=>({title:l(`${t}.name`),icon:P(L3,{size:2,src:r}),action:P(Mn,{color:"success",children:d(`talents.${t}`)}),description:l(`${t}.description`)});function vA(t){return Y1.includes(t)||Z1.includes(t)?t.slice(0,-1):t}const _A=(t,l,r,u)=>({...u,header:t2(t,l,r),canShow:Wf(t,u.canShow)}),yA=(t,l)=>({...l,canShow:Wf(t,l.canShow)}),TA=(t,l,r,u)=>({...l,header:{...t2(t,r,u),...l.header},canShow:Wf(t,l.canShow)});function Wf(t,l){if(!Xv[t])return l;let r,u;return["passive1","passive2"].includes(t)?(r=a.asc,u=+t.slice(-1)==1?1:4):(r=a.constellation,u=+t.slice(-1)),l?n(r,u,l||1):Xv[t]}const e2={min:t=>Math.min(...t),max:t=>Math.max(...t),add:t=>t.reduce((l,r)=>l+r,0),mul:t=>t.reduce((l,r)=>l*r,1)},wu={...e2,res:([t])=>t<0?1-t/2:t>=.75?1/(t*4+1):1-t,sum_frac:t=>t[0]/t.reduce((l,r)=>l+r),threshold:([t,l,r,u])=>t>=l?r:u},$A=new Set(Object.keys(e2));function Yj(t,l,r=u=>!1){let u=Yv(t,l,r);return u=xA(u),u=Yv(u,{}),DA(u)}function Zj(t,l,r,u){let v=`
"use strict";
function res(res) {
  if (res < 0) return 1 - res / 2
  else if (res >= 0.75) return 1 / (res * 4 + 1)
  return 1 - res
}
const x0=0`,g=1;const b=new Map;return W1(t,k=>{},k=>{const{operation:T,operands:x}=k,f=`x${g++}`,H=x.map(M=>b.get(M));switch(b.set(k,f),T){case"read":{const M=r(k);let S=u?new Array(u).fill(null).map((I,K)=>`(b[${K}].values["${M}"] ?? 0)`):["0"];l[M]&&l[M]!==0&&(S=[l[M].toString(),...S]),v+=`,${f}=${S.join("+")}
`;break}case"const":b.set(k,`(${k.value})`);break;case"add":case"mul":v+=`,${f}=${H.join(T==="add"?"+":"*")}
`;break;case"min":case"max":v+=`,${f}=Math.${T}(${H})
`;break;case"threshold":{const[M,S,I,K]=H;v+=`,${f}=(${M}>=${S})?${I}:${K}
`;break}case"res":v+=`,${f}=res(${H[0]})
`;break;case"sum_frac":v+=`,${f}=${H[0]}/(${H[0]}+${H[1]})
`;break;default:Bm(T)}}),v+=`;
return [${t.map(k=>b.get(k))}]`,new Function("b",v)}function xA(t){return L1(t,l=>l,l=>{let r=l;if($A.has(l.operation)){const u=l,{operation:v}=u;let g=!1;const b=u.operands.flatMap(k=>k.operation===v?(g=!0,k.operands):[k]);r=g?{...u,operands:b}:u}return r})}function Qp(t,l,r){if(t.length!==l.length)return t.length-l.length;for(let u=0;u<t.length;u++){const v=r(t[u],l[u]);if(v!==0)return v}return 0}function DA(t){const l=new Map,r=[[]];W1(t,k=>{},k=>{switch(k.operation){case"const":case"read":r[0].push(k),l.set(k,0);break;default:{const T=Math.max(...k.operands.map(x=>l.get(x)))+1;r.length<=T&&r.push([]),r[T].push(k),l.set(k,T);break}}});function u(k,T){const x=l.get(k),f=l.get(T);if(x!==f)return x-f;const H=k.operation,M=T.operation;if(H!==M)return H.localeCompare(M);switch(H){case"const":if(H!==M)throw Error("ily jslint");return k.value-T.value;case"read":if(H!==M)throw Error("ily jslint");return Qp(k.path,T.path,(S,I)=>S.localeCompare(I));case"res":case"threshold":case"sum_frac":{if(H!==M)throw Error("ily jslint");const S=k.operands.map(K=>g.get(K)),I=T.operands.map(K=>g.get(K));return Qp(S,I,(K,At)=>K-At)}case"add":case"mul":case"min":case"max":{if(H!==M)throw Error("ily jslint");const S=k.operands.map(K=>g.get(K)),I=T.operands.map(K=>g.get(K));return S.sort((K,At)=>K-At),I.sort((K,At)=>K-At),Qp(S,I,(K,At)=>K-At)}}}let v=0;const g=new Map,b=[];return r.forEach(k=>{k.sort(u),b.push(k[0]),g.set(k[0],v++);for(let T=1;T<k.length;T++)u(k[T-1],k[T])===0?g.set(k[T],g.get(k[T-1])):(b.push(k[T]),g.set(k[T],v++))}),b.forEach((k,T)=>{switch(k.operation){case"add":case"mul":case"min":case"max":b[T]={...k,operands:[...k.operands].sort((x,f)=>g.get(x)-g.get(f))}}}),L1(t,k=>b[g.get(k)],k=>k)}function Yv(t,l,r=u=>!1){const u={data:[],processed:new Map},v=new Map([[u,new Map]]),g={data:[l],processed:new Map};return v.set(g,new Map),v.get(u).set(l,g),rA(t,g,(b,k,T)=>{const{operation:x}=b,f=(S,I)=>T(S,I),H=(S,I)=>T(S,I);let M;switch(x){case"const":M=b;break;case"add":case"mul":case"max":case"min":{const S=wu[x],I=[],K=b.operands.filter(rl=>{const en=f(rl,k);return en.operation==="const"?(I.push(en.value),!1):!0}).map(rl=>f(rl,k)),At=S(I);if(isFinite(At)){if(x==="mul"&&At===0){M=p(At);break}}else if(x!=="mul"&&(x!=="max"||At>0)&&(x!=="min"||At<0)){M=p(At);break}At!==S([])&&K.push(p(At)),K.length<=1?M=K[0]??p(S([])):M={operation:x,operands:K};break}case"res":case"sum_frac":{const S=b.operands.map(K=>f(K,k)),I=wu[x];S.every(K=>K.operation==="const")?M=p(I(S.map(K=>K.value))):M={...b,operands:S};break}case"lookup":{const S=H(b.operands[0],k);if(S.operation==="const"){const I=b.table[S.value]??b.operands[1];if(I){M=T(I,k);break}}throw new Error(`Unsupported ${x} node while folding`)}case"prio":{const S=b.operands.find(I=>{const K=H(I,k);if(K.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);return K.value!==void 0});M=S?H(S,k):p(void 0);break}case"small":{let S;for(const I of b.operands){const K=H(I,k);if(K.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);((S==null?void 0:S.value)===void 0||K.value!==void 0&&K.value<S.value)&&(S=K)}M=S??p(void 0);break}case"match":{const[S,I,K,At]=b.operands.map(rl=>T(rl,k));if(S.operation!=="const"||I.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);M=S.value===I.value?K:At;break}case"threshold":{const[S,I,K,At]=b.operands.map(rl=>T(rl,k));K.operation==="const"&&At.operation==="const"&&K.value===At.value?M=K:S.operation==="const"&&I.operation==="const"?M=S.value>=I.value?K:At:M={...b,operands:[S,I,K,At]};break}case"subscript":{const S=f(b.operands[0],k);if(S.operation!=="const")throw new Error("Found non-constant subscript node while folding");M=p(b.list[S.value]);break}case"read":{const S=k.data.map(I=>Bs(I,b.path)).filter(I=>I);if(S.length===0)if(r(b)){const{accu:I}=b;I===void 0||I==="small"?M=b.type==="string"?p(void 0):p(NaN):M=p(wu[I]([]))}else M=b;else b.accu===void 0||S.length===1?M=T(S[S.length-1],k):M=T({operation:b.accu,operands:S},k);break}case"data":{b.reset&&(k=u);const S=v.get(k);let I=S.get(b.data);I||(I={data:[...k.data,b.data],processed:new Map},v.set(I,new Map),S.set(b.data,I)),M=T(b.operands[0],I);break}default:Bm(x)}return M.info&&(M={...M},delete M.info),M})}const Zu=!0;function tG(t){return G1(t.value,t.info.unit,t.info.fixed)}class vd{constructor(l,r){this.children=new Map,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,l===void 0?(this.data=[],this.origin=this):(r||(r=new vd(void 0,void 0)),this.data=[l,...r.data],this.origin=r.origin)}getDisplay(){return this.display||(this.display=this.getAll(["display"])),this.display}getTeamBuff(){if(!this.teamBuff){const l=this.getAll(["teamBuff"]),r={};Fc(hA,[],u=>u.operation,(u,v)=>{const g=Bs(l,u.path);g&&Tr(r,v,g)}),this.teamBuff=r}return this.teamBuff}getAll(l){const r={};for(const u of this.data)Fc(Bs(u,l)??{},[],v=>v.operation,(v,g)=>Tr(r,g,this.get(v)));return r}get(l){if(l===void 0)return console.trace("Please report this bug with this trace"),{info:{},operation:!0,value:void 0,isEmpty:!0,formulas:[]};const r=this.processed.get(l);if(r)return r;const u=CA(this.computeNode(l));return this.processed.set(l,u),u}computeNode(l){const r=this.nodes.get(l);if(r)return r;const{operation:u,info:v}=l;let g;switch(u){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":g=this._compute(l);break;case"threshold":g=this._threshold(l);break;case"const":g=this._constant(l.value);break;case"subscript":g=this._subscript(l);break;case"read":g=this._read(l);break;case"data":g=this._data(l);break;case"match":g=this._match(l);break;case"lookup":g=this._lookup(l);break;case"prio":g=this._prio(l.operands);break;case"small":g=this._small(l.operands);break;default:Bm(u)}if(v){const{asConst:b}=v;g={...g},g.info=RA(g.info,v),b&&(delete g.formula,delete g.assignment,g.dependencies=new Set),(g.info.pivot||!g.formula)&&(g.mayNeedWrapping=!1)}return wA(g),this.nodes.set(l,g),g}prereadAll(l){return this.data.map(r=>Bs(r,l)).filter(r=>r)}readFirst(l){const r=this.data.map(u=>Bs(u,l)).find(u=>u);return r&&this.computeNode(r)}_prio(l){const r=l.find(u=>this.computeNode(u).value!==void 0);return r?this.computeNode(r):Xp}_small(l){let r;for(const u of l){const v=this.computeNode(u);((r==null?void 0:r.value)===void 0||v.value&&v.value<r.value)&&(r=v)}return r??Xp}_read(l){const{path:r}=l;if(l.accu===void 0)return this.readFirst(r)??(l.type==="string"?Xp:MA);{const u=this.prereadAll(r);return u.length===1?this.computeNode(u[0]):l.accu==="small"?this._small(u):this._accumulate(l.accu,u.map(v=>this.computeNode(v)))}}_lookup(l){const r=this.computeNode(l.operands[0]).value,u=l.table[r]??l.operands[1];if(!u)throw new Error(`Lookup Fail with key ${r}`);return this.computeNode(u)}_match(l){const[r,u,v,g]=l.operands,b=this.computeNode(r),k=this.computeNode(u),T=b.value===k.value,x=this.computeNode(T?v:g);return T&&l.emptyOn==="match"||!T&&l.emptyOn==="unmatch"?Yp(x.value):x}_threshold(l){const[r,u,v,g]=l.operands,b=this.computeNode(r),k=this.computeNode(u),T=b.value>=k.value?this.computeNode(v):this.computeNode(g);return b.value>=k.value?l.emptyOn==="ge"?Yp(T.value):T:l.emptyOn==="l"?Yp(T.value):T}_data(l){let r=this.children.get(l.data);return r||(r=new vd(l.data,l.reset?this.origin:this),this.children.set(l.data,r)),r.computeNode(l.operands[0])}_compute(l){const{operation:r,operands:u}=l;return this._accumulate(r,u.map(v=>this.computeNode(v)))}_subscript(l){const r=this.computeNode(l.operands[0]),u=l.list[r.value]??NaN;return this._constant(u)}_constant(l){return{info:{},value:l,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}_accumulate(l,r){var x;let u;switch(l){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":u=PA(r);break;default:Bm(l)}switch(l){case"add":case"mul":case"min":case"max":{const f=wu[l]([]);if(r=r.filter(H=>H.value!==f),!r.length)return Object.values(u).some(H=>H)?{...this._constant(f),info:u}:this._constant(f)}}let v,g=!1;switch(l){case"max":v=Yc`Max( ${{operands:r}} )`;break;case"min":v=Yc`Min( ${{operands:r}} )`;break;case"add":v=Yc`${{operands:r,separator:" + "}}`;break;case"mul":v=Yc`${{operands:r,separator:" * ",shouldWrap:r.length>1}}`;break;case"sum_frac":v=Yc`${{operands:[r[0]],shouldWrap:Zu}} / ( ${{operands:r,separator:" + "}} )`;break;case"res":{const f=r[0].value;f<0?(v=Yc`100% - ${{operands:r,shouldWrap:Zu}} / 2`,g=!0):f>=.75?v=Yc`100% / ( ${{operands:r,shouldWrap:Zu}} * 4 + 100% )`:(v=Yc`100% - ${{operands:r,shouldWrap:Zu}}`,g=!0);break}default:Bm(l)}switch(l){case"add":case"mul":r.length<=1?g=((x=r[0])==null?void 0:x.mayNeedWrapping)??!0:l==="add"&&(g=!0)}const b=wu[l](r.map(f=>f.value)),k=new Set([...r.flatMap(f=>f.info.pivot&&f.assignment?[f.assignment,...f.dependencies]:[...f.dependencies])]);return{info:u,formula:v.display,empty:r.every(f=>f.empty),value:b,mayNeedWrapping:g,dependencies:k}}}function Yc(t,...l){const r=new Set,u=[];return t.forEach((v,g)=>{u.push(v);const b=l[g];if(b){const{operands:k,shouldWrap:T,separator:x=", "}=b;k.forEach((f,H,M)=>{let S;!f.info.pivot&&f.formula?S=f.formula:S=BA(f),T&&f.mayNeedWrapping?(u.push("( "),u.push(S),u.push(" )")):u.push(S),H+1<M.length&&u.push(x),f.dependencies.forEach(I=>r.add(I))})}}),{display:IA(u),dependencies:[...r]}}function PA(t){function l(g){switch(g){case"overloaded":case"shattered":case"electrocharged":case"superconduct":case"burning":case"bloom":case"burgeon":case"hyperbloom":case"vaporize":case"melt":case"spread":case"aggravate":return 2;case"anemo":case"cryo":case"hydro":case"pyro":case"electro":case"geo":case"dendro":return 1;case"swirl":case"heal":return .5;case"physical":return 0;case"invalid":return-1;default:Bm(g)}}const r=new Set(t.flatMap(g=>[g.info.variant,g.info.subVariant]));r.delete(void 0);const u=[...r].sort((g,b)=>l(g)-l(b)),v={};return u.length&&(v.variant=u.pop()),u.length?v.subVariant=u.pop():v.subVariant=v.variant,v}function CA(t){const{info:l,dependencies:r,value:u,formula:v,assignment:g,empty:b}=t;return{operation:!0,info:l,value:u,isEmpty:b,formula:v,formulas:[...g?[g]:[],...r]}}const SA={default:"Default",base:"Base",total:"Total",uncapped:"Uncapped",custom:"Custom",char:"Char.",art:"Art.",weapon:"Weapon",teamBuff:"Team"};function wA(t){const{info:{name:l,prefix:r,source:u,variant:v,fixed:g,unit:b},value:k,formula:T}=t;if(typeof k=="number"&&(t.valueDisplay=P(yt,{color:"info",children:G1(k,b,g)}),l)){const x=r&&!u?fr(Ug,{children:[SA[r]," "]}):null,f=P(AA,{source:u});t.name=fr(Ug,{children:[fr(yt,{color:v,children:[x,l]}),f]}),T&&(t.assignment=fr("div",{className:"formula",children:[t.name," ",t.valueDisplay," = ",T]}))}}function AA({source:t}){const{silly:l}=Ip.useContext(j1);return t?O1.includes(t)?fr(yt,{color:"secondary",children:[" ","(",P(Oc,{ns:"artifactNames_gen",key18:t}),")"]}):H3.includes(t)?fr(yt,{color:"secondary",children:[" ","(",P(Oc,{ns:"weaponNames_gen",key18:t}),")"]}):fA.includes(t)?fr(yt,{color:"secondary",children:[" ","(",P(Oc,{ns:l?"sillyWisher_charNames":"charNames_gen",key18:t}),")"]}):null:null}function BA(t){const{name:l,valueDisplay:r}=t;return l?fr(Ug,{children:[P("span",{style:{fontSize:"85%"},children:l})," ",r]}):r}function IA(t){return P(Ug,{children:t.map((l,r)=>P("span",{children:l},r))})}function RA(t,l){const r={...t};for(const[u,v]of Object.entries(l))v&&(r[u]=v);return r}const MA={info:{pivot:!0},value:NaN,empty:!1,dependencies:new Set,mayNeedWrapping:!1},Xp={info:{pivot:!0},value:void 0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function Yp(t){return{info:{},value:t,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}const HA=!0,EA=!0;function KA(t,l){return Fc(t,[],r=>r.operation,(r,u)=>{u[0]==="teamBuff"&&(u=u.slice(1),r.info||(r.info={}),r.info.isTeamBuff=!0);const v=Bs(a,u);v?r.info={...r.info,...v.info,prefix:void 0,source:l}:u[0]!=="tally"&&console.error(`Detect ${l} buff into non-existant key path ${u}`)}),t}function eG(t,l=0){const r=E3(t.mainStatKey,t.rarity,Math.max(Math.min(l,t.rarity*4),t.level)),u=[];return u.push([t.mainStatKey,r]),t.substats.forEach(({key:v,accurateValue:g})=>v&&u.push([v,K3(g,v)])),{art:{...Object.fromEntries(u.map(([v,g])=>[v,v.endsWith("_")?c(g):p(g)])),[t.slotKey]:{id:p(t.id),set:p(t.setKey)}},artSet:{[t.setKey]:p(1)}}}function aG(t){return{lvl:p(t.level),constellation:p(t.constellation),asc:p(t.ascension),infusion:{team:void 0},premod:{auto:p(t.talent.auto),skill:p(t.talent.skill),burst:p(t.talent.burst)},enemy:{...C(Po.map(r=>`${r}_res_`),()=>c(.1)),level:p(100)},hit:{hitMode:p("avgHit")},customBonus:{}}}function lG({level:t,constellation:l,ascension:r,talent:u,infusionAura:v,customMultiTargets:g,conditional:b,bonusStats:k,enemyOverride:T,hitMode:x,reaction:f},H){const M={lvl:p(t),constellation:p(l),asc:p(r),infusion:{team:v?p(v):void 0},premod:{auto:p(u.auto),skill:p(u.skill),burst:p(u.burst)},enemy:{...C(Po.map(S=>`${S}_res_`),S=>c((T[`${S.slice(0,-5)}_enemyRes_`]??10)/100)),level:p(T.enemyLevel??t)},hit:{hitMode:p(x),reaction:p(f)},customBonus:{}};for(const[S,I]of Object.entries(k))M.customBonus[S]=S.endsWith("_")?c(I/100):p(I);return T.enemyDefRed_&&(M.premod.enemyDefRed_=c(T.enemyDefRed_/100)),T.enemyDefIgn_&&(M.enemy.defIgn=c(T.enemyDefIgn_/100)),Fc(b,["conditional"],S=>typeof S=="string",(S,I)=>Tr(M,I,p(S))),H!=null&&H.display&&(H.display.custom={},g.forEach(({name:S,targets:I},K)=>{const At=I.map(({weight:en,path:ks,hitMode:Re,reaction:dl,infusionAura:as,bonusStats:$n})=>{const fi=Bs(H.display,ks);return fi?(Re==="global"&&(Re=x),m(p(en),e(jm(fi,{premod:N3($n,(Bn,mn)=>mn.endsWith("_")?c(Bn/100):p(Bn)),hit:{hitMode:p(Re),reaction:dl?p(dl):Ek},infusion:{team:as?p(as):Ek}}),{pivot:!0}))):p(0)}),rl=e(D(...At),{name:S,variant:"invalid"});H.display.custom[K]=rl})),M}function nG(t){return{weapon:{id:p(t.id),lvl:p(t.level),asc:p(t.ascension),refinement:p(t.refinement)}}}const Zv=ju(Gu(a),["teamBuff"]);function sG(t,l,r){const u=Object.entries(t).map(([T,x])=>[T,{...Rm(x)}]),v=Object.fromEntries(u.map(([T])=>[T,{targetRef:{},buffs:[],calcs:{}}])),g={};function b(T){var M;const x=T[0]==="teamBuff"?Bs(Zv,T.slice(1)):Bs(a,T);if(x)return x;const f=Bs(g,T);if(f)return f;const H=iA(T);return T[0]==="teamBuff"&&T[1]==="tally"&&(H.accu=(M=Bs(dn,T.slice(2)))==null?void 0:M.accu),Tr(g,T,H),H}Object.values(v).forEach(({targetRef:T,buffs:x,calcs:f})=>u.forEach(([H,M])=>{const S=H.includes("Traveler")?`${H}${l}`:H,I=M.teamBuff,K={},At=Gu({teamBuff:I});x.push(K),f[H]=At,Fc(I,[],rl=>rl.operation,(rl,en)=>{const ks={...Bs(a,en),source:S,prefix:void 0,asConst:HA};Tr(K,en,Lv(b(["teamBuff",...en]),At,ks)),Fc(rl,[],Re=>(Re==null?void 0:Re.operation)==="read",Re=>{if(Re.path[0]==="targetBuff")return;let dl,as;Re.path[0]==="target"?(dl=b(Re.path.slice(1)),as=T):(dl=Re,as=v[H].targetRef),Tr(At,Re.path,Lv(dl,as))})})})),u.forEach(([T,x])=>{delete x.teamBuff;const{targetRef:f,buffs:H}=v[T],M=Rm(H);Fc(M??{},[],S=>S.operation,(S,I)=>{var K;S.info={...(K=Bs(Zv,I))==null?void 0:K.info,prefix:"teamBuff",pivot:EA}}),Object.assign(f,Rm([x,M,{teamBuff:M,activeCharKey:p(r)}])),f.target=f});const k=new vd(void 0,void 0);return Object.fromEntries(Object.entries(v).map(([T,x])=>[T,{target:new vd(x.targetRef,k),buffs:Object.fromEntries(Object.entries(x.calcs).map(([f,H])=>[f,new vd(H,k)]))}]))}function Rm(t){function l(r,u){if(r.length<=1)return r[0];if(r[0].operation){u[0]==="teamBuff"&&(u=u.slice(1));const v=u[0]==="tally"?(u=u.slice(1),dn):a;let{accu:g,type:b}=Bs(v,u)??{};if(g===void 0){const T=`Multiple entries when merging \`unique\` for key ${u}`;console.error(T),g=b==="number"?"max":"small"}return{operation:g,operands:r}}else return Object.fromEntries([...new Set(r.flatMap(v=>Object.keys(v)))].map(v=>[v,l(r.map(g=>g[v]).filter(g=>g),[...u,v])]))}return t.length?l(t,[]):{}}function oG(t){return new vd(Rm(t),void 0)}const NA=$(a.lvl,F3,y.info("crystallize_level_multi_")),FA=m(40/9,Om(a.total.eleMas,1400)),t_=e(m(e(D(St,FA),{pivot:!0,...y.info("base_crystallize_multi_")}),NA),y.info("crystallize")),e_=$(a.lvl,Mk,y.info("transformative_level_multi")),a_=m(16,Om(a.total.eleMas,2e3)),Ae={...C(Object.keys(Qu),t=>{const{multi:l,resist:r,canCrit:u}=Qu[t];return e(m(m(p(l,y.info(`${t}_multi_`)),e_),D(e(D(St,a_),{pivot:!0,...y.info("base_transformative_multi_")}),a.total[`${t}_dmg_`]),w(a.hit.hitMode,{hit:St,critHit:u?D(St,a.total[`${t}_critDMG_`]):St,avgHit:u?D(St,m(e(Wm(yl(a.total[`${t}_critRate_`],D(St,St)),O),{...a.total[`${t}_critRate_`].info,pivot:!0}),a.total[`${t}_critDMG_`])):St},NaN),a.enemy.transDef,a.enemy[`${r}_resMulti_`]),y.info(`${t}_hit`))}),swirl:C(Qu.swirl.variants,t=>{const l=m(m(p(Qu.swirl.multi,y.info("swirl_multi_")),e_),D(e(D(St,a_),{pivot:!0,...y.info("base_transformative_multi_")}),a.total.swirl_dmg_)),r=a.enemy[`${t}_resMulti_`];return e(["pyro","hydro","cryo","electro"].includes(t)?t==="electro"?jm(m(D(l,a.hit.addTerm),r),{hit:{ele:p(t)}}):jm(m(l,r,a.hit.ampMulti),{hit:{ele:p(t)}}):m(l,r),y.info(`${t}_swirl_hit`))})},Ma={overloaded:e(n(D(i(Do,"pyro",1),i(Do,"electro",1)),1,Ae.overloaded),y.info("overloaded_hit")),electrocharged:e(n(D(i(Do,"hydro",1),i(Do,"electro",1)),1,Ae.electrocharged),y.info("electrocharged_hit")),superconduct:e(i(Do,"cryo",Ae.superconduct),y.info("superconduct_hit")),burning:e(i(Do,"pyro",Ae.burning),y.info("burning_hit")),bloom:e(i(Do,"hydro",Ae.bloom),y.info("bloom_hit")),burgeon:e(i(Do,"pyro",Ae.burgeon),y.info("burgeon_hit")),hyperbloom:e(i(Do,"electro",Ae.hyperbloom),y.info("hyperbloom_hit"))},OA={anemo:{electroSwirl:Ae.swirl.electro,pyroSwirl:Ae.swirl.pyro,cryoSwirl:Ae.swirl.cryo,hydroSwirl:Ae.swirl.hydro,overloaded:Ae.overloaded,electrocharged:Ae.electrocharged,superconduct:Ae.superconduct,shattered:Ae.shattered,burning:Ae.burning,bloom:Ae.bloom,burgeon:Ae.burgeon,hyperbloom:Ae.hyperbloom},geo:{crystallize:t_,...Object.fromEntries(il.map(t=>[`${t}Crystallize`,e(m(c(2.5),t_),y.info(`${t}_crystallize`))])),shattered:Ae.shattered,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},electro:{overloaded:Ae.overloaded,electrocharged:Ae.electrocharged,superconduct:Ae.superconduct,shattered:Ae.shattered,hyperbloom:Ae.hyperbloom,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon},hydro:{electrocharged:Ae.electrocharged,shattered:Ae.shattered,bloom:Ae.bloom,overloaded:Ma.overloaded,superconduct:Ma.superconduct,burning:Ma.burning,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},pyro:{overloaded:Ae.overloaded,shattered:Ae.shattered,burning:Ae.burning,burgeon:Ae.burgeon,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,bloom:Ma.bloom,hyperbloom:Ma.hyperbloom},cryo:{superconduct:Ae.superconduct,shattered:Ae.shattered,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},dendro:{shattered:Ae.shattered,burning:Ae.burning,bloom:Ae.bloom,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom}},jA=C(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],t=>a.total[t]),GA=z1(w(a.hit.move,{skill:a.charEle,burst:a.charEle},void 0),w(a.weaponType,{sword:Do,claymore:Do,polearm:Do,catalyst:a.charEle},void 0),"physical");function Mp(t){switch(t){case"normal":case"charged":case"plunging_collision":case"plunging_impact":return"auto";case"skill":return"skill";case"burst":return"burst"}}function F(t,l,r={}){var u;return jm(a.hit.dmg,Rm([{hit:{base:t,move:p(l),ele:(u=r==null?void 0:r.hit)!=null&&u.ele?void 0:GA}},r]))}function Qg(t,l){const r=m(t,D(St,a.total.shield_));return l?jm(r,l):r}function Gn(t,l){const r=a.total.healInc,u=m(D(t,r),D(St,a.total.heal_,a.total.incHeal_));return l?jm(u,l):u}function o(t,l,r,u={},v){const g=Mp(r);return F(m($(a.total[`${g}Index`],l,{unit:"%"}),a.total[t],...v?[e(v,{unit:"%"})]:[]),r,u)}function Xi(t,l,r,u={},v){const g=Mp(r);return F(D(...t.map((b,k)=>m($(a.total[`${g}Index`],l[k],{unit:"%"}),a.total[b],...v?[e(v,{unit:"%"})]:[]))),r,u)}const zA=["dmg","low","high"];function E(t,l,r={},u){const v=Object.fromEntries(Object.entries(l).map(([g,b])=>[g,o(t,b,g==="dmg"?"plunging_collision":"plunging_impact",r,u)]));return O3(v,zA),v}function Hu(t,l,r,u){return Qg(D(m(l,a.total[t]),r),u)}function zn(t,l,r,u){return Gn(D(m(l,a.total[t]),r),u)}function Cn(t,l,r,u,v,g){const b=Mp(u),k=a.total[`${b}Index`];return Qg(D(m($(k,l,{unit:"%"}),a.total[t],...g?[g]:[]),$(k,r)),v)}function tn(t,l){return e(m(c(t==="geo"?1.5:2.5),l),{variant:t})}function cl(t,l,r,u,v,g){const b=Mp(u),k=a.total[`${b}Index`];return Gn(D(m($(k,l,{unit:"%"}),a.total[t],...g?[g]:[]),m($(k,r),...g?[g]:[])),v)}function B(t,l,r,u,v,g={}){function b(x,f){return m(x,$(a.lvl,_.char.expCurve[f]))}v.basic={...jA};const k={charKey:p(t),base:{},weaponType:p(u.weaponType),premod:{},display:v};l&&(k.charEle=p(l),k.teamBuff={tally:{[l]:p(1)}},k.display.basic[`${l}_dmg_`]=a.total[`${l}_dmg_`],k.display.reaction=OA[l]),r&&Tr(k,["teamBuff","tally",r],p(1)),Tr(k,["teamBuff","tally","maxEleMas"],a.premod.eleMas),u.weaponType!=="catalyst"&&(k.display.basic||(k.display.basic={}),k.display.basic.physical_dmg_=a.total.physical_dmg_);let T;for(const x of[...j3,"def"]){const f=[],H=u.lvlCurves.find(I=>I.key===x);H&&f.push(b(H.base,H.curve));const M=u.ascensionBonus[x];if(M&&f.push($(a.asc,M)),!f.length)continue;const S=e(f.length===1?f[0]:D(...f),{...y.info(x),prefix:"char",asConst:!0});if(x.endsWith("_dmg_")&&(S.info.variant=x.slice(0,-5)),x==="atk"||x==="def"||x==="hp")k.base[x]=S;else{if(T)throw new Error("Duplicated Char Special");T=!0,k.special=S,k.premod[x]=a.special}}return Rm([k,KA(g)])}const Zi="Albedo",a2="geo",Xg=_.char.data[Zi],gn=_.char.skillParam[Zi],ve=A(Zi,Xg.weaponType);let wo=0,tg=0,eg=0;const Kl={normal:{hitArr:[gn.auto[wo++],gn.auto[wo++],gn.auto[wo++],gn.auto[wo++],gn.auto[wo++]]},charged:{dmg1:gn.auto[wo++],dmg2:gn.auto[wo++],stamina:gn.auto[wo++][0]},plunging:{dmg:gn.auto[wo++],low:gn.auto[wo++],high:gn.auto[wo++]},skill:{skillDmg:gn.skill[tg++],blossomDmg:gn.skill[tg++],duration:gn.skill[tg++][0],cd:gn.skill[tg++][0],blossomCd:2},burst:{burstDmg:gn.burst[eg++],blossomDmg:gn.burst[eg++],blossomAmt:7,cd:gn.burst[eg++][0],enerCost:gn.burst[eg++][0]},passive1:{blossomDmgInc:.25,hpThresh:50},passive2:{eleMasInc:gn.passive2[0][0],duration:gn.passive2[1][0]},constellation1:{blossomEner:gn.constellation1[0]},constellation2:{blossomDmgInc:.3,maxStacks:4,stackDuration:30},constellation4:{plunging_dmg_:.3},constellation6:{bonus_dmg_:.17}},[WA,l2]=h(Zi,"burstUsed"),n2=i(l2,"burstUsed",n(a.asc,4,Kl.passive2.eleMasInc)),[LA,s2]=h(Zi,"p1EnemyHp"),o2=n(a.asc,1,i(s2,"belowHp",Kl.passive1.blossomDmgInc)),[UA,i2]=h(Zi,"c2Stacks"),c2=n(a.constellation,2,m(w(i2,Object.fromEntries(N(1,Kl.constellation2.maxStacks).map(t=>[t,m(t,Kl.constellation2.blossomDmgInc)])),O),a.total.def)),[qA,Yg]=h(Zi,"skillInField"),r2=n(a.constellation,4,i(Yg,"skillInField",Kl.constellation4.plunging_dmg_)),VA=i(a.activeCharKey,G.charKey,r2),[JA,d2]=h(Zi,"c6Crystallize"),m2=n(a.constellation,6,i(Yg,"skillInField",i(d2,"c6Crystallize",Kl.constellation6.bonus_dmg_))),QA=i(a.activeCharKey,G.charKey,m2),Yo={normal:Object.fromEntries(Kl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Kl.charged.dmg1,"charged"),dmg2:o("atk",Kl.charged.dmg2,"charged")},plunging:E("atk",Kl.plunging),skill:{dmg:o("atk",Kl.skill.skillDmg,"skill"),blossom:o("def",Kl.skill.blossomDmg,"skill",{total:{skill_dmg_:o2}})},burst:{dmg:o("atk",Kl.burst.burstDmg,"burst"),blossom:o("atk",Kl.burst.blossomDmg,"burst")}},u2=n(a.constellation,3,3),g2=n(a.constellation,5,3),XA=B(Zi,a2,"mondstadt",Xg,Yo,{teamBuff:{premod:{eleMas:n2,plunging_dmg_:VA,all_dmg_:QA}},premod:{skillBoost:u2,burstBoost:g2,burst_dmgInc:c2}}),YA={key:Zi,name:ve.name,rarity:Xg.rarity,elementKey:a2,weaponTypeKey:Xg.weaponType,gender:"M",constellationName:ve.chg("constellationName"),title:ve.chg("title"),talent:{auto:ve.talentTem("auto",[{text:ve.chg("auto.fields.normal")},{fields:Kl.normal.hitArr.map((t,l)=>({node:e(Yo.normal[l],{name:ve.chg(`auto.skillParams.${l}`)})}))},{text:ve.chg("auto.fields.charged")},{fields:[{node:e(Yo.charged.dmg1,{name:ve.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(Yo.charged.dmg2,{name:ve.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ve.chg("auto.skillParams.6"),value:Kl.charged.stamina}]},{text:ve.chg("auto.fields.plunging")},{fields:[{node:e(Yo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Yo.plunging.low,{name:s("plunging.low")})},{node:e(Yo.plunging.high,{name:s("plunging.high")})}]}]),skill:ve.talentTem("skill",[{fields:[{node:e(Yo.skill.dmg,{name:ve.chg("skill.skillParams.0")})},{node:e(Yo.skill.blossom,{name:ve.chg("skill.skillParams.1")})},{text:ve.ch("blossomCD"),value:Kl.skill.blossomCd,unit:"s"},{text:ve.chg("skill.skillParams.2"),value:Kl.skill.duration,unit:"s"},{text:s("cd"),value:Kl.skill.cd,unit:"s"}]},ve.condTem("passive1",{value:s2,path:LA,name:d("enemyLessPercentHP",{percent:Kl.passive1.hpThresh}),states:{belowHp:{fields:[{node:e(o2,{name:ve.ch("blossomDmg_"),unit:"%"})}]}}}),ve.headerTem("constellation1",{fields:[{text:ve.ch("enerPerBlossom"),value:Kl.constellation1.blossomEner,fixed:1}]}),ve.condTem("constellation4",{value:Yg,path:qA,name:d("activeCharField"),teamBuff:!0,states:{skillInField:{fields:[{node:e(r2,y.info("plunging_dmg_"))}]}}}),ve.condTem("constellation6",{value:d2,path:JA,name:d("protectedByShieldCrystal"),canShow:i(Yg,"skillInField",1),teamBuff:!0,states:{c6Crystallize:{fields:[{node:e(m2,y.info("all_dmg_"))}]}}})]),burst:ve.talentTem("burst",[{fields:[{node:e(Yo.burst.dmg,{name:ve.chg("burst.skillParams.0")})},{node:e(Yo.burst.blossom,{name:ve.chg("burst.skillParams.1"),multi:Kl.burst.blossomAmt})},{text:s("cd"),value:Kl.burst.cd,unit:"s"},{text:s("energyCost"),value:Kl.burst.enerCost}]},ve.condTem("passive2",{value:l2,path:WA,name:d("afterUse.burst"),teamBuff:!0,states:{burstUsed:{fields:[{node:n2},{text:s("duration"),value:Kl.passive2.duration,unit:"s"}]}}}),ve.condTem("constellation2",{value:i2,path:UA,name:ve.ch("c2Stacks"),states:Object.fromEntries(N(1,Kl.constellation2.maxStacks).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:c2}]}]))})]),passive1:ve.talentTem("passive1"),passive2:ve.talentTem("passive2"),passive3:ve.talentTem("passive3"),constellation1:ve.talentTem("constellation1"),constellation2:ve.talentTem("constellation2"),constellation3:ve.talentTem("constellation3",[{fields:[{node:u2}]}]),constellation4:ve.talentTem("constellation4"),constellation5:ve.talentTem("constellation5",[{fields:[{node:g2}]}]),constellation6:ve.talentTem("constellation6")}},ZA=new R(YA,XA),tc="Alhaitham",Zg="dendro",th=_.char.data[tc],Gt=_.char.skillParam[tc],ne=A(tc,th.weaponType);let bi=-1,Jr=-1,Zc=-1;const _l={normal:{hitArr:[Gt.auto[++bi],Gt.auto[++bi],Gt.auto[++bi],Gt.auto[bi+=2],Gt.auto[++bi]]},charged:{dmg:Gt.auto[++bi],stamina:Gt.auto[bi+=2][0]},plunging:{dmg:Gt.auto[++bi],low:Gt.auto[++bi],high:Gt.auto[++bi]},skill:{rushDmgAtk:Gt.skill[++Jr],rushDmgEm:Gt.skill[++Jr],atkInterval:Gt.skill[++Jr][0],mirrorDmgAtk:Gt.skill[++Jr],mirrorDmgEm:Gt.skill[++Jr],mirrorRemovalInterval:Gt.skill[Jr+=5][0],cd:Gt.skill[++Jr][0]},burst:{instanceDmgAtk:Gt.burst[++Zc],instanceDmgEm:Gt.burst[++Zc],attackInstances:[Gt.burst[++Zc][0],Gt.burst[++Zc][0],Gt.burst[++Zc][0],Gt.burst[++Zc][0]],cd:Gt.burst[++Zc][0],enerCost:Gt.burst[++Zc][0]},passive1:{cd:Gt.passive1[0][0]},passive2:{dmgInc:Gt.passive2[0][0],maxDmgInc:Gt.passive2[1][0]},constellation1:{cdReduction:Gt.constellation1[0],cd:Gt.constellation1[1]},constellation2:{eleMas:Gt.constellation2[0],duration:Gt.constellation2[1],numStacks:Gt.constellation2[2]},constellation4:{eleMas:Gt.constellation4[0],eleMasDuration:Gt.constellation4[1],dendro_dmg_:Gt.constellation4[2],dendroDuration:Gt.constellation4[3]},constellation6:{critRate_:Gt.constellation6[0],critDMG_:Gt.constellation6[1],duration:Gt.constellation6[2]}},eh=n(a.asc,4,yl(m(c(_l.passive2.dmgInc),a.total.eleMas),c(_l.passive2.maxDmgInc))),Kk={...eh},[tB,h2]=h(tc,"withMirrors"),eB=rn(h2,"on",p(Zg)),p2=N(1,_l.constellation2.numStacks),[aB,k2]=h(tc,"debateStacks"),f2=n(a.constellation,2,w(k2,C(p2,t=>m(t,_l.constellation2.eleMas)),O)),Lf=N(0,3),[lB,ah]=h(tc,"mirrorsConsumed"),b2=e(n(a.constellation,4,w(ah,C(Lf,t=>m(t,_l.constellation4.eleMas)),O)),{...y.info("eleMas"),isTeamBuff:!0}),nB=z(a.activeCharKey,tc,b2),v2=n(a.constellation,4,Co(a.constellation,6,z(ah,void 0,m(3,c(_l.constellation4.dendro_dmg_))),w(ah,C(Lf,t=>m(3-t,c(_l.constellation4.dendro_dmg_))),O))),[sB,Uf]=h(tc,"excessMirror"),_2=n(a.constellation,6,i(Uf,"on",_l.constellation6.critRate_)),y2=n(a.constellation,6,i(Uf,"on",_l.constellation6.critDMG_)),Ec={normal:Object.fromEntries(_l.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",_l.charged.dmg,"charged")},plunging:E("atk",_l.plunging),skill:{rushDmg:Xi(["atk","eleMas"],[_l.skill.rushDmgAtk,_l.skill.rushDmgEm],"skill"),mirrorDmg1:Xi(["atk","eleMas"],[_l.skill.mirrorDmgAtk,_l.skill.mirrorDmgEm],"skill",{premod:{skill_dmg_:eh}})},burst:{instanceDmg:Xi(["atk","eleMas"],[_l.burst.instanceDmgAtk,_l.burst.instanceDmgEm],"burst",{premod:{burst_dmg_:Kk}})},passive2:{a4SkillDmgBonus:eh,a4BurstDmgBonus:Kk}},T2=n(a.constellation,3,3),$2=n(a.constellation,5,3),oB=B(tc,Zg,"sumeru",th,Ec,{teamBuff:{premod:{eleMas:nB}},premod:{skillBoost:T2,burstBoost:$2,dendro_dmg_:v2,eleMas:f2,critRate_:_2,critDMG_:y2},infusion:{nonOverridableSelf:eB}}),iB={key:tc,name:ne.name,rarity:th.rarity,elementKey:Zg,weaponTypeKey:th.weaponType,gender:"M",constellationName:ne.chg("constellationName"),title:ne.chg("title"),talent:{auto:ne.talentTem("auto",[{text:ne.chg("auto.fields.normal")},{fields:_l.normal.hitArr.map((t,l)=>({node:e(Ec.normal[l],{name:ne.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ne.chg("auto.fields.charged")},{fields:[{node:e(Ec.charged.dmg,{name:ne.chg("auto.skillParams.5"),multi:2})},{text:ne.chg("auto.skillParams.6"),value:_l.charged.stamina}]},{text:ne.chg("auto.fields.plunging")},{fields:[{node:e(Ec.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ec.plunging.low,{name:s("plunging.low")})},{node:e(Ec.plunging.high,{name:s("plunging.high")})}]}]),skill:ne.talentTem("skill",[{fields:[{node:e(Ec.skill.rushDmg,{name:ne.chg("skill.skillParams.0")})},{text:ne.chg("skill.skillParams.1"),value:_l.skill.atkInterval,unit:"s",fixed:1},{node:e(Ec.skill.mirrorDmg1,{name:ne.ch("projectionDmg")})},{text:ne.chg("skill.skillParams.5"),value:_l.skill.mirrorRemovalInterval,unit:"s"},{text:s("cd"),value:_l.skill.cd,unit:"s"}]},ne.condTem("skill",{path:tB,value:h2,name:ne.ch("withMirrors"),states:{on:{fields:[{text:d("infusion.dendro"),variant:Zg}]}}}),ne.headerTem("passive2",{fields:[{node:e(eh,{name:ne.ch("projectionAttack_dmg_"),unit:"%"})}]})]),burst:ne.talentTem("burst",[{fields:[{node:e(Ec.burst.instanceDmg,{name:ne.chg("burst.skillParams.0")})},..._l.burst.attackInstances.map((t,l)=>({text:ne.chg(`burst.skillParams.${l+1}`),value:t})),{text:s("cd"),value:_l.burst.cd,unit:"s"},{text:s("energyCost"),value:_l.burst.enerCost}]},ne.headerTem("passive2",{fields:[{node:e(Kk,y.info("burst_dmg_"))}]}),ne.condTem("constellation4",{path:lB,value:ah,teamBuff:!0,name:ne.ch("mirrorsConsumed"),states:C(Lf,t=>({name:`${t}`,fields:[{node:b2},{node:v2},{text:s("duration"),value:_l.constellation4.eleMasDuration,unit:"s"}]}))})]),passive1:ne.talentTem("passive1"),passive2:ne.talentTem("passive2"),passive3:ne.talentTem("passive3"),constellation1:ne.talentTem("constellation1"),constellation2:ne.talentTem("constellation2",[ne.condTem("constellation2",{path:aB,value:k2,name:ne.ch("debateStacks"),teamBuff:!0,states:C(p2,t=>({name:d("stack",{count:t}),fields:[{node:f2}]}))})]),constellation3:ne.talentTem("constellation3",[{fields:[{node:T2}]}]),constellation4:ne.talentTem("constellation4"),constellation5:ne.talentTem("constellation5",[{fields:[{node:$2}]}]),constellation6:ne.talentTem("constellation6",[ne.condTem("constellation6",{path:sB,value:Uf,name:ne.ch("excessMirror"),states:{on:{fields:[{node:_2},{node:y2},{text:s("duration"),value:_l.constellation6.duration,unit:"s"}]}}})])}},cB=new R(iB,oB),ec="Aloy",qf="cryo",lh=_.char.data[ec],Il=_.char.skillParam[ec],se=A(ec,lh.weaponType);let vi=0,_i=0,Zp=0,l_=0,rB=0;const yn={normal:{hitArr:[Il.auto[vi++],Il.auto[vi++],Il.auto[vi++],Il.auto[vi++],Il.auto[vi++]]},charged:{aimed:Il.auto[vi++],aimedCharged:Il.auto[vi++]},plunging:{dmg:Il.auto[vi++],low:Il.auto[vi++],high:Il.auto[vi++]},skill:{freezeBombDmg:Il.skill[_i++],chillWaterBomblets:Il.skill[_i++],atkDecrease:Il.skill[_i++],atkDecreaseDuration:Il.skill[_i++][0],coilNormalDmgBonus1:Il.skill[_i++],coilNormalDmgBonus2:Il.skill[_i++],coilNormalDmgBonus3:Il.skill[_i++],rushingNormalDmgBonus:Il.skill[_i++],rushingDuration:Il.skill[_i++][0],cd:Il.skill[_i++][0]},burst:{dmg:Il.burst[Zp++],cd:Il.burst[Zp++][0],enerCost:Il.burst[Zp++][0]},passive1:{atkInc:.16,teamAtkInc:Il.passive1[l_++][0],duration:Il.passive1[l_++][0]},passive2:{cryoDmgBonus:Il.passive2[rB++][0]}},[dB,nh]=h(ec,"coil"),Nk=w(nh,{coil1:$(a.total.skillIndex,yn.skill.coilNormalDmgBonus1,{unit:"%"}),coil2:$(a.total.skillIndex,yn.skill.coilNormalDmgBonus2,{unit:"%"}),coil3:$(a.total.skillIndex,yn.skill.coilNormalDmgBonus3,{unit:"%"}),rush:$(a.total.skillIndex,yn.skill.rushingNormalDmgBonus,{unit:"%"})},O),[mB,Vf]=h(ec,"A1"),x2=n(a.asc,1,i(Vf,"on",i(a.activeCharKey,ec,c(yn.passive1.atkInc)))),D2=n(a.asc,1,i(Vf,"on",z(a.activeCharKey,ec,c(yn.passive1.teamAtkInc)))),[uB,P2]=h(ec,"A4"),C2=n(a.asc,4,w(P2,Object.fromEntries(N(1,10).map(t=>[t,c(yn.passive2.cryoDmgBonus*t)])),O)),ji={normal:Object.fromEntries(yn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",{hit:{ele:Co("rush",nh,qf,"physical")}})])),charged:{aimed:o("atk",yn.charged.aimed,"charged"),aimedCharged:o("atk",yn.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:E("atk",yn.plunging),skill:{freezeBombDmg:o("atk",yn.skill.freezeBombDmg,"skill"),chillWaterBomblets:o("atk",yn.skill.chillWaterBomblets,"skill")},burst:{dmg:o("atk",yn.burst.dmg,"burst")}},gB=B(ec,qf,void 0,lh,ji,{premod:{normal_dmg_:Nk,atk_:x2,cryo_dmg_:C2},teamBuff:{premod:{atk_:D2}}}),hB={key:ec,name:se.name,rarity:lh.rarity,elementKey:qf,weaponTypeKey:lh.weaponType,gender:"F",constellationName:se.chg("constellationName"),title:se.chg("title"),talent:{auto:se.talentTem("auto",[{text:se.chg("auto.fields.normal")},{fields:yn.normal.hitArr.map((t,l)=>({node:e(ji.normal[l],{name:se.chg(`auto.skillParams.${l+(l===0?0:-1)}`),textSuffix:l===0?"(1)":l===1?"(2)":""})}))},{text:se.chg("auto.fields.charged")},{fields:[{node:e(ji.charged.aimed,{name:se.chg("auto.skillParams.4")})},{node:e(ji.charged.aimedCharged,{name:se.chg("auto.skillParams.5")})}]},{text:se.chg("auto.fields.plunging")},{fields:[{node:e(ji.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ji.plunging.low,{name:s("plunging.low")})},{node:e(ji.plunging.high,{name:s("plunging.high")})}]}]),skill:se.talentTem("skill",[{fields:[{node:e(ji.skill.freezeBombDmg,{name:se.chg("skill.skillParams.0")})},{node:e(ji.skill.chillWaterBomblets,{name:se.chg("skill.skillParams.1")})},{node:$(a.total.skillIndex,yn.skill.atkDecrease,{name:se.chg("skill.skillParams.2"),unit:"%"})},{text:se.chg("skill.skillParams.3"),value:`${yn.skill.atkDecreaseDuration}`,unit:"s"},{text:se.chg("skill.skillParams.7"),value:`${yn.skill.cd}`,unit:"s"}]},se.condTem("skill",{value:nh,path:dB,name:se.ch("skill.coil"),states:{...Object.fromEntries(N(1,3).map(t=>[`coil${t}`,{name:d("stack",{count:t}),fields:[{node:Nk}]}])),rush:{name:se.ch("skill.rush"),fields:[{node:Nk},{text:se.ch("normCryoInfus")},{text:se.chg("skill.skillParams.6"),value:yn.skill.rushingDuration,unit:"s"}]}}})]),burst:se.talentTem("burst",[{fields:[{node:e(ji.burst.dmg,{name:se.chg("burst.skillParams.0")})},{text:se.chg("burst.skillParams.1"),value:yn.burst.cd,unit:"s"},{text:se.chg("burst.skillParams.2"),value:yn.burst.enerCost}]}]),passive1:se.talentTem("passive1",[se.condTem("passive1",{value:Vf,path:mB,teamBuff:!0,name:se.ch("a1CondName"),states:{on:{fields:[{node:e(D2,y.info("atk_"))},{node:e(x2,y.info("atk_"))},{text:s("duration"),value:yn.passive1.duration,unit:"s"}]}}})]),passive2:se.talentTem("passive2",[se.condTem("passive2",{value:P2,path:uB,canShow:i("rush",nh,1),name:se.ch("skill.rushState"),states:Object.fromEntries(N(1,10).map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:C2}]}]))})]),passive3:se.talentTem("passive3"),constellation1:se.talentTem("constellation1"),constellation2:se.talentTem("constellation2"),constellation3:se.talentTem("constellation3"),constellation4:se.talentTem("constellation4"),constellation5:se.talentTem("constellation5"),constellation6:se.talentTem("constellation6")}},pB=new R(hB,gB),Fd="Amber",S2="pyro",kB="mondstadt",sh=_.char.data[Fd],ml=_.char.skillParam[Fd],Tt=A(Fd,sh.weaponType);let yi=0,ag=0,Qm=0,n_=0,s_=0;const nl={normal:{hitArr:[ml.auto[yi++],ml.auto[yi++],ml.auto[yi++],ml.auto[yi++],ml.auto[yi++]]},charged:{aimed:ml.auto[yi++],aimedCharged:ml.auto[yi++]},plunging:{dmg:ml.auto[yi++],low:ml.auto[yi++],high:ml.auto[yi++]},skill:{inheritedHp:ml.skill[ag++],dmg:ml.skill[ag++],unknown:ml.skill[ag++],cd:ml.skill[ag++][0]},burst:{dmgPerWave:ml.burst[Qm++],cd:ml.burst[Qm++][0],enerCost:ml.burst[Qm++][0],rainDmg:ml.burst[Qm++],duration:ml.burst[Qm++][0]},passive1:{critRateInc:ml.passive1[n_++][0],aoeInc:ml.passive1[n_++][0]},passive2:{atkInc:ml.passive2[s_++][0],duration:ml.passive2[s_++][0]},constellation1:{secArrowDmg:ml.constellation1[0]},constellation2:{manualDetionationDmg:ml.constellation2[0]},constellation6:{moveSpdInc:ml.constellation6[0],atkInc:ml.constellation6[1],duration:ml.constellation6[2]}},w2=n(a.asc,1,c(nl.passive1.critRateInc)),[fB,A2]=h(Fd,"A4"),B2=n(a.asc,4,i("on",A2,c(nl.passive2.atkInc))),[bB,Jf]=h(Fd,"C6"),I2=n(a.constellation,6,i("on",Jf,c(nl.constellation6.moveSpdInc))),R2=n(a.constellation,6,i("on",Jf,c(nl.constellation6.atkInc))),$s={normal:Object.fromEntries(nl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",nl.charged.aimed,"charged"),aimedCharged:o("atk",nl.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}})},plunging:E("atk",nl.plunging),skill:{inheritedHp:m($(a.total.skillIndex,nl.skill.inheritedHp),a.total.hp),dmg:o("atk",nl.skill.dmg,"skill")},burst:{rainDmg:o("atk",nl.burst.rainDmg,"burst"),dmgPerWave:o("atk",nl.burst.dmgPerWave,"burst")},constellation1:{secondAimed:n(a.constellation,1,m(c(nl.constellation1.secArrowDmg),o("atk",nl.charged.aimed,"charged"))),secondAimedCharged:n(a.constellation,1,m(o("atk",nl.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}}),c(nl.constellation1.secArrowDmg)))},constellation2:{manualDetonationDmg:n(a.constellation,2,o("atk",nl.skill.dmg,"skill",{premod:{skill_dmg_:c(nl.constellation2.manualDetionationDmg)}}))}},M2=n(a.constellation,3,3),H2=n(a.constellation,5,3),vB=B(Fd,S2,kB,sh,$s,{premod:{skillBoost:H2,burstBoost:M2,atk_:B2,burst_critRate_:w2},teamBuff:{premod:{moveSPD_:I2,atk_:R2}}}),_B={key:Fd,name:Tt.name,rarity:sh.rarity,elementKey:S2,weaponTypeKey:sh.weaponType,gender:"F",constellationName:Tt.chg("constellationName"),title:Tt.chg("title"),talent:{auto:Tt.talentTem("auto",[{text:Tt.chg("auto.fields.normal")},{fields:nl.normal.hitArr.map((t,l)=>({node:e($s.normal[l],{name:Tt.chg(`auto.skillParams.${l}`)})}))},{text:Tt.chg("auto.fields.charged")},{fields:[{node:e($s.charged.aimed,{name:Tt.chg("auto.skillParams.5")})},{node:e($s.charged.aimedCharged,{name:Tt.chg("auto.skillParams.6")})}]},Tt.headerTem("constellation1",{fields:[{node:e($s.constellation1.secondAimed,{name:Tt.chg("auto.skillParams.5"),textSuffix:Tt.ch("secondArrow")})},{node:e($s.constellation1.secondAimedCharged,{name:Tt.chg("auto.skillParams.6"),textSuffix:Tt.ch("secondArrow")})}]}),{text:Tt.chg("auto.fields.plunging")},{fields:[{node:e($s.plunging.dmg,{name:s("plunging.dmg")})},{node:e($s.plunging.low,{name:s("plunging.low")})},{node:e($s.plunging.high,{name:s("plunging.high")})}]}]),skill:Tt.talentTem("skill",[{fields:[{node:e($s.skill.inheritedHp,{name:Tt.chg("skill.skillParams.0"),variant:"heal"})},{node:e($s.skill.dmg,{name:Tt.chg("skill.skillParams.1")})},{node:e($s.constellation2.manualDetonationDmg,{name:Tt.ch("manualDetonationDmg")})},{text:Tt.chg("skill.skillParams.2"),value:t=>t.get(a.constellation).value>=4?nl.skill.cd-nl.skill.cd*.2:nl.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=4,text:d("charges"),value:2}]}]),burst:Tt.talentTem("burst",[{fields:[{node:e($s.burst.dmgPerWave,{name:Tt.chg("burst.skillParams.0")})},{node:e($s.burst.rainDmg,{name:Tt.chg("burst.skillParams.1")})},{text:Tt.chg("burst.skillParams.2"),value:nl.burst.duration,unit:"s"},{text:Tt.chg("burst.skillParams.3"),value:nl.burst.cd,unit:"s"},{text:Tt.chg("burst.skillParams.4"),value:`${nl.burst.enerCost}`}]},Tt.condTem("constellation6",{value:Jf,path:bB,name:Tt.ch("c6CondName"),teamBuff:!0,states:{on:{fields:[{node:R2},{node:I2},{text:s("duration"),value:nl.passive2.duration,unit:"s"}]}}})]),passive1:Tt.talentTem("passive1",[Tt.fieldsTem("passive1",{fields:[{text:Tt.ch("critRateBonus"),value:nl.passive1.critRateInc*100,unit:"%"},{text:Tt.ch("aoeRangeBonus"),value:nl.passive1.aoeInc*100,unit:"%"},{node:w2}]})]),passive2:Tt.talentTem("passive2",[Tt.condTem("passive2",{value:A2,path:fB,name:d("hitOp.weakSpot"),states:{on:{fields:[{node:B2},{text:s("duration"),value:nl.passive2.duration,unit:"s"}]}}})]),passive3:Tt.talentTem("passive3"),constellation1:Tt.talentTem("constellation1"),constellation2:Tt.talentTem("constellation2"),constellation3:Tt.talentTem("constellation3",[{fields:[{node:M2}]}]),constellation4:Tt.talentTem("constellation4",[Tt.fieldsTem("constellation4",{fields:[{text:d("addlCharges"),value:1}]})]),constellation5:Tt.talentTem("constellation5",[{fields:[{node:H2}]}]),constellation6:Tt.talentTem("constellation6")}},yB=new R(_B,vB),wr="AratakiItto",TB="geo",oh=_.char.data[wr],ha=_.char.skillParam[wr],rt=A(wr,oh.weaponType),Va={normal:{hitArr:[ha.auto[0],ha.auto[1],ha.auto[2],ha.auto[3]]},charged:{sSlash:ha.auto[4],akSlash:ha.auto[5],akFinal:ha.auto[6],stam:ha.auto[7][0]},plunging:{dmg:ha.auto[8],low:ha.auto[9],high:ha.auto[10]},ss:{duration:ha.auto[11][0]},skill:{dmg:ha.skill[0],hp:ha.skill[1],duration:ha.skill[2][0],ss_cd:ha.skill[3][0],cd:ha.skill[4][0]},burst:{atkSpd:ha.burst[0][0],defConv:ha.burst[1],resDec:ha.burst[2][0],duration:ha.burst[3][0],cd:ha.burst[4][0],cost:ha.burst[5][0]},passive1:{maxStacks:3,atkSPD_:.1},passive2:{def_:ha.passive2[0][0]},constellation1:{initialStacks:ha.constellation1[0],timedStacks:ha.constellation1[1]},constellation2:{burstCdRed:ha.constellation2[0],energyRegen:ha.constellation2[1]},constellation4:{def_:ha.constellation4[0],atk_:ha.constellation4[1],duration:ha.constellation4[2]},constellation6:{charged_critDMG_:ha.constellation6[0]}},[$B,_d]=h(wr,"burst"),[xB,E2]=h(wr,"passive1"),[DB,Qf]=h(wr,"constellation4"),PB=m($(a.total.skillIndex,Va.skill.hp,y.info("hp_")),a.total.hp),Xf=i(_d,"on",m($(a.total.burstIndex,Va.burst.defConv,y.info("def_")),a.total.def)),K2=i(_d,"on",Va.burst.atkSpd,y.info("atkSPD_")),N2=Object.fromEntries(Po.map(t=>[`${t}_res_`,i(_d,"on",-Va.burst.resDec)])),CB=rn(_d,"on","geo"),Fk=n(a.asc,4,m(c(Va.passive2.def_),a.premod.def)),F2=n(a.asc,4,w(E2,Object.fromEntries(N(1,Va.passive1.maxStacks).map(t=>[t,p(Va.passive1.atkSPD_*t)])),0,y.info("atkSPD_"))),SB=m(yl(dn.geo,3),Va.constellation2.burstCdRed),wB=m(yl(dn.geo,3),Va.constellation2.energyRegen),O2=i(Qf,"on",n(a.constellation,4,Va.constellation4.atk_)),j2=i(Qf,"on",n(a.constellation,4,Va.constellation4.def_)),Ok=n(a.constellation,6,Va.constellation6.charged_critDMG_),Gi={normal:Object.fromEntries(Va.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{sSlash:o("atk",Va.charged.sSlash,"charged"),akSlash:o("atk",Va.charged.akSlash,"charged",{premod:{charged_dmgInc:Fk}}),akFinal:o("atk",Va.charged.akFinal,"charged",{premod:{charged_dmgInc:Fk}})},plunging:E("atk",Va.plunging),skill:{dmg:o("atk",Va.skill.dmg,"skill"),hp:PB},burst:{defConv:Xf}},G2=n(a.constellation,3,3),z2=n(a.constellation,5,3),AB=B(wr,TB,"inazuma",oh,Gi,{teamBuff:{premod:{atk_:O2,def_:j2}},premod:{skillBoost:G2,burstBoost:z2,charged_critDMG_:Ok,atk:Xf,atkSPD_:D(K2,F2),...N2},infusion:{nonOverridableSelf:CB}}),BB={key:wr,name:rt.name,rarity:oh.rarity,elementKey:"geo",weaponTypeKey:oh.weaponType,gender:"M",constellationName:rt.chg("constellationName"),title:rt.chg("title"),talent:{auto:rt.talentTem("auto",[{text:rt.chg("auto.fields.normal")},{fields:Va.normal.hitArr.map((t,l)=>({node:e(Gi.normal[l],{name:rt.chg(`auto.skillParams.${l}`)})}))},{text:rt.chg("auto.fields.charged")},{fields:[{node:e(Gi.charged.akSlash,{name:rt.chg("auto.skillParams.4")})},{node:e(Gi.charged.akFinal,{name:rt.chg("auto.skillParams.5")})},{text:rt.chg("auto.skillParams.6"),value:Va.ss.duration,unit:"s"},{node:e(Gi.charged.sSlash,{name:rt.chg("auto.skillParams.7")})},{text:rt.chg("auto.skillParams.8"),value:Va.charged.stam}]},rt.condTem("passive1",{name:rt.ch("a1.name"),value:E2,path:xB,states:Object.fromEntries(N(1,Va.passive1.maxStacks).map(t=>[t,{name:d("stack_one",{count:t}),fields:[{node:F2}]}]))}),rt.headerTem("passive2",{fields:[{node:e(Fk,{name:rt.ch("a4:dmgInc")})}]}),rt.headerTem("constellation6",{fields:[{node:Ok}]}),{text:rt.chg("auto.fields.plunging")},{fields:[{node:e(Gi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Gi.plunging.low,{name:s("plunging.low")})},{node:e(Gi.plunging.high,{name:s("plunging.high")})}]}]),skill:rt.talentTem("skill",[{fields:[{node:e(Gi.skill.dmg,{name:rt.chg("skill.skillParams.0")})},{node:e(Gi.skill.hp,{name:rt.chg("skill.skillParams.1"),variant:"heal"})},{text:rt.chg("skill.skillParams.2"),value:Va.skill.duration,unit:"s"},{text:rt.chg("skill.skillParams.3"),value:Va.skill.cd,unit:"s"}]}]),burst:rt.talentTem("burst",[{fields:[{text:rt.chg("burst.skillParams.3"),value:Va.burst.cd,unit:"s"},{text:rt.chg("burst.skillParams.4"),value:Va.burst.cost}]},rt.condTem("burst",{name:d("afterUse.burst"),value:_d,path:$B,states:{on:{fields:[{text:d("infusion.geo"),variant:"geo"},{node:K2},...Object.values(N2).map(t=>({node:t})),{node:e(Xf,{name:rt.chg("burst.skillParams.0")})},{text:rt.chg("burst.skillParams.2"),value:Va.burst.duration,unit:"s"}]}}}),rt.headerTem("constellation1",{fields:[{text:rt.ch("c1.initialGain"),value:Va.constellation1.initialStacks},{text:rt.ch("c1.timedGain"),value:Va.constellation1.timedStacks}],canShow:i(_d,"on",1)}),rt.headerTem("constellation2",{fields:[{text:d("burstCDRed"),value:t=>t.get(SB).value,unit:"s",fixed:1},{text:s("energyRegen"),value:t=>t.get(wB).value}],canShow:i(_d,"on",1)}),rt.condTem("constellation4",{name:rt.ch("c4.name"),teamBuff:!0,value:Qf,path:DB,states:{on:{fields:[{node:O2},{node:j2},{text:s("duration"),value:Va.constellation4.duration,unit:"s"}]}}})]),passive1:rt.talentTem("passive1"),passive2:rt.talentTem("passive2"),passive3:rt.talentTem("passive3"),constellation1:rt.talentTem("constellation1"),constellation2:rt.talentTem("constellation2"),constellation3:rt.talentTem("constellation3",[{fields:[{node:G2}]}]),constellation4:rt.talentTem("constellation4"),constellation5:rt.talentTem("constellation5",[{fields:[{node:z2}]}]),constellation6:rt.talentTem("constellation6",[{fields:[{node:Ok}]}])}},IB=new R(BB,AB),Od="Arlecchino",yd=_.char.data[Od],et=_.char.skillParam[Od],ea=A(Od,yd.weaponType);let fs=-1,Qr=0,om=0;const Nl={normal:{hitArr:[et.auto[++fs],et.auto[++fs],et.auto[++fs],et.auto[++fs],et.auto[++fs],et.auto[++fs]]},charged:{dmg:et.auto[++fs],stam:et.auto[++fs][0]},plunging:{dmg:et.auto[++fs],low:et.auto[++fs],high:et.auto[++fs]},infusion:{normal_dmgInc:et.auto[++fs],bondConsumption:et.auto[++fs][0],bondLimit:et.auto[++fs][0]},charged_dash_stam:et.auto[++fs][0],skill:{spikeDmg:et.skill[Qr++],finalDmg:et.skill[Qr++],sigilDmg:et.skill[Qr++],two:et.skill[Qr++][0],cd:et.skill[Qr++][0],three:et.skill[Qr++][0],bond:et.skill[Qr++][0]},burst:{burstDmg:et.burst[om++],bond:et.burst[om++][0],cdReduce:et.burst[om++][0],heal:et.burst[om++][0],cd:et.burst[om++][0],enerCost:et.burst[om++][0]},passive1:{interval:et.passive1[0][0],baseBond:et.passive1[1][0],bond:et.passive1[2][0]},passive2:{atkThresh:et.passive2[0][0],res:et.passive2[1][0],maxRes:et.passive2[2][0],maxAttack:et.passive2[3][0]},constellation1:{infusionDmgInc:et.constellation1[0]},constellation2:{bloodfireDmg:et.constellation2[0],cd:et.constellation2[1]},constellation4:{cdReduce:et.constellation4[0],energyRegen:et.constellation4[1],cd:et.constellation4[2]},constellation6:{normal_burst_critRate_:et.constellation6[0],normal_burst_critDMG_:et.constellation6[1],duration:et.constellation6[2],cd:et.constellation6[3],dashDmg:et.constellation6[4]}},jk=N(10,200,5),[o_,Gk]=h(Od,"bondPercent"),zu=w(Gk,C(jk,t=>c(t/100)),O),RB=Sr(zu,.3,p("pyro")),W2=m($(a.total.autoIndex,Nl.infusion.normal_dmgInc,{unit:"%"}),a.total.atk,zu),L2=c(.4),U2=n(a.constellation,1,m(c(Nl.constellation1.infusionDmgInc),a.total.atk,zu)),q2=n(a.constellation,6,m(c(Nl.constellation6.dashDmg),a.total.atk,zu)),[MB,Yf]=h(Od,"c6AfterSkill"),Zf=n(a.constellation,6,i(Yf,"on",Nl.constellation6.normal_burst_critRate_)),V2={...Zf},tb=n(a.constellation,6,i(Yf,"on",Nl.constellation6.normal_burst_critDMG_)),J2={...tb},qs={normal:{...Object.fromEntries(Nl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Nl.charged.dmg,"charged")},plunging:E("atk",Nl.plunging),skill:{spikeDmg:o("atk",Nl.skill.spikeDmg,"skill"),finalDmg:o("atk",Nl.skill.finalDmg,"skill",{premod:{skill_dmgInc:q2}}),sigilDmg:o("atk",Nl.skill.sigilDmg,"skill")},burst:{burstDmg:o("atk",Nl.burst.burstDmg,"burst")},passive2:C(G3,()=>yl(m(D(a.total.atk,-Nl.passive2.atkThresh),c(1/(Nl.passive2.maxAttack/Nl.passive2.maxRes))),c(Nl.passive2.maxRes))),constellation2:{bloodfireDmg:n(a.constellation,2,n(a.asc,1,F(m(c(Nl.constellation2.bloodfireDmg),a.total.atk),"elemental",{hit:{ele:p("pyro")}})))}},Q2=n(a.constellation,3,3),X2=n(a.constellation,5,3),HB=B(Od,yd.ele,yd.region,yd,qs,{premod:{autoBoost:Q2,burstBoost:X2,...qs.passive2,normal_dmgInc:D(W2,U2),normal_critRate_:Zf,normal_critDMG_:tb,burst_critRate_:V2,burst_critDMG_:J2,pyro_dmg_:L2},infusion:{nonOverridableSelf:RB}}),EB={key:Od,name:ea.name,rarity:yd.rarity,elementKey:yd.ele,weaponTypeKey:yd.weaponType,gender:"F",constellationName:ea.chg("constellationName"),title:ea.chg("title"),talent:{auto:ea.talentTem("auto",[{text:ea.chg("auto.fields.normal")},{fields:Nl.normal.hitArr.map((t,l)=>({node:e(qs.normal[l],{name:ea.chg(`auto.skillParams.${l+1}`)})}))},{text:ea.chg("auto.fields.charged")},{fields:[{node:e(qs.charged.dmg,{name:ea.chg("auto.skillParams.7")})},{text:ea.chg("auto.skillParams.8"),value:Nl.charged.stam},{text:ea.chg("auto.skillParams.9"),value:Nl.charged_dash_stam,unit:"/s"}]},{text:ea.chg("auto.fields.plunging")},{fields:[{node:e(qs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qs.plunging.low,{name:s("plunging.low")})},{node:e(qs.plunging.high,{name:s("plunging.high")})}]},{text:ea.chg("auto.fields.infusion")},ea.condTem("auto",{path:o_,value:Gk,name:d("currentBond"),states:C(jk,t=>({name:`${t}%`,fields:[{canShow:l=>l.get(zu).value>=.3,text:P(Rp,{color:"pyro",children:d("infusion.pyro")})},{node:e(W2,y.info("normal_dmgInc"))}]}))}),ea.headerTem("constellation1",{fields:[{node:e(U2,y.info("normal_dmgInc"))}]})]),skill:ea.talentTem("skill",[{fields:[{node:e(qs.skill.spikeDmg,{name:ea.chg("skill.skillParams.0")})},{node:e(qs.skill.finalDmg,{name:ea.chg("skill.skillParams.1")})},{node:e(qs.skill.sigilDmg,{name:ea.chg("skill.skillParams.2")})},{text:s("cd"),value:Nl.skill.cd,unit:"s"}]},ea.condTem("constellation6",{path:o_,value:Gk,name:d("currentBond"),states:C(jk,t=>({name:`${t}%`,fields:[{node:e(q2,{name:ea.ch("finalSkillDmgInc")})}]}))}),ea.condTem("constellation6",{path:MB,value:Yf,name:d("afterUse.skill"),states:{on:{fields:[{node:Zf},{node:tb},{node:V2},{node:J2},{text:s("duration"),value:Nl.constellation6.duration,unit:"s"},{text:s("cd"),value:Nl.constellation6.cd,unit:"s"}]}}})]),burst:ea.talentTem("burst",[{fields:[{node:e(qs.burst.burstDmg,{name:ea.chg("burst.skillParams.0")})},{text:s("cd"),value:Nl.burst.cd,unit:"s"},{text:s("energyCost"),value:Nl.burst.enerCost}]}]),passive1:ea.talentTem("passive1"),passive2:ea.talentTem("passive2",[{fields:Object.values(qs.passive2).map(t=>({node:t}))}]),passive3:ea.talentTem("passive3",[{fields:[{node:L2}]}]),constellation1:ea.talentTem("constellation1"),constellation2:ea.talentTem("constellation2",[ea.fieldsTem("constellation2",{fields:[{node:e(qs.constellation2.bloodfireDmg,{name:ea.ch("bloodfireDmg")})},{text:s("cd"),value:Nl.constellation2.cd,unit:"s"}]})]),constellation3:ea.talentTem("constellation3",[{fields:[{node:Q2}]}]),constellation4:ea.talentTem("constellation4"),constellation5:ea.talentTem("constellation5",[{fields:[{node:X2}]}]),constellation6:ea.talentTem("constellation6")}},KB=new R(EB,HB),Ar="Baizhu",eb="dendro",ih=_.char.data[Ar],Bt=_.char.skillParam[Ar],oe=A(Ar,ih.weaponType);let mc=-1,lg=0,Ti=0;var x1,D1;const le={normal:{hitArr:[Bt.auto[++mc],Bt.auto[++mc],Bt.auto[++mc],Bt.auto[++mc]]},charged:{dmg:Bt.auto[++mc],stamina:Bt.auto[++mc][0]},plunging:{dmg:Bt.auto[++mc],low:Bt.auto[++mc],high:Bt.auto[++mc]},skill:{dmg:Bt.skill[lg++],healHp:Bt.skill[lg++],healBase:Bt.skill[lg++],cd:Bt.skill[lg++][0]},burst:{shieldHp:Bt.burst[Ti++],shieldBase:Bt.burst[Ti++],shieldDuration:Bt.burst[Ti++][0],shieldInterval:Bt.burst[Ti++][0],healHp:Bt.burst[Ti++],healBase:Bt.burst[Ti++],veinDmg:Bt.burst[Ti++],duration:Bt.burst[Ti++][0],cd:Bt.burst[Ti++][0],energyCost:Bt.burst[Ti++][0]},passive1:{hpThresh_:Bt.passive1[0][0],heal_:Bt.passive1[1][0],dendro_dmg_:Bt.passive1[2][0]},passive2:{duration:Bt.passive2[0][0],burningBloom_dmg_:Bt.passive2[1][0],aggSpread_dmg_:Bt.passive2[2][0],maxHp:Bt.passive2[3][0]},passive3:{heal:((D1=(x1=Bt==null?void 0:Bt.passive3)==null?void 0:x1[0])==null?void 0:D1[0])??0},constellation2:{atkAmount:Bt.constellation2[0],dmg:Bt.constellation2[1],heal:Bt.constellation2[2],cd:Bt.constellation2[3]},constellation4:{eleMas:Bt.constellation4[0],duration:Bt.constellation4[1]},constellation6:{healChance:Bt.constellation6[0],vein_dmgInc:Bt.constellation6[1]}},[NB,ab]=h(Ar,"a1HpStatus"),Y2=n(a.asc,1,i(ab,"below",le.passive1.heal_)),Z2=n(a.asc,1,i(ab,"above",le.passive1.dendro_dmg_)),[FB,lb]=h(Ar,"a4AfterHeal"),ng=n(a.asc,4,i(lb,"on",yl(le.passive2.maxHp/1e3*le.passive2.burningBloom_dmg_,m(c(le.passive2.burningBloom_dmg_),a.total.hp,1/1e3)))),i_=n(a.asc,4,i(lb,"on",yl(le.passive2.maxHp/1e3*le.passive2.aggSpread_dmg_,m(c(le.passive2.aggSpread_dmg_),a.total.hp,1/1e3)))),[OB,t0]=h(Ar,"c4AfterBurst"),e0=n(a.constellation,4,i(t0,"on",le.constellation4.eleMas)),c_=Cn("hp",le.burst.shieldHp,le.burst.shieldBase,"burst"),Kn={normal:Object.fromEntries(le.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",le.charged.dmg,"charged")},plunging:E("atk",le.plunging),skill:{dmg:o("atk",le.skill.dmg,"skill"),heal:cl("hp",le.skill.healHp,le.skill.healBase,"skill")},burst:{shield:c_,shield_dendro:tn("dendro",c_),heal:cl("hp",le.burst.healHp,le.burst.healBase,"burst"),dmg:o("atk",le.burst.veinDmg,"burst")},passive2:{burning_dmg_:ng,bloom_dmg_:{...ng},hyperbloom_dmg_:{...ng},burgeon_dmg_:{...ng},aggravate_dmg_:i_,spread_dmg_:{...i_}},passive3:{heal:Gn(m(c(le.passive3.heal),a.total.hp))},constellation2:{dmg:n(a.constellation,2,F(m(c(le.constellation2.dmg),a.total.atk),"skill",{hit:{ele:p(eb)}})),heal:n(a.constellation,2,zn("hp",m($(a.total.skillIndex,le.skill.healHp,{unit:"%"}),c(le.constellation2.heal)),m($(a.total.skillIndex,le.skill.healBase),c(le.constellation2.heal))))},constellation6:{vein_dmgInc:n(a.constellation,6,m(c(le.constellation6.vein_dmgInc),a.total.hp))}},a0=n(a.constellation,3,3),l0=n(a.constellation,5,3),jB=B(Ar,eb,"liyue",ih,Kn,{premod:{skillBoost:l0,burstBoost:a0,heal_:Y2,dendro_dmg_:Z2,burst_dmgInc:Kn.constellation6.vein_dmgInc},teamBuff:{premod:{eleMas:e0,...Kn.passive2}}}),GB={key:Ar,name:oe.name,rarity:ih.rarity,elementKey:eb,weaponTypeKey:ih.weaponType,gender:"M",constellationName:oe.chg("constellationName"),title:oe.chg("title"),talent:{auto:oe.talentTem("auto",[{text:oe.chg("auto.fields.normal")},{fields:le.normal.hitArr.map((t,l)=>({node:e(Kn.normal[l],{name:oe.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:oe.chg("auto.fields.charged")},{fields:[{node:e(Kn.charged.dmg,{name:oe.chg("auto.skillParams.4")})},{text:oe.chg("auto.skillParams.5"),value:le.charged.stamina}]},{text:oe.chg("auto.fields.plunging")},{fields:[{node:e(Kn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Kn.plunging.low,{name:s("plunging.low")})},{node:e(Kn.plunging.high,{name:s("plunging.high")})}]}]),skill:oe.talentTem("skill",[{fields:[{node:e(Kn.skill.dmg,{name:oe.chg("skill.skillParams.0")})},{node:e(Kn.skill.heal,{name:oe.chg("skill.skillParams.1")})},{text:s("cd"),value:le.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]}]),burst:oe.talentTem("burst",[{fields:[{node:e(Kn.burst.shield,{name:oe.chg("burst.skillParams.0")})},{node:e(Kn.burst.shield_dendro,{name:oe.ch("seamlessDendro")})},{text:oe.chg("burst.skillParams.1"),value:le.burst.shieldDuration,unit:"s",fixed:1},{node:e(Kn.burst.heal,{name:oe.chg("burst.skillParams.2")})},{node:e(Kn.burst.dmg,{name:oe.chg("burst.skillParams.3")})},{text:oe.chg("burst.skillParams.4"),value:le.burst.duration,unit:"s"},{text:s("cd"),value:le.burst.cd,unit:"s"},{text:s("energyCost"),value:le.burst.energyCost}]},oe.condTem("passive2",{path:FB,value:lb,teamBuff:!0,name:oe.ch("a4Cond"),states:{on:{fields:[...Object.values(Kn.passive2).map(t=>({node:t})),{text:s("duration"),value:le.passive2.duration,unit:"s"}]}}}),oe.condTem("constellation4",{path:OB,value:t0,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:e0},{text:s("duration"),value:le.constellation4.duration,unit:"s"}]}}}),oe.headerTem("constellation6",{fields:[{node:e(Kn.constellation6.vein_dmgInc,{name:oe.ch("c6DmgInc")})}]})]),passive1:oe.talentTem("passive1",[oe.condTem("passive1",{path:NB,value:ab,name:d("activeChar"),states:{below:{name:d("lessPercentHP",{percent:le.passive1.hpThresh_*100}),fields:[{node:Y2}]},above:{name:d("greaterEqPercentHP",{percent:le.passive1.hpThresh_*100}),fields:[{node:Z2}]}}})]),passive2:oe.talentTem("passive2"),passive3:oe.talentTem("passive3",[{fields:[{node:e(Kn.passive3.heal,{name:s("healing")})}]}]),constellation1:oe.talentTem("constellation1",[oe.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:oe.talentTem("constellation2",[{fields:[{node:e(Kn.constellation2.dmg,{name:oe.ch("c2Dmg")})},{node:e(Kn.constellation2.heal,{name:oe.ch("c2Heal")})},{canShow:t=>t.get(a.constellation).value>=2,text:s("cd"),value:le.constellation2.cd,unit:"s"}]}]),constellation3:oe.talentTem("constellation3",[{fields:[{node:a0}]}]),constellation4:oe.talentTem("constellation4"),constellation5:oe.talentTem("constellation5",[{fields:[{node:l0}]}]),constellation6:oe.talentTem("constellation6")}},zB=new R(GB,jB),jd="Barbara",n0="hydro",ch=_.char.data[jd],an=_.char.skillParam[jd],ca=A(jd,ch.weaponType);let uc=0,Xr=0,sg=0;const vn={normal:{hitArr:[an.auto[uc++],an.auto[uc++],an.auto[uc++],an.auto[uc++]]},charged:{dmg:an.auto[uc++],stamina:an.auto[uc++][0]},plunging:{dmg:an.auto[uc++],low:an.auto[uc++],high:an.auto[uc++]},skill:{cregen_hp_:an.skill[Xr++],cregen_hp:an.skill[Xr++],regen_hp_:an.skill[Xr++],regen_hp:an.skill[Xr++],dmg:an.skill[Xr++],duration:an.skill[Xr++][0],cd:an.skill[Xr++][0]},burst:{hp_:an.burst[sg++],hp:an.burst[sg++],cd:an.burst[sg++][0],enerCost:an.burst[sg++][0]},passive1:{stam:-an.passive1[0][0]},passive2:{ext:an.passive2[0][0],maxExt:an.passive2[0][1]},constellation2:{cdDec:.15,hydro_dmg_:.15}},s0=n(a.constellation,3,3),o0=n(a.constellation,5,3),[WB,nb]=h(jd,"skill"),LB=n(a.asc,1,i(nb,"on",i(a.activeCharKey,G.charKey,vn.passive1.stam))),UB=n(a.asc,1,i(nb,"on",vn.passive1.stam)),[qB,sb]=h(jd,"c2"),VB=n(a.constellation,2,i(sb,"on",i(a.activeCharKey,G.charKey,vn.constellation2.hydro_dmg_))),JB=n(a.constellation,2,i(sb,"on",vn.constellation2.hydro_dmg_)),zi={normal:Object.fromEntries(vn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",vn.charged.dmg,"charged")},plunging:E("atk",vn.plunging),skill:{regen:cl("hp",vn.skill.regen_hp_,vn.skill.regen_hp,"skill"),cregen:cl("hp",vn.skill.cregen_hp_,vn.skill.cregen_hp,"skill"),dmg:o("atk",vn.skill.dmg,"skill")},burst:{regen:cl("hp",vn.burst.hp_,vn.burst.hp,"burst")}},QB=B(jd,n0,"mondstadt",ch,zi,{premod:{skillBoost:o0,burstBoost:s0},teamBuff:{premod:{staminaDec_:LB,hydro_dmg_:VB}}}),XB={key:jd,name:ca.name,rarity:ch.rarity,elementKey:n0,weaponTypeKey:ch.weaponType,gender:"F",constellationName:ca.chg("constellationName"),title:ca.chg("title"),talent:{auto:ca.talentTem("auto",[{text:ca.chg("auto.fields.normal")},{fields:vn.normal.hitArr.map((t,l)=>({node:e(zi.normal[l],{name:ca.chg(`auto.skillParams.${l}`)})}))},{text:ca.chg("auto.fields.charged")},{fields:[{node:e(zi.charged.dmg,{name:ca.chg("auto.skillParams.4")})},{text:ca.chg("auto.skillParams.5"),value:vn.charged.stamina}]},{text:ca.chg("auto.fields.plunging")},{fields:[{node:e(zi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(zi.plunging.low,{name:s("plunging.low")})},{node:e(zi.plunging.high,{name:s("plunging.high")})}]}]),skill:ca.talentTem("skill",[{fields:[{node:e(zi.skill.regen,{name:ca.chg("skill.skillParams.0")})},{node:e(zi.skill.cregen,{name:ca.chg("skill.skillParams.1")})},{node:e(zi.skill.dmg,{name:ca.chg("skill.skillParams.2")})},{text:ca.chg("skill.skillParams.3"),value:vn.skill.duration,unit:"s"},{text:ca.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=2?`${vn.skill.cd}s - ${vn.constellation2.cdDec*100}%`:`${vn.skill.cd}s`}]}]),burst:ca.talentTem("burst",[{fields:[{node:e(zi.burst.regen,{name:ca.chg("burst.skillParams.0")})},{text:ca.chg("burst.skillParams.1"),value:vn.burst.cd},{text:ca.chg("burst.skillParams.2"),value:vn.burst.enerCost}]}]),passive1:ca.talentTem("passive1",[ca.condTem("passive1",{teamBuff:!0,value:nb,path:WB,name:ca.ch("passive1.cond"),states:{on:{fields:[{node:e(UB,y.info("staminaDec_"))}]}}})]),passive2:ca.talentTem("passive2"),passive3:ca.talentTem("passive3"),constellation1:ca.talentTem("constellation1"),constellation2:ca.talentTem("constellation2",[ca.condTem("constellation2",{teamBuff:!0,value:sb,path:qB,name:ca.ch("constellation2.cond"),states:{on:{fields:[{node:e(JB,y.info("hydro_dmg_"))}]}}})]),constellation3:ca.talentTem("constellation3",[{fields:[{node:s0}]}]),constellation4:ca.talentTem("constellation4"),constellation5:ca.talentTem("constellation5",[{fields:[{node:o0}]}]),constellation6:ca.talentTem("constellation6")}},YB=new R(XB,QB),Gd="Beidou",ob="electro",rh=_.char.data[Gd],Ha=_.char.skillParam[Gd],It=A(Gd,rh.weaponType);let to=0,Xm=0,im=0;const Bl={normal:{hitArr:[Ha.auto[to++],Ha.auto[to++],Ha.auto[to++],Ha.auto[to++],Ha.auto[to++]]},charged:{spinningDmg:Ha.auto[to++],finalDmg:Ha.auto[to++],stamina:Ha.auto[to++][0],duration:Ha.auto[to++][0]},plunging:{dmg:Ha.auto[to++],low:Ha.auto[to++],high:Ha.auto[to++]},skill:{shieldHp_:Ha.skill[Xm++],shieldFlat:Ha.skill[Xm++],dmgBase:Ha.skill[Xm++],onHitDmgBonus:Ha.skill[Xm++],cd:Ha.skill[Xm++][0]},burst:{burstDmg:Ha.burst[im++],lightningDmg:Ha.burst[im++],damageReduction:Ha.burst[im++],duration:Ha.burst[im++][0],cd:Ha.burst[im++][0],energyCost:Ha.burst[im++][0]},ascension4:{normalDmg_:Ha.passive2[0][0],chargeDmg_:Ha.passive2[0][0],attackSpeed:Ha.passive2[0][0]},constellation1:{shieldHp_:Ha.constellation1[0]},constellation4:{skillDmg:Ha.constellation4[0],duration:Ha.constellation4[1]},constellation6:{electroResShred_:-1*Ha.constellation6[0]}},[ZB,dh]=h(Gd,"burst"),[tI,Hp]=h(Gd,"Ascension4"),i0=n(a.constellation,3,3),c0=n(a.constellation,5,3),eI=Bl.skill.dmgBase.map((t,l)=>t+Bl.skill.onHitDmgBonus[l]),aI=Bl.skill.dmgBase.map((t,l)=>t+2*Bl.skill.onHitDmgBonus[l]),r0=i(dh,"on",$(a.total.burstIndex,Bl.burst.damageReduction)),d0=n(a.constellation,6,i(dh,"on",c(Bl.constellation6.electroResShred_))),m0=n(a.asc,4,i(Hp,"on",c(Bl.ascension4.normalDmg_))),u0=n(a.asc,4,i(Hp,"on",c(Bl.ascension4.chargeDmg_))),g0=n(a.asc,4,i(Hp,"on",c(Bl.ascension4.attackSpeed))),r_=Cn("hp",Bl.skill.shieldHp_,Bl.skill.shieldFlat,"skill"),d_=Hu("hp",c(Bl.constellation1.shieldHp_),0),Yn={normal:Object.fromEntries(Bl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Bl.charged.spinningDmg,"charged"),finalDmg:o("atk",Bl.charged.finalDmg,"charged")},plunging:E("atk",Bl.plunging),skill:{shield:r_,electroShield:tn("electro",r_),baseDmg:o("atk",Bl.skill.dmgBase,"skill"),dmgOneHit:o("atk",eI,"skill"),dmgTwoHits:o("atk",aI,"skill")},burst:{burstDmg:o("atk",Bl.burst.burstDmg,"burst"),lightningDmg:o("atk",Bl.burst.lightningDmg,"burst")},constellation1:{shield:n(a.constellation,1,d_),electroShield:n(a.constellation,1,tn("electro",d_))},constellation4:{skillDmg:n(a.constellation,4,F(m(a.total.atk,c(Bl.constellation4.skillDmg)),"elemental",{hit:{ele:p(ob)}}))}},lI=B(Gd,ob,"liyue",rh,Yn,{premod:{skillBoost:i0,burstBoost:c0,normal_dmg_:m0,charged_dmg_:u0,atkSPD_:g0},teamBuff:{premod:{electro_enemyRes_:d0,dmgRed_:e(r0,y.info("dmgRed_"))}}}),nI={key:Gd,name:It.name,rarity:rh.rarity,elementKey:ob,weaponTypeKey:rh.weaponType,gender:"F",constellationName:It.chg("constellationName"),title:It.chg("title"),talent:{auto:It.talentTem("auto",[{text:It.chg("auto.fields.normal")},{fields:Bl.normal.hitArr.map((t,l)=>({node:e(Yn.normal[l],{name:It.chg(`auto.skillParams.${l}`)})}))},{text:It.chg("auto.fields.charged")},{fields:[{node:e(Yn.charged.spinningDmg,{name:It.chg("auto.skillParams.5")})},{node:e(Yn.charged.finalDmg,{name:It.chg("auto.skillParams.6")})},{text:It.chg("auto.skillParams.7"),value:Bl.charged.stamina,unit:"/s"},{text:It.chg("auto.skillParams.8"),value:Bl.charged.duration,unit:"s"}]},{text:It.chg("auto.fields.plunging")},{fields:[{node:e(Yn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Yn.plunging.low,{name:s("plunging.low")})},{node:e(Yn.plunging.high,{name:s("plunging.high")})}]}]),skill:It.talentTem("skill",[{fields:[{node:e(Yn.skill.shield,{name:d("dmgAbsorption.none")})},{node:e(Yn.skill.electroShield,{name:d("dmgAbsorption.electro")})},{node:e(Yn.skill.baseDmg,{name:It.chg("skill.skillParams.1")})},{node:e(Yn.skill.dmgOneHit,{name:It.ch("skillOneHit")})},{node:e(Yn.skill.dmgTwoHits,{name:It.ch("skillTwoHit")})},{text:It.chg("skill.skillParams.3"),value:Bl.skill.cd,unit:"s"}]},It.condTem("passive2",{teamBuff:!1,value:Hp,path:tI,name:It.ch("tidecallerMaxDmg"),states:{on:{fields:[{node:m0},{node:u0},{node:g0},{text:s("duration"),value:10,unit:"s"},{text:It.ch("a4charge")}]}}})]),burst:It.talentTem("burst",[{fields:[{node:e(Yn.burst.burstDmg,{name:It.chg("burst.skillParams.0")})},{node:e(Yn.burst.lightningDmg,{name:It.chg("burst.skillParams.1")})},{text:It.chg("burst.skillParams.3"),value:Bl.burst.duration,unit:"s"},{text:It.chg("burst.skillParams.4"),value:Bl.burst.cd,unit:"s"},{text:It.chg("burst.skillParams.5"),value:Bl.burst.energyCost}]},It.condTem("burst",{teamBuff:!0,value:dh,path:ZB,name:It.ch("duringBurst"),states:{on:{fields:[{node:r0}]}}}),It.headerTem("constellation6",{teamBuff:!0,canShow:i(dh,"on",1),fields:[{node:d0}]})]),passive1:It.talentTem("passive1"),passive2:It.talentTem("passive2"),passive3:It.talentTem("passive3"),constellation1:It.talentTem("constellation1",[It.fieldsTem("constellation1",{fields:[{node:e(Yn.constellation1.shield,{name:d("dmgAbsorption.none")})},{node:e(Yn.constellation1.electroShield,{name:d("dmgAbsorption.electro")})}]})]),constellation2:It.talentTem("constellation2"),constellation3:It.talentTem("constellation3",[{fields:[{node:i0}]}]),constellation4:It.talentTem("constellation4",[It.fieldsTem("constellation4",{fields:[{node:e(Yn.constellation4.skillDmg,{name:It.ch("c4dmg")})}]})]),constellation5:It.talentTem("constellation5",[{fields:[{node:c0}]}]),constellation6:It.talentTem("constellation6")}},sI=new R(nI,lI),zd="Bennett",ib="pyro",mh=_.char.data[zd],pa=_.char.skillParam[zd],dt=A(zd,mh.weaponType);let Ao=0,gc=0,Yr=0;const Ta={normal:{hitArr:[pa.auto[Ao++],pa.auto[Ao++],pa.auto[Ao++],pa.auto[Ao++],pa.auto[Ao++]]},charged:{dmg1:pa.auto[Ao++],dmg2:pa.auto[Ao++],stamina:pa.auto[Ao++][0]},plunging:{dmg:pa.auto[Ao++],low:pa.auto[Ao++],high:pa.auto[Ao++]},skill:{press:pa.skill[gc++],hold1_1:pa.skill[gc++],hold1_2:pa.skill[gc++],hold2_1:pa.skill[gc++],hold2_2:pa.skill[gc++],explosion:pa.skill[gc++],cd_press:pa.skill[gc++][0],cd_hold1:pa.skill[gc++][0],cd_hold2:pa.skill[gc++][0]},burst:{dmg:pa.burst[Yr++],regen_:pa.burst[Yr++],regenFlat:pa.burst[Yr++],atkBonus:pa.burst[Yr++],duration:pa.burst[Yr++][0],cd:pa.burst[Yr++][0],enerCost:pa.burst[Yr++][0]},passive1:{cd_red:.2},passive2:{cd_red:.5},constellation1:{atk_inc:pa.constellation1[0]},constellation2:{hp_thresh:pa.constellation2[0],er_inc:pa.constellation2[1]},constellation4:{dmg:pa.constellation4[0]},constellation6:{pyro_dmg:pa.constellation6[0]}},oI=$(a.total.burstIndex,Ta.burst.atkBonus,{unit:"%"}),iI=n(a.constellation,1,c(Ta.constellation1.atk_inc)),cI=m(D(oI,iI),a.base.atk),[rI,Du]=h(zd,"activeInArea"),Ep=i("activeInArea",Du,i(a.activeCharKey,G.charKey,1)),h0=e(cI,{...y.info("atk")}),p0=i(Ep,1,h0),dI=n(a.asc,1,Ta.passive1.cd_red),k0=n(a.asc,4,i(Ep,1,Ta.passive2.cd_red)),mI=n(a.constellation,6,w(G.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0))),uI=i(Ep,1,n(a.constellation,6,Ta.constellation6.pyro_dmg)),gI=rn(mI,1,rn(Ep,1,ib)),[hI,f0]=h(zd,"underHP"),b0=n(a.constellation,2,i("underHP",f0,Ta.constellation2.er_inc)),is={normal:Object.fromEntries(Ta.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ta.charged.dmg1,"charged"),dmg2:o("atk",Ta.charged.dmg2,"charged")},plunging:E("atk",Ta.plunging),skill:{press:o("atk",Ta.skill.press,"skill"),hold1_1:o("atk",Ta.skill.hold1_1,"skill"),hold1_2:o("atk",Ta.skill.hold1_2,"skill"),hold2_1:o("atk",Ta.skill.hold2_1,"skill"),hold2_2:o("atk",Ta.skill.hold2_2,"skill"),explosion:o("atk",Ta.skill.explosion,"skill")},burst:{dmg:o("atk",Ta.burst.dmg,"burst"),regen:cl("hp",Ta.burst.regen_,Ta.burst.regenFlat,"burst"),atkInc:p0},constellation4:{dmg:n(a.constellation,4,m(o("atk",Ta.skill.hold1_2,"skill"),Ta.constellation4.dmg))}},v0=n(a.constellation,3,3),_0=n(a.constellation,5,3),pI=B(zd,ib,"mondstadt",mh,is,{teamBuff:{premod:{pyro_dmg_:uI},total:{atk:p0},infusion:{team:gI}},premod:{skillBoost:v0,burstBoost:_0,enerRech_:b0}}),kI={key:zd,name:dt.name,rarity:mh.rarity,elementKey:ib,weaponTypeKey:mh.weaponType,gender:"M",constellationName:dt.chg("constellationName"),title:dt.chg("title"),talent:{auto:dt.talentTem("auto",[{text:dt.chg("auto.fields.normal")},{fields:Ta.normal.hitArr.map((t,l)=>({node:e(is.normal[l],{name:dt.chg(`auto.skillParams.${l}`)})}))},{text:dt.chg("auto.fields.charged")},{fields:[{node:e(is.charged.dmg1,{name:dt.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(is.charged.dmg2,{name:dt.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:dt.chg("auto.skillParams.6"),value:Ta.charged.stamina}]},{text:dt.chg("auto.fields.plunging")},{fields:[{node:e(is.plunging.dmg,{name:s("plunging.dmg")})},{node:e(is.plunging.low,{name:s("plunging.low")})},{node:e(is.plunging.high,{name:s("plunging.high")})}]}]),skill:dt.talentTem("skill",[{fields:[{node:e(is.skill.press,{name:dt.chg("skill.skillParams.0")})},{text:s("press.cd"),unit:"s",value:t=>tk(t,Ta.skill.cd_press)},{node:e(is.skill.hold1_1,{name:dt.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:e(is.skill.hold1_2,{name:dt.chg("skill.skillParams.1"),textSuffix:"(2)"})},{text:dt.ch("skill.lvl1CD"),unit:"s",value:t=>tk(t,Ta.skill.cd_hold1)},{node:e(is.skill.hold2_1,{name:dt.chg("skill.skillParams.2"),textSuffix:"(1)"})},{node:e(is.skill.hold2_2,{name:dt.chg("skill.skillParams.2"),textSuffix:"(2)"})},{node:e(is.skill.explosion,{name:dt.chg("skill.skillParams.3")})},{text:dt.ch("skill.lvl2CD"),unit:"s",value:t=>tk(t,Ta.skill.cd_hold2)}]},dt.headerTem("passive1",{fields:[{node:e(dI,y.info("skillCDRed_"))}]})]),burst:dt.talentTem("burst",[{fields:[{node:e(is.burst.dmg,{name:dt.chg("burst.skillParams.0")})},{node:e(is.burst.regen,{name:dt.chg("burst.skillParams.1")})},{text:dt.chg("burst.skillParams.3"),value:Ta.burst.duration,unit:"s"},{text:dt.chg("burst.skillParams.4"),value:Ta.burst.cd,unit:"s"},{text:dt.chg("burst.skillParams.5"),value:Ta.burst.enerCost}]},dt.condTem("burst",{value:Du,path:rI,name:d("activeCharField"),teamBuff:!0,states:{activeInArea:{fields:[{node:h0}]}}}),dt.headerTem("passive2",{fields:[{node:e(k0,y.info("skillCDRed_"))}],canShow:i(Du,"activeInArea",1)}),dt.headerTem("constellation1",{fields:[{text:d("bonusScaling.atkInc"),value:d("bonusScaling.value",{value:Ta.constellation1.atk_inc*100}),unit:s("stat.base.atk")}],canShow:i(Du,"activeInArea",1)}),dt.headerTem("constellation6",{fields:[{node:p(Ta.constellation6.pyro_dmg,y.info("pyro_dmg_"))},{text:dt.ch("c6PyroInfusion")}],canShow:i(Du,"activeInArea",1),teamBuff:!0})]),passive1:dt.talentTem("passive1"),passive2:dt.talentTem("passive2"),passive3:dt.talentTem("passive3"),constellation1:dt.talentTem("constellation1"),constellation2:dt.talentTem("constellation2",[dt.condTem("constellation2",{value:f0,path:hI,name:d("lessPercentHP",{percent:Ta.constellation2.hp_thresh*100}),states:{underHP:{fields:[{node:b0}]}}})]),constellation3:dt.talentTem("constellation3",[{fields:[{node:v0}]}]),constellation4:dt.talentTem("constellation4",[dt.fieldsTem("constellation4",{fields:[{node:e(is.constellation4.dmg,{name:dt.ch("c4DMG")})}]})]),constellation5:dt.talentTem("constellation5",[{fields:[{node:_0}]}]),constellation6:dt.talentTem("constellation6")}},fI=new R(kI,pI);function tk(t,l){let r=1,u=l+"s";return t.get(a.asc).value>=1&&(r=.8),r*=1-t.get(k0).value,r!==1&&(u+=" - "+(100-r*100)+"% = "+l*r),u}const Pr="Candace",y0="hydro",uh=_.char.data[Pr],Xa=_.char.skillParam[Pr],Me=A(Pr,uh.weaponType);let $i=0,cm=0,Zr=0;const La={normal:{hitArr:[Xa.auto[$i++],Xa.auto[$i++],Xa.auto[$i++],Xa.auto[$i++],Xa.auto[$i++]]},charged:{dmg:Xa.auto[$i++],stamina:Xa.auto[$i++][0]},plunging:{dmg:Xa.auto[$i++],low:Xa.auto[$i++],high:Xa.auto[$i++]},skill:{shield_hp_:Xa.skill[cm++],shield_base:Xa.skill[cm++],basic_dmg:Xa.skill[cm++],charged_dmg:Xa.skill[cm++],pressCd:Xa.skill[cm++][0],holdCd:Xa.skill[cm++][0]},burst:{skill_dmg:Xa.burst[Zr++],duration:Xa.burst[Zr++][0],dmg_bonus_:Xa.burst[Zr++][0],wave_dmg:Xa.burst[Zr++],num_waves:Xa.burst[Zr++][0],cd:Xa.burst[Zr++][0],cost:Xa.burst[Zr++][0]},passive2:{normalEle_dmg_:Xa.passive2[0][0]},constellation1:{durationInc:Xa.constellation1[0]},constellation2:{hp_:Xa.constellation2[0],duration:Xa.constellation2[1]},constellation6:{dmg:Xa.constellation6[0],cd:Xa.constellation6[1]}},[bI,Mm]=h(Pr,"afterBurst"),T0=i(Mm,"on",c(La.burst.dmg_bonus_),y.info("normalEle_dmg_")),vI=rn(Mm,"on",w(G.weaponType,{sword:p("hydro"),claymore:p("hydro"),polearm:p("hydro")},p(""))),cb=e(n(a.asc,4,i(Mm,"on",m(c(La.passive2.normalEle_dmg_),a.total.hp,1/1e3))),y.info("normalEle_dmg_")),[m_,zk]=h(Pr,"c2AfterSkillHit"),Wk=n(a.constellation,2,i(zk,"on",c(La.constellation2.hp_))),Os={normal:Object.fromEntries(La.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",La.charged.dmg,"charged")},plunging:E("atk",La.plunging),skill:{shield:Cn("hp",La.skill.shield_hp_,La.skill.shield_base,"skill"),hydroShield:tn("hydro",Cn("hp",La.skill.shield_hp_,La.skill.shield_base,"skill")),basicDmg:o("hp",La.skill.basic_dmg,"skill"),chargedDmg:o("hp",La.skill.charged_dmg,"skill")},burst:{skillDmg:o("hp",La.burst.skill_dmg,"burst"),waveDmg:o("hp",La.burst.wave_dmg,"burst")},passive2:{normalEle_dmg_:cb},constellation6:{dmg:n(a.constellation,6,F(m(c(La.constellation6.dmg),a.total.hp),"burst"))}},$0=n(a.constellation,3,3),x0=n(a.constellation,5,3),_I=B(Pr,y0,"sumeru",uh,Os,{premod:{burstBoost:$0,skillBoost:x0,hp_:Wk},teamBuff:{premod:{normalEle_dmg_:D(T0,cb)},infusion:{team:vI}}}),yI={key:Pr,name:Me.name,rarity:uh.rarity,elementKey:y0,weaponTypeKey:uh.weaponType,gender:"F",constellationName:Me.chg("constellationName"),title:Me.chg("title"),talent:{auto:Me.talentTem("auto",[{text:Me.chg("auto.fields.normal")},{fields:La.normal.hitArr.map((t,l)=>({node:e(Os.normal[l],{name:Me.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:Me.chg("auto.fields.charged")},{fields:[{node:e(Os.charged.dmg,{name:Me.chg("auto.skillParams.4")})},{text:Me.chg("auto.skillParams.5"),value:La.charged.stamina}]},{text:Me.chg("auto.fields.plunging")},{fields:[{node:e(Os.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Os.plunging.low,{name:s("plunging.low")})},{node:e(Os.plunging.high,{name:s("plunging.high")})}]}]),skill:Me.talentTem("skill",[{fields:[{node:e(Os.skill.shield,{name:Me.chg("skill.skillParams.0")})},{node:e(Os.skill.hydroShield,{name:d("dmgAbsorption.hydro")})},{node:e(Os.skill.basicDmg,{name:Me.chg("skill.skillParams.1")})},{node:e(Os.skill.chargedDmg,{name:Me.chg("skill.skillParams.2")})},{text:Me.chg("skill.skillParams.3"),value:La.skill.pressCd,unit:"s"},{text:Me.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=4?La.skill.pressCd:La.skill.holdCd,unit:"s"}]},Me.condTem("constellation2",{path:m_,value:zk,name:d("hitOp.skill"),states:{on:{fields:[{node:Wk},{text:s("duration"),value:La.constellation2.duration,unit:"s"}]}}})]),burst:Me.talentTem("burst",[{fields:[{node:e(Os.burst.skillDmg,{name:Me.chg("burst.skillParams.0")})},{node:e(Os.burst.waveDmg,{name:Me.chg("burst.skillParams.3")})},{text:Me.chg("burst.skillParams.4"),value:La.burst.num_waves},{text:s("cd"),value:La.burst.cd,unit:"s"},{text:s("energyCost"),value:La.burst.cost}]},Me.condTem("burst",{path:bI,value:Mm,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:T0},{text:Me.ch("hydroInfusion")},{text:s("duration"),value:t=>t.get(a.constellation).value>=1?`${La.burst.duration}s + ${La.constellation1.durationInc}s = ${La.burst.duration+La.constellation1.durationInc}`:La.burst.duration,unit:"s"}]}}}),Me.headerTem("passive2",{teamBuff:!0,canShow:i(Mm,"on",1),fields:[{node:cb}]}),Me.headerTem("constellation6",{fields:[{node:e(Os.constellation6.dmg,{name:Me.chg("burst.skillParams.3")})}]}),Me.condTem("constellation2",{path:m_,value:zk,name:d("hitOp.skill"),teamBuff:!0,canShow:z(a.activeCharKey,Pr,n(a.asc,4,i(Mm,"on",1))),states:{on:{fields:[{node:Wk},{text:s("duration"),value:La.constellation2.duration,unit:"s"}]}}})]),passive1:Me.talentTem("passive1"),passive2:Me.talentTem("passive2"),passive3:Me.talentTem("passive3"),constellation1:Me.talentTem("constellation1"),constellation2:Me.talentTem("constellation2"),constellation3:Me.talentTem("constellation3",[{fields:[{node:$0}]}]),constellation4:Me.talentTem("constellation4"),constellation5:Me.talentTem("constellation5",[{fields:[{node:x0}]}]),constellation6:Me.talentTem("constellation6")}},TI=new R(yI,_I),Wd="Charlotte",Td=_.char.data[Wd],J=_.char.skillParam[Wd],mt=A(Wd,Td.weaponType);let tr=0,xi=0,hc=0;const Be={normal:{hitArr:[J.auto[tr++],J.auto[tr++],J.auto[tr++]]},charged:{dmg:J.auto[tr++],stam:J.auto[tr++][0],thornDmg:J.auto[8],thornInterval:J.auto[9][0]},plunging:{dmg:J.auto[tr++],low:J.auto[tr++],high:J.auto[tr++]},skill:{photoPressDmg:J.skill[xi++],photoHoldDmg:J.skill[xi++],snapMarkDmg:J.skill[xi++],snapMarkInterval:J.skill[xi++][0],snapMarkDuration:J.skill[xi++][0],focusMarkDmg:J.skill[xi++],focusMarkInterval:J.skill[xi++][0],focusMarkDuration:J.skill[xi++][0],cd:J.skill[xi++][0],finisherCd:J.skill[xi++][0]},burst:{castHealBase:J.burst[hc++],castHealFlat:J.burst[hc++],skillDmg:J.burst[hc++],kameraHealBase:J.burst[hc++],kameraHealFlat:J.burst[hc++],kameraDmg:J.burst[hc++],duration:J.burst[hc++][0],cd:J.burst[hc++][0],enerCost:J.burst[hc++][0]},passive1:{cdReduction:J.passive1[0][0],triggers:J.passive1[1][0],cd:J.passive1[2][0]},passive2:{heal_:J.passive2[0][0],cryo_dmg_:J.passive2[1][0]},constellation1:{healInterval:J.constellation1[0],heal:J.constellation1[1],duration:J.constellation1[2]},constellation2:{atk1:J.constellation2[0],atk2:J.constellation2[1],atk3:J.constellation2[2],duration:J.constellation2[3]},constellation4:{dmg_:J.constellation4[0],energyRegen:J.constellation4[1],cd:J.constellation4[2],triggers:J.constellation4[3]},constellation6:{dmg:J.constellation6[0],heal:J.constellation6[1],cd:J.constellation6[2]}},D0=e(D(dn.fontaine,-1),{asConst:!0}),P0=n(a.asc,4,m(D0,c(Be.passive2.heal_))),C0=e(D(...Object.entries(dn).filter(([t])=>F1.includes(t)&&t!=="fontaine").map(([t,l])=>l)),{asConst:!0}),S0=n(a.asc,4,m(C0,c(Be.passive2.cryo_dmg_))),w0=N(1,3),[$I,A0]=h(Wd,"c2Hit"),B0=n(a.constellation,2,w(A0,C(w0,t=>c(Be.constellation2[`atk${t}`])),O)),[xI,I0]=h(Wd,"c4Marked"),R0=n(a.constellation,4,i(I0,"on",Be.constellation4.dmg_)),Wn={normal:{...Object.fromEntries(Be.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Be.charged.dmg,"charged"),thornDmg:o("atk",Be.charged.thornDmg,"normal")},plunging:E("atk",Be.plunging),skill:{photoPressDmg:o("atk",Be.skill.photoPressDmg,"skill"),photoHoldDmg:o("atk",Be.skill.photoHoldDmg,"skill"),snapMarkDmg:o("atk",Be.skill.snapMarkDmg,"skill"),focusMarkDmg:o("atk",Be.skill.focusMarkDmg,"skill")},burst:{castHeal:cl("atk",Be.burst.castHealBase,Be.burst.castHealFlat,"burst"),skillDmg:o("atk",Be.burst.skillDmg,"burst"),kameraHeal:cl("atk",Be.burst.kameraHealBase,Be.burst.kameraHealFlat,"burst"),kameraDmg:o("atk",Be.burst.kameraDmg,"burst")},constellation1:{heal:n(a.constellation,1,zn("atk",Be.constellation1.heal,0))},constellation6:{dmg:n(a.constellation,6,F(m(c(Be.constellation6.dmg),a.total.atk),"burst",{hit:{ele:p("cryo")}})),heal:n(a.constellation,6,zn("atk",c(Be.constellation6.heal),0))}},M0=n(a.constellation,3,3),H0=n(a.constellation,5,3),DI=B(Wd,Td.ele,Td.region,Td,Wn,{premod:{skillBoost:H0,burstBoost:M0,heal_:P0,cryo_dmg_:S0,atk_:B0,burst_dmg_:R0}}),PI={key:Wd,name:mt.name,rarity:Td.rarity,elementKey:Td.ele,weaponTypeKey:Td.weaponType,gender:"F",constellationName:mt.chg("constellationName"),title:mt.chg("title"),talent:{auto:mt.talentTem("auto",[{text:mt.chg("auto.fields.normal")},{fields:Be.normal.hitArr.map((t,l)=>({node:e(Wn.normal[l],{name:mt.chg(`auto.skillParams.${l}`)})}))},{text:mt.chg("auto.fields.charged")},{fields:[{node:e(Wn.charged.dmg,{name:mt.chg("auto.skillParams.3")})},{text:mt.chg("auto.skillParams.4"),value:Be.charged.stam}]},{text:mt.chg("auto.fields.plunging")},{fields:[{node:e(Wn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Wn.plunging.low,{name:s("plunging.low")})},{node:e(Wn.plunging.high,{name:s("plunging.high")})}]},{text:mt.chg("auto.fields.arkhe")},{fields:[{node:e(Wn.charged.thornDmg,{name:mt.chg("auto.skillParams.7")})},{text:mt.chg("auto.skillParams.8"),value:Be.charged.thornInterval,unit:"s"}]}]),skill:mt.talentTem("skill",[{fields:[{node:e(Wn.skill.photoPressDmg,{name:mt.chg("skill.skillParams.0")})},{node:e(Wn.skill.photoHoldDmg,{name:mt.chg("skill.skillParams.1")})},{node:e(Wn.skill.snapMarkDmg,{name:mt.chg("skill.skillParams.2")})},{text:mt.chg("skill.skillParams.3"),value:Be.skill.snapMarkInterval,unit:"s",fixed:1},{text:mt.chg("skill.skillParams.4"),value:Be.skill.snapMarkDuration,unit:"s"},{node:e(Wn.skill.focusMarkDmg,{name:mt.chg("skill.skillParams.5")})},{text:mt.chg("skill.skillParams.6"),value:Be.skill.focusMarkInterval,unit:"s",fixed:1},{text:mt.chg("skill.skillParams.7"),value:Be.skill.focusMarkDuration,unit:"s"},{text:s("cd"),value:Be.skill.cd,unit:"s"},{text:mt.chg("skill.skillParams.9"),value:Be.skill.finisherCd,unit:"s"}]},mt.condTem("constellation2",{value:A0,path:$I,name:mt.ch("c2Cond"),states:C(w0,t=>({name:d("opponents",{count:t}),fields:[{node:B0},{text:s("duration"),value:Be.constellation2.duration,unit:"s"}]}))}),mt.condTem("constellation4",{value:I0,path:xI,name:mt.ch("c4Cond"),states:{on:{fields:[{node:R0}]}}})]),burst:mt.talentTem("burst",[{fields:[{node:e(Wn.burst.castHeal,{name:mt.chg("burst.skillParams.0")})},{node:e(Wn.burst.skillDmg,{name:mt.chg("burst.skillParams.1")})},{node:e(Wn.burst.kameraHeal,{name:mt.chg("burst.skillParams.2")})},{node:e(Wn.burst.kameraDmg,{name:mt.chg("burst.skillParams.3")})},{text:mt.chg("burst.skillParams.4"),value:Be.burst.duration,unit:"s"},{text:s("cd"),value:Be.burst.cd,unit:"s"},{text:s("energyCost"),value:Be.burst.enerCost}]},mt.headerTem("constellation1",{fields:[{node:e(Wn.constellation1.heal,{name:s("healing")})},{text:d("interval"),value:Be.constellation1.healInterval,unit:"s"},{text:s("duration"),value:Be.constellation1.duration,unit:"s"}]})]),passive1:mt.talentTem("passive1"),passive2:mt.talentTem("passive2",[{fields:[{canShow:t=>t.get(D0).value>0,node:P0},{canShow:t=>t.get(C0).value>0,node:S0}]}]),passive3:mt.talentTem("passive3"),constellation1:mt.talentTem("constellation1"),constellation2:mt.talentTem("constellation2"),constellation3:mt.talentTem("constellation3",[{fields:[{node:M0}]}]),constellation4:mt.talentTem("constellation4"),constellation5:mt.talentTem("constellation5",[{fields:[{node:H0}]}]),constellation6:mt.talentTem("constellation6",[mt.fieldsTem("constellation6",{fields:[{node:e(Wn.constellation6.dmg,{name:d("dmg")})},{node:e(Wn.constellation6.heal,{name:s("healing")})},{text:s("cd"),value:Be.constellation6.cd,unit:"s"}]})])}},CI=new R(PI,DI),Br="Chevreuse",$d=_.char.data[Br],_e=_.char.skillParam[Br],Vt=A(Br,$d.weaponType);let Di=0,pc=0,og=0;const sl={normal:{hitArr:[_e.auto[Di++],_e.auto[Di++],_e.auto[Di++],_e.auto[Di++],_e.auto[Di++]]},charged:{dmg:_e.auto[Di++],stam:_e.auto[Di++][0]},plunging:{dmg:_e.auto[Di++],low:_e.auto[Di++],high:_e.auto[Di++]},skill:{pressDmg:_e.skill[pc++],holdDmg:_e.skill[pc++],ballDmg:_e.skill[pc++],duration:_e.skill[pc++][0],healBase:_e.skill[pc++],healFlat:_e.skill[pc++],bladeDmg:_e.skill[pc++],bladeInterval:_e.skill[pc++][0],cd:_e.skill[pc++][0]},burst:{grenadeDmg:_e.burst[og++],shellDmg:_e.burst[og++],cd:_e.burst[og++][0],enerCost:_e.burst[og++][0]},passive1:{pyroElectro_enemyRes_:_e.passive1[0][0],duration:_e.passive1[1][0]},passive2:{atk_:_e.passive2[0][0],duration:_e.passive2[1][0],max_atk_:_e.passive2[2][0]},constellation1:{energyRegen:_e.constellation1[0],cd:_e.constellation1[1]},constellation2:{dmg:_e.constellation2[0],cd:_e.constellation2[1]},constellation6:{triggerLength:_e.constellation6[0],heal:_e.constellation6[1],pyroElectro_dmg_:_e.constellation6[2],duration:_e.constellation6[3],maxStacks:_e.constellation6[4]}},Lk=n(dn.electro,1,i(dn.ele,2,1)),[SI,E0]=h(Br,"a1AfterOverload"),rb=n(a.asc,1,i(Lk,1,i(E0,"on",-sl.passive1.pyroElectro_enemyRes_))),K0={...rb},[wI,N0]=h(Br,"a4AfterBall"),db=n(a.asc,4,i(N0,"on",i(D(i(G.charEle,"pyro",1),i(G.charEle,"electro",1)),1,yl(m(c(sl.passive2.atk_),e({...a.premod.hp},{pivot:!0}),1/1e3),c(sl.passive2.max_atk_))))),F0=N(1,sl.constellation6.maxStacks),[AI,O0]=h(Br,"c6AfterHealStacks"),mb=n(a.constellation,6,w(O0,C(F0,t=>c(t*sl.constellation6.pyroElectro_dmg_)),O)),j0={...mb},bs={normal:{...Object.fromEntries(sl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",sl.charged.dmg,"charged")},plunging:E("atk",sl.plunging),skill:{pressDmg:o("atk",sl.skill.pressDmg,"skill"),holdDmg:o("atk",sl.skill.holdDmg,"skill"),ballDmg:o("atk",sl.skill.ballDmg,"skill"),heal:cl("hp",sl.skill.healBase,sl.skill.healFlat,"skill"),bladeDmg:o("atk",sl.skill.bladeDmg,"skill")},burst:{grenadeDmg:o("atk",sl.burst.grenadeDmg,"burst"),shellDmg:o("atk",sl.burst.shellDmg,"burst")},passive2:{a4AfterBall_atk_:db},constellation2:{dmg:n(a.constellation,2,F(m(c(sl.constellation2.dmg),a.total.atk),"skill",{hit:{ele:p("pyro")}}))},constellation6:{heal:n(a.constellation,6,zn("hp",sl.constellation6.heal,0))}},G0=n(a.constellation,3,3),z0=n(a.constellation,5,3),BI=B(Br,$d.ele,$d.region,$d,bs,{premod:{skillBoost:G0,burstBoost:z0},teamBuff:{premod:{pyro_enemyRes_:rb,electro_enemyRes_:K0,pyro_dmg_:mb,electro_dmg_:j0,atk_:db}}}),II={key:Br,name:Vt.name,rarity:$d.rarity,elementKey:$d.ele,weaponTypeKey:$d.weaponType,gender:"F",constellationName:Vt.chg("constellationName"),title:Vt.chg("title"),talent:{auto:Vt.talentTem("auto",[{text:Vt.chg("auto.fields.normal")},{fields:sl.normal.hitArr.map((t,l)=>({node:e(bs.normal[l],{name:Vt.chg(`auto.skillParams.${l>2?l-1:l}`),textSuffix:l===2||l===3?`(${l-1})`:void 0})}))},{text:Vt.chg("auto.fields.charged")},{fields:[{node:e(bs.charged.dmg,{name:Vt.chg("auto.skillParams.4")})},{text:Vt.chg("auto.skillParams.5"),value:sl.charged.stam}]},{text:Vt.chg("auto.fields.plunging")},{fields:[{node:e(bs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(bs.plunging.low,{name:s("plunging.low")})},{node:e(bs.plunging.high,{name:s("plunging.high")})}]}]),skill:Vt.talentTem("skill",[{fields:[{node:e(bs.skill.pressDmg,{name:Vt.chg("skill.skillParams.0")})},{node:e(bs.skill.holdDmg,{name:Vt.chg("skill.skillParams.1")})},{node:e(bs.skill.ballDmg,{name:Vt.chg("skill.skillParams.2")})},{node:e(bs.skill.heal,{name:Vt.chg("skill.skillParams.3")})},{text:Vt.chg("skill.skillParams.4"),value:sl.skill.duration,unit:"s"},{node:e(bs.skill.bladeDmg,{name:Vt.chg("skill.skillParams.5")})},{text:Vt.chg("skill.skillParams.6"),value:sl.skill.bladeInterval,unit:"s"},{text:s("cd"),value:sl.skill.cd,unit:"s"}]},Vt.condTem("passive2",{value:N0,path:wI,teamBuff:!0,name:Vt.ch("a4CondName"),states:{on:{fields:[{node:db},{text:s("duration"),value:sl.passive2.duration,unit:"s"}]}}}),Vt.condTem("constellation6",{value:O0,path:AI,teamBuff:!0,name:Vt.ch("c6CondName"),states:C(F0,t=>({name:d("stack",{count:t}),fields:[{node:mb},{node:j0},{text:s("duration"),value:sl.constellation6.duration,unit:"s"}]}))})]),burst:Vt.talentTem("burst",[{fields:[{node:e(bs.burst.grenadeDmg,{name:Vt.chg("burst.skillParams.0")})},{node:e(bs.burst.shellDmg,{name:Vt.chg("burst.skillParams.1")})},{text:s("cd"),value:sl.burst.cd,unit:"s"},{text:s("energyCost"),value:sl.burst.enerCost}]}]),passive1:Vt.talentTem("passive1",[Vt.fieldsTem("passive1",{teamBuff:!0,canShow:z(Lk,1,1),fields:[{text:Vt.ch("notPyroElectroTeam")}]}),Vt.condTem("passive1",{value:E0,path:SI,teamBuff:!0,canShow:Lk,name:d("reactionOp.overload"),states:{on:{fields:[{node:rb},{node:K0},{text:s("duration"),value:sl.passive1.duration,unit:"s"}]}}})]),passive2:Vt.talentTem("passive2"),passive3:Vt.talentTem("passive3"),constellation1:Vt.talentTem("constellation1"),constellation2:Vt.talentTem("constellation2",[Vt.fieldsTem("constellation2",{fields:[{node:e(bs.constellation2.dmg,{name:d("dmg")})},{text:s("cd"),value:sl.constellation2.cd,unit:"s"}]})]),constellation3:Vt.talentTem("constellation3",[{fields:[{node:G0}]}]),constellation4:Vt.talentTem("constellation4"),constellation5:Vt.talentTem("constellation5",[{fields:[{node:z0}]}]),constellation6:Vt.talentTem("constellation6",[Vt.fieldsTem("constellation6",{fields:[{node:e(bs.constellation6.heal,{name:s("healing")})}]})])}},RI=new R(II,BI),Ld="Chiori",xd=_.char.data[Ld],ie=_.char.skillParam[Ld],xa=A(Ld,xd.weaponType);let kc=-1,td=0,ig=0;const Pn={normal:{hitArr:[ie.auto[++kc],ie.auto[++kc],ie.auto[++kc],ie.auto[kc+=2]]},charged:{dmg:ie.auto[++kc],stam:ie.auto[kc+=2][0]},plunging:{dmg:ie.auto[++kc],low:ie.auto[++kc],high:ie.auto[++kc]},skill:{turretDmg_atk:ie.skill[td++],turretDmg_def:ie.skill[td++],turretDuration:ie.skill[td++][0],turretInterval:ie.skill[td++][0],sweepDmg_atk:ie.skill[td++],sweepDmg_def:ie.skill[td++],cd:ie.skill[td++][0]},burst:{bloomDmg_atk:ie.burst[ig++],bloomDmg_def:ie.burst[ig++],cd:ie.burst[ig++][0],enerCost:ie.burst[ig++][0]},passive1:{dollDmg:ie.passive1[0][0],momentDuration:ie.passive1[1][0],dollInterval:ie.passive1[2][0],dollTriggers:ie.passive1[3][0],infusionDuration:ie.passive1[4][0]},passive2:{geo_dmg_:ie.passive2[0][0],duration:ie.passive2[1][0]},constellation1:{aoeIncrease:ie.constellation1[0]},constellation2:{interval:ie.constellation2[0],duration:ie.constellation2[1],dmg:ie.constellation2[2],dollDuration:ie.constellation2[3]},constellation4:{duration:ie.constellation4[0],dollDuration:ie.constellation4[1],maxDolls:ie.constellation4[2],cd:ie.constellation4[4]},constellation6:{cdReduction:ie.constellation6[0],auto_dmgInc_def:ie.constellation6[1]}},[MI,W0]=h(Ld,"a1Infusion"),HI=Sr(a.asc,1,rn(W0,"on",p("geo"))),[EI,L0]=h(Ld,"a4Construct"),U0=n(a.asc,4,i(L0,"on",Pn.passive2.geo_dmg_)),ub=n(a.constellation,6,m(c(Pn.constellation6.auto_dmgInc_def),a.total.def));function u_(t){return Xi(["atk","def"],[Pn.skill.sweepDmg_atk,Pn.skill.sweepDmg_def],"skill",void 0,t)}function g_(t){return Xi(["atk","def"],[Pn.skill.turretDmg_atk,Pn.skill.turretDmg_def],"skill",void 0,t)}const Zo={normal:{...Object.fromEntries(Pn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Pn.charged.dmg,"charged")},plunging:E("atk",Pn.plunging),skill:{turretDmg:g_(),sweepDmg:u_()},burst:{bloomDmg:Xi(["atk","def"],[Pn.burst.bloomDmg_atk,Pn.burst.bloomDmg_def],"burst")},passive1:{dollDmg:n(a.asc,1,u_(c(Pn.passive1.dollDmg)))},constellation2:{dollDmg:n(a.constellation,2,g_(c(Pn.passive1.dollDmg*Pn.constellation2.dmg)))},constellation6:{c6_normal_dmgInc:ub}},q0=n(a.constellation,3,3),V0=n(a.constellation,5,3),KI=B(Ld,xd.ele,xd.region,xd,Zo,{premod:{skillBoost:q0,burstBoost:V0,normal_dmgInc:ub,geo_dmg_:U0},infusion:{overridableSelf:HI}}),NI={key:Ld,name:xa.name,rarity:xd.rarity,elementKey:xd.ele,weaponTypeKey:xd.weaponType,gender:"F",constellationName:xa.chg("constellationName"),title:xa.chg("title"),talent:{auto:xa.talentTem("auto",[{text:xa.chg("auto.fields.normal")},{fields:Pn.normal.hitArr.map((t,l)=>({node:e(Zo.normal[l],{name:xa.chg(`auto.skillParams.${l}`)})}))},{text:xa.chg("auto.fields.charged")},{fields:[{node:e(Zo.charged.dmg,{name:xa.chg("auto.skillParams.4")})},{text:xa.chg("auto.skillParams.5"),value:Pn.charged.stam}]},{text:xa.chg("auto.fields.plunging")},{fields:[{node:e(Zo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Zo.plunging.low,{name:s("plunging.low")})},{node:e(Zo.plunging.high,{name:s("plunging.high")})}]},xa.headerTem("constellation6",{fields:[{node:ub}]})]),skill:xa.talentTem("skill",[{fields:[{node:e(Zo.skill.turretDmg,{name:xa.chg("skill.skillParams.0")})},{text:xa.chg("skill.skillParams.1"),value:Pn.skill.turretDuration,unit:"s"},{text:xa.chg("skill.skillParams.2"),value:Pn.skill.turretInterval,unit:"s",fixed:1},{node:e(Zo.skill.sweepDmg,{name:xa.chg("skill.skillParams.3")})},{text:s("cd"),value:Pn.skill.cd,unit:"s"}]}]),burst:xa.talentTem("burst",[{fields:[{node:e(Zo.burst.bloomDmg,{name:xa.chg("burst.skillParams.0")})},{text:s("cd"),value:Pn.burst.cd,unit:"s"},{text:s("energyCost"),value:Pn.burst.enerCost}]}]),passive1:xa.talentTem("passive1",[{fields:[{node:e(Zo.passive1.dollDmg,{name:d("dmg")})}]},xa.condTem("passive1",{value:W0,path:MI,name:xa.ch("a1Cond"),states:{on:{fields:[{text:P(Rp,{color:"geo",children:d("infusion.geo")})}]}}})]),passive2:xa.talentTem("passive2",[xa.condTem("passive2",{value:L0,path:EI,name:xa.ch("a4Cond"),states:{on:{fields:[{node:U0}]}}})]),passive3:xa.talentTem("passive3"),constellation1:xa.talentTem("constellation1"),constellation2:xa.talentTem("constellation2",[{fields:[{node:e(Zo.constellation2.dollDmg,{name:d("dmg")})}]}]),constellation3:xa.talentTem("constellation3",[{fields:[{node:q0}]}]),constellation4:xa.talentTem("constellation4"),constellation5:xa.talentTem("constellation5",[{fields:[{node:V0}]}]),constellation6:xa.talentTem("constellation6")}},FI=new R(NI,KI),Ir="Chongyun",Kp="cryo",gh=_.char.data[Ir],Tl=_.char.skillParam[Ir],$t=A(Ir,gh.weaponType);let cg=0,ek=0,OI=0,ak=0;const hs={normal:{hitArr:[Tl.auto[0],Tl.auto[1],Tl.auto[2],Tl.auto[3]]},charged:{spin_dmg:Tl.auto[4],final_dmg:Tl.auto[5],stamina:Tl.auto[6][0],duration:Tl.auto[7][0]},plunging:{dmg:Tl.auto[8],low:Tl.auto[9],high:Tl.auto[10]},skill:{dmg:Tl.skill[cg++],infusionDuration:Tl.skill[cg++],cd:Tl.skill[cg++][0],fieldDuration:Tl.skill[cg++][0]},burst:{dmg:Tl.burst[ek++],cd:Tl.burst[ek++][0],enerCost:Tl.burst[ek++][0]},passive1:{atk_spd:Tl.passive1[OI++][0]},passive2:{dmg:Tl.passive2[ak++][0],res:Tl.passive2[ak++][0],duration:Tl.passive2[ak++][0]},constellation1:{dmg:Tl.constellation1[0]},constellation2:{cdr:Tl.constellation2[0]},constellation4:{energy_regen:Tl.constellation4[0],cd:Tl.constellation4[1]},constellation6:{burst_dmg_:Tl.constellation6[0]}},[jI,J0]=h(Ir,"asc4"),[GI,Uk]=h(Ir,"skill"),[zI,Q0]=h(Ir,"c6"),h_=o("atk",hs.skill.dmg,"skill"),ti={normal:Object.fromEntries(hs.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",hs.charged.spin_dmg,"charged"),finalDmg:o("atk",hs.charged.final_dmg,"charged")},plunging:E("atk",hs.plunging),skill:{dmg:h_},burst:{dmg:o("atk",hs.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,h_)},constellation1:{dmg:n(a.constellation,1,F(m(c(hs.constellation1.dmg),a.total.atk),"elemental",{hit:{ele:p(Kp)}}))}},X0=n(a.asc,4,i(J0,"hit",-.1)),Y0=i("activeInArea",Uk,i(a.activeCharKey,G.charKey,1)),Z0=n(a.asc,1,c(.08)),WI=i(Y0,1,Z0),LI=w(G.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0)),UI=rn(LI,1,rn(Y0,1,Kp)),ty=n(a.constellation,6,i(Q0,"on",hs.constellation6.burst_dmg_)),ey=n(a.constellation,3,3),ay=n(a.constellation,5,3),qI=B(Ir,Kp,"liyue",gh,ti,{premod:{skillBoost:ay,burstBoost:ey,burst_dmg_:ty},teamBuff:{premod:{cryo_enemyRes_:X0,atkSPD_:WI},infusion:{team:UI}}}),VI={key:Ir,name:$t.name,rarity:gh.rarity,elementKey:"cryo",weaponTypeKey:gh.weaponType,gender:"M",constellationName:$t.chg("constellationName"),title:$t.chg("title"),talent:{auto:$t.talentTem("auto",[{text:$t.chg("auto.fields.normal")},{fields:hs.normal.hitArr.map((t,l)=>({node:e(ti.normal[l],{name:$t.chg(`auto.skillParams.${l}`)})}))},{text:$t.chg("auto.fields.charged")},{fields:[{node:e(ti.charged.spinningDmg,{name:$t.chg("auto.skillParams.4")})},{node:e(ti.charged.finalDmg,{name:$t.chg("auto.skillParams.5")})},{text:$t.chg("auto.skillParams.6"),value:hs.charged.stamina,unit:"/s"},{text:$t.chg("auto.skillParams.7"),value:hs.charged.duration,unit:"s"}]},{text:$t.chg("auto.fields.plunging")},{fields:[{node:e(ti.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ti.plunging.low,{name:s("plunging.low")})},{node:e(ti.plunging.high,{name:s("plunging.high")})}]}]),skill:$t.talentTem("skill",[{fields:[{node:e(ti.skill.dmg,{name:$t.chg("skill.skillParams.0")})},{text:$t.chg("skill.skillParams.2"),value:hs.skill.fieldDuration,unit:"s"},{text:$t.chg("skill.skillParams.3"),value:hs.skill.cd,unit:"s"}]},$t.condTem("skill",{teamBuff:!0,value:Uk,path:GI,name:d("activeCharField"),states:{activeInArea:{fields:[{text:$t.ch("infusion"),variant:Kp},{text:$t.chg("skill.skillParams.1"),value:t=>t.get($(a.total.skillIndex,hs.skill.infusionDuration)).value,unit:"s",fixed:1}]}}}),$t.headerTem("passive1",{teamBuff:!0,canShow:i(Uk,"activeInArea",1),fields:[{node:e(Z0,y.info("atkSPD_"))}]})]),burst:$t.talentTem("burst",[{fields:[{node:e(ti.burst.dmg,{name:$t.chg("burst.skillParams.0")})},{text:$t.chg("burst.skillParams.1"),value:hs.burst.cd,unit:"s"},{text:$t.chg("burst.skillParams.2"),value:hs.burst.enerCost},{text:$t.ch("blades"),value:t=>t.get(a.constellation).value<6?3:4}]}]),passive1:$t.talentTem("passive1"),passive2:$t.talentTem("passive2",[$t.fieldsTem("passive2",{fields:[{node:e(ti.passive2.dmg,{name:$t.ch("passive2")})}]}),$t.condTem("passive2",{teamBuff:!0,value:J0,path:jI,name:$t.ch("asc4Cond"),states:{hit:{fields:[{node:X0}]}}})]),passive3:$t.talentTem("passive3"),constellation1:$t.talentTem("constellation1",[$t.fieldsTem("constellation1",{fields:[{node:e(ti.constellation1.dmg,{name:$t.ch("constellation1")})}]})]),constellation2:$t.talentTem("constellation2"),constellation3:$t.talentTem("constellation3",[{fields:[{node:ey}]}]),constellation4:$t.talentTem("constellation4"),constellation5:$t.talentTem("constellation5",[{fields:[{node:ay}]}]),constellation6:$t.talentTem("constellation6",[$t.condTem("constellation6",{value:Q0,path:zI,name:$t.ch("constellation6"),states:{on:{fields:[{node:ty}]}}})])}},JI=new R(VI,qI),Rr="Collei",Au="dendro",QI="sumeru",hh=_.char.data[Rr],ul=_.char.skillParam[Rr],Da=A(Rr,hh.weaponType);let fc=0,p_=0,Ym=0,lk=0,k_=0;const Vn={normal:{hitArr:[ul.auto[fc++],ul.auto[fc++],ul.auto[fc++],ul.auto[fc++]]},charged:{aimed:ul.auto[fc++],aimedCharged:ul.auto[fc++]},plunging:{dmg:ul.auto[fc++],low:ul.auto[fc++],high:ul.auto[fc++]},skill:{dmg:ul.skill[p_++],cd:ul.skill[p_++][0]},burst:{explosionDmg:ul.burst[Ym++],leapDmg:ul.burst[Ym++],duration:ul.burst[Ym++][0],cd:ul.burst[Ym++][0],enerCost:ul.burst[Ym++][0]},passive1:{unknown:ul.passive1[lk++][0],sproutDmg:ul.passive1[lk++][0],duration:ul.passive1[lk++][0]},passive2:{durationInc:ul.passive2[k_++][0],maxExtension:ul.passive2[k_++][0]},constellation1:{enerRech_:ul.constellation1[0]},constellation2:{duration:ul.constellation2[0],sproutDmg:ul.constellation2[1],durationInc:ul.constellation2[2]},constellation4:{eleMas:ul.constellation4[0],duration:ul.constellation4[1]},constellation6:{anbarDmg:ul.constellation6[0]}},[XI,ly]=h(Rr,"afterBurst"),ny=n(a.constellation,4,i(ly,"on",Vn.constellation4.eleMas)),YI=z(G.charKey,Rr,ny),[ZI,sy]=h(Rr,"offField"),oy=n(a.constellation,1,i(sy,"on",Vn.constellation1.enerRech_)),ro={normal:Object.fromEntries(Vn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Vn.charged.aimed,"charged"),aimedCharged:o("atk",Vn.charged.aimedCharged,"charged",{hit:{ele:p(Au)}})},plunging:E("atk",Vn.plunging),skill:{dmg:o("atk",Vn.skill.dmg,"skill")},burst:{explosionDmg:o("atk",Vn.burst.explosionDmg,"burst"),leapDmg:o("atk",Vn.burst.leapDmg,"burst")},passive1:{dmg:n(a.asc,1,F(m(c(Vn.passive1.sproutDmg),a.total.atk),"skill",{hit:{ele:p(Au)}}))},constellation6:{dmg:n(a.constellation,6,F(m(c(Vn.constellation6.anbarDmg),a.total.atk),"elemental",{hit:{ele:p(Au)}}))}},iy=n(a.constellation,3,3),cy=n(a.constellation,5,3),t5=B(Rr,Au,QI,hh,ro,{premod:{burstBoost:cy,skillBoost:iy,enerRech_:oy},teamBuff:{premod:{eleMas:YI}}}),e5={key:Rr,name:Da.name,rarity:hh.rarity,elementKey:Au,weaponTypeKey:hh.weaponType,gender:"F",constellationName:Da.chg("constellationName"),title:Da.chg("title"),talent:{auto:Da.talentTem("auto",[{text:Da.chg("auto.fields.normal")},{fields:Vn.normal.hitArr.map((t,l)=>({node:e(ro.normal[l],{name:Da.chg(`auto.skillParams.${l}`)})}))},{text:Da.chg("auto.fields.charged")},{fields:[{node:e(ro.charged.aimed,{name:Da.chg("auto.skillParams.4")})},{node:e(ro.charged.aimedCharged,{name:Da.chg("auto.skillParams.5")})}]},{text:Da.chg("auto.fields.plunging")},{fields:[{node:e(ro.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ro.plunging.low,{name:s("plunging.low")})},{node:e(ro.plunging.high,{name:s("plunging.high")})}]}]),skill:Da.talentTem("skill",[{fields:[{node:e(ro.skill.dmg,{name:Da.chg("skill.skillParams.0")})},{text:Da.chg("skill.skillParams.1"),value:Vn.skill.cd,unit:"s"}]},Da.headerTem("passive1",{fields:[{node:e(ro.passive1.dmg,{name:Da.ch("sproutDmg")})},{text:s("duration"),value:Vn.passive1.duration,unit:"s"}]})]),burst:Da.talentTem("burst",[{fields:[{node:e(ro.burst.explosionDmg,{name:Da.chg("burst.skillParams.0")})},{node:e(ro.burst.leapDmg,{name:Da.chg("burst.skillParams.1")})},{text:s("duration"),value:Vn.burst.duration,unit:"s"},{text:s("cd"),value:Vn.burst.cd,unit:"s"},{text:s("energyCost"),value:Vn.burst.enerCost}]},Da.condTem("constellation4",{path:XI,value:ly,teamBuff:!0,name:d("afterUse.burst"),canShow:z(G.charKey,a.activeCharKey,1),states:{on:{fields:[{node:e(ny,y.info("eleMas"))},{text:s("duration"),value:Vn.constellation4.duration,unit:"s"}]}}})]),passive1:Da.talentTem("passive1"),passive2:Da.talentTem("passive2"),passive3:Da.talentTem("passive3"),constellation1:Da.talentTem("constellation1",[Da.condTem("constellation1",{value:sy,path:ZI,name:d("charOffField"),states:{on:{fields:[{node:oy}]}}})]),constellation2:Da.talentTem("constellation2"),constellation3:Da.talentTem("constellation3",[{fields:[{node:iy}]}]),constellation4:Da.talentTem("constellation4"),constellation5:Da.talentTem("constellation5",[{fields:[{node:cy}]}]),constellation6:Da.talentTem("constellation6",[Da.fieldsTem("constellation6",{fields:[{node:e(ro.constellation6.dmg,{name:Da.ch("miniAnbarDmg")})}]})])}},a5=new R(e5,t5),Mr="Cyno",vr="electro",ph=_.char.data[Mr],zt=_.char.skillParam[Mr],kt=A(Mr,ph.weaponType);let Zm=0,Pi=5,f_=0,b_=0;const Fl={normal:{hitArr:[zt.auto[0],zt.auto[1],zt.auto[2],zt.auto[4]]},charged:{dmg:zt.auto[5],stamina:zt.auto[6][0]},plunging:{dmg:zt.auto[7],low:zt.auto[8],high:zt.auto[9]},skill:{skillDmg:zt.skill[Zm++],riteDmg:zt.skill[Zm++],durationBonus:zt.skill[Zm++][0],cd:zt.skill[Zm++][0],cdRite:zt.skill[Zm++][0]},burst:{normal:{hitArr:[zt.burst[0],zt.burst[1],zt.burst[2],zt.burst[3],zt.burst[Pi++]]},charged:{dmg:zt.burst[Pi++],stamina:zt.burst[Pi++][0]},plunging:{dmg:zt.burst[Pi++],low:zt.burst[Pi++],high:zt.burst[Pi++]},eleMas:zt.burst[Pi++][0],duration:zt.burst[Pi++][0],cd:zt.burst[Pi++][0],enerCost:zt.burst[Pi++][0]},passive1:{skill_dmg_:zt.passive1[f_++][0],boltDmg:zt.passive1[f_++][0]},passive2:{burst_normal_dmgInc_:zt.passive2[b_++][0],bolt_dmgInc_:zt.passive2[b_++][0]},constellation1:{normal_atkSpd_:zt.constellation1[0],duration:zt.constellation1[1]},constellation2:{electro_dmg_:zt.constellation2[0],duration:zt.constellation2[1],maxStacks:zt.constellation2[2],cd:zt.constellation2[3]},constellation4:{energyRestore:zt.constellation4[0],charges:zt.constellation4[1]}},[l5,ry]=h(Mr,"afterBurst"),dy=i(ry,"on",Fl.burst.eleMas),[n5,my]=h(Mr,"a1Judication"),qk=n(a.asc,1,i(my,"on",Fl.passive1.skill_dmg_)),v_=n(a.asc,4,m(c(Fl.passive2.burst_normal_dmgInc_),a.total.eleMas)),__=n(a.asc,4,m(c(Fl.passive2.bolt_dmgInc_),a.total.eleMas)),uy=N(1,Fl.constellation2.maxStacks),[s5,gy]=h(Mr,"c2NormHitStacks"),hy=n(a.constellation,2,w(gy,Object.fromEntries(uy.map(t=>[t,m(c(Fl.constellation2.electro_dmg_),t)])),O)),cs={normal:Object.fromEntries(Fl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Fl.charged.dmg,"charged")},plunging:E("atk",Fl.plunging),skill:{skillDmg:o("atk",Fl.skill.skillDmg,"skill",{premod:{skill_dmg_:qk}}),riteDmg:o("atk",Fl.skill.riteDmg,"skill",{premod:{skill_dmg_:qk}})},burst:{...Object.fromEntries(Fl.burst.normal.hitArr.map((t,l)=>[`normal_${l}`,F(m($(a.total.burstIndex,t,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p(vr)},premod:{normal_dmgInc:v_}})])),charged:F(m($(a.total.burstIndex,Fl.burst.charged.dmg,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p(vr)}}),...Object.fromEntries(Object.entries(Fl.burst.plunging).map(([t,l])=>[`plunging_${t}`,F(m($(a.total.burstIndex,l,{unit:"%"}),a.total.atk),t==="dmg"?"plunging_collision":"plunging_impact",{hit:{ele:p(vr)}})]))},passive1:{boltDmg:n(a.asc,1,F(m(Fl.passive1.boltDmg,a.total.atk),"skill",{hit:{ele:p(vr)},premod:{skill_dmgInc:__}}))},passive2:{burstNormalDmgInc:v_,boltDmgInc:__}},py=n(a.constellation,3,3),ky=n(a.constellation,5,3),o5=B(Mr,vr,"sumeru",ph,cs,{premod:{burstBoost:py,skillBoost:ky,eleMas:dy,electro_dmg_:hy}}),i5={key:Mr,name:kt.name,rarity:ph.rarity,elementKey:vr,weaponTypeKey:ph.weaponType,gender:"M",constellationName:kt.chg("constellationName"),title:kt.chg("title"),talent:{auto:kt.talentTem("auto",[{text:kt.chg("auto.fields.normal")},{fields:Fl.normal.hitArr.map((t,l)=>({node:e(cs.normal[l],{name:kt.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:kt.chg("auto.fields.charged")},{fields:[{node:e(cs.charged.dmg,{name:kt.chg("auto.skillParams.4")})},{text:kt.chg("auto.skillParams.5"),value:Fl.charged.stamina}]},{text:kt.chg("auto.fields.plunging")},{fields:[{node:e(cs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(cs.plunging.low,{name:s("plunging.low")})},{node:e(cs.plunging.high,{name:s("plunging.high")})}]}]),skill:kt.talentTem("skill",[{fields:[{node:e(cs.skill.skillDmg,{name:kt.chg("skill.skillParams.0")})},{node:e(cs.skill.riteDmg,{name:kt.chg("skill.skillParams.1")})},{text:kt.chg("skill.skillParams.2"),value:Fl.skill.durationBonus,unit:"s"},{text:s("cd"),value:Fl.skill.cd,unit:"s",fixed:1},{text:kt.chg("skill.skillParams.4"),value:Fl.skill.cdRite,unit:"s"}]},kt.headerTem("passive1",{fields:[{node:e(cs.passive1.boltDmg,{name:kt.ch("p1Dmg")})}]}),kt.condTem("passive1",{path:n5,value:my,name:kt.ch("judication"),states:{on:{fields:[{node:e(qk,{name:kt.ch("a1soulfarer_dmg_"),unit:"%"})}]}}}),kt.headerTem("passive2",{canShow:z(cs.passive2.boltDmgInc,0,1),fields:[{node:e(cs.passive2.boltDmgInc,{name:kt.ch("boltDmgInc")})}]})]),burst:kt.talentTem("burst",[{fields:[...Fl.burst.normal.hitArr.map((t,l)=>({node:e(cs.burst[`normal_${l}`],{name:kt.chg(`burst.skillParams.${l}`),multi:l===3?2:void 0})})),{node:e(cs.burst.charged,{name:kt.chg("burst.skillParams.5")})},{text:kt.chg("burst.skillParams.6"),value:Fl.burst.charged.stamina},...Object.entries(Fl.burst.plunging).map(([t])=>({node:e(cs.burst[`plunging_${t}`],{name:s(`plunging.${t}`)})})),{text:kt.chg("burst.skillParams.10"),value:Fl.burst.duration,unit:"s"},{text:kt.chg("burst.skillParams.11"),value:Fl.burst.cd,unit:"s"},{text:kt.chg("burst.skillParams.12"),value:Fl.burst.enerCost}]},kt.condTem("burst",{path:l5,value:ry,name:kt.ch("duringBurst"),states:{on:{fields:[{node:dy},{text:d(`infusion.${vr}`),variant:vr},{text:d("incInterRes")},{text:d("immuneToElectroCharged")}]}}}),kt.headerTem("passive2",{canShow:z(cs.passive2.burstNormalDmgInc,0,1),fields:[{node:e(cs.passive2.burstNormalDmgInc,{name:kt.ch("burstNormalDmgInc")})}]})]),passive1:kt.talentTem("passive1"),passive2:kt.talentTem("passive2"),passive3:kt.talentTem("passive3"),constellation1:kt.talentTem("constellation1"),constellation2:kt.talentTem("constellation2",[kt.condTem("constellation2",{path:s5,value:gy,name:d("hitOp.normal"),states:Object.fromEntries(uy.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:hy}]}]))})]),constellation3:kt.talentTem("constellation3",[{fields:[{node:py}]}]),constellation4:kt.talentTem("constellation4"),constellation5:kt.talentTem("constellation5",[{fields:[{node:ky}]}]),constellation6:kt.talentTem("constellation6")}},c5=new R(i5,o5),Ud="Dehya",fy="pyro",kh=_.char.data[Ud],st=_.char.skillParam[Ud],ft=A(Ud,kh.weaponType);let Bo=0,er=0,ed=0;const va={normal:{hitArr:[st.auto[Bo++],st.auto[Bo++],st.auto[Bo++],st.auto[Bo++]]},charged:{spin:st.auto[Bo++],final:st.auto[Bo++],stamina:st.auto[Bo++][0],duration:st.auto[Bo++][0]},plunging:{dmg:st.auto[Bo++],low:st.auto[Bo++],high:st.auto[Bo++]},skill:{indomitableDmg:st.skill[er++],rangingDmg:st.skill[er++],fieldDmgAtk:st.skill[er++],fieldDmgHp:st.skill[er++],mitigation:st.skill[er++],redmaneMax:st.skill[er++][0],fieldDuration:st.skill[er++][0],cd:st.skill[er++][0]},burst:{fistDmgAtk:st.burst[ed++],fistDmgHp:st.burst[ed++],driveDmgAtk:st.burst[ed++],driveDmgHp:st.burst[ed++],duration:st.burst[ed++][0],cd:st.burst[ed++][0],enerCost:st.burst[ed++][0]},passive2:{hpThreshold:st.passive2[0][0],initialHeal:st.passive2[1][0],dotHeal:st.passive2[2][0],dotInterval:st.passive2[3][0],duration:st.passive2[4][0],cd:st.passive2[5][0]},c1:{hp_:st.constellation1[0],skill_dmgInc:st.constellation1[1],burst_dmgInc:st.constellation1[2]},c2:{fieldDurationIncrease:st.constellation2[0],field_dmg_:st.constellation2[1]},c4:{energyRestore:st.constellation4[0],heal:st.constellation4[1],cd:st.constellation4[2]},c6:{burst_critRate_:st.constellation6[0],burst_critDMG_:st.constellation6[1],duration:st.constellation6[2],maxDuration:st.constellation6[3],maxBurst_critDMG_:st.constellation6[4]}},by=n(a.constellation,1,va.c1.hp_),gb=n(a.constellation,1,m(c(va.c1.skill_dmgInc),a.total.hp)),hb=n(a.constellation,1,m(c(va.c1.burst_dmgInc),a.total.hp)),[r5,vy]=h(Ud,"c2InField"),_y=n(a.constellation,2,i(vy,"on",va.c2.field_dmg_)),yy=n(a.constellation,6,va.c6.burst_critRate_),Ty=N(1,4),[d5,$y]=h(Ud,"c6CritStacks"),xy=n(a.constellation,6,w($y,C(Ty,t=>m(t,c(va.c6.burst_critDMG_))),O)),rs={normal:Object.fromEntries(va.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",va.charged.spin,"charged"),final:o("atk",va.charged.final,"charged")},plunging:E("atk",va.plunging),skill:{indomitableDmg:o("atk",va.skill.indomitableDmg,"skill"),rangingDmg:o("atk",va.skill.rangingDmg,"skill"),fieldDmg:Xi(["atk","hp"],[va.skill.fieldDmgAtk,va.skill.fieldDmgHp],"skill",{premod:{skill_dmg_:_y}}),redmaneMax:m(c(va.skill.redmaneMax),a.total.hp)},burst:{fistDmg:Xi(["atk","hp"],[va.burst.fistDmgAtk,va.burst.fistDmgHp],"burst"),driveDmg:Xi(["atk","hp"],[va.burst.driveDmgAtk,va.burst.driveDmgHp],"burst")},passive2:{initialHeal:n(a.asc,4,Gn(m(c(va.passive2.initialHeal),a.total.hp))),dotHeal:n(a.asc,4,Gn(m(c(va.passive2.dotHeal),a.total.hp)))},constellation1:{c1_skill_dmgInc:gb,c1_burst_dmgInc:hb},constellation4:{heal:n(a.constellation,4,Gn(m(c(va.c4.heal),a.total.hp)))}},Dy=n(a.constellation,3,3),Py=n(a.constellation,5,3),m5=B(Ud,fy,"sumeru",kh,rs,{premod:{burstBoost:Dy,skillBoost:Py,hp_:by,skill_dmgInc:gb,burst_dmgInc:hb,burst_critRate_:yy,burst_critDMG_:xy}}),u5={key:Ud,name:ft.name,rarity:kh.rarity,elementKey:fy,weaponTypeKey:kh.weaponType,gender:"F",constellationName:ft.chg("constellationName"),title:ft.chg("title"),talent:{auto:ft.talentTem("auto",[{text:ft.chg("auto.fields.normal")},{fields:va.normal.hitArr.map((t,l)=>({node:e(rs.normal[l],{name:ft.chg(`auto.skillParams.${l}`)})}))},{text:ft.chg("auto.fields.charged")},{fields:[{node:e(rs.charged.spin,{name:ft.chg("auto.skillParams.4")})},{node:e(rs.charged.final,{name:ft.chg("auto.skillParams.5")})},{text:ft.chg("auto.skillParams.6"),value:`${va.charged.stamina}/s`}]},{text:ft.chg("auto.fields.plunging")},{fields:[{node:e(rs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(rs.plunging.low,{name:s("plunging.low")})},{node:e(rs.plunging.high,{name:s("plunging.high")})}]}]),skill:ft.talentTem("skill",[{fields:[{node:e(rs.skill.indomitableDmg,{name:ft.chg("skill.skillParams.0")})},{node:e(rs.skill.rangingDmg,{name:ft.chg("skill.skillParams.1")})},{node:e(rs.skill.fieldDmg,{name:ft.chg("skill.skillParams.2")})},{node:$(a.total.skillIndex,va.skill.mitigation,{name:ft.chg("skill.skillParams.3"),unit:"%"})},{node:e(rs.skill.redmaneMax,{name:ft.chg("skill.skillParams.4")})},{text:ft.chg("skill.skillParams.5"),value:va.skill.fieldDuration,unit:"s"},{text:s("cd"),value:va.skill.cd,unit:"s"}]},ft.headerTem("constellation1",{fields:[{node:gb}]}),ft.condTem("constellation2",{path:r5,value:vy,name:ft.ch("inFieldAndTakeDmg"),states:{on:{fields:[{node:e(_y,{name:ft.ch("field_dmg_"),unit:"%"})}]}}})]),burst:ft.talentTem("burst",[{fields:[{node:e(rs.burst.fistDmg,{name:ft.chg("burst.skillParams.0")})},{node:e(rs.burst.driveDmg,{name:ft.chg("burst.skillParams.1")})},{text:s("duration"),value:va.burst.duration,unit:"s"},{text:s("cd"),value:va.burst.cd,unit:"s"},{text:s("energyCost"),value:va.burst.enerCost}]},ft.headerTem("constellation1",{fields:[{node:hb}]}),ft.headerTem("constellation4",{fields:[{node:e(rs.constellation4.heal,{name:s("hpRegenPerHit")})},{text:d("enerRegenPerHit"),value:va.c4.energyRestore},{text:s("cd"),value:va.c4.cd,unit:"s",fixed:1}]}),ft.headerTem("constellation6",{fields:[{node:yy}]}),ft.condTem("constellation6",{path:d5,value:$y,name:ft.ch("critHitDuringBurst"),states:C(Ty,t=>({name:d("hits",{count:t}),fields:[{node:xy}]}))})]),passive1:ft.talentTem("passive1"),passive2:ft.talentTem("passive2",[ft.fieldsTem("passive2",{fields:[{node:e(rs.passive2.initialHeal,{name:ft.ch("initialHeal")})},{node:e(rs.passive2.dotHeal,{name:ft.ch("dotHeal"),multi:5})}]})]),passive3:ft.talentTem("passive3"),constellation1:ft.talentTem("constellation1",[ft.fieldsTem("constellation1",{fields:[{node:by}]})]),constellation2:ft.talentTem("constellation2"),constellation3:ft.talentTem("constellation3",[{fields:[{node:Dy}]}]),constellation4:ft.talentTem("constellation4"),constellation5:ft.talentTem("constellation5",[{fields:[{node:Py}]}]),constellation6:ft.talentTem("constellation6")}},g5=new R(u5,m5),Gc="Diluc",Cy="pyro",fh=_.char.data[Gc],je=_.char.skillParam[Gc],ce=A(Gc,fh.weaponType);let Io=0,rg=0,rm=0,y_=0,T_=0,tu=0,nk=0;const Oe={normal:{hitArr:[je.auto[Io++],je.auto[Io++],je.auto[Io++],je.auto[Io++]]},charged:{spinningDmg:je.auto[Io++],finalDmg:je.auto[Io++],stamina:je.auto[Io++][0],duration:je.auto[Io++][0]},plunging:{dmg:je.auto[Io++],low:je.auto[Io++],high:je.auto[Io++]},skill:{firstHit:je.skill[rg++],secondHit:je.skill[rg++],thridHit:je.skill[rg++],cd:je.skill[rg++][0]},burst:{slashDmg:je.burst[rm++],dotDmg:je.burst[rm++],explosionDmg:je.burst[rm++],cd:je.burst[rm++][0],duration:je.burst[rm++][0],cost:je.burst[rm++][0]},passive1:{stamReduction:je.passive1[y_++][0],duration:je.passive1[y_++][0]},passive2:{durationInc:je.passive2[T_++][0],pyroInc:je.passive2[T_++][0]},constellation1:{dmgInc:je.constellation1[0],hpThresh_:.5},constellation2:{atkInc:je.constellation2[tu++],atkSpdInc:je.constellation2[tu++],duration:je.constellation2[tu++],maxStack:je.constellation2[tu++],cd:je.constellation2[tu++]},constellation4:{dmgInc:je.constellation4[0]},constellation6:{duration:je.constellation6[nk++],dmgInc:je.constellation6[nk++],atkSpdInc:je.constellation6[nk++]}},[h5,pb]=h(Gc,"Burst"),[p5,Sy]=h(Gc,"DilucC1"),[k5,kb]=h(Gc,"DilucC2"),[f5,fb]=h(Gc,"DilucC6"),b5=rn(pb,"on","pyro"),wy=n(a.asc,4,i(pb,"on",Oe.passive2.pyroInc)),Ay=n(a.constellation,1,i(Sy,"on",Oe.constellation1.dmgInc)),By=n(a.constellation,2,w(kb,Object.fromEntries(N(1,Oe.constellation2.maxStack).map(t=>[t,p(Oe.constellation2.atkInc*t)])),0,y.info("atk_"))),Iy=n(a.constellation,2,w(kb,Object.fromEntries(N(1,Oe.constellation2.maxStack).map(t=>[t,p(Oe.constellation2.atkSpdInc*t)])),0,y.info("atkSPD_"))),Ry=n(a.constellation,6,i(fb,"on",Oe.constellation6.dmgInc)),My=n(a.constellation,6,i(fb,"on",Oe.constellation6.atkSpdInc),y.info("atkSPD_")),$_={premod:{skill_dmg_:p(Oe.constellation4.dmgInc)},hit:{ele:p("pyro")}},vs={normal:Object.fromEntries(Oe.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Oe.charged.spinningDmg,"charged"),finalDmg:o("atk",Oe.charged.finalDmg,"charged")},plunging:E("atk",Oe.plunging),skill:{firstHit:o("atk",Oe.skill.firstHit,"skill"),secondHit:o("atk",Oe.skill.secondHit,"skill"),thirdHit:o("atk",Oe.skill.thridHit,"skill")},burst:{slashDmg:o("atk",Oe.burst.slashDmg,"burst"),dotDmg:o("atk",Oe.burst.dotDmg,"burst"),explosionDmg:o("atk",Oe.burst.explosionDmg,"burst")},constellation4:{secondHitBoost:n(a.constellation,4,o("atk",Oe.skill.secondHit,"skill",$_)),thirdHitBoost:n(a.constellation,4,o("atk",Oe.skill.thridHit,"skill",$_))}},Hy=n(a.constellation,3,3),Ey=n(a.constellation,5,3),v5=B(Gc,Cy,"mondstadt",fh,vs,{premod:{skillBoost:Hy,burstBoost:Ey,pyro_dmg_:wy,atk_:By,atkSPD_:D(My,Iy),all_dmg_:Ay,normal_dmg_:Ry},infusion:{nonOverridableSelf:b5}}),_5={key:Gc,name:ce.name,rarity:fh.rarity,elementKey:Cy,weaponTypeKey:fh.weaponType,gender:"M",constellationName:ce.chg("constellationName"),title:ce.chg("title"),talent:{auto:ce.talentTem("auto",[{text:ce.chg("auto.fields.normal")},{fields:Oe.normal.hitArr.map((t,l)=>({node:e(vs.normal[l],{name:ce.chg(`auto.skillParams.${l}`)})}))},{text:ce.chg("auto.fields.charged")},{fields:[{node:e(vs.charged.spinningDmg,{name:ce.chg("auto.skillParams.4")})},{node:e(vs.charged.finalDmg,{name:ce.chg("auto.skillParams.5")})},{text:ce.chg("auto.skillParams.6"),value:t=>t.get(a.asc).value>=1?`${Oe.charged.stamina}/s - ${Oe.passive1.stamReduction*100}%`:`${Oe.charged.stamina}/s`},{text:ce.chg("auto.skillParams.7"),value:t=>t.get(a.asc).value>=1?`${Oe.charged.duration}s + ${Oe.passive1.duration}`:Oe.charged.duration,unit:"s"}]},{text:ce.chg("auto.fields.plunging")},{fields:[{node:e(vs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(vs.plunging.low,{name:s("plunging.low")})},{node:e(vs.plunging.high,{name:s("plunging.high")})}]}]),skill:ce.talentTem("skill",[{fields:[{node:e(vs.skill.firstHit,{name:ce.chg("skill.skillParams.0")})},{node:e(vs.skill.secondHit,{name:ce.chg("skill.skillParams.1")})},{node:e(vs.skill.thirdHit,{name:ce.chg("skill.skillParams.2")})},{node:e(vs.constellation4.secondHitBoost,{name:ce.ch("skillB.0")})},{node:e(vs.constellation4.thirdHitBoost,{name:ce.ch("skillB.1")})},{text:ce.chg("burst.skillParams.3"),value:Oe.skill.cd}]},ce.condTem("constellation6",{value:fb,path:f5,name:d("afterUse.skill"),states:{on:{fields:[{node:Ry},{node:My}]}}})]),burst:ce.talentTem("burst",[{fields:[{node:e(vs.burst.slashDmg,{name:ce.chg("burst.skillParams.0")})},{node:e(vs.burst.dotDmg,{name:ce.chg("burst.skillParams.1")})},{node:e(vs.burst.explosionDmg,{name:ce.chg("burst.skillParams.2")})},{text:ce.chg("burst.skillParams.3"),value:Oe.burst.cd,unit:"s"},{text:ce.chg("burst.skillParams.5"),value:Oe.burst.cost}]},ce.condTem("burst",{name:d("afterUse.burst"),value:pb,path:h5,states:{on:{fields:[{text:d("infusion.pyro"),variant:"pyro"},{node:wy},{text:s("duration"),value:t=>t.get(a.asc).value>=4?`${Oe.burst.duration} + ${Oe.passive2.durationInc}`:Oe.burst.duration,unit:"s"}]}}})]),passive1:ce.talentTem("passive1"),passive2:ce.talentTem("passive2"),passive3:ce.talentTem("passive3"),constellation1:ce.talentTem("constellation1",[ce.condTem("constellation1",{value:Sy,path:p5,name:d("enemyGreaterPercentHP",{percent:Oe.constellation1.hpThresh_*100}),canShow:n(a.constellation,1,1),states:{on:{fields:[{node:Ay}]}}})]),constellation2:ce.talentTem("constellation2",[ce.condTem("constellation2",{value:kb,path:k5,name:d("hitOp.self"),states:Object.fromEntries(N(1,Oe.constellation2.maxStack).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:By},{node:Iy}]}]))})]),constellation3:ce.talentTem("constellation3",[{fields:[{node:Hy}]}]),constellation4:ce.talentTem("constellation4"),constellation5:ce.talentTem("constellation5",[{fields:[{node:Ey}]}]),constellation6:ce.talentTem("constellation6")}},y5=new R(_5,v5),qd="Diona",Am="cryo",bh=_.char.data[qd],aa=_.char.skillParam[qd],bt=A(qd,bh.weaponType);let Ci=0,dm=0,ad=0,x_=0,D_=0;const Qa={normal:{hitArr:[aa.auto[Ci++],aa.auto[Ci++],aa.auto[Ci++],aa.auto[Ci++],aa.auto[Ci++]]},charged:{aimed:aa.auto[Ci++],aimedCharged:aa.auto[Ci++]},plunging:{dmg:aa.auto[Ci++],low:aa.auto[Ci++],high:aa.auto[Ci++]},skill:{icyPawDmg:aa.skill[dm++],shieldHp_:aa.skill[dm++],shieldFlat:aa.skill[dm++],cdPress:aa.skill[dm++][0],cdHold:aa.skill[dm++][0],duration:aa.skill[dm++]},burst:{skillDmg:aa.burst[ad++],fieldDmg:aa.burst[ad++],healHp_:aa.burst[ad++],healBase:aa.burst[ad++],cd:aa.burst[ad++][0],enerCost:aa.burst[ad++][0],duration:aa.burst[ad++][0]},passive1:{moveSpeed_:aa.passive1[x_++][0],stamRed_:aa.passive1[x_++][0]},passive2:{atkRed_:aa.passive1[D_++][0],duration:aa.passive1[D_++][0]},constellation1:{energyRegen:aa.constellation1[0]},constellation2:{icyPawDmg_:aa.constellation2[0],icyPawShield_:aa.constellation2[1],coopShield_:aa.constellation2[2],coopShieldDuration_:aa.constellation2[3]},constellation6:{healingBonus_:aa.constellation6[0],emBonus:aa.constellation6[1]}},[T5,bb]=h(qd,"Constellation6"),[$5,vb]=h(qd,"Ascension1"),Ky=n(a.constellation,3,3),Ny=n(a.constellation,5,3),Fy=n(a.constellation,2,c(Qa.constellation2.icyPawDmg_)),x5=c(1.75),Oy=D(c(1),n(a.constellation,2,c(Qa.constellation2.icyPawShield_))),Vk=m(Oy,Cn("hp",Qa.skill.shieldHp_,Qa.skill.shieldFlat,"skill")),Jk=m(Oy,x5,Cn("hp",Qa.skill.shieldHp_,Qa.skill.shieldFlat,"skill")),P_=m(c(Qa.constellation2.coopShield_),Vk),C_=m(c(Qa.constellation2.coopShield_),Jk),Hn={normal:Object.fromEntries(Qa.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Qa.charged.aimed,"charged"),aimedCharged:o("atk",Qa.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:E("atk",Qa.plunging),skill:{pressShield:Vk,pressCryoShield:tn(Am,Vk),holdShield:Jk,holdCryoShield:tn(Am,Jk),skillDmg:o("atk",Qa.skill.icyPawDmg,"skill",{})},burst:{skillDmg:o("atk",Qa.burst.skillDmg,"burst"),fieldDmg:o("atk",Qa.burst.fieldDmg,"burst"),healDot:cl("hp",Qa.burst.healHp_,Qa.burst.healBase,"burst")},constellation2:{pressShield:n(a.constellation,2,P_),pressCryoShield:n(a.constellation,2,tn(Am,P_)),holdShield:n(a.constellation,2,C_),holdCryoShield:n(a.constellation,2,tn(Am,C_))}},jy=n(a.asc,1,i(vb,"on",c(Qa.passive1.moveSpeed_))),Gy=n(a.asc,1,i(vb,"on",c(Qa.passive1.stamRed_))),zy=n(a.constellation,6,i(bb,"lower",c(Qa.constellation6.healingBonus_))),D5=i(a.activeCharKey,G.charKey,zy),Wy=n(a.constellation,6,i(bb,"higher",Qa.constellation6.emBonus)),P5=i(a.activeCharKey,G.charKey,Wy),C5=B(qd,Am,"mondstadt",bh,Hn,{premod:{skillBoost:Ny,burstBoost:Ky,skill_dmg_:Fy},teamBuff:{premod:{staminaDec_:Gy,moveSPD_:jy,eleMas:P5,incHeal_:D5}}}),S5={key:qd,name:bt.name,rarity:bh.rarity,elementKey:Am,weaponTypeKey:bh.weaponType,gender:"F",constellationName:bt.chg("constellationName"),title:bt.chg("title"),talent:{auto:bt.talentTem("auto",[{text:bt.chg("auto.fields.normal")},{fields:Qa.normal.hitArr.map((t,l)=>({node:e(Hn.normal[l],{name:bt.chg(`auto.skillParams.${l}`)})}))},{text:bt.chg("auto.fields.charged")},{fields:[{node:e(Hn.charged.aimed,{name:bt.chg("auto.skillParams.5")})},{node:e(Hn.charged.aimedCharged,{name:bt.chg("auto.skillParams.6")})}]},{text:bt.chg("auto.fields.plunging")},{fields:[{node:e(Hn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Hn.plunging.low,{name:s("plunging.low")})},{node:e(Hn.plunging.high,{name:s("plunging.high")})}]}]),skill:bt.talentTem("skill",[{fields:[{node:e(Hn.skill.skillDmg,{name:bt.chg("skill.skillParams.0")})},{node:e(Hn.skill.pressShield,{name:bt.ch("pressShield")})},{node:e(Hn.skill.pressCryoShield,{name:bt.ch("pressCryoShield")})},{node:e(Hn.skill.holdShield,{name:bt.ch("holdShield")})},{node:e(Hn.skill.holdCryoShield,{name:bt.ch("holdCryoShield")})},{text:bt.ch("skillDuration"),value:t=>Qa.skill.duration[t.get(a.total.skillIndex).value],unit:"s",fixed:1},{text:bt.chg("skill.skillParams.3"),value:Qa.skill.cdPress,unit:"s"},{text:bt.chg("skill.skillParams.4"),value:Qa.skill.cdHold,unit:"s"}]},bt.condTem("passive1",{teamBuff:!0,value:vb,path:$5,name:bt.ch("a1shielded"),states:{on:{fields:[{node:jy},{node:Gy}]}}}),bt.headerTem("constellation2",{fields:[{node:Fy},{text:d("dmgAbsorption.increase"),value:Qa.constellation2.icyPawShield_*100,unit:"%"}]})]),burst:bt.talentTem("burst",[{fields:[{node:e(Hn.burst.skillDmg,{name:bt.chg("burst.skillParams.0")})},{node:e(Hn.burst.fieldDmg,{name:bt.chg("burst.skillParams.1")})},{node:e(Hn.burst.healDot,{name:bt.chg("burst.skillParams.2")})},{text:bt.chg("burst.skillParams.3"),value:Qa.burst.duration,unit:"s"},{text:bt.chg("burst.skillParams.4"),value:Qa.burst.cd},{text:bt.chg("burst.skillParams.5"),value:Qa.burst.enerCost}]},bt.condTem("constellation6",{teamBuff:!0,value:bb,path:T5,name:d("activeCharField"),states:{lower:{name:d("lessEqPercentHP",{percent:50}),fields:[{node:e(zy,y.info("incHeal_"))}]},higher:{name:d("greaterPercentHP",{percent:50}),fields:[{node:e(Wy,y.info("eleMas"))}]}}})]),passive1:bt.talentTem("passive1"),passive2:bt.talentTem("passive2"),passive3:bt.talentTem("passive3"),constellation1:bt.talentTem("constellation1"),constellation2:bt.talentTem("constellation2",[{fields:[{node:e(Hn.constellation2.pressShield,{name:bt.ch("pressShield")})},{node:e(Hn.constellation2.pressCryoShield,{name:bt.ch("pressCryoShield")})},{node:e(Hn.constellation2.holdShield,{name:bt.ch("holdShield")})},{node:e(Hn.constellation2.holdCryoShield,{name:bt.ch("holdCryoShield")})},{text:s("duration"),value:Qa.constellation2.coopShieldDuration_,unit:"s"}]}]),constellation3:bt.talentTem("constellation3",[{fields:[{node:Ky}]}]),constellation4:bt.talentTem("constellation4"),constellation5:bt.talentTem("constellation5",[{fields:[{node:Ny}]}]),constellation6:bt.talentTem("constellation6")}},w5=new R(S5,C5),Hr="Dori",Hm="electro",A5="sumeru",vh=_.char.data[Hr],Ea=_.char.skillParam[Hr],Ye=A(Hr,vh.weaponType);let Ro=0,sk=0,ld=0;const El={normal:{hitArr:[Ea.auto[Ro++],Ea.auto[Ro++],Ea.auto[Ro++],Ea.auto[Ro++]]},charged:{spinningDmg:Ea.auto[Ro++],finalDmg:Ea.auto[Ro++],stamina:Ea.auto[Ro++][0],duration:Ea.auto[Ro++][0]},plunging:{dmg:Ea.auto[Ro++],low:Ea.auto[Ro++],high:Ea.auto[Ro++]},skill:{shotDmg:Ea.skill[sk++],roundDmg:Ea.skill[sk++],numRounds:2,cd:Ea.skill[sk++][0]},burst:{connectorDmg:Ea.burst[ld++],healMult:Ea.burst[ld++],healBase:Ea.burst[ld++],energyRegen:Ea.burst[ld++],duration:Ea.burst[ld++][0],cd:Ea.burst[ld++][0],enerCost:Ea.burst[ld++][0]},passive1:{cdRed:Ea.passive1[0][0],cd:Ea.passive1[1][0]},passive2:{energyRegen:Ea.passive2[0][0],maxEnergyRegen:Ea.passive2[1][0]},constellation1:{addlRounds:1},constellation2:{toopDmg:Ea.constellation2[0]},constellation4:{hpThresh:50,energyThresh:50,incHeal_:Ea.constellation4[0],enerRech_:Ea.constellation4[1]},constellation6:{infusionDuration:Ea.constellation6[0],heal_:Ea.constellation6[1],cd:.1}},[B5,Ly]=h(Hr,"c4BelowHp"),[I5,Uy]=h(Hr,"c4BelowEner"),qy=n(a.constellation,4,i(Ly,"belowHp",El.constellation4.incHeal_)),R5=i(a.activeCharKey,G.charKey,qy),Vy=n(a.constellation,4,i(Uy,"belowEner",El.constellation4.enerRech_)),M5=i(a.activeCharKey,G.charKey,Vy),[H5,_b]=h(Hr,"c6AfterSkill"),E5=Sr(a.constellation,6,rn(_b,"on",Hm)),xs={normal:Object.fromEntries(El.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",El.charged.spinningDmg,"charged"),finalDmg:o("atk",El.charged.finalDmg,"charged")},plunging:E("atk",El.plunging),skill:{shotDmg:o("atk",El.skill.shotDmg,"skill"),roundDmg:o("atk",El.skill.roundDmg,"skill")},burst:{connectorDmg:o("atk",El.burst.connectorDmg,"burst"),heal:cl("hp",El.burst.healMult,El.burst.healBase,"burst")},passive2:{energyRegen:n(a.asc,4,yl(m(p(El.passive2.energyRegen),a.total.enerRech_),p(El.passive2.maxEnergyRegen)))},constellation2:{dmg:n(a.constellation,2,F(m($(a.total.skillIndex,El.skill.shotDmg,{unit:"%"}),c(El.constellation2.toopDmg,{name:Ye.ch("c2MultiplierKey_")}),a.total.atk),"elemental",{hit:{ele:p(Hm)}}))},constellation6:{heal:n(a.constellation,6,i(_b,"on",Gn(m(c(El.constellation6.heal_),a.total.hp))))}},Jy=n(a.constellation,3,3),Qy=n(a.constellation,5,3),K5=B(Hr,Hm,A5,vh,xs,{premod:{skillBoost:Qy,burstBoost:Jy},infusion:{overridableSelf:E5},teamBuff:{premod:{incHeal_:R5,enerRech_:M5}}}),N5={key:Hr,name:Ye.name,rarity:vh.rarity,elementKey:Hm,weaponTypeKey:vh.weaponType,gender:"F",constellationName:Ye.chg("constellationName"),title:Ye.chg("title"),talent:{auto:Ye.talentTem("auto",[{text:Ye.chg("auto.fields.normal")},{fields:El.normal.hitArr.map((t,l)=>({node:e(xs.normal[l],{name:Ye.chg(`auto.skillParams.${l>1?l-1:l}`),textSuffix:l>=1&&l<3?`(${l})`:void 0})}))},{text:Ye.chg("auto.fields.charged")},{fields:[{node:e(xs.charged.spinningDmg,{name:Ye.chg("auto.skillParams.3")})},{node:e(xs.charged.finalDmg,{name:Ye.chg("auto.skillParams.4")})},{text:Ye.chg("auto.skillParams.5"),value:El.charged.stamina,unit:"/s"},{text:Ye.chg("auto.skillParams.6"),value:El.charged.duration,unit:"s"}]},{text:Ye.chg("auto.fields.plunging")},{fields:[{node:e(xs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(xs.plunging.low,{name:s("plunging.low")})},{node:e(xs.plunging.high,{name:s("plunging.high")})}]}]),skill:Ye.talentTem("skill",[{fields:[{node:e(xs.skill.shotDmg,{name:Ye.chg("skill.skillParams.0")})},{node:e(xs.skill.roundDmg,{name:Ye.chg("skill.skillParams.1")})},{text:s("cd"),value:El.skill.cd,unit:"s"}]},Ye.headerTem("passive2",{fields:[{node:e(xs.passive2.energyRegen,{name:s("energyRegen")})}]}),Ye.condTem("constellation6",{path:H5,value:_b,name:d("afterUse.skill"),states:{on:{fields:[{text:P(yt,{color:Hm,children:d(`infusion.${Hm}`)})},{text:s("duration"),value:El.constellation6.infusionDuration,unit:"s"},{node:e(xs.constellation6.heal,{name:s("hpRegenPerHit"),variant:"heal"})},{text:s("cd"),value:El.constellation6.cd,unit:"s",fixed:1}]}}})]),burst:Ye.talentTem("burst",[{fields:[{node:e(xs.burst.connectorDmg,{name:Ye.chg("burst.skillParams.0")})},{node:e(xs.burst.heal,{name:Ye.chg("burst.skillParams.1"),variant:"heal"})},{text:s("energyRegen"),value:t=>t.get($(a.total.burstIndex,El.burst.energyRegen)).value,fixed:1},{text:s("duration"),value:El.burst.duration,unit:"s"},{text:s("cd"),value:El.burst.cd,unit:"s"},{text:s("energyCost"),value:El.burst.enerCost}]},Ye.headerTem("constellation2",{fields:[{node:e(xs.constellation2.dmg,{name:Ye.ch("c2DmgKey")})}]}),Ye.condTem("constellation4",{teamBuff:!0,states:{belowHp:{path:B5,value:Ly,name:Ye.ch("c4ConnectedBelowHp"),fields:[{node:e(qy,y.info("incHeal_"))}]},belowEner:{path:I5,value:Uy,name:Ye.ch("c4ConnectedBelowEner"),fields:[{node:e(Vy,y.info("enerRech_"))}]}}})]),passive1:Ye.talentTem("passive1"),passive2:Ye.talentTem("passive2"),passive3:Ye.talentTem("passive3"),constellation1:Ye.talentTem("constellation1"),constellation2:Ye.talentTem("constellation2"),constellation3:Ye.talentTem("constellation3",[{fields:[{node:Jy}]}]),constellation4:Ye.talentTem("constellation4"),constellation5:Ye.talentTem("constellation5",[{fields:[{node:Qy}]}]),constellation6:Ye.talentTem("constellation6")}},F5=new R(N5,K5),ac="Eula",_h=_.char.data[ac],la=_.char.skillParam[ac],L=A(ac,_h.weaponType);let eo=0,Ms=0,mm=0,O5=0;const Pl={normal:{hitArr:[la.auto[eo++],la.auto[eo++],la.auto[eo++],la.auto[eo++],la.auto[eo++]]},charged:{spinningDmg:la.auto[eo++],finalDmg:la.auto[eo++],stamina:la.auto[eo++][0],duration:la.auto[eo++][0]},plunging:{dmg:la.auto[eo++],low:la.auto[eo++],high:la.auto[eo++]},skill:{press:la.skill[Ms++],hold:la.skill[Ms++],icewhirl:la.skill[Ms++],physResDec:la.skill[Ms++],cryoResDec:la.skill[Ms++],resDecDuration:la.skill[Ms++][0],pressCd:la.skill[Ms++][0],holdCd:la.skill[Ms++][0],defBonus:la.skill[Ms++][0],unknown:la.skill[Ms++][0],physResDecNegative:la.skill[Ms++],cryoResDecNegative:la.skill[Ms++],grimheartDuration:la.skill[Ms++][0]},burst:{dmg:la.burst[mm++],lightfallDmg:la.burst[mm++],dmgPerStack:la.burst[mm++],maxStack:la.burst[mm++][0],cd:la.burst[mm++][0],enerCost:la.burst[mm++][0]},passive1:{percentage:la.passive1[O5++][0]},constellation1:{physInc:la.constellation1[0]},constellation4:{dmgInc:la.constellation4[0]}},[j5,Xy]=h(ac,"Grimheart"),[G5,yb]=h(ac,"grimheartConsumed"),[z5,Yy]=h(ac,"LightfallSword"),[W5,Zy]=h(ac,"LightfallSwordC4"),[L5,tT]=h(ac,"TidalIllusion"),eT=N(1,30),aT=m($(a.total.burstIndex,Pl.burst.dmgPerStack,{name:L.ch("burstC.bonusScaling"),unit:"%",variant:"physical"}),w(Yy,C(eT,t=>p(t)),O,{name:L.ch("burstC.name")})),Qk=w(Xy,{stack1:c(Pl.skill.defBonus),stack2:c(2*Pl.skill.defBonus)},O),lT=i("on",yb,$(a.total.skillIndex,Pl.skill.cryoResDecNegative)),nT=i("on",yb,$(a.total.skillIndex,Pl.skill.physResDecNegative)),sT=n(a.constellation,1,i("on",tT,c(Pl.constellation1.physInc))),oT=n(a.constellation,4,i(Zy,"on",p(Pl.constellation4.dmgInc)),{name:L.ch("c4C.dmgBonus")}),S_={premod:{burst_dmg_:oT},hit:{ele:p("physical")}},js={normal:Object.fromEntries(Pl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Pl.charged.spinningDmg,"charged"),finalDmg:o("atk",Pl.charged.finalDmg,"charged")},plunging:E("atk",Pl.plunging),skill:{press:o("atk",Pl.skill.press,"skill"),hold:o("atk",Pl.skill.hold,"skill"),icewhirl:o("atk",Pl.skill.icewhirl,"skill")},burst:{dmg:o("atk",Pl.burst.dmg,"burst"),lightFallSwordNew:F(m(D($(a.total.burstIndex,Pl.burst.lightfallDmg,{unit:"%"}),aT),a.total.atk),"burst",S_)},passive1:{shatteredLightfallSword:n(a.asc,1,m(o("atk",Pl.burst.lightfallDmg,"burst",S_,c(Pl.passive1.percentage))))}},iT=n(a.constellation,3,3),cT=n(a.constellation,5,3),U5=B(ac,"cryo","mondstadt",_h,js,{premod:{skillBoost:cT,burstBoost:iT,def_:Qk,cryo_enemyRes_:lT,physical_enemyRes_:nT,physical_dmg_:sT}}),q5={key:ac,name:L.name,rarity:_h.rarity,elementKey:"cryo",weaponTypeKey:_h.weaponType,gender:"F",constellationName:L.chg("constellationName"),title:L.chg("title"),talent:{auto:L.talentTem("auto",[{text:L.chg("auto.fields.normal")},{fields:Pl.normal.hitArr.map((t,l)=>({node:e(js.normal[l],{name:L.chg(`auto.skillParams.${l}`),multi:l===2||l===4?2:void 0})}))},{text:L.chg("auto.fields.charged")},{fields:[{node:e(js.charged.spinningDmg,{name:L.chg("auto.skillParams.5")})},{node:e(js.charged.finalDmg,{name:L.chg("auto.skillParams.6")})},{text:L.chg("auto.skillParams.7"),value:Pl.charged.stamina,unit:"/s"},{text:L.chg("auto.skillParams.8"),value:Pl.charged.duration,unit:"s"}]},{text:L.chg("auto.fields.plunging")},{fields:[{node:e(js.plunging.dmg,{name:s("plunging.dmg")})},{node:e(js.plunging.low,{name:s("plunging.low")})},{node:e(js.plunging.high,{name:s("plunging.high")})}]}]),skill:L.talentTem("skill",[{fields:[{node:e(js.skill.press,{name:L.chg("skill.skillParams.0")})},{node:e(js.skill.hold,{name:L.chg("skill.skillParams.1")})},{node:e(js.skill.icewhirl,{name:L.chg("skill.skillParams.2")})},{text:L.chg("skill.skillParams.8"),value:`${Pl.skill.pressCd}`,unit:"s"},{text:s("hold.cd"),value:`${Pl.skill.holdCd}`,unit:"s"},{text:L.chg("burst.skillParams.3"),value:2}]},L.condTem("skill",{value:Xy,path:j5,name:L.chg("skill.description.6"),states:{stack1:{name:d("stack",{count:1}),fields:[{node:Qk},{text:d("incInterRes")},{text:L.chg("skill.skillParams.4"),value:Pl.skill.grimheartDuration,unit:"s"}]},stack2:{name:d("stack",{count:2}),fields:[{node:Qk},{text:d("incInterRes")},{text:L.chg("skill.skillParams.4"),value:Pl.skill.grimheartDuration,unit:"s"}]}}}),L.condTem("skill",{value:yb,path:G5,teamBuff:!0,name:L.ch("c1C.name"),states:{on:{fields:[{node:lT},{node:nT},{text:s("duration"),value:7,unit:"s"}]}}})]),burst:L.talentTem("burst",[{fields:[{node:e(js.burst.dmg,{name:L.chg("burst.skillParams.0")})},{node:e(js.burst.lightFallSwordNew,{name:L.ch("burstC.dmg")})},{text:s("duration"),value:7,unit:"s"},{text:L.chg("burst.skillParams.4"),value:`${Pl.burst.cd}`,unit:"s"},{text:L.chg("burst.skillParams.5"),value:`${Pl.burst.enerCost}`}]},L.condTem("burst",{value:Yy,path:z5,name:L.ch("burstC.name"),states:{...C(eT,t=>({name:d("stack",{count:t}),fields:[{node:e(aT,{name:L.ch("burstC.bonusScaling"),unit:"%",variant:"physical"})}]}))}}),L.condTem("constellation4",{value:Zy,path:W5,name:d("enemyLessPercentHP",{percent:50}),states:{on:{fields:[{node:e(oT,{name:L.ch("c4C.dmgBonus"),unit:"%",variant:"physical"})}]}}}),L.headerTem("constellation6",{fields:[{text:L.ch("burstC.start5")},{text:L.ch("burstC.addStacks")}]})]),passive1:L.talentTem("passive1",[L.fieldsTem("passive1",{fields:[{node:e(js.passive1.shatteredLightfallSword,{name:L.ch("passive1")})}]})]),passive2:L.talentTem("passive2"),passive3:L.talentTem("passive3"),constellation1:L.talentTem("constellation1",[L.condTem("constellation1",{value:tT,path:L5,name:L.ch("c1C.name"),states:{on:{fields:[{node:sT},{text:s("duration"),value:L.ch("c1C.durationStack")}]}}})]),constellation2:L.talentTem("constellation2"),constellation3:L.talentTem("constellation3",[{fields:[{node:iT}]}]),constellation4:L.talentTem("constellation4"),constellation5:L.talentTem("constellation5",[{fields:[{node:cT}]}]),constellation6:L.talentTem("constellation6")}},V5=new R(q5,U5),Yi="Faruzan",Tb="anemo",J5="sumeru",yh=_.char.data[Yi],$l=_.char.skillParam[Yi],Jt=A(Yi,yh.weaponType);let bc=0,dg=0,ar=0,Q5=0,w_=0;const zl={normal:{hitArr:[$l.auto[bc++],$l.auto[bc++],$l.auto[bc++],$l.auto[bc++]]},charged:{aimed:$l.auto[bc++],aimedCharged:$l.auto[bc++]},plunging:{dmg:$l.auto[bc++],low:$l.auto[bc++],high:$l.auto[bc++]},skill:{skill_dmg:$l.skill[dg++],vortex_dmg:$l.skill[dg++],galeDuration:$l.skill[dg++][0],cd:$l.skill[dg++][0]},burst:{dmg:$l.burst[ar++],anemo_dmg_:$l.burst[ar++],giftDuration:$l.burst[ar++][0],anemo_enemyRes_:-$l.burst[ar++][0],riftDuration:$l.burst[ar++][0],polyDuration:$l.burst[ar++][0],cd:$l.burst[ar++][0],enerCost:$l.burst[ar++][0]},passive1:{chargeShotDec_:$l.passive1[Q5++][0]},passive2:{gift_dmgInc:$l.passive2[w_++][0],cd:$l.passive2[w_++][0]},constellation2:{durationInc:$l.constellation2[0]},constellation6:{anemo_critDMG_:$l.constellation6[0],duration:$l.constellation6[0]}},[X5,Em]=h(Yi,"burstBenefit"),rT=i(Em,"on",$(a.total.burstIndex,zl.burst.anemo_dmg_)),[Y5,dT]=h(Yi,"burstHit"),mT=i(dT,"on",zl.burst.anemo_enemyRes_),[Z5,uT]=h(Yi,"a4Active"),[tR,gT]=h(Yi,"c6Crit"),hT=n(a.constellation,6,i(Em,"on",i(gT,"on",zl.constellation6.anemo_critDMG_))),$o={normal:Object.fromEntries(zl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",zl.charged.aimed,"charged"),aimedCharged:o("atk",zl.charged.aimedCharged,"charged",{hit:{ele:p(Tb)}})},plunging:Object.fromEntries(Object.entries(zl.plunging).map(([t,l])=>[t,o("atk",l,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{skillDmg:o("atk",zl.skill.skill_dmg,"skill"),vortexDmg:o("atk",zl.skill.vortex_dmg,"skill")},burst:{dmg:o("atk",zl.burst.dmg,"burst")},passive2:{anemo_dmgInc:n(a.asc,4,i(Em,"on",i(uT,"on",m(c(zl.passive2.gift_dmgInc),a.base.atk))))}},pT=n(a.constellation,3,3),kT=n(a.constellation,5,3),eR=B(Yi,Tb,J5,yh,$o,{premod:{burstBoost:kT,skillBoost:pT},teamBuff:{premod:{anemo_dmgInc:$o.passive2.anemo_dmgInc,anemo_dmg_:rT,anemo_enemyRes_:mT,anemo_critDMG_:hT}}}),aR={key:Yi,name:Jt.name,rarity:yh.rarity,elementKey:Tb,weaponTypeKey:yh.weaponType,gender:"F",constellationName:Jt.chg("constellationName"),title:Jt.chg("title"),talent:{auto:Jt.talentTem("auto",[{text:Jt.chg("auto.fields.normal")},{fields:zl.normal.hitArr.map((t,l)=>({node:e($o.normal[l],{name:Jt.chg(`auto.skillParams.${l}`)})}))},{text:Jt.chg("auto.fields.charged")},{fields:[{node:e($o.charged.aimed,{name:Jt.chg("auto.skillParams.4")})},{node:e($o.charged.aimedCharged,{name:Jt.chg("auto.skillParams.5")})}]},{text:Jt.chg("auto.fields.plunging")},{fields:[{node:e($o.plunging.dmg,{name:s("plunging.dmg")})},{node:e($o.plunging.low,{name:s("plunging.low")})},{node:e($o.plunging.high,{name:s("plunging.high")})}]}]),skill:Jt.talentTem("skill",[{fields:[{node:e($o.skill.skillDmg,{name:Jt.chg("skill.skillParams.0")})},{node:e($o.skill.vortexDmg,{name:Jt.chg("skill.skillParams.1")})},{text:Jt.chg("skill.skillParams.2"),value:zl.skill.galeDuration,unit:"s"},{text:s("cd"),value:zl.skill.cd,unit:"s"}]}]),burst:Jt.talentTem("burst",[{fields:[{node:e($o.burst.dmg,{name:Jt.chg("burst.skillParams.0")})},{text:Jt.chg("burst.skillParams.5"),value:t=>t.get(a.constellation).value>=2?`${zl.burst.polyDuration}s + ${zl.constellation2.durationInc}s = ${zl.burst.polyDuration+zl.constellation2.durationInc}`:zl.burst.polyDuration,unit:"s"},{text:s("cd"),value:zl.burst.cd,unit:"s"},{text:s("energyCost"),value:zl.burst.enerCost}]},Jt.condTem("burst",{teamBuff:!0,path:X5,value:Em,name:Jt.ch("giftCondName"),states:{on:{fields:[{node:rT},{text:Jt.chg("burst.skillParams.2"),value:zl.burst.giftDuration,unit:"s"}]}}}),Jt.condTem("burst",{teamBuff:!0,path:Y5,value:dT,name:Jt.ch("baleCondName"),states:{on:{fields:[{node:mT},{text:Jt.chg("burst.skillParams.4"),value:zl.burst.riftDuration,unit:"s"}]}}}),Jt.condTem("passive2",{canShow:i(Em,"on",1),teamBuff:!0,path:Z5,value:uT,name:Jt.ch("a4CondName"),states:{on:{fields:[{node:$o.passive2.anemo_dmgInc},{text:s("cd"),value:zl.passive2.cd,unit:"s",fixed:1}]}}}),Jt.headerTem("constellation2",{fields:[{text:Jt.ch("c2DurationInc"),value:zl.constellation2.durationInc,unit:"s"}]}),Jt.condTem("constellation6",{teamBuff:!0,canShow:i(Em,"on",1),path:tR,value:gT,name:Jt.ch("giftCondName"),states:{on:{fields:[{node:hT},{canShow:t=>t.get(a.activeCharKey).value===Yi,text:Jt.ch("c6Arrow")}]}}})]),passive1:Jt.talentTem("passive1"),passive2:Jt.talentTem("passive2"),passive3:Jt.talentTem("passive3"),constellation1:Jt.talentTem("constellation1"),constellation2:Jt.talentTem("constellation2"),constellation3:Jt.talentTem("constellation3",[{fields:[{node:pT}]}]),constellation4:Jt.talentTem("constellation4"),constellation5:Jt.talentTem("constellation5",[{fields:[{node:kT}]}]),constellation6:Jt.talentTem("constellation6")}},lR=new R(aR,eR),Wu="Fischl",fT="electro",nR="mondstadt",Th=_.char.data[Wu],jl=_.char.skillParam[Wu],Qt=A(Wu,Th.weaponType);let Si=0,mg=0,ok=0,sR=0,oR=0;const kn={normal:{hitArr:[jl.auto[Si++],jl.auto[Si++],jl.auto[Si++],jl.auto[Si++],jl.auto[Si++]]},charged:{aimed:jl.auto[Si++],aimedCharged:jl.auto[Si++]},plunging:{dmg:jl.auto[Si++],low:jl.auto[Si++],high:jl.auto[Si++]},skill:{ozDmg:jl.skill[mg++],summonDmg:jl.skill[mg++],duration:jl.skill[mg++][0],cd:jl.skill[mg++][0]},burst:{dmg:jl.burst[ok++],cd:jl.burst[ok++][0],enerCost:jl.burst[ok++][0]},passive1:{dmg:jl.passive1[sR++][0]},passive2:{dmg:jl.passive2[oR++][0]},constellation1:{dmg:jl.constellation1[0]},constellation2:{dmg:jl.constellation2[0]},constellation4:{dmg:jl.constellation4[0],regen:jl.constellation4[1]},constellation6:{dmg:jl.constellation6[0],duration:jl.constellation6[1]}},ds={normal:Object.fromEntries(kn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",kn.charged.aimed,"charged"),aimedCharged:o("atk",kn.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})},plunging:E("atk",kn.plunging),skill:{ozDmg:o("atk",kn.skill.ozDmg,"skill"),summonDmg:F(m(e(D($(a.total.skillIndex,kn.skill.summonDmg,{unit:"%"}),n(a.constellation,2,c(kn.constellation2.dmg))),{asConst:!0,unit:"%"}),a.total.atk),"skill",{hit:{ele:p("electro")}})},burst:{dmg:o("atk",kn.burst.dmg,"burst")},passive1:{aimedChargedOz:n(a.asc,1,m(c(kn.passive1.dmg),o("atk",kn.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})))},passive2:{dmg:n(a.asc,4,F(m(a.total.atk,c(kn.passive2.dmg)),"skill",{hit:{ele:p("electro")}}))},constellation1:{dmg:n(a.constellation,1,F(m(a.total.atk,c(kn.constellation1.dmg)),"normal",{hit:{ele:p("physical")}}))},constellation4:{burstAdditionalDmg:n(a.constellation,4,F(m(a.total.atk,c(kn.constellation4.dmg)),"burst",{hit:{ele:p("electro")}})),burstRegen:n(a.constellation,4,Gn(m(a.total.hp,c(kn.constellation4.regen))))},constellation6:{ozActiveCharDmg:n(a.constellation,6,F(m(a.total.atk,c(kn.constellation6.dmg)),"skill",{hit:{ele:p("electro")}}))}},bT=n(a.constellation,3,3),vT=n(a.constellation,5,3),iR=B(Wu,fT,nR,Th,ds,{premod:{skillBoost:bT,burstBoost:vT}}),cR={key:Wu,name:Qt.name,rarity:Th.rarity,elementKey:fT,weaponTypeKey:Th.weaponType,gender:"F",constellationName:Qt.chg("constellationName"),title:Qt.chg("title"),talent:{auto:Qt.talentTem("auto",[{text:Qt.chg("auto.fields.normal")},{fields:kn.normal.hitArr.map((t,l)=>({node:e(ds.normal[l],{name:Qt.chg(`auto.skillParams.${l}`)})}))},{text:Qt.chg("auto.fields.charged")},{fields:[{node:e(ds.charged.aimed,{name:Qt.chg("auto.skillParams.5")})},{node:e(ds.charged.aimedCharged,{name:Qt.chg("auto.skillParams.6")})}]},Qt.headerTem("passive1",{fields:[{node:e(ds.passive1.aimedChargedOz,{name:Qt.ch("a1Name")})}]}),{text:Qt.chg("auto.fields.plunging")},{fields:[{node:e(ds.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ds.plunging.low,{name:s("plunging.low")})},{node:e(ds.plunging.high,{name:s("plunging.high")})}]}]),skill:Qt.talentTem("skill",[{fields:[{node:e(ds.skill.ozDmg,{name:Qt.chg("skill.skillParams.0")})},{node:e(ds.skill.summonDmg,{name:Qt.chg("skill.skillParams.1")})},{text:Qt.chg("skill.skillParams.2"),value:t=>t.get(a.constellation).value>=6?kn.skill.duration+kn.constellation6.duration:kn.skill.duration,unit:"s"},{text:Qt.chg("skill.skillParams.3"),value:kn.skill.cd,unit:"s"}]},Qt.headerTem("passive2",{fields:[{node:e(ds.passive2.dmg,{name:Qt.ch("a2Name")})}]}),Qt.headerTem("constellation2",{canShow:n(a.constellation,2,1),fields:[{text:d("aoeInc"),value:50,unit:"%"}]}),Qt.headerTem("constellation6",{fields:[{node:e(ds.constellation6.ozActiveCharDmg,{name:Qt.ch("c6OzDmg")})}]})]),burst:Qt.talentTem("burst",[{fields:[{node:e(ds.burst.dmg,{name:Qt.chg("burst.skillParams.0")})},{text:Qt.chg("burst.skillParams.1"),value:`${kn.burst.cd}`,unit:"s"},{text:Qt.chg("burst.skillParams.2"),value:`${kn.burst.enerCost}`}]},Qt.headerTem("constellation4",{fields:[{node:e(ds.constellation4.burstAdditionalDmg,{name:Qt.ch("c4AoeDmg")})},{node:e(ds.constellation4.burstRegen,{name:s("healing")})}]})]),passive1:Qt.talentTem("passive1"),passive2:Qt.talentTem("passive2"),passive3:Qt.talentTem("passive3"),constellation1:Qt.talentTem("constellation1",[Qt.fieldsTem("constellation1",{fields:[{node:e(ds.constellation1.dmg,{name:Qt.ch("c1Name")})}]})]),constellation2:Qt.talentTem("constellation2"),constellation3:Qt.talentTem("constellation3",[{fields:[{node:bT}]}]),constellation4:Qt.talentTem("constellation4"),constellation5:Qt.talentTem("constellation5",[{fields:[{node:vT}]}]),constellation6:Qt.talentTem("constellation6")}},rR=new R(cR,iR),Er="Freminet",Dd=_.char.data[Er],xt=_.char.skillParam[Er],ht=A(Er,Dd.weaponType);let Mo=0,Hs=0,ug=0;const Ze={normal:{hitArr:[xt.auto[Mo++],xt.auto[Mo++],xt.auto[Mo++],xt.auto[Mo++]]},charged:{spin_dmg:xt.auto[Mo++],final_dmg:xt.auto[Mo++],stamina:xt.auto[Mo++][0],duration:xt.auto[Mo++][0]},plunging:{dmg:xt.auto[Mo++],low:xt.auto[Mo++],high:xt.auto[Mo++]},skill:{thrustDmg:xt.skill[Hs++],thornDmg:xt.skill[Hs++],frostDmg:xt.skill[Hs++],level0Dmg:xt.skill[Hs++],level1CryoDmg:xt.skill[Hs++],level1PhysDmg:xt.skill[Hs++],level2CryoDmg:xt.skill[Hs++],level2PhysDmg:xt.skill[Hs++],level3CryoDmg:xt.skill[Hs++],level3PhysDmg:xt.skill[Hs++],level4Dmg:xt.skill[Hs++],cd:xt.skill[Hs++][0],thornInterval:xt.skill[Hs++][0]},burst:{skillDmg:xt.burst[ug++],duration:xt.burst[ug++][0],cd:xt.burst[ug++][0],enerCost:xt.burst[ug++][0]},passive1:{cdDecrease:xt.passive1[0][0]},passive2:{pressure_dmg_:xt.passive2[0][0],duration:xt.passive2[1][0]},constellation1:{pressure_critRate_:xt.constellation1[0]},constellation2:{energyGen:xt.constellation2[0],level4EnergyGen:xt.constellation2[1]},constellation4:{atk_:xt.constellation4[0],duration:xt.constellation4[1],maxStacks:xt.constellation4[2],cd:xt.constellation4[3]},constellation6:{critDMG_:xt.constellation6[0],duration:xt.constellation6[1],maxStacks:xt.constellation6[2],cd:xt.constellation6[3]}},[dR,Xk]=h(Er,"stalk"),_T=Co(Xk,"on",c(2,{name:ht.ch("frost_dmgMult_")}),St),[mR,yT]=h(Er,"a4AfterShatter"),TT=n(a.asc,4,i(yT,"on",Ze.passive2.pressure_dmg_)),$T=n(a.constellation,1,Ze.constellation1.pressure_critRate_),[A_,$h]=h(Er,"c4C6Stacks"),xh=N(1,Ze.constellation6.maxStacks),xT=n(a.constellation,4,w($h,C(xh,t=>m(Ze.constellation4.atk_,Math.min(Ze.constellation4.maxStacks,t))),O)),DT=n(a.constellation,6,w($h,C(xh,t=>m(Ze.constellation6.critDMG_,t)),O)),Pu={premod:{skill_dmg_:TT,skill_critRate_:$T}},gg={...Pu,hit:{ele:p("physical")}},En={normal:Object.fromEntries(Ze.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Ze.charged.spin_dmg,"charged"),finalDmg:o("atk",Ze.charged.final_dmg,"charged")},plunging:E("atk",Ze.plunging),skill:{thrustDmg:o("atk",Ze.skill.thrustDmg,"skill"),frostDmg:o("atk",Ze.skill.frostDmg,"skill",void 0,_T),level0Dmg:o("atk",Ze.skill.level0Dmg,"skill",Pu),level1CryoDmg:o("atk",Ze.skill.level1CryoDmg,"skill",Pu),level1PhysDmg:o("atk",Ze.skill.level1PhysDmg,"skill",gg),level2CryoDmg:o("atk",Ze.skill.level2CryoDmg,"skill",Pu),level2PhysDmg:o("atk",Ze.skill.level2PhysDmg,"skill",gg),level3CryoDmg:o("atk",Ze.skill.level3CryoDmg,"skill",Pu),level3PhysDmg:o("atk",Ze.skill.level3PhysDmg,"skill",gg),level4Dmg:o("atk",Ze.skill.level4Dmg,"skill",gg),thornDmg:o("atk",Ze.skill.thornDmg,"skill")},burst:{dmg:o("atk",Ze.burst.skillDmg,"burst")}},PT=n(a.constellation,3,3),CT=n(a.constellation,5,3),uR=B(Er,Dd.ele,Dd.region,Dd,En,{premod:{skillBoost:CT,autoBoost:PT,atk_:xT,critDMG_:DT}}),gR={key:Er,name:ht.name,rarity:Dd.rarity,elementKey:Dd.ele,weaponTypeKey:Dd.weaponType,gender:"M",constellationName:ht.chg("constellationName"),title:ht.chg("title"),talent:{auto:ht.talentTem("auto",[{text:ht.chg("auto.fields.normal")},{fields:Ze.normal.hitArr.map((t,l)=>({node:e(En.normal[l],{name:ht.chg(`auto.skillParams.${l}`)})}))},{text:ht.chg("auto.fields.charged")},{fields:[{node:e(En.charged.spinningDmg,{name:ht.chg("auto.skillParams.4")})},{node:e(En.charged.finalDmg,{name:ht.chg("auto.skillParams.5")})},{text:ht.chg("auto.skillParams.6"),value:Ze.charged.stamina,unit:"/s"},{text:ht.chg("auto.skillParams.7"),value:Ze.charged.duration,unit:"s"}]},{text:ht.chg("auto.fields.plunging")},{fields:[{node:e(En.plunging.dmg,{name:s("plunging.dmg")})},{node:e(En.plunging.low,{name:s("plunging.low")})},{node:e(En.plunging.high,{name:s("plunging.high")})}]}]),skill:ht.talentTem("skill",[{fields:[{node:e(En.skill.thrustDmg,{name:ht.chg("skill.skillParams.0")})},{node:e(En.skill.frostDmg,{name:ht.chg("skill.skillParams.1")})},{node:e(En.skill.level0Dmg,{name:ht.chg("skill.skillParams.2")})},{node:e(En.skill.level1CryoDmg,{name:ht.chg("skill.skillParams.3")})},{node:e(En.skill.level1PhysDmg,{name:ht.chg("skill.skillParams.3")})},{node:e(En.skill.level2CryoDmg,{name:ht.chg("skill.skillParams.4")})},{node:e(En.skill.level2PhysDmg,{name:ht.chg("skill.skillParams.4")})},{node:e(En.skill.level3CryoDmg,{name:ht.chg("skill.skillParams.5")})},{node:e(En.skill.level3PhysDmg,{name:ht.chg("skill.skillParams.5")})},{node:e(En.skill.level4Dmg,{name:ht.chg("skill.skillParams.6")})},{node:e(En.skill.thornDmg,{name:ht.chg("skill.skillParams.7")})},{text:ht.chg("skill.skillParams.8"),value:Ze.skill.thornInterval,unit:"s"},{text:s("cd"),value:t=>t.get(Xk).value==="on"?`${Ze.skill.cd}s - 70% = ${Ze.skill.cd*.3}`:Ze.skill.cd,unit:"s"}]},ht.condTem("passive2",{value:yT,path:mR,name:d("elementalReaction.shatter"),states:{on:{fields:[{node:e(TT,{name:ht.ch("pressure_dmg_"),unit:"%"})},{text:s("duration"),value:Ze.passive2.duration,unit:"s"}]}}}),ht.headerTem("constellation1",{fields:[{node:e($T,{name:ht.ch("pressure_critRate_"),unit:"%",icon:y.info("critRate_").icon})}]})]),burst:ht.talentTem("burst",[{fields:[{node:e(En.burst.dmg,{name:ht.chg("burst.skillParams.0")})},{text:s("duration"),value:Ze.burst.duration,unit:"s"},{text:s("cd"),value:Ze.burst.cd,unit:"s"},{text:s("energyCost"),value:Ze.burst.enerCost}]},ht.condTem("burst",{value:Xk,path:dR,name:d("afterUse.burst"),states:{on:{fields:[{text:d("skillCDRed"),value:70,unit:"%"},{node:_T}]}}})]),passive1:ht.talentTem("passive1"),passive2:ht.talentTem("passive2"),passive3:ht.talentTem("passive3"),constellation1:ht.talentTem("constellation1"),constellation2:ht.talentTem("constellation2"),constellation3:ht.talentTem("constellation3",[{fields:[{node:PT}]}]),constellation4:ht.talentTem("constellation4",[ht.condTem("constellation4",{value:$h,path:A_,name:d("elementalReaction.cryo"),states:C(xh,t=>({name:d("stack",{count:t}),fields:[{node:xT},{text:s("duration"),value:Ze.constellation4.duration,unit:"s"}]}))})]),constellation5:ht.talentTem("constellation5",[{fields:[{node:CT}]}]),constellation6:ht.talentTem("constellation6",[ht.condTem("constellation6",{value:$h,path:A_,name:d("elementalReaction.cryo"),states:C(xh,t=>({name:d("stack",{count:t}),fields:[{node:DT},{text:s("duration"),value:Ze.constellation4.duration,unit:"s"}]}))})])}},hR=new R(gR,uR),lc="Furina",$r=_.char.data[lc],W=_.char.skillParam[lc],U=A(lc,$r.weaponType);let vc=0,Ho=0,lr=0;const Y={normal:{hitArr:[W.auto[vc++],W.auto[vc++],W.auto[vc++],W.auto[vc++]],bladeThornDmg:W.auto[9],bladeThornInterval:W.auto[10][0]},charged:{dmg:W.auto[vc++],stam:W.auto[vc++][0]},plunging:{dmg:W.auto[vc++],low:W.auto[vc++],high:W.auto[vc++]},skill:{bubbleDmg:W.skill[Ho++],duration:W.skill[Ho++][0],usherDmg:W.skill[Ho++],chevalDmg:W.skill[Ho++],crabDmg:W.skill[Ho++],usherHp:W.skill[Ho++][0],chevalHp:W.skill[Ho++][0],crabHp:W.skill[Ho++][0],streamsHealBase:W.skill[Ho++],streamsHealFlat:W.skill[Ho++],cd:W.skill[Ho++][0]},burst:{skillDmg:W.burst[lr++],duration:W.burst[lr++][0],fanfarePerHp:W.burst[lr++][0],maxFanfare:W.burst[lr++][0],dmgIncRatio:W.burst[lr++],heal_ratio:W.burst[lr++],cd:W.burst[lr++][0],enerCost:W.burst[lr++][0]},passive1:{duration:W.passive1[0][0],interval:W.passive1[1][0],heal:W.passive1[2][0]},passive2:{member_dmg_:W.passive2[0][0],max_member_dmg_:W.passive2[1][0],interval_dec_:W.passive2[2][0],max_interval_dec_:W.passive2[3][0]},constellation1:{bonusFanfare:W.constellation1[0],fanfareLimitInc:W.constellation1[1]},constellation2:{idk:W.constellation2[0],hp_:W.constellation2[1],stacks:W.constellation2[2],fanfare_gain_:W.constellation2[3],max_hp_:W.constellation2[4]},constellation4:{energyRegen:W.constellation4[0],cd:W.constellation4[1]},constellation6:{duration:W.constellation6[0],auto_dmgInc:W.constellation6[1],ousiaCd:W.constellation6[2],ousiaHeal:W.constellation6[3],ousiaDuration:W.constellation6[4],pneumaHpCost:W.constellation6[5],pneumaAuto_dmgInc:W.constellation6[6],triggers:W.constellation6[7]}},[pR,ST]=h(lc,"skillHpConsumeStacks"),wT=N(1,4),zg=w(ST,C(wT,t=>c(1+.1*t)),St),[kR,AT]=h(lc,"burstFanfare"),fR=N(50,Y.burst.maxFanfare,50),BT=N(50,Y.burst.maxFanfare+Y.constellation1.fanfareLimitInc,50),IT=w(AT,C(BT,t=>t>450?n(a.constellation,1,t):p(t)),O),RT=m(IT,$(a.total.burstIndex,Y.burst.dmgIncRatio,{unit:"%",fixed:2})),MT=m(IT,$(a.total.burstIndex,Y.burst.heal_ratio,{unit:"%",fixed:2})),HT=n(a.asc,4,yl(m(c(Y.passive2.member_dmg_),a.total.hp,c(1/1e3)),c(Y.passive2.max_member_dmg_))),bR=n(a.asc,4,Wm(m(c(-Y.passive2.interval_dec_),a.total.hp,c(1/1e3)),c(-Y.passive2.max_interval_dec_))),ik={premod:{skill_dmg_:HT}},[vR,ET]=h(lc,"c2Overstack"),KT=N(50,Y.constellation2.stacks,50),NT=n(a.constellation,2,w(ET,C(KT,t=>m(t,c(Y.constellation2.hp_,{fixed:2}))),O)),[_R,Eu]=h(lc,"c6"),[yR,FT]=h(lc,"c6Pneuma"),TR=Sr(a.constellation,6,rn(Eu,"on","hydro")),$b=n(a.constellation,6,i(Eu,"on",m(c(Y.constellation6.auto_dmgInc),a.total.hp))),xb=e({...$b},y.info("normal_dmgInc")),Db=e({...$b},y.info("charged_dmgInc")),Pb=e({...$b},y.info("plunging_dmgInc")),Cb=n(a.constellation,6,i(Eu,"on",i(FT,"on",m(c(Y.constellation6.pneumaAuto_dmgInc),a.total.hp)))),OT=e({...Cb},y.info("normal_dmgInc")),jT=e({...Cb},y.info("charged_dmgInc")),GT=e({...Cb},y.info("plunging_dmgInc")),ms={normal:{...Object.fromEntries(Y.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),thornBladeDmg:o("atk",Y.normal.bladeThornDmg,"normal",{hit:{ele:p($r.ele)}})},charged:{dmg:o("atk",Y.charged.dmg,"charged")},plunging:E("atk",Y.plunging),skill:{bubbleDmg:o("hp",Y.skill.bubbleDmg,"skill"),usherDmg:o("hp",Y.skill.usherDmg,"skill",ik,zg),chevalDmg:o("hp",Y.skill.chevalDmg,"skill",ik,zg),crabDmg:o("hp",Y.skill.crabDmg,"skill",ik,zg),streamsHeal:cl("hp",Y.skill.streamsHealBase,Y.skill.streamsHealFlat,"skill")},burst:{skillDmg:o("hp",Y.burst.skillDmg,"burst")},passive1:{heal:n(a.asc,1,zn("hp",c(Y.passive1.heal),0))},passive2:{member_dmg_:HT},constellation6:{c6_normal_dmgInc:xb,c6_charged_dmgInc:Db,c6_plunging_dmgInc:Pb,heal:n(a.constellation,6,zn("hp",c(Y.constellation6.ousiaHeal),0))}},zT=n(a.constellation,3,3),WT=n(a.constellation,5,3),$R=B(lc,$r.ele,$r.region,$r,ms,{premod:{skillBoost:WT,burstBoost:zT,hp_:NT,normal_dmgInc:D(xb,OT),charged_dmgInc:D(Db,jT),plunging_dmgInc:Pb,plunging_impact_dmgInc:GT},infusion:{nonOverridableSelf:TR},teamBuff:{premod:{all_dmg_:RT,incHeal_:MT}}}),xR={key:lc,name:U.name,rarity:$r.rarity,elementKey:$r.ele,weaponTypeKey:$r.weaponType,gender:"F",constellationName:U.chg("constellationName"),title:U.chg("title"),talent:{auto:U.talentTem("auto",[{text:U.chg("auto.fields.normal")},{fields:Y.normal.hitArr.map((t,l)=>({node:e(ms.normal[l],{name:U.chg(`auto.skillParams.${l}`)})}))},{text:U.chg("auto.fields.charged")},{fields:[{node:e(ms.charged.dmg,{name:U.chg("auto.skillParams.4")})},{text:U.chg("auto.skillParams.5"),value:Y.charged.stam}]},{text:U.chg("auto.fields.arkhe")},{fields:[{node:e(ms.normal.thornBladeDmg,{name:U.chg("auto.skillParams.8")})},{text:U.chg("auto.skillParams.9"),value:Y.normal.bladeThornInterval,unit:"s"}]},{text:U.chg("auto.fields.plunging")},{fields:[{node:e(ms.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ms.plunging.low,{name:s("plunging.low")})},{node:e(ms.plunging.high,{name:s("plunging.high")})}]},U.condTem("constellation6",{value:Eu,path:_R,name:d("afterUse.skill"),states:{on:{fields:[{text:P(Rp,{color:"hydro",children:d("infusion.hydro")})},{node:xb},{node:Db},{node:Pb}]}}}),U.condTem("constellation6",{canShow:i(Eu,"on",1),path:yR,value:FT,name:U.ch("c6Pneuma"),states:{on:{fields:[{node:OT},{node:jT},{node:GT}]}}}),U.headerTem("constellation6",{fields:[{node:e(ms.constellation6.heal,{name:U.ch("c6Healing")})},{text:d("interval"),value:Y.constellation6.ousiaCd,unit:"s"},{text:s("duration"),value:Y.constellation6.ousiaDuration,unit:"s"}]})]),skill:U.talentTem("skill",[{fields:[{node:e(ms.skill.bubbleDmg,{name:U.chg("skill.skillParams.0")})},{text:s("duration"),value:Y.skill.duration,unit:"s"},{node:e(ms.skill.usherDmg,{name:U.chg("skill.skillParams.2")})},{node:e(ms.skill.chevalDmg,{name:U.chg("skill.skillParams.3")})},{node:e(ms.skill.crabDmg,{name:U.chg("skill.skillParams.4")})},{text:U.chg("skill.skillParams.5"),value:Y.skill.usherHp*100,unit:d("percentMaxHP"),fixed:1},{text:U.chg("skill.skillParams.6"),value:Y.skill.chevalHp*100,unit:d("percentMaxHP"),fixed:1},{text:U.chg("skill.skillParams.7"),value:Y.skill.crabHp*100,unit:d("percentMaxHP"),fixed:1},{node:e(ms.skill.streamsHeal,{name:U.chg("skill.skillParams.8")})},{text:s("cd"),value:Y.skill.cd,unit:"s"}]},U.condTem("skill",{value:ST,path:pR,name:U.ch("numOffer"),states:C(wT,t=>({name:d("members",{count:t}),fields:[{node:e(zg,{name:U.ch("memberMult_")})}]}))}),U.headerTem("passive2",{fields:[{node:e(ms.passive2.member_dmg_,{name:U.ch("a4MemberDmg"),unit:"%"})},{node:e(bR,{name:U.ch("a4HealInterval"),unit:"%"})}]})]),burst:U.talentTem("burst",[{fields:[{node:e(ms.burst.skillDmg,{name:U.chg("burst.skillParams.0")})},{text:s("duration"),value:Y.burst.duration,unit:"s"},{text:U.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=1?`${Y.burst.maxFanfare} + ${Y.constellation1.fanfareLimitInc} = ${Y.burst.maxFanfare+Y.constellation1.fanfareLimitInc}`:Y.burst.maxFanfare},{text:s("cd"),value:Y.burst.cd,unit:"s"},{text:s("energyCost"),value:Y.burst.enerCost}]},U.condTem("burst",{value:AT,path:kR,name:U.ch("fanfarePoints"),teamBuff:!0,states:t=>C(t.get(a.constellation).value>=1?BT:fR,l=>({name:`${l}`,fields:[{node:RT},{node:MT}]}))}),U.headerTem("constellation1",{fields:[{text:U.ch("c1Inc"),value:Y.constellation1.fanfareLimitInc},{text:U.ch("c1Bonus"),value:Y.constellation1.bonusFanfare}]}),U.condTem("constellation2",{value:ET,path:vR,name:U.ch("c2Points"),teamBuff:!0,states:C(KT,t=>({name:`${t}`,fields:[{node:NT}]}))})]),passive1:U.talentTem("passive1",[{fields:[{node:e(ms.passive1.heal,{name:s("contHealing")})},{text:d("interval"),value:Y.passive1.interval,unit:"s"},{text:s("duration"),value:Y.passive1.duration,unit:"s"}]}]),passive2:U.talentTem("passive2"),passive3:U.talentTem("passive3"),constellation1:U.talentTem("constellation1"),constellation2:U.talentTem("constellation2"),constellation3:U.talentTem("constellation3",[{fields:[{node:zT}]}]),constellation4:U.talentTem("constellation4"),constellation5:U.talentTem("constellation5",[{fields:[{node:WT}]}]),constellation6:U.talentTem("constellation6")}},DR=new R(xR,$R),Vd="Gaming",Pd=_.char.data[Vd],Ka=_.char.skillParam[Vd],He=A(Vd,Pd.weaponType);let Eo=0,ck=0,eu=0;const Ul={normal:{hitArr:[Ka.auto[Eo++],Ka.auto[Eo++],Ka.auto[Eo++],Ka.auto[Eo++]]},charged:{cyclicDmg:Ka.auto[Eo++],finalDmg:Ka.auto[Eo++],stam:Ka.auto[Eo++][0],duration:Ka.auto[Eo++][0]},plunging:{dmg:Ka.auto[Eo++],low:Ka.auto[Eo++],high:Ka.auto[Eo++]},skill:{cloudstriderDmg:Ka.skill[ck++],hpCost:Ka.skill[ck++][0],cd:Ka.skill[ck++][0]},burst:{smashDmg:Ka.burst[eu++],heal:Ka.burst[eu++][0],duration:Ka.burst[eu++][0],cd:Ka.burst[eu++][0],enerCost:Ka.burst[eu++][0]},passive1:{duration:Ka.passive1[0][0],heal:Ka.passive1[1][0]},passive2:{threshold:Ka.passive2[0][0],heal_:Ka.passive2[1][0],cloudstrider_dmg_:Ka.passive2[2][0]},constellation1:{heal:Ka.constellation1[0]},constellation2:{atk_:Ka.constellation2[0],duration:Ka.constellation2[1]},constellation4:{energyRegen:Ka.constellation4[0]},constellation6:{skill_critRate_:Ka.constellation6[0],skill_critDMG_:Ka.constellation6[1]}},PR=m(c(Ul.skill.hpCost),a.total.hp),[CR,Sb]=h(Vd,"a4HpState"),LT=n(a.asc,4,i(Sb,"below",Ul.passive2.heal_)),UT=n(a.asc,4,i(Sb,"above",Ul.passive2.cloudstrider_dmg_)),[SR,qT]=h(Vd,"c2Overheal"),VT=n(a.constellation,2,i(qT,"on",Ul.constellation2.atk_)),JT=n(a.constellation,6,Ul.constellation6.skill_critRate_),QT=n(a.constellation,6,Ul.constellation6.skill_critDMG_),mo={normal:{...Object.fromEntries(Ul.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{cyclicDmg:o("atk",Ul.charged.cyclicDmg,"charged"),finalDmg:o("atk",Ul.charged.finalDmg,"charged")},plunging:E("atk",Ul.plunging),skill:{cloudstriderDmg:F(m($(a.total.skillIndex,Ul.skill.cloudstriderDmg,{unit:"%"}),a.total.atk),"plunging_impact",{hit:{ele:p("pyro")},premod:{plunging_dmg_:UT,plunging_critRate_:JT,plunging_critDMG_:QT}})},burst:{smashDmg:o("atk",Ul.burst.smashDmg,"burst"),heal:zn("hp",c(Ul.burst.heal),0)},passive1:{heal:n(a.asc,1,zn("hp",c(Ul.passive1.heal),0))},constellation1:{heal:n(a.constellation,1,zn("hp",c(Ul.constellation1.heal),0))}},XT=n(a.constellation,3,3),YT=n(a.constellation,5,3),wR=B(Vd,Pd.ele,Pd.region,Pd,mo,{premod:{skillBoost:XT,burstBoost:YT,heal_:LT,atk_:VT}}),AR={key:Vd,name:He.name,rarity:Pd.rarity,elementKey:Pd.ele,weaponTypeKey:Pd.weaponType,gender:"M",constellationName:He.chg("constellationName"),title:He.chg("title"),talent:{auto:He.talentTem("auto",[{text:He.chg("auto.fields.normal")},{fields:Ul.normal.hitArr.map((t,l)=>({node:e(mo.normal[l],{name:He.chg(`auto.skillParams.${l}`)})}))},{text:He.chg("auto.fields.charged")},{fields:[{node:e(mo.charged.cyclicDmg,{name:He.chg("auto.skillParams.4")})},{node:e(mo.charged.finalDmg,{name:He.chg("auto.skillParams.5")})},{text:He.chg("auto.skillParams.6"),value:Ul.charged.stam,unit:"/s"},{text:He.chg("auto.skillParams.7"),value:Ul.charged.duration,unit:"s"}]},{text:He.chg("auto.fields.plunging")},{fields:[{node:e(mo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(mo.plunging.low,{name:s("plunging.low")})},{node:e(mo.plunging.high,{name:s("plunging.high")})}]}]),skill:He.talentTem("skill",[{fields:[{node:e(mo.skill.cloudstriderDmg,{name:He.chg("skill.skillParams.0")})},{node:e(PR,{name:He.chg("skill.skillParams.1")})},{text:s("cd"),value:Ul.skill.cd,unit:"s"}]},He.headerTem("constellation6",{fields:[{node:e(JT,{name:He.ch("cloudstrider_critRate_"),unit:"%"})},{node:e(QT,{name:He.ch("cloudstrider_critDMG_"),unit:"%"})}]})]),burst:He.talentTem("burst",[{fields:[{node:e(mo.burst.smashDmg,{name:He.chg("burst.skillParams.0")})},{node:e(mo.burst.heal,{name:He.chg("burst.skillParams.1")})},{text:He.chg("burst.skillParams.2"),value:Ul.burst.duration,unit:"s"},{text:s("cd"),value:Ul.burst.cd,unit:"s"},{text:s("energyCost"),value:Ul.burst.enerCost}]}]),passive1:He.talentTem("passive1",[He.fieldsTem("passive1",{fields:[{node:e(mo.passive1.heal,{name:s("healing")})}]})]),passive2:He.talentTem("passive2",[He.condTem("passive2",{value:Sb,path:CR,name:d("percentCurrentHP"),states:{below:{name:d("lessPercentHP",{percent:Ul.passive2.threshold*100}),fields:[{node:LT}]},above:{name:d("greaterEqPercentHP",{percent:Ul.passive2.threshold*100}),fields:[{node:e(UT,{name:He.ch("cloudstrider_dmg_"),unit:"%"})}]}}})]),passive3:He.talentTem("passive3"),constellation1:He.talentTem("constellation1",[He.fieldsTem("constellation1",{fields:[{node:e(mo.constellation1.heal,{name:s("healing")})}]})]),constellation2:He.talentTem("constellation2",[He.condTem("constellation2",{path:SR,value:qT,name:d("afterOverflow"),states:{on:{fields:[{node:VT},{text:s("duration"),value:Ul.constellation2.duration,unit:"s"}]}}})]),constellation3:He.talentTem("constellation3",[{fields:[{node:XT}]}]),constellation4:He.talentTem("constellation4"),constellation5:He.talentTem("constellation5",[{fields:[{node:YT}]}]),constellation6:He.talentTem("constellation6")}},BR=new R(AR,wR),zc="Ganyu",ZT="cryo",IR="liyue",Dh=_.char.data[zc],xl=_.char.skillParam[zc],Wt=A(zc,Dh.weaponType);let Es=0,hg=0,pg=0,B_=0,RR=0;const fn={normal:{hitArr:[xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++]]},charged:{aimed:xl.auto[Es++],aimedCharged:xl.auto[Es++],frostflake:xl.auto[Es++],frostflakeBloom:xl.auto[Es++]},plunging:{dmg:xl.auto[Es++],low:xl.auto[Es++],high:xl.auto[Es++]},skill:{inheritedHp:xl.skill[hg++],dmg:xl.skill[hg++],duration:xl.skill[hg++][0],cd:xl.skill[hg++][0]},burst:{dmg:xl.burst[pg++],duration:xl.burst[pg++][0],cd:xl.burst[pg++][0],enerCost:xl.burst[pg++][0]},passive1:{duration:xl.passive1[B_++][0],critRateInc:xl.passive1[B_++][0]},passive2:{cryoDmgBonus:xl.passive2[RR++][0]},constellation1:{opCryoRes:xl.constellation1[0],duration:xl.constellation1[1],enerRegen:xl.constellation1[2]}},[MR,Yk]=h(zc,"A1"),[HR,t$]=h(zc,"A4"),[ER,e$]=h(zc,"C1"),[KR,a$]=h(zc,"C4"),l$=n(a.constellation,1,i("on",e$,c(fn.constellation1.opCryoRes))),n$=n(a.asc,4,i("on",t$,c(fn.passive2.cryoDmgBonus))),NR=i(a.activeCharKey,G.charKey,n$),s$=n(a.constellation,4,w(a$,Object.fromEntries(N(1,5).map(t=>[t,c(.05*t)])),O)),uo={normal:Object.fromEntries(fn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",fn.charged.aimed,"charged"),aimedCharged:o("atk",fn.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}}),frostflake:o("atk",fn.charged.frostflake,"charged",{premod:{critRate_:n(a.asc,1,i(Yk,"on",c(fn.passive1.critRateInc)))},hit:{ele:p("cryo")}}),frostflakeBloom:o("atk",fn.charged.frostflakeBloom,"charged",{premod:{critRate_:n(a.asc,1,i(Yk,"on",c(fn.passive1.critRateInc)))},hit:{ele:p("cryo")}})},plunging:E("atk",fn.plunging),skill:{inheritedHp:m($(a.total.skillIndex,fn.skill.inheritedHp),a.total.hp),dmg:o("atk",fn.skill.dmg,"skill")},burst:{dmg:o("atk",fn.burst.dmg,"burst")}},o$=n(a.constellation,3,3),i$=n(a.constellation,5,3),FR=B(zc,ZT,IR,Dh,uo,{premod:{skillBoost:i$,burstBoost:o$},teamBuff:{premod:{cryo_dmg_:NR,all_dmg_:s$,cryo_enemyRes_:l$}}}),OR={key:zc,name:Wt.name,rarity:Dh.rarity,elementKey:ZT,weaponTypeKey:Dh.weaponType,gender:"F",constellationName:Wt.chg("constellationName"),title:Wt.chg("title"),talent:{auto:Wt.talentTem("auto",[{text:Wt.chg("auto.fields.normal")},{fields:fn.normal.hitArr.map((t,l)=>({node:e(uo.normal[l],{name:Wt.chg(`auto.skillParams.${l}`)})}))},{text:Wt.chg("auto.fields.charged")},{fields:[{node:e(uo.charged.aimed,{name:Wt.chg("auto.skillParams.6")})},{node:e(uo.charged.aimedCharged,{name:Wt.chg("auto.skillParams.7")})},{node:e(uo.charged.frostflake,{name:Wt.chg("auto.skillParams.8")})},{node:e(uo.charged.frostflakeBloom,{name:Wt.chg("auto.skillParams.9")})}]},Wt.condTem("passive1",{value:Yk,path:MR,name:Wt.ch("a1.condName"),states:{on:{fields:[{text:Wt.ch("a1.critRateInc"),value:fn.passive1.critRateInc*100,unit:"%"},{text:s("duration"),value:`${fn.passive1.duration}s`}]}}}),Wt.condTem("constellation1",{value:e$,path:ER,name:Wt.ch("c1.condName"),teamBuff:!0,states:{on:{fields:[{node:l$},{text:s("duration"),value:`${fn.constellation1.duration}s`}]}}}),{text:Wt.chg("auto.fields.plunging")},{fields:[{node:e(uo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(uo.plunging.low,{name:s("plunging.low")})},{node:e(uo.plunging.high,{name:s("plunging.high")})}]}]),skill:Wt.talentTem("skill",[{fields:[{node:e(uo.skill.inheritedHp,{name:Wt.chg("skill.skillParams.0"),variant:"heal"})},{node:e(uo.skill.dmg,{name:Wt.chg("skill.skillParams.1")})},{text:Wt.chg("skill.skillParams.2"),value:`${fn.skill.duration}s`},{text:Wt.chg("skill.skillParams.3"),value:`${fn.skill.cd}s`},{canShow:t=>t.get(a.constellation).value>=2,text:d("charges"),value:2}]}]),burst:Wt.talentTem("burst",[{fields:[{node:e(uo.burst.dmg,{name:Wt.chg("burst.skillParams.0")})},{text:Wt.chg("burst.skillParams.1"),value:`${fn.burst.duration}s`},{text:Wt.chg("burst.skillParams.2"),value:`${fn.burst.cd}s`},{text:Wt.chg("burst.skillParams.3"),value:`${fn.burst.enerCost}`}]},Wt.condTem("passive2",{value:t$,path:HR,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(n$,y.info("cryo_dmg_"))}]}}}),Wt.condTem("constellation4",{value:a$,path:KR,teamBuff:!0,name:d("opponentsField"),states:Object.fromEntries(N(1,5).map(t=>[t,{name:d("seconds",{count:(t-1)*3}),fields:[{node:s$},{text:Wt.ch("c4.lingerDuration"),value:3,unit:"s"}]}]))})]),passive1:Wt.talentTem("passive1"),passive2:Wt.talentTem("passive2"),passive3:Wt.talentTem("passive3"),constellation1:Wt.talentTem("constellation1"),constellation2:Wt.talentTem("constellation2",[Wt.fieldsTem("constellation2",{fields:[{text:d("addlCharges"),value:1}]})]),constellation3:Wt.talentTem("constellation3",[{fields:[{node:o$}]}]),constellation4:Wt.talentTem("constellation4"),constellation5:Wt.talentTem("constellation5",[{fields:[{node:i$}]}]),constellation6:Wt.talentTem("constellation6")}},jR=new R(OR,FR),Kr="Gorou",wb="geo",Ph=_.char.data[Kr],Ya=_.char.skillParam[Kr],Na=A(Kr,Ph.weaponType);let _c=0,au=0,lu=0;const cn={normal:{hitArr:[Ya.auto[_c++],Ya.auto[_c++],Ya.auto[_c++],Ya.auto[_c++]]},charged:{aimed:Ya.auto[_c++],fully:Ya.auto[_c++]},plunging:{dmg:Ya.auto[_c++],low:Ya.auto[_c++],high:Ya.auto[_c++]},skill:{dmg:Ya.skill[au++],defInc:Ya.skill[au++],geo_dmg_:Ya.skill[au++][0],duration:Ya.skill[au++][0],cd:Ya.skill[au++][0]},burst:{dmg_def:Ya.burst[lu++],crystalDmg_def:Ya.burst[lu++],crystalHits:6,duration:Ya.burst[lu++][0],cd:Ya.burst[lu++][0],enerCost:Ya.burst[lu++][0]},passive1:{def_:Ya.passive1[0][0],duration:Ya.passive1[1][0]},passive2:{skill_dmgInc:Ya.passive2[0][0],burst_dmgInc:Ya.passive2[1][0]},constellation4:{heal_def_:Ya.constellation4[0]},constellation6:{geo_critDMG_:[Ya.constellation6[0],Ya.constellation6[1],Ya.constellation6[2],Ya.constellation6[2]],duration:Ya.constellation6[3]}},[GR,Ab]=h(Kr,"inField"),c$=i(Ab,"inField",n(dn.geo,1,$(a.total.skillIndex,cn.skill.defInc))),zR=i(a.activeCharKey,G.charKey,c$),r$=i(Ab,"inField",n(dn.geo,3,cn.skill.geo_dmg_)),WR=i(a.activeCharKey,G.charKey,r$),[LR,d$]=h(Kr,"afterBurst"),m$=n(a.asc,1,i(d$,"afterBurst",cn.passive1.def_)),u$=n(a.asc,4,m(a.total.def,cn.passive2.skill_dmgInc)),g$=n(a.asc,4,m(a.total.def,cn.passive2.burst_dmgInc)),[UR,h$]=h(Kr,"afterSkillBurst"),p$=n(a.constellation,6,i(h$,"afterSkillBurst",$(D(dn.geo,-1),cn.constellation6.geo_critDMG_))),ei={normal:Object.fromEntries(cn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",cn.charged.aimed,"charged"),fully:o("atk",cn.charged.fully,"charged",{hit:{ele:p(wb)}})},plunging:E("atk",cn.plunging),skill:{dmg:o("atk",cn.skill.dmg,"skill")},burst:{dmg:o("def",cn.burst.dmg_def,"burst"),crystalCollapse:o("def",cn.burst.crystalDmg_def,"burst")},constellation4:{heal:n(a.constellation,4,zn("def",cn.constellation4.heal_def_,0))}},k$=n(a.constellation,3,3),f$=n(a.constellation,5,3),qR=B(Kr,wb,"inazuma",Ph,ei,{teamBuff:{premod:{def:zR,geo_dmg_:WR,def_:m$,geo_critDMG_:p$}},premod:{burstBoost:f$,skillBoost:k$,skill_dmgInc:u$,burst_dmgInc:g$}}),VR={key:Kr,name:Na.name,rarity:Ph.rarity,elementKey:wb,weaponTypeKey:Ph.weaponType,gender:"M",constellationName:Na.chg("constellationName"),title:Na.chg("title"),talent:{auto:Na.talentTem("auto",[{text:Na.chg("auto.fields.normal")},{fields:cn.normal.hitArr.map((t,l)=>({node:e(ei.normal[l],{name:Na.chg(`auto.skillParams.${l}`)})}))},{text:Na.chg("auto.fields.charged")},{fields:[{node:e(ei.charged.aimed,{name:Na.chg("auto.skillParams.4")})},{node:e(ei.charged.fully,{name:Na.chg("auto.skillParams.5")})}]},{text:Na.chg("auto.fields.plunging")},{fields:[{node:e(ei.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ei.plunging.low,{name:s("plunging.low")})},{node:e(ei.plunging.high,{name:s("plunging.high")})}]}]),skill:Na.talentTem("skill",[{fields:[{node:e(ei.skill.dmg,{name:Na.chg("skill.skillParams.0")})},{text:s("duration"),value:cn.skill.duration,unit:"s"},{text:s("cd"),value:cn.skill.cd,unit:"s"}]},Na.condTem("skill",{value:Ab,path:GR,name:d("activeCharField"),teamBuff:!0,states:{inField:{fields:[{node:e(c$,y.info("def"))},{canShow:t=>t.get(dn.geo).value>=2,text:d("incInterRes")},{node:e(r$,y.info("geo_dmg_"))}]}}}),Na.headerTem("passive2",{fields:[{node:u$}]}),Na.headerTem("constellation4",{fields:[{node:e(ei.constellation4.heal,{name:s("healing")})}]})]),burst:Na.talentTem("burst",[{fields:[{node:e(ei.burst.dmg,{name:Na.chg("burst.skillParams.0")})},{node:e(ei.burst.crystalCollapse,{name:Na.chg("burst.skillParams.1"),multi:cn.burst.crystalHits})},{text:s("duration"),value:cn.burst.duration,unit:"s"},{text:s("cd"),value:cn.burst.cd,unit:"s"},{text:s("energyCost"),value:cn.burst.enerCost}]},Na.condTem("passive1",{value:d$,path:LR,name:d("afterUse.burst"),teamBuff:!0,states:{afterBurst:{fields:[{node:m$},{text:s("duration"),value:cn.passive1.duration,unit:"s"}]}}}),Na.headerTem("passive2",{fields:[{node:g$}]})]),passive1:Na.talentTem("passive1"),passive2:Na.talentTem("passive2"),passive3:Na.talentTem("passive3"),constellation1:Na.talentTem("constellation1"),constellation2:Na.talentTem("constellation2"),constellation3:Na.talentTem("constellation3",[{fields:[{node:k$}]}]),constellation4:Na.talentTem("constellation4"),constellation5:Na.talentTem("constellation5",[{fields:[{node:f$}]}]),constellation6:Na.talentTem("constellation6",[Na.condTem("constellation6",{value:h$,path:UR,name:d("afterUse.skillOrBurst"),teamBuff:!0,states:{afterSkillBurst:{fields:[{node:p$},{text:s("duration"),value:cn.constellation6.duration,unit:"s"}]}}})])}},JR=new R(VR,qR),So="HuTao",Bb="pyro",Ch=_.char.data[So],ye=_.char.skillParam[So],ut=A(So,Ch.weaponType);let ao=0,nd=0,sd=0,I_=0,R_=0;const vl={normal:{hitArr:[ye.auto[ao++],ye.auto[ao++],ye.auto[ao++],ye.auto[ao++],ye.auto[ao++],ye.auto[ao++],ye.auto[ao++]]},charged:{dmg:ye.auto[ao++],stamina:ye.auto[ao++][0]},plunging:{dmg:ye.auto[ao++],low:ye.auto[ao++],high:ye.auto[ao++]},skill:{activationCost:ye.skill[nd++][0],atkInc:ye.skill[nd++],dmg:ye.skill[nd++],bloodBlossomDuration:ye.skill[nd++][0],duration:ye.skill[nd++][0],cd:ye.skill[nd++][0],maxAtkInc:ye.skill[nd++][0]},burst:{dmg:ye.burst[sd++],lowHpDmg:ye.burst[sd++],regen:ye.burst[sd++],lowHpRegen:ye.burst[sd++],cd:ye.burst[sd++][0],enerCost:ye.burst[sd++][0],minHp:ye.burst[sd++][0]},passive1:{critRateInc:ye.passive1[I_++][0],duration:ye.passive1[I_++][0]},passive2:{minHp:ye.passive2[R_++][0],pyroDmgInc:ye.passive2[R_++][0]},constellation2:{bloodBlossomDmgInc:ye.constellation2[0]},constellation4:{critRateInc:ye.constellation4[0],duration:ye.constellation4[1]},constellation6:{minHp:ye.constellation6[0],duration:ye.constellation6[1],elePhysResInc:ye.constellation6[2],critRateInc:ye.constellation6[3]}},[QR,Ib]=h(So,"GuideToAfterlifeVoyage"),Rb=i("on",Ib,yl(m($(a.total.skillIndex,vl.skill.atkInc),a.premod.hp),m(c(vl.skill.maxAtkInc),a.base.atk))),XR=rn("on",Ib,Bb),[YR,b$]=h(So,"FlutterBy"),v$=n(a.asc,1,i("on",b$,c(vl.passive1.critRateInc),{...y.info("critRate_"),isTeamBuff:!0})),ZR=z(So,G.charKey,v$,{...y.info("critRate_"),isTeamBuff:!0}),[tM,_$]=h(So,"SanguineRouge"),y$=n(a.asc,4,i("on",_$,c(vl.passive2.pyroDmgInc))),[eM,T$]=h(So,"GardenOfEternalRest"),$$=n(a.constellation,4,i("on",T$,c(vl.constellation4.critRateInc),{...y.info("critRate_"),isTeamBuff:!0})),aM=z(So,G.charKey,$$,{...y.info("critRate_"),isTeamBuff:!0}),[lM,Mb]=h(So,"ButterflysEmbrace"),x$=n(a.constellation,6,i("on",Mb,c(vl.constellation6.critRateInc))),D$=Object.fromEntries(Po.map(t=>[t,n(a.constellation,6,i("on",Mb,c(vl.constellation6.elePhysResInc)))])),Vs={normal:Object.fromEntries(vl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",vl.charged.dmg,"charged")},plunging:E("atk",vl.plunging),skill:{dmg:o("atk",vl.skill.dmg,"skill"),atk:Rb},burst:{dmg:o("atk",vl.burst.dmg,"burst"),lowHpDmg:o("atk",vl.burst.lowHpDmg,"burst"),regen:Gn(m(a.total.hp,$(a.total.burstIndex,vl.burst.regen,{unit:"%"}))),lowHpRegen:Gn(m(a.total.hp,$(a.total.burstIndex,vl.burst.lowHpRegen,{unit:"%"})))},constellation2:{skill_dmgInc:n(a.constellation,2,m(a.total.hp,c(vl.constellation2.bloodBlossomDmgInc)))}},P$=n(a.constellation,3,3),C$=n(a.constellation,5,3),nM=B(So,Bb,"liyue",Ch,Vs,{premod:{skillBoost:P$,burstBoost:C$,pyro_dmg_:y$,...Object.fromEntries(Po.map(t=>[`${t}_res_`,D$[t]])),critRate_:x$,skill_dmgInc:Vs.constellation2.skill_dmgInc},total:{atk:Rb},teamBuff:{premod:{critRate_:D(ZR,aM)}},infusion:{nonOverridableSelf:XR}}),sM={key:So,name:ut.name,rarity:Ch.rarity,elementKey:Bb,weaponTypeKey:Ch.weaponType,gender:"F",constellationName:ut.chg("constellationName"),title:ut.chg("title"),talent:{auto:ut.talentTem("auto",[{text:ut.chg("auto.fields.normal")},{fields:vl.normal.hitArr.map((t,l)=>({node:e(Vs.normal[l],{name:ut.chg(`auto.skillParams.${l+(l<5?0:-1)}`),textSuffix:l===4?"(1)":l===5?"(2)":""})}))},{text:ut.chg("auto.fields.charged")},{fields:[{node:e(Vs.charged.dmg,{name:ut.chg("auto.skillParams.6")})},{text:ut.chg("auto.skillParams.7"),value:vl.charged.stamina}]},{text:ut.chg("auto.fields.plunging")},{fields:[{node:e(Vs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Vs.plunging.low,{name:s("plunging.low")})},{node:e(Vs.plunging.high,{name:s("plunging.high")})}]}]),skill:ut.talentTem("skill",[{fields:[{node:e(Vs.skill.dmg,{name:ut.chg("skill.skillParams.2")})},{text:ut.chg("skill.skillParams.3"),value:vl.skill.bloodBlossomDuration,unit:"s"},{text:ut.chg("skill.skillParams.5"),value:vl.skill.cd,unit:"s"}]},ut.condTem("skill",{value:Ib,path:QR,name:ut.ch("paramita.enter"),states:{on:{fields:[{text:ut.chg("skill.skillParams.0"),value:vl.skill.activationCost*100,unit:d("percentCurrentHP")},{node:Rb},{text:d("infusion.pyro"),variant:"pyro"},{text:d("incInterRes")},{text:ut.chg("skill.skillParams.4"),value:vl.skill.duration,unit:"s"}]}}}),ut.headerTem("constellation2",{fields:[{node:Vs.constellation2.skill_dmgInc}]})]),burst:ut.talentTem("burst",[{fields:[{node:e(Vs.burst.dmg,{name:ut.chg("burst.skillParams.0")})},{node:e(Vs.burst.lowHpDmg,{name:ut.chg("burst.skillParams.1")})},{node:e(Vs.burst.regen,{name:ut.chg("burst.skillParams.2")})},{node:e(Vs.burst.lowHpRegen,{name:ut.chg("burst.skillParams.3")})},{text:ut.chg("burst.skillParams.4"),value:vl.burst.cd,unit:"s"},{text:ut.chg("burst.skillParams.5"),value:vl.burst.enerCost}]},ut.headerTem("constellation2",{fields:[{text:ut.ch("constellation2.applyBloodBlossom")}]})]),passive1:ut.talentTem("passive1",[ut.condTem("passive1",{value:b$,path:YR,teamBuff:!0,name:ut.ch("paramita.end"),states:{on:{fields:[{node:v$},{text:s("duration"),value:vl.passive1.duration,unit:"s"}]}}})]),passive2:ut.talentTem("passive2",[ut.condTem("passive2",{value:_$,path:tM,name:d("lessEqPercentHP",{percent:vl.passive2.minHp*100}),states:{on:{fields:[{node:y$}]}}})]),passive3:ut.talentTem("passive3"),constellation1:ut.talentTem("constellation1"),constellation2:ut.talentTem("constellation2"),constellation3:ut.talentTem("constellation3",[{fields:[{node:P$}]}]),constellation4:ut.talentTem("constellation4",[ut.condTem("constellation4",{value:T$,path:eM,teamBuff:!0,name:ut.ch("constellation4.condName"),states:{on:{fields:[{node:$$},{text:s("duration"),value:vl.constellation4.duration,unit:"s"}]}}})]),constellation5:ut.talentTem("constellation5",[{fields:[{node:C$}]}]),constellation6:ut.talentTem("constellation6",[ut.condTem("constellation6",{value:Mb,path:lM,name:ut.ch("constellation6.condName"),states:{on:{fields:[...Po.map(t=>({node:D$[t]})),{node:x$},{text:d("incInterRes")},{text:s("duration"),value:vl.constellation6.duration,unit:"s"},{text:s("cd"),value:60,unit:"s"}]}}})])}},oM=new R(sM,nM),Wc="Jean",S$="anemo",iM="mondstadt",Sh=_.char.data[Wc],Pa=_.char.skillParam[Wc],Xt=A(Wc,Sh.weaponType);let wi=0,kg=0,nr=0,M_=0,cM=0;const Jl={normal:{hitArr:[Pa.auto[wi++],Pa.auto[wi++],Pa.auto[wi++],Pa.auto[wi++],Pa.auto[wi++]]},charged:{dmg:Pa.auto[wi++],stamina:Pa.auto[wi++][0]},plunging:{dmg:Pa.auto[wi++],low:Pa.auto[wi++],high:Pa.auto[wi++]},skill:{dmg:Pa.skill[kg++],stamina:Pa.skill[kg++][0],duration:Pa.skill[kg++][0],cd:Pa.skill[kg++][0]},burst:{dmg:Pa.burst[nr++],enterExitDmg:Pa.burst[nr++],burstActivationAtkModifier:Pa.burst[nr++],burstActionFlatModifier:Pa.burst[nr++],burstRegenAtkModifier:Pa.burst[nr++],burstRegenFlatModifier:Pa.burst[nr++],cd:Pa.burst[nr++][0],enerCost:Pa.burst[nr++][0]},passive1:{chance:Pa.passive1[M_++][0],atkPercentage:Pa.passive1[M_++][0]},passive2:{energyRegen:Pa.passive2[cM++][0]},constellation1:{increaseDmg:Pa.constellation1[0]},constellation2:{moveSpd:Pa.constellation2[0],atkSpd:Pa.constellation2[1],duration:Pa.constellation2[2]},constellation4:{anemoRes:Pa.constellation4[0]},constellation6:{dmgReduction:Pa.constellation6[0]}},rM=cl("atk",Jl.burst.burstActivationAtkModifier,Jl.burst.burstActionFlatModifier,"burst"),dM=cl("atk",Jl.burst.burstRegenAtkModifier,Jl.burst.burstRegenFlatModifier,"burst"),mM=n(a.asc,1,Gn(m(c(Jl.passive1.atkPercentage),a.total.atk))),[uM,w$]=h(Wc,"c1"),A$=n(a.constellation,1,i(w$,"on",Jl.constellation1.increaseDmg)),[gM,Hb]=h(Wc,"c2"),B$=n(a.constellation,2,i(Hb,"on",c(Jl.constellation2.atkSpd))),I$=n(a.constellation,2,i(Hb,"on",c(Jl.constellation2.moveSpd))),[hM,R$]=h(Wc,"c4"),M$=n(a.constellation,4,i(R$,"on",c(-Math.abs(Jl.constellation4.anemoRes)))),[pM,H$]=h(Wc,"c6"),E$=n(a.constellation,6,i(H$,"on",c(Jl.constellation6.dmgReduction))),kM=i(a.activeCharKey,G.charKey,E$),go={normal:Object.fromEntries(Jl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Jl.charged.dmg,"charged")},plunging:E("atk",Jl.plunging),skill:{dmg:o("atk",Jl.skill.dmg,"skill")},burst:{dmg:o("atk",Jl.burst.dmg,"burst"),enterExitDmg:o("atk",Jl.burst.enterExitDmg,"burst"),regen:rM,contRegen:dM},passive1:{a1Regen:mM}},K$=n(a.constellation,3,3),N$=n(a.constellation,5,3),fM=B(Wc,S$,iM,Sh,go,{premod:{skillBoost:N$,burstBoost:K$,skill_dmg_:A$},teamBuff:{premod:{atkSPD_:B$,moveSPD_:I$,anemo_enemyRes_:M$,dmgRed_:kM}}}),bM={key:Wc,name:Xt.name,rarity:Sh.rarity,elementKey:S$,weaponTypeKey:Sh.weaponType,gender:"F",constellationName:Xt.chg("constellationName"),title:Xt.chg("title"),talent:{auto:Xt.talentTem("auto",[{text:Xt.chg("auto.fields.normal")},{fields:Jl.normal.hitArr.map((t,l)=>({node:e(go.normal[l],{name:Xt.chg(`auto.skillParams.${l}`)})}))},{text:Xt.chg("auto.fields.charged")},{fields:[{node:e(go.charged.dmg,{name:Xt.chg("auto.skillParams.5")})},{text:Xt.chg("auto.skillParams.6"),value:Jl.charged.stamina}]},{text:Xt.chg("auto.fields.plunging")},{fields:[{node:e(go.plunging.dmg,{name:s("plunging.dmg")})},{node:e(go.plunging.low,{name:s("plunging.low")})},{node:e(go.plunging.high,{name:s("plunging.high")})}]}]),skill:Xt.talentTem("skill",[{fields:[{node:e(go.skill.dmg,{name:Xt.chg("skill.skillParams.0")})},{text:Xt.chg("skill.skillParams.1"),value:`${Jl.skill.stamina}`,unit:"/s"},{text:Xt.chg("skill.skillParams.2"),value:`${Jl.skill.duration}`,unit:"s"},{text:Xt.chg("skill.skillParams.3"),value:`${Jl.skill.cd}`,unit:"s"}]},Xt.condTem("constellation1",{value:w$,path:uM,name:Xt.ch("c1CondName"),states:{on:{fields:[{text:Xt.ch("c1PullSpeed")},{node:A$}]}}})]),burst:Xt.talentTem("burst",[{fields:[{node:e(go.burst.dmg,{name:Xt.chg("burst.skillParams.0")})},{node:e(go.burst.enterExitDmg,{name:Xt.chg("burst.skillParams.1")})},{node:e(go.burst.regen,{name:Xt.chg("burst.skillParams.2")})},{node:e(go.burst.contRegen,{name:Xt.chg("burst.skillParams.3")})},{text:s("duration"),value:11,unit:"s"},{text:Xt.chg("burst.skillParams.4"),value:`${Jl.burst.cd}`,unit:"s"},{text:Xt.chg("burst.skillParams.5"),value:`${Jl.burst.enerCost}`}]},Xt.condTem("constellation4",{value:R$,path:hM,teamBuff:!0,name:d("opponentsField"),states:{on:{fields:[{node:M$}]}}}),Xt.condTem("constellation6",{value:H$,path:pM,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(E$,y.info("dmgRed_"))}]}}})]),passive1:Xt.talentTem("passive1",[Xt.fieldsTem("passive1",{fields:[{node:e(go.passive1.a1Regen,{name:s("healing")})}]})]),passive2:Xt.talentTem("passive2",[Xt.fieldsTem("passive2",{fields:[{text:s("energyRegen"),value:Jl.passive2.energyRegen}]})]),passive3:Xt.talentTem("passive3"),constellation1:Xt.talentTem("constellation1"),constellation2:Xt.talentTem("constellation2",[Xt.condTem("constellation2",{value:Hb,path:gM,teamBuff:!0,name:d("getElementalOrbParticle"),states:{on:{fields:[{node:B$},{node:I$},{text:s("duration"),value:Jl.constellation2.duration,unit:"s"}]}}})]),constellation3:Xt.talentTem("constellation3",[{fields:[{node:K$}]}]),constellation4:Xt.talentTem("constellation4"),constellation5:Xt.talentTem("constellation5",[{fields:[{node:N$}]}]),constellation6:Xt.talentTem("constellation6")}},vM=new R(bM,fM),Is="KaedeharaKazuha",rk="anemo",wh=_.char.data[Is],gl=_.char.skillParam[Is],ot=A(Is,wh.weaponType);let lo=0,fg=0,um=0,_M=0,H_=0;const qa={normal:{hitArr:[gl.auto[lo++],gl.auto[lo++],gl.auto[lo++],gl.auto[lo++],gl.auto[lo++],gl.auto[lo++]]},charged:{dmg1:gl.auto[lo++],dmg2:gl.auto[lo++],stamina:gl.auto[lo++][0]},plunging:{dmg:gl.auto[lo++],low:gl.auto[lo++],high:gl.auto[lo++]},skill:{press:gl.skill[fg++],cd:gl.skill[fg++][0],hold:gl.skill[fg++],cdHold:gl.skill[fg++][0]},burst:{dmg:gl.burst[um++],dot:gl.burst[um++],add:gl.burst[um++],duration:gl.burst[um++][0],cd:gl.burst[um++][0],enerCost:gl.burst[um++][0]},passive1:{absorbAdd:gl.passive1[_M++][0]},passive2:{elemas_dmg_:gl.passive2[H_++][0],duration:gl.passive2[H_++][0]},constellation2:{elemas:gl.constellation2[0]},constellation6:{auto_:gl.constellation6[0],duration:gl.constellation6[1]}},[yM,Zk]=h(Is,"burstAbsorption"),[TM,tf]=h(Is,"skillAbsorption"),F$=Object.fromEntries(il.map(t=>[t,[Is,`swirl${t}`]])),ef=Object.fromEntries(il.map(t=>[t,Gf(F$[t])])),Eb=Object.fromEntries(il.map(t=>[`${t}_dmg_`,n(a.asc,4,i(t,ef[t],m(c(qa.passive2.elemas_dmg_,{fixed:2}),a.premod.eleMas)))])),[E_,af]=h(Is,"c2"),lf=n(a.constellation,2,i("c2",af,qa.constellation2.elemas)),[$M,O$]=h(Is,"c2p"),j$=n(a.constellation,2,i("c2p",O$,qa.constellation2.elemas)),xM=i(a.activeCharKey,G.charKey,z(G.charKey,Is,j$)),[DM,Kb]=h(Is,"c6"),G$=Sr(a.constellation,6,rn("c6",Kb,"anemo")),Nb=n(a.constellation,6,i("c6",Kb,m(c(qa.constellation6.auto_),a.premod.eleMas))),Fb={...Nb},Ob={...Nb},jb={...Nb},z$=c(.2),us={normal:Object.fromEntries(qa.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",qa.charged.dmg1,"charged"),dmg2:o("atk",qa.charged.dmg2,"charged")},plunging:E("atk",qa.plunging),skill:{press:o("atk",qa.skill.press,"skill"),hold:o("atk",qa.skill.hold,"skill"),pdmg:o("atk",qa.plunging.dmg,"plunging_collision",{hit:{ele:p("anemo")}}),plow:o("atk",qa.plunging.low,"plunging_impact",{hit:{ele:p("anemo")}}),phigh:o("atk",qa.plunging.high,"plunging_impact",{hit:{ele:p("anemo")}})},burst:{dmg:o("atk",qa.burst.dmg,"burst"),dot:o("atk",qa.burst.dot,"burst"),absorb:z(Zk,void 0,o("atk",qa.burst.add,"burst",{hit:{ele:Zk}}))},passive1:{absorb:n(a.asc,1,z(tf,void 0,F(m(a.total.atk,qa.passive1.absorbAdd),"plunging_impact",{hit:{ele:tf}})))},passive2:Eb,constellation6:{normal_dmg_:Fb,charged_dmg_:Ob,plunging_dmg_:jb}},W$=n(a.constellation,3,3),L$=n(a.constellation,5,3),PM=B(Is,"anemo","inazuma",wh,us,{teamBuff:{premod:{staminaSprintDec_:z$,eleMas:xM},total:{...Eb}},infusion:{overridableSelf:G$},total:{normal_dmg_:Fb,charged_dmg_:Ob,plunging_dmg_:jb},premod:{skillBoost:W$,burstBoost:L$,eleMas:lf}}),CM={key:Is,name:ot.name,rarity:wh.rarity,elementKey:rk,weaponTypeKey:wh.weaponType,gender:"M",constellationName:ot.chg("constellationName"),title:ot.chg("title"),talent:{auto:ot.talentTem("auto",[{text:ot.chg("auto.fields.normal")},{fields:qa.normal.hitArr.map((t,l)=>({node:e(us.normal[l],{name:ot.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2?"(1)":l===3?"(2)":"",multi:l===5?3:void 0})}))},{text:ot.chg("auto.fields.charged")},{fields:[{node:e(us.charged.dmg1,{name:ot.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(us.charged.dmg2,{name:ot.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ot.chg("auto.skillParams.6"),value:qa.charged.stamina}]},{text:ot.chg("auto.fields.plunging")},{fields:[{node:e(us.plunging.dmg,{name:s("plunging.dmg")})},{node:e(us.plunging.low,{name:s("plunging.low")})},{node:e(us.plunging.high,{name:s("plunging.high")})}]}]),skill:ot.talentTem("skill",[{fields:[{node:e(us.skill.press,{name:ot.chg("skill.skillParams.0")})},{text:ot.chg("skill.skillParams.1"),value:t=>t.get(a.constellation).value>=1?`${qa.skill.cd} - 10% = ${qa.skill.cd*(1-.1)}`:`${qa.skill.cd}`,unit:"s"},{node:e(us.skill.hold,{name:ot.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:t=>t.get(a.constellation).value>=1?`${qa.skill.cdHold} - 10% = ${qa.skill.cdHold*(1-.1)}`:`${qa.skill.cdHold}`,unit:"s"}]},ot.fieldsTem("skill",{fields:[{node:e(us.skill.pdmg,{name:s("plunging.dmg")})},{node:e(us.skill.plow,{name:s("plunging.low")})},{node:e(us.skill.phigh,{name:s("plunging.high")})}]}),ot.condTem("passive1",{value:tf,path:TM,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(us.passive1.absorb,{name:s("addEleDMG")})}]}]))}),ot.headerTem("constellation1",{fields:[{node:e(n(a.constellation,1,c(.1)),y.info("skillCDRed_"))},{text:ot.ch("c1")}]})]),burst:ot.talentTem("burst",[{fields:[{node:e(us.burst.dmg,{name:ot.chg("burst.skillParams.0")})},{node:e(us.burst.dot,{name:ot.chg("burst.skillParams.1")})},{text:ot.chg("burst.skillParams.3"),value:qa.burst.duration,unit:"s"},{text:ot.chg("burst.skillParams.4"),value:qa.burst.cd,unit:"s"},{text:ot.chg("burst.skillParams.5"),value:qa.burst.enerCost}]},ot.condTem("burst",{value:Zk,path:yM,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(us.burst.absorb,{name:ot.chg("burst.skillParams.2")})}]}]))}),ot.condTem("constellation2",{value:af,path:E_,name:ot.ch("c2"),states:{c2:{fields:[{node:lf}]}}}),ot.condTem("constellation2",{canShow:z(a.activeCharKey,Is,1),value:O$,path:$M,teamBuff:!0,name:d("activeCharField"),states:{c2p:{fields:[{node:e(j$,{...y.info("eleMas"),isTeamBuff:!0})}]}}})]),passive1:ot.talentTem("passive1"),passive2:ot.talentTem("passive2",[ot.condTem("passive2",{teamBuff:!0,states:Object.fromEntries(il.map(t=>[t,{value:ef[t],path:F$[t],name:d(`swirlReaction.${t}`),fields:[{node:Eb[`${t}_dmg_`]},{text:d(`effectDuration.${t}`),value:qa.passive2.duration,unit:"s"}]}]))}),ot.condTem("constellation2",{value:af,path:E_,teamBuff:!0,canShow:z(a.activeCharKey,Is,n(a.asc,4,D(...Object.values(ef).map(t=>z(t,void 0,1))))),name:ot.ch("c2"),states:{c2:{fields:[{node:lf}]}}})]),passive3:ot.talentTem("passive3",[ot.headerTem("passive3",{teamBuff:!0,fields:[{node:z$}]})]),constellation1:ot.talentTem("constellation1"),constellation2:ot.talentTem("constellation2"),constellation3:ot.talentTem("constellation3",[{fields:[{node:W$}]}]),constellation4:ot.talentTem("constellation4"),constellation5:ot.talentTem("constellation5",[{fields:[{node:L$}]}]),constellation6:ot.talentTem("constellation6",[ot.condTem("constellation6",{value:Kb,path:DM,name:ot.ch("c6.after"),states:{c6:{fields:[{canShow:t=>t.get(G$).value===rk,text:P(yt,{color:rk,children:d("infusion.anemo")})},{node:Fb},{node:Ob},{node:jb},{text:s("duration"),value:qa.constellation6.duration,unit:"s"}]}}})])}},SM=new R(CM,PM),Lm="Kaeya",U$="cryo",wM="mondstadt",Ah=_.char.data[Lm],Xn=_.char.skillParam[Lm],Ge=A(Lm,Ah.weaponType);let Ko=0,K_=0,bg=0;const On={normal:{hitArr:[Xn.auto[Ko++],Xn.auto[Ko++],Xn.auto[Ko++],Xn.auto[Ko++],Xn.auto[Ko++]]},charged:{dmg1:Xn.auto[Ko++],dmg2:Xn.auto[Ko++],stamina:Xn.auto[Ko++][0]},plunging:{dmg:Xn.auto[Ko++],low:Xn.auto[Ko++],high:Xn.auto[Ko++]},skill:{dmg:Xn.skill[K_++],cd:Xn.skill[K_++][0]},burst:{dmg:Xn.burst[bg++],cd:Xn.burst[bg++][0],duration:Xn.burst[bg++][0],enerCost:Xn.burst[bg++][0]},passive2:{healAtk_:.15},constellation1:{critRate_:.15},constellation4:{shieldHp_:.3,duration:20,cooldown:60}},ho={normal:Object.fromEntries(On.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",On.charged.dmg1,"charged"),dmg2:o("atk",On.charged.dmg2,"charged")},plunging:E("atk",On.plunging),skill:{dmg:o("atk",On.skill.dmg,"skill")},burst:{dmg:o("atk",On.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,zn("atk",c(On.passive2.healAtk_),0))},constellation4:{shield:n(a.constellation,4,Hu("hp",c(On.constellation4.shieldHp_),0)),cryoShield:n(a.constellation,4,tn("cryo",Hu("hp",c(On.constellation4.shieldHp_),0)))}},q$=n(a.constellation,3,3),V$=n(a.constellation,5,3),[AM,Gb]=h(Lm,"CryoC1"),J$=n(a.constellation,1,i(Gb,"on",On.constellation1.critRate_)),Q$=n(a.constellation,1,i(Gb,"on",On.constellation1.critRate_)),BM=B(Lm,U$,wM,Ah,ho,{premod:{skillBoost:q$,burstBoost:V$,normal_critRate_:J$,charged_critRate_:Q$}}),IM={key:Lm,name:Ge.name,rarity:Ah.rarity,elementKey:U$,weaponTypeKey:Ah.weaponType,gender:"M",constellationName:Ge.chg("constellationName"),title:Ge.chg("title"),talent:{auto:Ge.talentTem("auto",[{text:Ge.chg("auto.fields.normal")},{fields:On.normal.hitArr.map((t,l)=>({node:e(ho.normal[l],{name:Ge.chg(`auto.skillParams.${l}`)})}))},{text:Ge.chg("auto.fields.charged")},{fields:[{node:e(ho.charged.dmg1,{name:Ge.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(ho.charged.dmg2,{name:Ge.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:Ge.chg("auto.skillParams.7"),value:On.charged.stamina}]},{text:Ge.chg("auto.fields.plunging")},{fields:[{node:e(ho.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ho.plunging.low,{name:s("plunging.low")})},{node:e(ho.plunging.high,{name:s("plunging.high")})}]}]),skill:Ge.talentTem("skill",[{fields:[{node:e(ho.skill.dmg,{name:Ge.chg("skill.skillParams.0")})},{text:Ge.chg("skill.skillParams.1"),value:On.skill.cd,unit:"s"}]}]),burst:Ge.talentTem("burst",[{fields:[{node:e(ho.burst.dmg,{name:Ge.chg("burst.skillParams.0")})},{canShow:t=>t.get(a.constellation).value<2,text:Ge.chg("burst.skillParams.2"),value:On.burst.duration,unit:"s"},{canShow:t=>t.get(a.constellation).value>=2,text:Ge.chg("burst.skillParams.2"),value:Ge.ch("c2burstDuration")},{text:Ge.chg("burst.skillParams.1"),value:On.burst.cd,unit:"s"},{text:Ge.chg("burst.skillParams.3"),value:On.burst.enerCost}]}]),passive1:Ge.talentTem("passive1",[Ge.headerTem("passive1",{fields:[{node:e(ho.passive1.heal,{name:s("healing")})}]})]),passive2:Ge.talentTem("passive2"),passive3:Ge.talentTem("passive3"),constellation1:Ge.talentTem("constellation1",[Ge.condTem("constellation1",{value:Gb,path:AM,name:d("enemyAffected.cryo"),states:{on:{fields:[{node:J$},{node:Q$}]}}})]),constellation2:Ge.talentTem("constellation2"),constellation3:Ge.talentTem("constellation3",[{fields:[{node:q$}]}]),constellation4:Ge.talentTem("constellation4",[Ge.fieldsTem("constellation4",{fields:[{node:e(ho.constellation4.shield,{name:d("dmgAbsorption.none")})},{node:e(ho.constellation4.cryoShield,{name:d("dmgAbsorption.cryo")})},{text:Ge.chg("burst.skillParams.2"),value:On.constellation4.duration,unit:"s"},{text:Ge.chg("burst.skillParams.1"),value:On.constellation4.cooldown,unit:"s"}]})]),constellation5:Ge.talentTem("constellation5",[{fields:[{node:V$}]}]),constellation6:Ge.talentTem("constellation6")}},RM=new R(IM,BM),nc="KamisatoAyaka",Bh="cryo",Ih=_.char.data[nc],Ee=_.char.skillParam[nc],Te=A(nc,Ih.weaponType);let Ai=0,N_=0,nu=0,dk=0,F_=0,mk=0;var P1,C1,S1,w1,A1,B1;const fl={normal:{hitArr:[Ee.auto[Ai++],Ee.auto[Ai++],Ee.auto[Ai++],Ee.auto[Ai++],Ee.auto[Ai++]]},charged:{dmg1:Ee.auto[Ai++],stamina:Ee.auto[Ai++][0]},plunging:{dmg:Ee.auto[Ai++],low:Ee.auto[Ai++],high:Ee.auto[Ai++]},skill:{press:Ee.skill[N_++],cd:Ee.skill[N_++][0]},burst:{cutDmg:Ee.burst[nu++],bloomDmg:Ee.burst[nu++],duration:Ee.burst[nu++][0],cd:Ee.burst[nu++][0],enerCost:Ee.burst[nu++][0]},sprint:{active_stam:(C1=(P1=Ee==null?void 0:Ee.sprint)==null?void 0:P1[dk++])==null?void 0:C1[0],drain_stam:(w1=(S1=Ee==null?void 0:Ee.sprint)==null?void 0:S1[dk++])==null?void 0:w1[0],duration:(B1=(A1=Ee==null?void 0:Ee.sprint)==null?void 0:A1[dk++])==null?void 0:B1[0]},passive1:{dmg_bonus:Ee.passive1[F_++][0],duration:Ee.passive1[F_++][0]},passive2:{stamina:Ee.passive2[mk++][0],cryo:Ee.passive2[mk++][0],duration:Ee.passive2[mk++][0]},constellation2:{snowflake:Ee.constellation2[0]},constellation4:{def_red:Ee.constellation4[0],duration:Ee.constellation4[1]},constellation6:{cd:Ee.constellation6[0],charged_bonus:Ee.constellation6[1]}},[MM,X$]=h(nc,"afterSprint"),Y$=rn("afterSprint",X$,Bh),[HM,zb]=h(nc,"afterSkillA1"),Z$=n(a.asc,1,i("afterSkill",zb,c(fl.passive1.dmg_bonus))),tx=n(a.asc,1,i("afterSkill",zb,c(fl.passive1.dmg_bonus),y.info("charged_dmg_"))),[EM,ex]=h(nc,"afterApplySprint"),ax=n(a.asc,4,i("afterApplySprint",ex,c(fl.passive2.cryo))),[KM,lx]=h(nc,"afterBurst"),nx=n(a.constellation,4,i("c4",lx,fl.constellation4.def_red)),[NM,sx]=h(nc,"C6"),ox=n(a.constellation,6,i("c6",sx,fl.constellation6.charged_bonus),y.info("charged_dmg_")),ai={normal:Object.fromEntries(fl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",fl.charged.dmg1,"charged")},plunging:E("atk",fl.plunging),skill:{press:o("atk",fl.skill.press,"skill")},burst:{cutting:o("atk",fl.burst.cutDmg,"burst"),bloom:o("atk",fl.burst.bloomDmg,"burst")},constellation2:{dmg:n(a.constellation,2,o("atk",fl.burst.cutDmg,"burst",void 0,c(fl.constellation2.snowflake))),bloom:n(a.constellation,2,o("atk",fl.burst.bloomDmg,"burst",void 0,c(fl.constellation2.snowflake)))}},ix=n(a.constellation,3,3),cx=n(a.constellation,5,3),FM=B(nc,Bh,"inazuma",Ih,ai,{teamBuff:{premod:{enemyDefRed_:nx}},infusion:{overridableSelf:Y$},premod:{skillBoost:cx,burstBoost:ix,normal_dmg_:Z$,charged_dmg_:D(tx,ox),cryo_dmg_:ax}}),OM={key:nc,name:Te.name,rarity:Ih.rarity,elementKey:Bh,weaponTypeKey:Ih.weaponType,gender:"F",constellationName:Te.chg("constellationName"),title:Te.chg("title"),talent:{auto:Te.talentTem("auto",[{text:Te.chg("auto.fields.normal")},{fields:fl.normal.hitArr.map((t,l)=>({node:e(ai.normal[l],{name:Te.chg(`auto.skillParams.${l}`),multi:l===3?3:void 0})}))},{text:Te.chg("auto.fields.charged")},{fields:[{node:e(ai.charged.dmg1,{name:Te.chg("auto.skillParams.5"),multi:3})},{text:Te.chg("auto.skillParams.6"),value:fl.charged.stamina}]},{text:Te.chg("auto.fields.plunging")},{fields:[{node:e(ai.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ai.plunging.low,{name:s("plunging.low")})},{node:e(ai.plunging.high,{name:s("plunging.high")})}]}]),skill:Te.talentTem("skill",[{fields:[{node:e(ai.skill.press,{name:Te.chg("skill.skillParams.0")})},{text:Te.chg("skill.skillParams.1"),value:fl.skill.cd,unit:"s"}]},Te.condTem("passive1",{value:zb,path:HM,name:d("afterUse.skill"),states:{afterSkill:{fields:[{node:Z$},{node:tx},{text:s("duration"),value:fl.passive1.duration,unit:"s"}]}}})]),burst:Te.talentTem("burst",[{fields:[{node:e(ai.burst.cutting,{name:Te.chg("burst.skillParams.0"),multi:19})},{node:e(ai.burst.bloom,{name:Te.chg("burst.skillParams.1")})},{text:s("duration"),value:fl.burst.duration,unit:"s"},{text:s("cd"),value:fl.burst.cd,unit:"s"},{text:s("energyCost"),value:fl.burst.enerCost}]},Te.headerTem("constellation2",{fields:[{node:e(ai.constellation2.dmg,{name:Te.chg("burst.skillParams.0"),multi:38})},{node:e(ai.constellation2.bloom,{name:Te.chg("burst.skillParams.1"),multi:2})}]}),Te.condTem("constellation4",{teamBuff:!0,value:lx,path:KM,name:Te.ch("dmgBySnowflake"),states:{c4:{fields:[{node:nx},{text:s("duration"),value:"6s"}]}}})]),sprint:Te.talentTem("sprint",[{fields:[{text:d("activationStam"),value:fl.sprint.active_stam},{text:d("stamDrain"),value:fl.sprint.drain_stam,unit:"/s"}]},Te.condTem("sprint",{value:X$,path:MM,name:d("afterSprint"),states:{afterSprint:{fields:[{canShow:t=>t.get(Y$).value===Bh,text:P(yt,{color:"cryo",children:d("infusion.cryo")})},{text:s("duration"),value:fl.sprint.duration,unit:"s"}]}}}),Te.condTem("passive2",{value:ex,path:EM,name:Te.ch("afterSprintCryo"),states:{afterApplySprint:{fields:[{text:d("stamRestored"),value:fl.passive2.stamina},{node:ax},{text:s("duration"),value:fl.passive2.duration,unit:"s"}]}}})]),passive1:Te.talentTem("passive1"),passive2:Te.talentTem("passive2"),passive3:Te.talentTem("passive3"),constellation1:Te.talentTem("constellation1"),constellation2:Te.talentTem("constellation2"),constellation3:Te.talentTem("constellation3",[{fields:[{node:ix}]}]),constellation4:Te.talentTem("constellation4"),constellation5:Te.talentTem("constellation5",[{fields:[{node:cx}]}]),constellation6:Te.talentTem("constellation6",[Te.condTem("constellation6",{value:sx,path:NM,name:Te.ch("c6Active"),states:{c6:{fields:[{node:ox},{text:s("cd"),value:fl.constellation6.cd,unit:"s"}]}}})])}},jM=new R(OM,FM),Lc="KamisatoAyato",Np="hydro",Rh=_.char.data[Lc],na=_.char.skillParam[Lc],Yt=A(Lc,Rh.weaponType);let Bi=0,sr=0,su=0;const ma={normal:{hitArr:[na.auto[Bi++],na.auto[Bi++],na.auto[Bi++],na.auto[Bi++],na.auto[Bi++]]},charged:{dmg:na.auto[Bi++],stamina:na.auto[Bi++][0]},plunging:{dmg:na.auto[Bi++],low:na.auto[Bi++],high:na.auto[Bi++]},skill:{dmgArr:[na.skill[sr++],na.skill[sr++],na.skill[sr++]],stateDuration:na.skill[sr++][0],stackHpDmgInc:na.skill[sr++],maxStacks:4,illusionDmg:na.skill[sr++],illusionDuration:na.skill[sr++][0],cd:na.skill[sr++][0]},burst:{dmg:na.burst[su++],normal_dmg_:na.burst[su++],duration:na.burst[su++][0],cd:na.burst[su++][0],enerCost:na.burst[su++][0]},passive1:{stacksGained:na.passive1[0][0]},passive2:{enerThres_:na.passive2[0][0],cd:na.passive2[1][0],energyRestore:na.passive2[2][0]},constellation1:{oppHpThres_:na.constellation1[0],shunDmg_:na.constellation1[1]},constellation2:{extraStacks:na.constellation2[0],stackThresh:3,hp_:na.constellation2[1]},constellation4:{atkSPD:na.constellation4[0],duration:na.constellation4[1]},constellation6:{extraStrikes:2,dmg:na.constellation6[0]}},[GM,Wb]=h(Lc,"skillStacks"),rx=w(Wb,Object.fromEntries(N(1,5).map(t=>[t,t===5?n(a.constellation,2,m(t,$(a.total.skillIndex,ma.skill.stackHpDmgInc,{unit:"%"}),a.total.hp)):m(t,$(a.total.skillIndex,ma.skill.stackHpDmgInc,{unit:"%"}),a.total.hp)])),O),[zM,dx]=h(Lc,"burstInArea"),mx=i(dx,"on",$(a.total.burstIndex,ma.burst.normal_dmg_)),WM=i(a.activeCharKey,G.charKey,mx),[LM,ux]=h(Lc,"c1OppHp"),Lb=n(a.constellation,1,i(ux,"on",ma.constellation1.shunDmg_)),nf=n(a.constellation,2,w(Wb,Object.fromEntries(N(ma.constellation2.stackThresh,5).map(t=>[t,c(ma.constellation2.hp_)])),O)),[UM,gx]=h(Lc,"c4AfterBurst"),hx=n(a.constellation,4,i(gx,"on",ma.constellation4.atkSPD)),qM={hit:{ele:p(Np)},premod:{normal_dmgInc:rx,normal_dmg_:Lb}},Wi={normal:Object.fromEntries(ma.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",ma.charged.dmg,"charged")},plunging:E("atk",ma.plunging),skill:{...Object.fromEntries(ma.skill.dmgArr.map((t,l)=>[`dmg${l}`,F(m($(a.total.skillIndex,t,{unit:"%"}),a.total.atk),"normal",qM)])),illusionDmg:o("atk",ma.skill.illusionDmg,"skill")},burst:{dmg:o("atk",ma.burst.dmg,"burst")},constellation6:{dmg:n(a.constellation,6,F(m(c(ma.constellation6.dmg),a.total.atk),"normal",{hit:{ele:p(Np)},premod:{normal_dmg_:Lb}}))}},px=n(a.constellation,3,3),kx=n(a.constellation,5,3),VM=B(Lc,Np,"inazuma",Rh,Wi,{teamBuff:{premod:{normal_dmg_:WM,atkSPD_:hx}},premod:{skillBoost:px,burstBoost:kx,hp_:nf}}),JM={key:Lc,name:Yt.name,rarity:Rh.rarity,elementKey:Np,weaponTypeKey:Rh.weaponType,gender:"M",constellationName:Yt.chg("constellationName"),title:Yt.chg("title"),talent:{auto:Yt.talentTem("auto",[{text:Yt.chg("auto.fields.normal")},{fields:ma.normal.hitArr.map((t,l)=>({node:e(Wi.normal[l],{name:Yt.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:Yt.chg("auto.fields.charged")},{fields:[{node:e(Wi.charged.dmg,{name:Yt.chg("auto.skillParams.5")})},{text:Yt.chg("auto.skillParams.6"),value:ma.charged.stamina}]},{text:Yt.chg("auto.fields.plunging")},{fields:[{node:e(Wi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Wi.plunging.low,{name:s("plunging.low")})},{node:e(Wi.plunging.high,{name:s("plunging.high")})}]}]),skill:Yt.talentTem("skill",[{fields:[...ma.skill.dmgArr.map((t,l)=>({node:e(Wi.skill[`dmg${l}`],{name:Yt.chg(`skill.skillParams.${l}`)})})),{node:e(Wi.skill.illusionDmg,{name:Yt.chg("skill.skillParams.5")})},{text:Yt.chg("skill.skillParams.6"),value:ma.skill.illusionDuration,unit:"s"},{text:s("cd"),value:ma.skill.cd,unit:"s"}]},Yt.headerTem("constellation6",{fields:[{node:e(Wi.constellation6.dmg,{name:Yt.ch("c6.dmg"),multi:ma.constellation6.extraStrikes})}]}),Yt.condTem("skill",{value:Wb,path:GM,name:Yt.ch("skill.namisenStacks"),states:t=>Object.fromEntries(N(1,t.get(a.constellation).value>=2?5:4).map(l=>[l,{name:d("stack",{count:l}),fields:[{node:e(rx,{name:Yt.ch("skill.shun_dmgInc")})},{text:d("maxStacks"),value:r=>r.get(a.constellation).value>=2?ma.skill.maxStacks+ma.constellation2.extraStacks:ma.skill.maxStacks}]}]))}),Yt.condTem("constellation1",{value:ux,path:LM,name:d("enemyLessEqPercentHP",{percent:ma.constellation1.oppHpThres_*100}),states:{on:{fields:[{node:e(Lb,{name:Yt.ch("c1.shun_dmg_"),unit:"%"})}]}}}),Yt.headerTem("passive1",{fields:[{text:Yt.ch("passive1.afterUse"),value:ma.passive1.stacksGained},{text:Yt.ch("passive1.afterExplode"),value:t=>t.get(a.constellation).value>=2?ma.skill.maxStacks+ma.constellation2.extraStacks:ma.skill.maxStacks}]}),Yt.headerTem("constellation2",{fields:[{text:Yt.ch("c2.addlStacks"),value:ma.constellation2.extraStacks},{canShow:t=>t.get(nf).value!==0,node:nf}]})]),burst:Yt.talentTem("burst",[{fields:[{node:e(Wi.burst.dmg,{name:Yt.chg("burst.skillParams.0")})},{text:s("duration"),value:ma.burst.duration,unit:"s"},{text:s("cd"),value:ma.burst.cd,unit:"s"},{text:s("energyCost"),value:ma.burst.enerCost}]},Yt.condTem("burst",{value:dx,path:zM,name:d("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:e(mx,y.info("normal_dmg_"))}]}}}),Yt.condTem("constellation4",{value:gx,path:UM,name:d("afterUse.burst"),teamBuff:!0,states:{on:{fields:[{node:hx},{text:s("duration"),value:ma.constellation4.duration,unit:"s"}]}}})]),passive1:Yt.talentTem("passive1"),passive2:Yt.talentTem("passive2"),passive3:Yt.talentTem("passive3"),constellation1:Yt.talentTem("constellation1"),constellation2:Yt.talentTem("constellation2"),constellation3:Yt.talentTem("constellation3",[{fields:[{node:px}]}]),constellation4:Yt.talentTem("constellation4"),constellation5:Yt.talentTem("constellation5",[{fields:[{node:kx}]}]),constellation6:Yt.talentTem("constellation6")}},QM=new R(JM,VM),jc="Kaveh",Fp="dendro",Mh=_.char.data[jc],Za=_.char.skillParam[jc],Ca=A(jc,Mh.weaponType);let No=0,O_=0,ou=0;const Zl={normal:{hitArr:[Za.auto[No++],Za.auto[No++],Za.auto[No++],Za.auto[No++]]},charged:{spin:Za.auto[No++],final:Za.auto[No++],stamina:Za.auto[No++][0],duration:Za.auto[No++][0]},plunging:{dmg:Za.auto[No++],low:Za.auto[No++],high:Za.auto[No++]},skill:{dmg:Za.skill[O_++],cd:Za.skill[O_++][0]},burst:{dmg:Za.burst[ou++],duration:Za.burst[ou++][0],bloom_dmg_:Za.burst[ou++],cd:Za.burst[ou++][0],enerCost:Za.burst[ou++][0]},passive1:{cd:Za.passive1[0][0],heal_eleMas:Za.passive1[1][0]},passive2:{maxStacks:Za.passive2[0][0],eleMas:Za.passive2[1][0]},c1:{duration:Za.constellation1[0],dendro_res_:Za.constellation1[1],incHeal_:Za.constellation1[2]},c2:{atkSPD_:Za.constellation2[0]},c4:{bloom_dmg_:Za.constellation4[0]},c6:{dmg_:Za.constellation6[0],cd:Za.constellation6[1]}},[XM,Cd]=h(jc,"afterBurst"),YM=rn(Cd,"on",p(Fp)),fx=i(Cd,"on",$(a.total.burstIndex,Zl.burst.bloom_dmg_)),[ZM,bx]=h(jc,"a4Stacks"),vx=N(1,Zl.passive2.maxStacks),_x=n(a.asc,4,i(Cd,"on",w(bx,C(vx,t=>m(t,Zl.passive2.eleMas)),O))),[tH,Ub]=h(jc,"c1AfterSkill"),yx=n(a.constellation,1,i(Ub,"on",c(Zl.c1.dendro_res_))),Tx=n(a.constellation,1,i(Ub,"on",c(Zl.c1.incHeal_))),$x=n(a.constellation,2,i(Cd,"on",Zl.c2.atkSPD_)),xx=n(a.constellation,4,Zl.c4.bloom_dmg_),li={normal:Object.fromEntries(Zl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",Zl.charged.spin,"charged"),final:o("atk",Zl.charged.final,"charged")},plunging:E("atk",Zl.plunging),skill:{dmg:o("atk",Zl.skill.dmg,"skill")},burst:{dmg:o("atk",Zl.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,Gn(m(c(Zl.passive1.heal_eleMas),a.total.eleMas)))},constellation6:{dmg:n(a.constellation,6,F(m(c(Zl.c6.dmg_),a.total.atk),"elemental",{hit:{ele:p(Fp)}}))}},Dx=n(a.constellation,3,3),Px=n(a.constellation,5,3),eH=B(jc,Fp,"sumeru",Mh,li,{premod:{burstBoost:Dx,skillBoost:Px,eleMas:_x,dendro_res_:yx,incHeal_:Tx,atkSPD_:$x,bloom_dmg_:xx},teamBuff:{premod:{bloom_dmg_:fx}},infusion:{nonOverridableSelf:YM}}),aH={key:jc,name:Ca.name,rarity:Mh.rarity,elementKey:Fp,weaponTypeKey:Mh.weaponType,gender:"M",constellationName:Ca.chg("constellationName"),title:Ca.chg("title"),talent:{auto:Ca.talentTem("auto",[{text:Ca.chg("auto.fields.normal")},{fields:Zl.normal.hitArr.map((t,l)=>({node:e(li.normal[l],{name:Ca.chg(`auto.skillParams.${l}`)})}))},{text:Ca.chg("auto.fields.charged")},{fields:[{node:e(li.charged.spin,{name:Ca.chg("auto.skillParams.4")})},{node:e(li.charged.final,{name:Ca.chg("auto.skillParams.5")})},{text:Ca.chg("auto.skillParams.6"),value:`${Zl.charged.stamina}/s`}]},{text:Ca.chg("auto.fields.plunging")},{fields:[{node:e(li.plunging.dmg,{name:s("plunging.dmg")})},{node:e(li.plunging.low,{name:s("plunging.low")})},{node:e(li.plunging.high,{name:s("plunging.high")})}]}]),skill:Ca.talentTem("skill",[{fields:[{node:e(li.skill.dmg,{name:Ca.chg("skill.skillParams.0")})},{text:s("cd"),value:Zl.skill.cd,unit:"s"}]},Ca.condTem("constellation1",{value:Ub,path:tH,name:d("hitOp.skill"),states:{on:{fields:[{node:yx},{node:Tx},{text:s("duration"),value:Zl.c1.duration,unit:"s"}]}}})]),burst:Ca.talentTem("burst",[{fields:[{node:e(li.burst.dmg,{name:Ca.chg("burst.skillParams.0")})},{text:s("duration"),value:Zl.burst.duration,unit:"s"},{text:s("cd"),value:Zl.burst.cd,unit:"s"},{text:s("energyCost"),value:Zl.burst.enerCost}]},Ca.condTem("burst",{path:XM,value:Cd,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{text:P(yt,{color:"dendro",children:d("infusion.dendro")}),canShow:t=>t.get(a.activeCharKey).value===jc},{node:fx}]}}}),Ca.condTem("passive2",{path:ZM,value:bx,canShow:i(Cd,"on",1),teamBuff:!0,name:d("hitOp.normalChargedOrPlunging"),states:C(vx,t=>({name:d("stack",{count:t}),fields:[{node:_x}]}))}),Ca.headerTem("constellation2",{canShow:i(Cd,"on",1),fields:[{node:$x}]})]),passive1:Ca.talentTem("passive1",[Ca.fieldsTem("passive1",{fields:[{node:e(li.passive1.heal,{name:s("healing")})},{text:s("cd"),value:Zl.passive1.cd,unit:"s",fixed:1}]})]),passive2:Ca.talentTem("passive2"),passive3:Ca.talentTem("passive3"),constellation1:Ca.talentTem("constellation1"),constellation2:Ca.talentTem("constellation2"),constellation3:Ca.talentTem("constellation3",[{fields:[{node:Dx}]}]),constellation4:Ca.talentTem("constellation4",[{fields:[{node:xx}]}]),constellation5:Ca.talentTem("constellation5",[{fields:[{node:Px}]}]),constellation6:Ca.talentTem("constellation6",[Ca.fieldsTem("constellation6",{fields:[{node:e(li.constellation6.dmg,{name:Ca.ch("c6Dmg")})},{text:s("cd"),value:Zl.c6.cd,unit:"s"}]})])}},lH=new R(aH,eH),Uc="Keqing",Ku="electro",Hh=_.char.data[Uc],Fa=_.char.skillParam[Uc],ze=A(Uc,Hh.weaponType);let no=0,vg=0,iu=0,uk=0;const An={normal:{hitArr:[Fa.auto[no++],Fa.auto[no++],Fa.auto[no++],Fa.auto[no++],Fa.auto[no++],Fa.auto[no++]]},charged:{dmg1:Fa.auto[no++],dmg2:Fa.auto[no++],stamina:Fa.auto[no++][0]},plunging:{dmg:Fa.auto[no++],low:Fa.auto[no++],high:Fa.auto[no++]},skill:{stiletto:Fa.skill[vg++],slash:Fa.skill[vg++],thunderclap:Fa.skill[vg++],cd:Fa.skill[vg++][0]},burst:{initial:Fa.burst[iu++],slash:Fa.burst[iu++],final:Fa.burst[iu++],cd:Fa.burst[iu++][0],cost:Fa.burst[iu++][0]},passive1:{duration:Fa.passive1[0][0]},passive2:{critInc_:Fa.passive2[uk++][0],enerRechInc_:Fa.passive2[uk++][0],duration:Fa.passive2[uk++][0]},constellation1:{dmg:Fa.constellation1[0]},constellation4:{duration:Fa.constellation4[0],atkInc:Fa.constellation4[1]},constellation6:{electroInc:Fa.constellation6[0],duration:Fa.constellation6[1]}},Ds={normal:Object.fromEntries(An.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",An.charged.dmg1,"charged"),dmg2:o("atk",An.charged.dmg2,"charged")},plunging:E("atk",An.plunging),skill:{stiletto:o("atk",An.skill.stiletto,"skill"),slash:o("atk",An.skill.slash,"skill"),thunderclap:o("atk",An.skill.thunderclap,"skill")},burst:{initial:o("atk",An.burst.initial,"burst"),slash:o("atk",An.burst.slash,"burst"),final:o("atk",An.burst.final,"burst")},constellation1:{dmg:n(a.constellation,1,F(m(a.total.atk,An.constellation1.dmg),"elemental",{hit:{ele:p(Ku)}}))}},Cx=n(a.constellation,3,3),Sx=n(a.constellation,5,3),[nH,wx]=h(Uc,"afterRecast"),Ax=Sr(a.asc,1,rn("afterRecast",wx,Ku)),[sH,Bx]=h(Uc,"afterBurst"),qb=n(a.asc,4,i("afterBurst",Bx,c(An.passive2.critInc_))),Ix={...qb},[oH,Rx]=h(Uc,"afterReact"),Mx=n(a.constellation,4,i("afterReact",Rx,c(An.constellation4.atkInc))),[iH,Hx]=h(Uc,"c6Stack"),Ex=n(a.constellation,6,m(w(Hx,C(N(1,4),t=>p(t)),p(0)),An.constellation6.electroInc)),cH=B(Uc,Ku,"liyue",Hh,Ds,{infusion:{overridableSelf:Ax},premod:{skillBoost:Sx,burstBoost:Cx,critRate_:qb,enerRech_:Ix,atk_:Mx,electro_dmg_:Ex}}),rH={key:Uc,name:ze.name,rarity:Hh.rarity,elementKey:Ku,weaponTypeKey:Hh.weaponType,gender:"F",constellationName:ze.chg("constellationName"),title:ze.chg("title"),talent:{auto:ze.talentTem("auto",[{text:ze.chg("auto.fields.normal")},{fields:An.normal.hitArr.map((t,l)=>({node:e(Ds.normal[l],{name:ze.chg(`auto.skillParams.${l+(l<4?0:-1)}`),textSuffix:l===3?"(1)":l===4?"(2)":""})}))},{text:ze.chg("auto.fields.charged")},{fields:[{node:e(Ds.charged.dmg1,{name:ze.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(Ds.charged.dmg2,{name:ze.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ze.chg("auto.skillParams.6"),value:An.charged.stamina}]},{text:ze.chg("auto.fields.plunging")},{fields:[{node:e(Ds.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ds.plunging.low,{name:s("plunging.low")})},{node:e(Ds.plunging.high,{name:s("plunging.high")})}]}]),skill:ze.talentTem("skill",[{fields:[{node:e(Ds.skill.stiletto,{name:ze.chg("skill.skillParams.0")})},{node:e(Ds.skill.slash,{name:ze.chg("skill.skillParams.1")})},{node:e(Ds.skill.thunderclap,{name:ze.chg("skill.skillParams.2")})},{text:s("cd"),value:An.skill.cd,unit:"s",fixed:1}]},ze.headerTem("constellation1",{fields:[{node:e(Ds.constellation1.dmg,{name:ze.ch("c1DMG")})}]}),ze.condTem("passive1",{value:wx,path:nH,name:ze.ch("recast"),states:{afterRecast:{fields:[{canShow:t=>t.get(Ax).value===Ku,text:P(yt,{color:"electro",children:d("infusion.electro")})},{text:s("duration"),value:An.passive1.duration,unit:"s"}]}}})]),burst:ze.talentTem("burst",[{fields:[{node:e(Ds.burst.initial,{name:ze.chg("burst.skillParams.0")})},{node:e(Ds.burst.slash,{name:ze.chg("burst.skillParams.1"),multi:8})},{node:e(Ds.burst.final,{name:ze.chg("burst.skillParams.2")})},{text:s("cd"),value:An.burst.cd,unit:"s"},{text:s("energyCost"),value:An.burst.cost}]},ze.condTem("passive2",{value:Bx,path:sH,name:d("afterUse.burst"),states:{afterBurst:{fields:[{node:qb},{node:Ix}]}}})]),passive1:ze.talentTem("passive1"),passive2:ze.talentTem("passive2"),passive3:ze.talentTem("passive3"),constellation1:ze.talentTem("constellation1"),constellation2:ze.talentTem("constellation2"),constellation3:ze.talentTem("constellation3",[{fields:[{node:Cx}]}]),constellation4:ze.talentTem("constellation4",[ze.condTem("constellation4",{value:Rx,path:oH,name:d("elementalReaction.electro"),states:{afterReact:{fields:[{node:Mx}]}}})]),constellation5:ze.talentTem("constellation5",[{fields:[{node:Sx}]}]),constellation6:ze.talentTem("constellation6",[ze.condTem("constellation6",{value:Hx,path:iH,name:d("hitOp.normalChargedSkillBurst"),states:C(N(1,4),t=>({name:d("stack",{count:t}),fields:[{node:Ex}]}))})])}},dH=new R(rH,cH),Um="Kirara",kd="dendro",Eh=_.char.data[Um],Rt=_.char.skillParam[Um],Mt=A(Um,Eh.weaponType);let so=0,Fo=0,cu=0;const Ie={normal:{hitArr:[Rt.auto[so++],Rt.auto[so++],Rt.auto[so++],Rt.auto[so++],Rt.auto[so++]]},charged:{dmg1:Rt.auto[so++],dmg2:Rt.auto[so++],dmg3:Rt.auto[so++],stamina:Rt.auto[so++][0]},plunging:{dmg:Rt.auto[so++],low:Rt.auto[so++],high:Rt.auto[so++]},skill:{tailDmg:Rt.skill[Fo++],shield_hp_:Rt.skill[Fo++],shield_base:Rt.skill[Fo++],maxShield_hp_:Rt.skill[Fo++],maxShield_base:Rt.skill[Fo++],shieldDuration:Rt.skill[Fo++][0],parcelDmg:Rt.skill[Fo++],parcelDuration:Rt.skill[Fo++][0],strikeDmg:Rt.skill[Fo++],cdMin:Rt.skill[Fo++][0],cdMax:Rt.skill[Fo++][0]},burst:{skillDmg:Rt.burst[cu++],explosionDmg:Rt.burst[cu++],duration:Rt.burst[cu++][0],cd:Rt.burst[cu++][0],cost:Rt.burst[cu++][0]},passive1:{shieldMult_:Rt.passive1[0][0],maxStacks:Rt.passive1[1][0],cd:Rt.passive1[2][0]},passive2:{skill_dmg_:Rt.passive2[0][0],burst_dmg_:Rt.passive2[1][0]},constellation1:{hpThresh:1/Rt.constellation1[0]},constellation2:{shieldMult_:Rt.constellation2[0],duration:Rt.constellation2[1],cd:Rt.constellation2[2]},constellation4:{dmg:Rt.constellation4[0],cd:Rt.constellation4[1]},constellation6:{all_dmg_:Rt.constellation6[0],duration:Rt.constellation6[1]}},j_=Cn("hp",Ie.skill.shield_hp_,Ie.skill.shield_base,"skill"),sf=Cn("hp",Ie.skill.maxShield_hp_,Ie.skill.maxShield_base,"skill"),G_=Cn("hp",Ie.skill.shield_hp_,Ie.skill.shield_base,"skill",void 0,c(Ie.passive1.shieldMult_)),z_=m(c(Ie.constellation2.shieldMult_),sf),[mH,Kx]=h(Um,"c6AfterSkillBurst"),Nx=C(jf.map(t=>`${t}_dmg_`),t=>n(a.constellation,6,i(Kx,"on",Ie.constellation6.all_dmg_))),Hl={normal:Object.fromEntries(Ie.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ie.charged.dmg1,"charged"),dmg2:o("atk",Ie.charged.dmg2,"charged")},plunging:E("atk",Ie.plunging),skill:{tailDmg:o("atk",Ie.skill.tailDmg,"skill"),shield:j_,dendroShield:tn("dendro",j_),maxShield:sf,maxDendroShield:tn("dendro",sf),parcelDmg:o("atk",Ie.skill.parcelDmg,"skill"),strikeDmg:o("atk",Ie.skill.strikeDmg,"skill")},burst:{skillDmg:o("atk",Ie.burst.skillDmg,"burst"),explosionDmg:o("atk",Ie.burst.explosionDmg,"burst")},passive1:{shield:n(a.asc,1,G_),dendroShield:n(a.asc,1,tn("dendro",G_))},passive2:{skill_dmg_:n(a.asc,4,m(c(Ie.passive2.skill_dmg_),a.total.hp,1/1e3)),burst_dmg_:n(a.asc,4,m(c(Ie.passive2.burst_dmg_),a.total.hp,1/1e3))},constellation1:{extraCardamom:n(a.constellation,1,br(a.total.hp,Ie.constellation1.hpThresh*4,4,br(a.total.hp,Ie.constellation1.hpThresh*3,3,br(a.total.hp,Ie.constellation1.hpThresh*2,2,br(a.total.hp,Ie.constellation1.hpThresh,1,0)))))},constellation2:{shield:n(a.constellation,2,z_),dendroShield:n(a.constellation,2,tn("dendro",z_))},constellation4:{dmg:n(a.constellation,4,F(m(c(Ie.constellation4.dmg),a.total.atk),"burst",{hit:{ele:p(kd)}}))}},Fx=n(a.constellation,3,3),Ox=n(a.constellation,5,3),uH=B(Um,kd,"inazuma",Eh,Hl,{premod:{skillBoost:Fx,burstBoost:Ox,skill_dmg_:Hl.passive2.skill_dmg_,burst_dmg_:Hl.passive2.burst_dmg_},teamBuff:{premod:Nx}}),gH={key:Um,name:Mt.name,rarity:Eh.rarity,elementKey:kd,weaponTypeKey:Eh.weaponType,gender:"F",constellationName:Mt.chg("constellationName"),title:Mt.chg("title"),talent:{auto:Mt.talentTem("auto",[{text:Mt.chg("auto.fields.normal")},{fields:Ie.normal.hitArr.map((t,l)=>({node:e(Hl.normal[l],{name:Mt.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:Mt.chg("auto.fields.charged")},{fields:[{node:e(Hl.charged.dmg1,{name:Mt.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(Hl.charged.dmg2,{name:Mt.chg("auto.skillParams.4"),textSuffix:"(2)",multi:2})},{text:Mt.chg("auto.skillParams.5"),value:Ie.charged.stamina}]},{text:Mt.chg("auto.fields.plunging")},{fields:[{node:e(Hl.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Hl.plunging.low,{name:s("plunging.low")})},{node:e(Hl.plunging.high,{name:s("plunging.high")})}]}]),skill:Mt.talentTem("skill",[{fields:[{node:e(Hl.skill.tailDmg,{name:Mt.chg("skill.skillParams.0")})},{node:e(Hl.skill.shield,{name:Mt.chg("skill.skillParams.1")})},{node:e(Hl.skill.dendroShield,{name:d(`dmgAbsorption.${kd}`)})},{node:e(Hl.skill.maxShield,{name:Mt.chg("skill.skillParams.2")})},{node:e(Hl.skill.maxDendroShield,{name:d(`dmgAbsorption.max.${kd}`)})},{text:Mt.chg("skill.skillParams.3"),value:Ie.skill.shieldDuration,unit:"s"},{node:e(Hl.skill.parcelDmg,{name:Mt.chg("skill.skillParams.4")})},{text:Mt.chg("skill.skillParams.5"),value:Ie.skill.parcelDuration,unit:"s"},{node:e(Hl.skill.strikeDmg,{name:Mt.chg("skill.skillParams.6")})},{text:s("cd"),value:`${Ie.skill.cdMin}s ~ ${Ie.skill.cdMax}`,unit:"s"}]},Mt.headerTem("passive1",{fields:[{node:e(Hl.passive1.shield,{name:s("dmgAbsorption")})},{node:e(Hl.passive1.dendroShield,{name:d(`dmgAbsorption.${kd}`)})}]}),Mt.headerTem("passive2",{fields:[{node:Hl.passive2.skill_dmg_}]})]),burst:Mt.talentTem("burst",[{fields:[{node:e(Hl.burst.skillDmg,{name:Mt.chg("burst.skillParams.0")})},{node:e(Hl.burst.explosionDmg,{name:Mt.chg("burst.skillParams.1")})},{text:Mt.chg("burst.skillParams.2"),value:Ie.burst.duration,unit:"s"},{text:s("cd"),value:Ie.burst.cd,unit:"s"},{text:s("energyCost"),value:Ie.burst.cost}]},Mt.headerTem("passive2",{fields:[{node:Hl.passive2.burst_dmg_}]}),Mt.headerTem("constellation1",{fields:[{node:e(Hl.constellation1.extraCardamom,{name:Mt.ch("extraCardamom")})}]})]),passive1:Mt.talentTem("passive1"),passive2:Mt.talentTem("passive2"),passive3:Mt.talentTem("passive3"),constellation1:Mt.talentTem("constellation1"),constellation2:Mt.talentTem("constellation2",[Mt.fieldsTem("constellation2",{fields:[{node:e(Hl.constellation2.shield,{name:s("dmgAbsorption")})},{node:e(Hl.constellation2.dendroShield,{name:d(`dmgAbsorption.${kd}`)})},{text:s("duration"),value:Ie.constellation2.duration,unit:"s"},{text:s("cd"),value:Ie.constellation2.cd,unit:"s"}]})]),constellation3:Mt.talentTem("constellation3",[{fields:[{node:Fx}]}]),constellation4:Mt.talentTem("constellation4",[Mt.fieldsTem("constellation4",{fields:[{node:e(Hl.constellation4.dmg,{name:Mt.ch("c4Dmg")})},{text:s("cd"),value:Ie.constellation4.cd,unit:"s"}]})]),constellation5:Mt.talentTem("constellation5",[{fields:[{node:Ox}]}]),constellation6:Mt.talentTem("constellation6",[Mt.condTem("constellation6",{value:Kx,path:mH,teamBuff:!0,name:d("afterUse.skillOrBurst"),states:{on:{fields:Object.values(Nx).map(t=>({node:t}))}}})])}},hH=new R(gH,uH),Nr="Klee",jx="pyro",pH="mondstadt",Kh=_.char.data[Nr],In=_.char.skillParam[Nr],re=A(Nr,Kh.weaponType);let or=0,gm=0,ru=0;const jn={normal:{hitArr:[In.auto[or++],In.auto[or++],In.auto[or++]]},charged:{dmg:In.auto[or++],stamina:In.auto[or++][0]},plunging:{dmg:In.auto[or++],low:In.auto[or++],high:In.auto[or++]},skill:{jumptyDumptyDmg1:In.skill[gm++],jumptyDumptyDmg2:In.skill[gm++],jumptyDumptyDmg3:In.skill[gm++],mineDmg:In.skill[gm++],mineDuration:In.skill[gm++][0],cd:In.skill[gm++][0]},burst:{dmg:In.burst[ru++],cd:In.burst[ru++][0],enerCost:In.burst[ru++][0],unknown:In.burst[ru++],duration:In.burst[ru++][0]},passive1:{charged_dmg_:.5},constellation1:{dmg_:1.2},constellation2:{enemyDefRed_:.23},constellation4:{dmg:5.55},constellation6:{pyro_dmg_:.1}},[kH,Gx]=h(Nr,"PoundingSurprise"),zx=n(a.asc,1,i("on",Gx,c(jn.passive1.charged_dmg_))),[fH,Wx]=h(Nr,"ExplosiveFrags"),Lx=n(a.constellation,2,i("on",Wx,c(jn.constellation2.enemyDefRed_))),[bH,Ux]=h(Nr,"BlazingDelight"),qx=n(a.constellation,6,i("on",Ux,c(jn.constellation6.pyro_dmg_))),ni={normal:Object.fromEntries(jn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",jn.charged.dmg,"charged")},plunging:E("atk",jn.plunging),skill:{jumptyDumptyDmg:o("atk",jn.skill.jumptyDumptyDmg1,"skill"),mineDmg:o("atk",jn.skill.mineDmg,"skill")},burst:{dmg:o("atk",jn.burst.dmg,"burst")},constellation1:{chainedReactionsDmg:n(a.constellation,1,m(c(jn.constellation1.dmg_),o("atk",jn.burst.dmg,"burst")))},constellation4:{sparklyExplosionDmg:n(a.constellation,4,F(m(c(jn.constellation4.dmg),a.total.atk),"elemental",{hit:{ele:p("pyro")}}))}},Vx=n(a.constellation,3,3),Jx=n(a.constellation,5,3),vH=B(Nr,jx,pH,Kh,ni,{premod:{skillBoost:Vx,burstBoost:Jx,charged_dmg_:zx},teamBuff:{premod:{pyro_dmg_:qx,enemyDefRed_:Lx}}}),_H={key:Nr,name:re.name,rarity:Kh.rarity,elementKey:jx,weaponTypeKey:Kh.weaponType,gender:"F",constellationName:re.chg("constellationName"),title:re.chg("title"),talent:{auto:re.talentTem("auto",[{text:re.chg("auto.fields.normal")},{fields:jn.normal.hitArr.map((t,l)=>({node:e(ni.normal[l],{name:re.chg(`auto.skillParams.${l}`)})}))},{text:re.chg("auto.fields.charged")},{fields:[{node:e(ni.charged.dmg,{name:re.chg("auto.skillParams.3")})},{text:re.chg("auto.skillParams.4"),value:jn.charged.stamina}]},{text:re.chg("auto.fields.plunging")},{fields:[{node:e(ni.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ni.plunging.low,{name:s("plunging.low")})},{node:e(ni.plunging.high,{name:s("plunging.high")})}]}]),skill:re.talentTem("skill",[{fields:[{node:e(ni.skill.jumptyDumptyDmg,{name:re.chg("skill.skillParams.0")})},{node:e(ni.skill.mineDmg,{name:re.chg("skill.skillParams.1")})},{text:re.chg("skill.skillParams.2"),value:`${jn.skill.mineDuration}`,unit:"s"},{text:re.chg("skill.skillParams.3"),value:`${jn.skill.cd}`,unit:"s"},{text:d("charges"),value:2}]}]),burst:re.talentTem("burst",[{fields:[{node:e(ni.burst.dmg,{name:re.chg("burst.skillParams.0")})},{text:re.chg("burst.skillParams.1"),value:`${jn.burst.duration}`,unit:"s"},{text:re.chg("burst.skillParams.2"),value:`${jn.burst.cd}`,unit:"s"},{text:re.chg("burst.skillParams.3"),value:`${jn.burst.enerCost}`}]}]),passive1:re.talentTem("passive1",[re.condTem("passive1",{value:Gx,path:kH,name:re.ch("a1CondName"),states:{on:{fields:[{node:zx},{text:re.ch("a1CondName2")}]}}})]),passive2:re.talentTem("passive2"),passive3:re.talentTem("passive3"),constellation1:re.talentTem("constellation1",[re.fieldsTem("constellation1",{fields:[{node:e(ni.constellation1.chainedReactionsDmg,{name:d("dmg")})}]})]),constellation2:re.talentTem("constellation2",[re.condTem("constellation2",{value:Wx,path:fH,teamBuff:!0,name:re.ch("c2CondName"),states:{on:{fields:[{node:Lx},{text:s("duration"),value:10,unit:"s"}]}}})]),constellation3:re.talentTem("constellation3",[{fields:[{node:Vx}]}]),constellation4:re.talentTem("constellation4",[re.fieldsTem("constellation4",{fields:[{node:e(ni.constellation4.sparklyExplosionDmg,{name:d("dmg")})}]})]),constellation5:re.talentTem("constellation5",[{fields:[{node:Jx}]}]),constellation6:re.talentTem("constellation6",[re.condTem("constellation6",{value:Ux,path:bH,teamBuff:!0,name:re.ch("c6CondName"),states:{on:{fields:[{node:qx},{text:s("duration"),value:25,unit:"s"}]}}})])}},yH=new R(_H,vH),Jd="KujouSara",Nh=_.char.data[Jd],hn=_.char.skillParam[Jd],sa=A(Jd,Nh.weaponType);let Ii=0,_g=0,yg=0,W_=0;const ts={normal:{hitArr:[hn.auto[Ii++],hn.auto[Ii++],hn.auto[Ii++],hn.auto[Ii++],hn.auto[Ii++]]},charged:{aimed:hn.auto[Ii++],fullyAimed:hn.auto[Ii++]},plunging:{dmg:hn.auto[Ii++],low:hn.auto[Ii++],high:hn.auto[Ii++]},skill:{dmg:hn.skill[_g++],atkBonus:hn.skill[_g++],duration:hn.skill[_g++][0],cd:hn.skill[_g++][0]},burst:{titanBreakerDmg:hn.burst[yg++],stormClusterDmg:hn.burst[yg++],cd:hn.burst[yg++][0],enerCost:hn.burst[yg++][0]},passive2:{energyGen:hn.passive2[W_++][0],er:hn.passive2[W_++][0]},constellation2:{crowfeatherDmg:hn.constellation2[0]},constellation6:{atkInc:hn.constellation6[0]}},[TH,Bu]=h(Jd,"TenguJuuraiAmbush"),$H=$(a.total.skillIndex,ts.skill.atkBonus.map(t=>t),{unit:"%"}),Qx=i("TenguJuuraiAmbush",Bu,m(a.base.atk,$H),{...y.info("atk"),isTeamBuff:!0}),Xx=i(a.activeCharKey,G.charKey,Qx),[xH,Yx]=h(Jd,"c6"),Zx=n(a.constellation,6,i(Bu,"TenguJuuraiAmbush",i("c6",Yx,c(ts.constellation6.atkInc)))),po={normal:Object.fromEntries(ts.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",ts.charged.aimed,"charged"),fullyAimed:o("atk",ts.charged.fullyAimed,"charged",{hit:{ele:p("electro")}})},plunging:E("atk",ts.plunging),skill:{dmg:o("atk",ts.skill.dmg,"skill"),skillTenguAmbush_:Xx},burst:{titanbreaker:o("atk",ts.burst.titanBreakerDmg,"burst"),stormcluster:o("atk",ts.burst.stormClusterDmg,"burst")},passive2:{energyRegen:e(n(a.asc,4,m(a.total.enerRech_,ts.passive2.energyGen)),{name:s("energyRegen"),fixed:2})},constellation2:{dmg:n(a.constellation,2,m(o("atk",ts.skill.dmg,"skill"),c(ts.constellation2.crowfeatherDmg)))}},tD=n(a.constellation,3,3),eD=n(a.constellation,5,3),DH=B(Jd,"electro","inazuma",Nh,po,{premod:{skillBoost:eD,burstBoost:tD},teamBuff:{premod:{electro_critDMG_:Zx},total:{atk:Xx}}}),PH={key:Jd,name:sa.name,rarity:Nh.rarity,elementKey:"electro",weaponTypeKey:Nh.weaponType,gender:"F",constellationName:sa.chg("constellationName"),title:sa.chg("title"),talent:{auto:sa.talentTem("auto",[{text:sa.chg("auto.fields.normal")},{fields:ts.normal.hitArr.map((t,l)=>({node:e(po.normal[l],{name:sa.chg(`auto.skillParams.${l}`)})}))},{text:sa.chg("auto.fields.charged")},{fields:[{node:e(po.charged.aimed,{name:sa.chg("auto.skillParams.5")})},{node:e(po.charged.fullyAimed,{name:sa.chg("auto.skillParams.6")})}]},{text:sa.chg("auto.fields.plunging")},{fields:[{node:e(po.plunging.dmg,{name:s("plunging.dmg")})},{node:e(po.plunging.low,{name:s("plunging.low")})},{node:e(po.plunging.high,{name:s("plunging.high")})}]}]),skill:sa.talentTem("skill",[{fields:[{node:e(po.skill.dmg,{name:sa.chg("skill.skillParams.0")})},{text:sa.chg("skill.skillParams.3"),value:ts.skill.cd,unit:"s"}]},sa.condTem("skill",{value:Bu,path:TH,name:sa.ch("skill.ambush"),teamBuff:!0,states:{TenguJuuraiAmbush:{fields:[{node:Qx},{text:sa.chg("skill.skillParams.2"),value:ts.skill.duration,unit:"s"}]}}}),sa.headerTem("passive2",{canShow:i(Bu,"TenguJuuraiAmbush",1),fields:[{node:po.passive2.energyRegen}]}),sa.condTem("constellation6",{value:Yx,path:xH,teamBuff:!0,canShow:i(Bu,"TenguJuuraiAmbush",1),name:sa.ch("c6.electroCritDmg"),states:{c6:{fields:[{node:Zx}]}}})]),burst:sa.talentTem("burst",[{fields:[{node:e(po.burst.titanbreaker,{name:sa.chg("burst.skillParams.0")})},{node:e(po.burst.stormcluster,{name:sa.chg("burst.skillParams.1")})},{text:sa.chg("burst.skillParams.2"),value:ts.burst.cd,unit:"s"},{text:sa.chg("burst.skillParams.3"),value:ts.burst.enerCost}]}]),passive1:sa.talentTem("passive1"),passive2:sa.talentTem("passive2"),passive3:sa.talentTem("passive3"),constellation1:sa.talentTem("constellation1"),constellation2:sa.talentTem("constellation2",[sa.fieldsTem("constellation2",{fields:[{node:e(po.constellation2.dmg,{name:d("dmg")})}]})]),constellation3:sa.talentTem("constellation3",[{fields:[{node:tD}]}]),constellation4:sa.talentTem("constellation4"),constellation5:sa.talentTem("constellation5",[{fields:[{node:eD}]}]),constellation6:sa.talentTem("constellation6")}},CH=new R(PH,DH),Qd="KukiShinobu",Vb="electro",Fh=_.char.data[Qd],We=_.char.skillParam[Qd],Ke=A(Qd,Fh.weaponType);let Ri=0,od=0,id=0,L_=0,U_=0;const qt={normal:{hitArr:[We.auto[Ri++],We.auto[Ri++],We.auto[Ri++],We.auto[Ri++]]},charged:{dmg1:We.auto[Ri++],dmg2:We.auto[Ri++],stamina:We.auto[Ri++][0]},plunging:{dmg:We.auto[Ri++],low:We.auto[Ri++],high:We.auto[Ri++]},skill:{pressDmg:We.skill[od++],ringHealHP_:We.skill[od++],ringHealFlat:We.skill[od++],ringDmg:We.skill[od++],cost:We.skill[od++][0],duration:We.skill[od++][0],cd:We.skill[od++][0]},burst:{singleDmg:We.burst[id++],maxDmgBase:We.burst[id++],maxDmgExtend:We.burst[id++],durationBase:We.burst[id++][0],durationExtend:We.burst[id++][0],cd:We.burst[id++][0],cost:We.burst[id++][0]},passive1:{hpThresh_:We.passive1[L_++][0],heal_:We.passive1[L_++][0]},passive2:{emSkillHeal_:We.passive2[U_++][0],emSkillDmg_:We.passive2[U_++][0]},constellation1:{aoeInc:.5},constellation2:{skillDurInc:We.constellation2[0]},constellation4:{markDmg:We.constellation4[0],cd:We.constellation4[1]},constellation6:{hpThresh_:We.constellation6[0],duration:We.constellation6[1],em:We.constellation6[2],cd:We.constellation6[3]}},[q_,Wg]=h(Qd,"underHP"),aD=n(a.asc,1,i(Wg,"on",qt.passive1.heal_)),of=n(a.asc,4,m(c(qt.passive2.emSkillHeal_),a.total.eleMas)),Jb=n(a.asc,4,m(c(qt.passive2.emSkillDmg_),a.total.eleMas)),[SH,lD]=h(Qd,"c6Trigger"),nD=n(a.constellation,6,i(lD,"on",qt.constellation6.em)),ko={normal:Object.fromEntries(qt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",qt.charged.dmg1,"charged"),dmg2:o("atk",qt.charged.dmg2,"charged")},plunging:E("atk",qt.plunging),skill:{pressDmg:o("atk",qt.skill.pressDmg,"skill"),ringHeal:cl("hp",qt.skill.ringHealHP_,qt.skill.ringHealFlat,"skill",{premod:{healInc:of}}),ringDmg:o("atk",qt.skill.ringDmg,"skill")},burst:{singleDmg:o("hp",qt.burst.singleDmg,"burst")},passive2:{a4Skill_dmgInc:Jb,a4Skill_healInc:of},constellation4:{markDmg:n(a.constellation,4,F(m(c(qt.constellation4.markDmg),a.total.hp),"skill",{hit:{ele:p(Vb)}}))}},sD=n(a.constellation,3,3),oD=n(a.constellation,5,3),wH=B(Qd,Vb,"inazuma",Fh,ko,{premod:{skillBoost:sD,burstBoost:oD,heal_:aD,skill_dmgInc:Jb,eleMas:nD}}),AH={key:Qd,name:Ke.name,rarity:Fh.rarity,elementKey:Vb,weaponTypeKey:Fh.weaponType,gender:"F",constellationName:Ke.chg("constellationName"),title:Ke.chg("title"),talent:{auto:Ke.talentTem("auto",[{text:Ke.chg("auto.fields.normal")},{fields:qt.normal.hitArr.map((t,l)=>({node:e(ko.normal[l],{name:Ke.chg(`auto.skillParams.${l}`)})}))},{text:Ke.chg("auto.fields.charged")},{fields:[{node:e(ko.charged.dmg1,{name:Ke.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(ko.charged.dmg2,{name:Ke.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:Ke.chg("auto.skillParams.5"),value:qt.charged.stamina}]},{text:Ke.chg("auto.fields.plunging")},{fields:[{node:e(ko.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ko.plunging.low,{name:s("plunging.low")})},{node:e(ko.plunging.high,{name:s("plunging.high")})}]}]),skill:Ke.talentTem("skill",[{fields:[{node:e(ko.skill.pressDmg,{name:Ke.chg("skill.skillParams.0")})},{node:e(ko.skill.ringHeal,{name:Ke.chg("skill.skillParams.1")})},{node:e(ko.skill.ringDmg,{name:Ke.chg("skill.skillParams.2")})},{text:Ke.chg("skill.skillParams.3"),value:qt.skill.cost*100,unit:d("percentCurrentHP")},{text:s("duration"),value:t=>t.get(a.constellation).value>=2?`${qt.skill.duration}s + ${qt.constellation2.skillDurInc}s = ${qt.skill.duration+qt.constellation2.skillDurInc}`:qt.skill.duration,unit:"s"},{text:s("cd"),value:qt.skill.cd,unit:"s"}]},Ke.headerTem("passive2",{fields:[{node:e(of,{name:Ke.ch("a4.heal"),variant:"heal"})},{node:Jb}]}),Ke.headerTem("constellation2",{fields:[{text:d("durationInc"),value:qt.constellation2.skillDurInc,unit:"s"}]}),Ke.headerTem("constellation4",{fields:[{node:e(ko.constellation4.markDmg,{name:Ke.ch("c4.dmg")})},{text:s("cd"),value:qt.constellation4.cd,unit:"s"}]})]),burst:Ke.talentTem("burst",[{fields:[{node:e(ko.burst.singleDmg,{name:Ke.chg("burst.skillParams.0")})},{text:s("duration"),value:t=>t.get(Wg).value==="on"?`${qt.burst.durationBase}s + ${qt.burst.durationExtend-qt.burst.durationBase}s = ${qt.burst.durationExtend}`:qt.burst.durationBase,unit:"s"},{text:s("cd"),value:qt.burst.cd,unit:"s"},{text:s("energyCost"),value:qt.burst.cost}]},Ke.condTem("burst",{name:d("lessEqPercentHP",{percent:qt.passive1.hpThresh_*100}),value:Wg,path:q_,states:{on:{fields:[{text:d("durationInc"),value:qt.burst.durationExtend-qt.burst.durationBase,fixed:1,unit:"s"}]}}}),Ke.headerTem("constellation1",{fields:[{text:d("aoeInc"),value:qt.constellation1.aoeInc*100,unit:"%"}]})]),passive1:Ke.talentTem("passive1",[Ke.condTem("passive1",{name:d("lessEqPercentHP",{percent:qt.passive1.hpThresh_*100}),value:Wg,path:q_,states:{on:{fields:[{node:aD}]}}})]),passive2:Ke.talentTem("passive2"),passive3:Ke.talentTem("passive3"),constellation1:Ke.talentTem("constellation1"),constellation2:Ke.talentTem("constellation2"),constellation3:Ke.talentTem("constellation3",[{fields:[{node:sD}]}]),constellation4:Ke.talentTem("constellation4"),constellation5:Ke.talentTem("constellation5",[{fields:[{node:oD}]}]),constellation6:Ke.talentTem("constellation6",[Ke.condTem("constellation6",{value:lD,path:SH,name:d("lessPercentHP",{percent:qt.constellation6.hpThresh_*100}),states:{on:{fields:[{node:nD},{text:s("duration"),value:qt.constellation6.duration,unit:"s"},{text:s("cd"),value:qt.constellation6.cd,unit:"s"}]}}})])}},BH=new R(AH,wH),Xd="Layla",Sm="cryo",Oh=_.char.data[Xd],tl=_.char.skillParam[Xd],we=A(Xd,Oh.weaponType);let yc=0,hm=0,Tg=0;const wl={normal:{hitArr:[tl.auto[yc++],tl.auto[yc++],tl.auto[yc++]]},charged:{dmg1:tl.auto[yc++],dmg2:tl.auto[yc++],stamina:tl.auto[yc++][0]},plunging:{dmg:tl.auto[yc++],low:tl.auto[yc++],high:tl.auto[yc++]},skill:{skillDmg:tl.skill[hm++],starDmg:tl.skill[hm++],shieldHp_:tl.skill[hm++],shieldBase:tl.skill[hm++],shieldDuration:tl.skill[hm++][0],cd:tl.skill[hm++][0]},burst:{slugDmg:tl.burst[Tg++],duration:tl.burst[Tg++][0],cd:tl.burst[Tg++][0],energyCost:tl.burst[Tg++][0]},passive1:{shield_:tl.passive1[0][0],maxStacks:4},passive2:{starHpDmgInc:tl.passive2[0][0]},constellation1:{shield_:tl.constellation1[0],partyShield_:tl.constellation1[1],duration:tl.constellation1[2]},constellation4:{normalChargedDmgInc:tl.constellation4[0],effectDuration:tl.constellation4[1],removeAfter:tl.constellation4[2]},constellation6:{starIntervalDec_:tl.constellation6[0],starSlugDmg_:tl.constellation6[1]}},[IH,iD]=h(Xd,"a1Stacks"),cD=N(1,wl.passive1.maxStacks),rD=n(a.asc,1,w(iD,Object.fromEntries(cD.map(t=>[t,m(t,wl.passive1.shield_)])),O),{...y.info("shield_"),isTeamBuff:!0}),RH=i(a.activeCharKey,G.charKey,rD),dD=n(a.asc,4,m(c(wl.passive2.starHpDmgInc),a.total.hp),{name:we.ch("starDmgInc")}),[MH,mD]=h(Xd,"c4Active"),Qb=n(a.constellation,4,i(mD,"on",m(c(wl.constellation4.normalChargedDmgInc),a.total.hp))),uD={...Qb},Xb=n(a.constellation,6,c(wl.constellation6.starSlugDmg_)),gD={...Xb},cf=m(D(St,n(a.constellation,1,wl.constellation1.shield_,{name:we.ch("c1ShieldBonusKey_"),unit:"%"})),Cn("hp",wl.skill.shieldHp_,wl.skill.shieldBase,"skill")),V_=tn("cryo",cf),Ps={normal:Object.fromEntries(wl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",wl.charged.dmg1,"charged"),dmg2:o("atk",wl.charged.dmg2,"charged")},plunging:E("atk",wl.plunging),skill:{skillDmg:o("atk",wl.skill.skillDmg,"skill"),starDmg:o("atk",wl.skill.starDmg,"skill",{premod:{skill_dmgInc:dD,skill_dmg_:Xb}}),skillShield:cf,skillCryoShield:V_},burst:{slugDmg:o("hp",wl.burst.slugDmg,"burst",{premod:{burst_dmg_:gD}})},constellation1:{partyShield:n(a.constellation,1,m(c(wl.constellation1.partyShield_),cf)),partyCryoShield:n(a.constellation,1,m(c(wl.constellation1.partyShield_),V_))}},hD=n(a.constellation,3,3),pD=n(a.constellation,5,3),HH=B(Xd,Sm,"sumeru",Oh,Ps,{premod:{skillBoost:hD,burstBoost:pD},teamBuff:{premod:{shield_:RH,normal_dmgInc:Qb,charged_dmgInc:uD}}}),EH={key:Xd,name:we.name,rarity:Oh.rarity,elementKey:Sm,weaponTypeKey:Oh.weaponType,gender:"F",constellationName:we.chg("constellationName"),title:we.chg("title"),talent:{auto:we.talentTem("auto",[{text:we.chg("auto.fields.normal")},{fields:wl.normal.hitArr.map((t,l)=>({node:e(Ps.normal[l],{name:we.chg(`auto.skillParams.${l}`)})}))},{text:we.chg("auto.fields.charged")},{fields:[{node:e(Ps.charged.dmg1,{name:we.chg("auto.skillParams.3"),textSuffix:"(1)"})},{node:e(Ps.charged.dmg2,{name:we.chg("auto.skillParams.3"),textSuffix:"(2)"})},{text:we.chg("auto.skillParams.4"),value:wl.charged.stamina}]},{text:we.chg("auto.fields.plunging")},{fields:[{node:e(Ps.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ps.plunging.low,{name:s("plunging.low")})},{node:e(Ps.plunging.high,{name:s("plunging.high")})}]}]),skill:we.talentTem("skill",[{fields:[{node:e(Ps.skill.skillDmg,{name:we.chg("skill.skillParams.0")})},{node:e(Ps.skill.starDmg,{name:we.chg("skill.skillParams.1")})},{node:e(Ps.skill.skillShield,{name:s("dmgAbsorption")})},{node:e(Ps.skill.skillCryoShield,{name:d(`dmgAbsorption.${Sm}`),variant:Sm})},{text:s("duration"),value:wl.skill.shieldDuration,unit:"s"},{text:s("cd"),value:wl.skill.cd,unit:"s"}]},we.condTem("passive1",{teamBuff:!0,path:IH,value:iD,name:d("stacks"),states:Object.fromEntries(cD.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:rD}]}]))}),we.headerTem("passive2",{fields:[{node:dD}]}),we.headerTem("constellation1",{fields:[{text:d("dmgAbsorption.increase"),value:wl.constellation1.shield_*100,unit:"%"}]}),we.condTem("constellation4",{teamBuff:!0,value:mD,path:MH,name:we.ch("c4CondKey"),states:{on:{fields:[{node:Qb},{node:uD},{text:s("duration"),value:wl.constellation4.effectDuration,unit:"s"}]}}}),we.headerTem("constellation6",{fields:[{node:e(Xb,{name:we.ch("starDmg_")})},{text:we.ch("starInterval_"),value:-wl.constellation6.starIntervalDec_*100,unit:"%"}]})]),burst:we.talentTem("burst",[{fields:[{node:e(Ps.burst.slugDmg,{name:we.chg("burst.skillParams.0")})},{text:s("duration"),value:wl.burst.duration,unit:"s"},{text:s("cd"),value:wl.burst.cd,unit:"s"},{text:s("energyCost"),value:wl.burst.energyCost}]},we.headerTem("constellation6",{fields:[{node:e(gD,{name:we.ch("slugDmg_")})}]})]),passive1:we.talentTem("passive1"),passive2:we.talentTem("passive2"),constellation1:we.talentTem("constellation1",[we.fieldsTem("constellation1",{fields:[{node:e(Ps.constellation1.partyShield,{name:s("dmgAbsorption")})},{node:e(Ps.constellation1.partyCryoShield,{name:d(`dmgAbsorption.${Sm}`),variant:Sm})}]})]),constellation2:we.talentTem("constellation2"),constellation3:we.talentTem("constellation3",[{fields:[{node:hD}]}]),constellation4:we.talentTem("constellation4"),constellation5:we.talentTem("constellation5",[{fields:[{node:pD}]}]),constellation6:we.talentTem("constellation6")}},KH=new R(EH,HH),Yd="Lisa",kD="electro",jh=_.char.data[Yd],ln=_.char.skillParam[Yd],Sa=A(Yd,jh.weaponType);let Tc=0,cd=0,$g=0,J_=0;const Fn={normal:{hitArr:[ln.auto[Tc++],ln.auto[Tc++],ln.auto[Tc++],ln.auto[Tc++]]},charged:{dmg:ln.auto[Tc++],stamina:ln.auto[Tc++][0]},plunging:{dmg:ln.auto[Tc++],low:ln.auto[Tc++],high:ln.auto[Tc++]},skill:{stack0:ln.skill[cd++],stack1:ln.skill[cd++],stack2:ln.skill[cd++],stack3:ln.skill[cd++],holdCD:ln.skill[cd++][0],press:ln.skill[cd++],pressCD:ln.skill[cd++][0]},burst:{summon:.1,tick:ln.burst[$g++],duration:ln.burst[$g++][0],cd:ln.burst[$g++][0],cost:ln.burst[$g++][0]},passive1:{unknown:ln.passive1[0][0]},passive2:{defShred:ln.passive2[J_++][0],duration:ln.passive2[J_++][0]}},[NH,fD]=h(Yd,"LisaA4"),[FH,bD]=h(Yd,"LisaC2"),vD=n(a.asc,1,i(fD,"on",Fn.passive2.defShred)),_D=n(a.constellation,2,i(bD,"on",p(.25))),Li={normal:Object.fromEntries(Fn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Fn.charged.dmg,"charged")},plunging:E("atk",Fn.plunging),skill:{stack0:o("atk",Fn.skill.stack0,"skill"),stack1:o("atk",Fn.skill.stack1,"skill"),stack2:o("atk",Fn.skill.stack2,"skill"),stack3:o("atk",Fn.skill.stack3,"skill"),press:o("atk",Fn.skill.press,"skill")},burst:{summon:F(m(c(Fn.burst.summon),a.total.atk),"burst"),tick:o("atk",Fn.burst.tick,"burst")}},yD=n(a.constellation,3,3),TD=n(a.constellation,5,3),OH=B(Yd,kD,"mondstadt",jh,Li,{premod:{burstBoost:yD,skillBoost:TD,def_:_D},teamBuff:{premod:{enemyDefRed_:vD}}}),jH={key:Yd,name:Sa.name,rarity:jh.rarity,elementKey:kD,weaponTypeKey:jh.weaponType,gender:"F",constellationName:Sa.chg("constellationName"),title:Sa.chg("title"),talent:{auto:Sa.talentTem("auto",[{text:Sa.chg("auto.fields.normal")},{fields:Fn.normal.hitArr.map((t,l)=>({node:e(Li.normal[l],{name:Sa.chg(`auto.skillParams.${l}`)})}))},{text:Sa.chg("auto.fields.charged")},{fields:[{node:e(Li.charged.dmg,{name:Sa.chg("auto.skillParams.4")})},{text:Sa.chg("auto.skillParams.5"),value:Fn.charged.stamina}]},{text:Sa.chg("auto.fields.plunging")},{fields:[{node:e(Li.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Li.plunging.low,{name:s("plunging.low")})},{node:e(Li.plunging.high,{name:s("plunging.high")})}]}]),skill:Sa.talentTem("skill",[{fields:[{node:e(Li.skill.press,{name:Sa.chg("skill.skillParams.0")})},...N(0,3).map(t=>({node:e(Li.skill[`stack${t}`],{name:Sa.chg(`skill.skillParams.${2+t}`)})})),{text:s("press.cd"),value:Fn.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Fn.skill.holdCD,unit:"s"}]}]),burst:Sa.talentTem("burst",[{fields:[{node:e(Li.burst.summon,{name:s("skillDMG")})},{node:e(Li.burst.tick,{name:Sa.chg("burst.skillParams.0")})},{text:Sa.chg("burst.skillParams.1"),value:Fn.burst.duration,unit:"s"},{text:Sa.chg("burst.skillParams.2"),value:Fn.burst.cd,unit:"s"},{text:Sa.chg("burst.skillParams.3"),value:Fn.burst.cost}]}]),passive1:Sa.talentTem("passive1"),passive2:Sa.talentTem("passive2",[Sa.condTem("passive2",{name:Sa.ch("a4C"),value:fD,path:NH,teamBuff:!0,states:{on:{fields:[{node:vD},{text:s("duration"),value:Fn.passive2.duration,unit:"s"}]}}})]),passive3:Sa.talentTem("passive3"),constellation1:Sa.talentTem("constellation1"),constellation2:Sa.talentTem("constellation2",[Sa.condTem("constellation2",{value:bD,path:FH,name:Sa.ch("c2C"),states:{on:{fields:[{node:_D},{text:d("incInterRes")}]}}})]),constellation3:Sa.talentTem("constellation3",[{fields:[{node:yD}]}]),constellation4:Sa.talentTem("constellation4"),constellation5:Sa.talentTem("constellation5",[{fields:[{node:TD}]}]),constellation6:Sa.talentTem("constellation6")}},GH=new R(jH,OH),Fr="Lynette",Sd=_.char.data[Fr],ra=_.char.skillParam[Fr],de=A(Fr,Sd.weaponType);let Oo=0,ir=0,pm=0;const sn={normal:{hitArr:[ra.auto[Oo++],ra.auto[Oo++],ra.auto[Oo++],ra.auto[Oo++],ra.auto[Oo++]]},charged:{dmg1:ra.auto[Oo++],dmg2:ra.auto[Oo++],stam:ra.auto[Oo++][0]},plunging:{dmg:ra.auto[Oo++],low:ra.auto[Oo++],high:ra.auto[Oo++]},skill:{thrustDmg:ra.skill[ir++],thrustDmgAgain:ra.skill[ir++],bladeDmg:ra.skill[ir++],hpRegen:ra.skill[ir++][0],hpCost:ra.skill[ir++][0],cd:ra.skill[ir++][0],bladeInterval:ra.skill[ir++][0],holdMaxDuration:ra.skill[ir++][0]},burst:{skillDmg:ra.burst[pm++],boxDmg:ra.burst[pm++],shotDmg:ra.burst[pm++],boxDuration:ra.burst[pm++][0],cd:ra.burst[pm++][0],enerCost:ra.burst[pm++][0]},passive1:{duration:ra.passive1[0][0],atk_:[0,ra.passive1[1][0],ra.passive1[2][0],ra.passive1[3][0],ra.passive1[4][0]]},passive2:{burst_dmg_:ra.passive2[0][0]},constellation6:{anemo_dmg_:ra.constellation6[0],duration:ra.constellation6[1]}},[zH,Nu]=h(Fr,"burstAbsorb"),[WH,$D]=h(Fr,"a1AfterBurst"),xD=n(a.asc,1,i($D,"on",$(dn.ele,[...sn.passive1.atk_]))),DD=n(a.asc,4,z(Nu,void 0,sn.passive2.burst_dmg_)),[LH,Yb]=h(Fr,"c6AfterThrust"),UH=Sr(a.constellation,6,rn(Yb,"on","anemo")),PD=n(a.constellation,6,i(Yb,"on",sn.constellation6.anemo_dmg_)),Cs={normal:Object.fromEntries(sn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",sn.charged.dmg1,"charged"),dmg2:o("atk",sn.charged.dmg2,"charged")},plunging:E("atk",sn.plunging),skill:{thrustDmg:o("atk",sn.skill.thrustDmg,"skill"),bladeDmg:o("atk",sn.skill.bladeDmg,"skill"),hpRegen:zn("hp",c(sn.skill.hpRegen),0),hpCost:m(c(sn.skill.hpCost),a.total.hp)},burst:{dmg:o("atk",sn.burst.skillDmg,"burst"),boxDmg:o("atk",sn.burst.boxDmg,"burst"),shotDmg:z(Nu,void 0,o("atk",sn.burst.shotDmg,"burst",{hit:{ele:Nu}}))}},CD=n(a.constellation,3,3),SD=n(a.constellation,5,3),qH=B(Fr,Sd.ele,Sd.region,Sd,Cs,{teamBuff:{premod:{atk_:xD}},premod:{skillBoost:SD,burstBoost:CD,burst_dmg_:DD,anemo_dmg_:PD},infusion:{overridableSelf:UH}}),VH={key:Fr,name:de.name,rarity:Sd.rarity,elementKey:Sd.ele,weaponTypeKey:Sd.weaponType,gender:"F",constellationName:de.chg("constellationName"),title:de.chg("title"),talent:{auto:de.talentTem("auto",[{text:de.chg("auto.fields.normal")},{fields:sn.normal.hitArr.map((t,l)=>({node:e(Cs.normal[l],{name:de.chg(`auto.skillParams.${l>2?l-1:l}`),textSuffix:l===2||l===3?`(${l-1})`:void 0})}))},{text:de.chg("auto.fields.charged")},{fields:[{node:e(Cs.charged.dmg1,{name:de.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(Cs.charged.dmg2,{name:de.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:de.chg("auto.skillParams.5"),value:sn.charged.stam}]},{text:de.chg("auto.fields.plunging")},{fields:[{node:e(Cs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Cs.plunging.low,{name:s("plunging.low")})},{node:e(Cs.plunging.high,{name:s("plunging.high")})}]}]),skill:de.talentTem("skill",[{fields:[{node:e(Cs.skill.thrustDmg,{name:de.chg("skill.skillParams.0")})},{node:e(Cs.skill.bladeDmg,{name:de.chg("skill.skillParams.1")})},{text:de.chg("skill.skillParams.2"),value:sn.skill.bladeInterval,unit:"s"},{node:e(Cs.skill.hpRegen,{name:de.chg("skill.skillParams.3")})},{node:e(Cs.skill.hpCost,{name:de.chg("skill.skillParams.4")})},{text:de.chg("skill.skillParams.5"),value:sn.skill.holdMaxDuration,fixed:1,unit:"s"},{text:s("cd"),value:sn.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=4,text:d("charges"),value:2}]},de.condTem("constellation6",{value:Yb,path:LH,name:de.ch("c6CondName"),states:{on:{fields:[{text:P(yt,{color:"anemo",children:d("infusion.anemo")})},{node:PD},{text:s("duration"),value:6,unit:"s"}]}}})]),burst:de.talentTem("burst",[{fields:[{node:e(Cs.burst.dmg,{name:de.chg("burst.skillParams.0")})},{node:e(Cs.burst.boxDmg,{name:de.chg("burst.skillParams.1")})},{text:de.chg("burst.skillParams.3"),value:sn.burst.boxDuration,unit:"s"},{text:s("cd"),value:sn.burst.cd,unit:"s"},{text:s("energyCost"),value:sn.burst.enerCost}]},de.condTem("burst",{value:Nu,path:zH,name:d("eleAbsor"),states:C(il,t=>({name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Cs.burst.shotDmg,{name:de.chg("burst.skillParams.2")})}]}))}),de.condTem("passive1",{value:$D,path:WH,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:xD},{text:s("duration"),value:sn.passive1.duration,unit:"s"}]}}}),de.headerTem("passive2",{canShow:z(Nu,void 0,1),fields:[{node:DD}]})]),passive1:de.talentTem("passive1"),passive2:de.talentTem("passive2"),passive3:de.talentTem("passive3"),constellation1:de.talentTem("constellation1"),constellation2:de.talentTem("constellation2"),constellation3:de.talentTem("constellation3",[{fields:[{node:CD}]}]),constellation4:de.talentTem("constellation4",[de.headerTem("constellation4",{fields:[{text:d("addlCharges"),value:1}]})]),constellation5:de.talentTem("constellation5",[{fields:[{node:SD}]}]),constellation6:de.talentTem("constellation6")}},JH=new R(VH,qH),sc="Lyney",xr=_.char.data[sc],Le=_.char.skillParam[sc],it=A(sc,xr.weaponType);let ns=0,xg=0,du=0;const Ua={normal:{hitArr:[Le.auto[ns++],Le.auto[ns++],Le.auto[++ns],Le.auto[++ns]]},plunging:{dmg:Le.auto[++ns],low:Le.auto[++ns],high:Le.auto[++ns]},charged:{aimed:Le.auto[++ns],fullyAimed:Le.auto[++ns],propDmg:Le.auto[++ns],hpCost:Le.auto[++ns],hatHp:Le.auto[++ns],hatDuration:Le.auto[++ns][0],pyrotechnicDmg:Le.auto[++ns],thornDmg:Le.auto[++ns],thornInterval:Le.auto[++ns][0]},skill:{dmg:Le.skill[xg++],dmgInc:Le.skill[xg++],hpRegen:Le.skill[xg++],cd:Le.skill[xg++][0]},burst:{skillDmg:Le.burst[du++],fireworkDmg:Le.burst[du++],duration:Le.burst[du++][0],cd:Le.burst[du++][0],enerCost:Le.burst[du++][0]},passive1:{energy:Le.passive1[0][0],propAddlDmg:Le.passive1[1][0]},passive2:{dmg_:Le.passive2[0][0],extraDmg_:Le.passive2[1][0]},constellation2:{critDmg_:Le.constellation2[0],stackCd:Le.constellation2[1],maxStacks:Le.constellation2[2]},constellation4:{enemy_pyro_res_:Le.constellation4[0],duration:Le.constellation4[1]},constellation6:{dmg:Le.constellation6[0]}},[QH,wD]=h(sc,"propStacks"),AD=N(1,5),BD=w(wD,C(AD,t=>p(t)),p(0),{name:it.ch("propStacks")}),ID=m(BD,$(a.total.skillIndex,Ua.skill.dmgInc,{unit:"%"}),a.total.atk),[XH,RD]=h(sc,"a1DrainHp"),Zb=n(a.asc,1,i(RD,"on",m(c(Ua.passive1.propAddlDmg),a.total.atk))),[YH,MD]=h(sc,"a4AffectedByPyro"),ZH=e(yl(2,D(dn.pyro,-1)),{asConst:!0}),HD=n(a.asc,4,i(MD,"on",D(c(Ua.passive2.dmg_),m(c(Ua.passive2.extraDmg_),ZH)))),[tE,ED]=h(sc,"c2Stacks"),KD=N(1,Ua.constellation2.maxStacks),ND=n(a.constellation,2,m(c(Ua.constellation2.critDmg_),w(ED,C(KD,t=>p(t)),O))),[eE,FD]=h(sc,"c4Hit"),OD=n(a.constellation,4,i(FD,"on",-Ua.constellation4.enemy_pyro_res_)),Cu={hit:{ele:p(xr.ele)}},aE={premod:{charged_dmgInc:Zb},...Cu},Ln={normal:Object.fromEntries(Ua.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Ua.charged.aimed,"charged"),fullyAimed:o("atk",Ua.charged.fullyAimed,"charged",Cu),prop:o("atk",Ua.charged.propDmg,"charged",Cu),hpCost:m($(a.total.autoIndex,Ua.charged.hpCost,{unit:"%"}),a.total.hp),hatHp:m($(a.total.autoIndex,Ua.charged.hatHp,{unit:"%"}),a.total.hp),pyrotechnic:o("atk",Ua.charged.pyrotechnicDmg,"charged",aE),spiritbreath:o("atk",Ua.charged.thornDmg,"charged",Cu)},plunging:E("atk",Ua.plunging),skill:{dmg:o("atk",Ua.skill.dmg,"skill"),skillDmgInc:ID,hpRegen:cl("hp",Ua.skill.hpRegen,new Array(15).fill(0),"skill",void 0,BD)},burst:{dmg:o("atk",Ua.burst.skillDmg,"burst"),fireworkDmg:o("atk",Ua.burst.fireworkDmg,"burst")},passive1:{hatDmgInc:Zb},constellation6:{dmg:n(a.constellation,6,o("atk",Ua.charged.pyrotechnicDmg,"charged",Cu,c(Ua.constellation6.dmg)))}},jD=n(a.constellation,3,3),GD=n(a.constellation,5,3),lE=B(sc,xr.ele,xr.region,xr,Ln,{premod:{burstBoost:GD,autoBoost:jD,critDMG_:ND,all_dmg_:HD,skill_dmgInc:ID},teamBuff:{premod:{pyro_enemyRes_:OD}}}),nE={key:sc,name:it.name,rarity:xr.rarity,elementKey:xr.ele,weaponTypeKey:xr.weaponType,gender:"M",constellationName:it.chg("constellationName"),title:it.chg("title"),talent:{auto:it.talentTem("auto",[{text:it.chg("auto.fields.normal")},{fields:Ua.normal.hitArr.map((t,l)=>({node:e(Ln.normal[l],{name:it.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:it.chg("auto.fields.plunging")},{fields:[{node:e(Ln.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ln.plunging.low,{name:s("plunging.low")})},{node:e(Ln.plunging.high,{name:s("plunging.high")})}]},{text:it.chg("auto.fields.charged")},{fields:[{node:e(Ln.charged.aimed,{name:it.chg("auto.skillParams.6")})},{node:e(Ln.charged.fullyAimed,{name:it.chg("auto.skillParams.7")})},{node:e(Ln.charged.prop,{name:it.chg("auto.skillParams.8")})},{node:e(Ln.charged.hpCost,{name:it.chg("auto.skillParams.9")})}]},it.headerTem("constellation6",{fields:[{node:e(Ln.constellation6.dmg,{name:it.ch("c6Dmg")})}]}),{text:it.chg("auto.fields.grinMalkin")},{fields:[{node:e(Ln.charged.hatHp,{name:it.chg("auto.skillParams.10")})},{text:it.chg("auto.skillParams.11"),value:Ua.charged.hatDuration,unit:"s"},{node:e(Ln.charged.pyrotechnic,{name:it.chg("auto.skillParams.12")})}]},it.condTem("passive1",{value:RD,path:XH,name:it.ch("a1CondName"),states:{on:{fields:[{node:e(Zb,{name:it.ch("hatDmgInc")})},{text:s("energyRegen"),value:3}]}}}),{text:it.chg("auto.fields.arkhe")},{fields:[{node:e(Ln.charged.spiritbreath,{name:it.chg("auto.skillParams.13")})},{text:it.chg("auto.skillParams.14"),value:Ua.charged.thornInterval,unit:"s"}]}]),skill:it.talentTem("skill",[{fields:[{node:e(Ln.skill.dmg,{name:it.chg("skill.skillParams.0")})},{text:s("cd"),value:Ua.skill.cd,unit:"s"}]},it.condTem("skill",{value:wD,path:QH,name:it.ch("propStacksUsed"),states:C(AD,t=>({name:d("stack",{count:t}),fields:[{node:Ln.skill.skillDmgInc},{node:e(Ln.skill.hpRegen,{name:it.chg("skill.skillParams.2")})}]}))})]),burst:it.talentTem("burst",[{fields:[{node:e(Ln.burst.dmg,{name:it.chg("burst.skillParams.0")})},{node:e(Ln.burst.fireworkDmg,{name:it.chg("burst.skillParams.1")})},{text:s("duration"),value:Ua.burst.duration,unit:"s"},{text:s("cd"),value:Ua.burst.cd,unit:"s"},{text:s("energyCost"),value:Ua.burst.enerCost}]}]),passive1:it.talentTem("passive1"),passive2:it.talentTem("passive2",[it.condTem("passive2",{value:MD,path:YH,name:d("enemyAffected.pyro"),states:{on:{fields:[{node:HD}]}}})]),passive3:it.talentTem("passive3"),constellation1:it.talentTem("constellation1"),constellation2:it.talentTem("constellation2",[it.condTem("constellation2",{path:tE,value:ED,name:d("timeOnField"),states:C(KD,t=>({name:d("seconds",{count:t*2}),fields:[{node:ND}]}))})]),constellation3:it.talentTem("constellation3",[{fields:[{node:jD}]}]),constellation4:it.talentTem("constellation4",[it.condTem("constellation4",{value:FD,path:eE,name:d("hitOp.charged"),states:{on:{fields:[{node:OD},{text:s("duration"),value:Ua.constellation4.duration,unit:"s"}]}}})]),constellation5:it.talentTem("constellation5",[{fields:[{node:GD}]}]),constellation6:it.talentTem("constellation6")}},sE=new R(nE,lE),Or="Mika",zD="cryo",Gh=_.char.data[Or],Oa=_.char.skillParam[Or],Ne=A(Or,Gh.weaponType);let Mi=-1,km=0,cr=0;const Wl={normal:{hitArr:[Oa.auto[++Mi],Oa.auto[++Mi],Oa.auto[++Mi],Oa.auto[++Mi],Oa.auto[Mi+=2]]},charged:{dmg:Oa.auto[++Mi],stamina:Oa.auto[++Mi][0]},plunging:{dmg:Oa.auto[++Mi],low:Oa.auto[++Mi],high:Oa.auto[++Mi]},skill:{arrowDmg:Oa.skill[km++],flareDmg:Oa.skill[km++],shardDmg:Oa.skill[km++],atkSPD_:Oa.skill[km++],soulwindDuration:Oa.skill[km++][0],cd:Oa.skill[km++][0]},burst:{castHealBase:Oa.burst[cr++],castHealHp:Oa.burst[cr++],plumeHealBase:Oa.burst[cr++],plumeHealHp:Oa.burst[cr++],plumeInterval:Oa.burst[cr++][0],plumeDuration:Oa.burst[cr++][0],cd:Oa.burst[cr++][0],energyCost:Oa.burst[cr++][0]},passive1:{physical_dmg_:Oa.passive1[0][0],maxStacks:Oa.passive1[1][0]},constellation4:{energyRegen:Oa.constellation4[0],energyRegenProcs:Oa.constellation4[1]},constellation6:{physical_critDMG_:Oa.constellation6[0],extraStacks:Oa.constellation6[1]}},[oE,bd]=h(Or,"inSoulwind"),Lg=i(bd,"on",$(a.total.skillIndex,Wl.skill.atkSPD_,{...y.info("atkSPD_"),isTeamBuff:!0})),iE=i(a.activeCharKey,G.charKey,Lg),[cE,WD]=h(Or,"a1DetectorStacks"),rE=N(1,4),LD=n(a.asc,1,i(bd,"on",w(WD,C(rE,t=>t===4?n(a.constellation,6,m(t,c(Wl.passive1.physical_dmg_))):m(t,c(Wl.passive1.physical_dmg_))),O,{...y.info("physical_dmg_"),isTeamBuff:!0}))),dE=i(a.activeCharKey,G.charKey,LD),[mE,UD]=h(Or,"c6Crit"),qD=n(a.constellation,6,i(bd,"on",i(UD,"on",Wl.constellation6.physical_critDMG_,{...y.info("physical_critDMG_"),isTeamBuff:!0}))),uE=i(a.activeCharKey,G.charKey,qD),si={normal:Object.fromEntries(Wl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Wl.charged.dmg,"charged")},plunging:E("atk",Wl.plunging),skill:{arrowDmg:o("atk",Wl.skill.arrowDmg,"skill"),flareDmg:o("atk",Wl.skill.flareDmg,"skill"),shardDmg:o("atk",Wl.skill.shardDmg,"skill")},burst:{castHeal:cl("hp",Wl.burst.castHealHp,Wl.burst.castHealBase,"burst"),plumeHeal:cl("hp",Wl.burst.plumeHealHp,Wl.burst.plumeHealBase,"burst")}},VD=n(a.constellation,3,3),JD=n(a.constellation,5,3),gE=B(Or,zD,"mondstadt",Gh,si,{premod:{burstBoost:VD,skillBoost:JD},teamBuff:{premod:{atkSPD_:iE,physical_dmg_:dE,physical_critDMG_:uE}}}),hE={key:Or,name:Ne.name,rarity:Gh.rarity,elementKey:zD,weaponTypeKey:Gh.weaponType,gender:"M",constellationName:Ne.chg("constellationName"),title:Ne.chg("title"),talent:{auto:Ne.talentTem("auto",[{text:Ne.chg("auto.fields.normal")},{fields:Wl.normal.hitArr.map((t,l)=>({node:e(si.normal[l],{name:Ne.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:Ne.chg("auto.fields.charged")},{fields:[{node:e(si.charged.dmg,{name:Ne.chg("auto.skillParams.5")})},{text:Ne.chg("auto.skillParams.6"),value:Wl.charged.stamina}]},{text:Ne.chg("auto.fields.plunging")},{fields:[{node:e(si.plunging.dmg,{name:s("plunging.dmg")})},{node:e(si.plunging.low,{name:s("plunging.low")})},{node:e(si.plunging.high,{name:s("plunging.high")})}]}]),skill:Ne.talentTem("skill",[{fields:[{node:e(si.skill.arrowDmg,{name:Ne.chg("skill.skillParams.0")})},{node:e(si.skill.flareDmg,{name:Ne.chg("skill.skillParams.1")})},{node:e(si.skill.shardDmg,{name:Ne.chg("skill.skillParams.2")})},{text:Ne.chg("skill.skillParams.4"),value:Wl.skill.soulwindDuration,unit:"s"},{text:s("cd"),value:Wl.skill.cd,unit:"s"}]},Ne.condTem("skill",{path:oE,value:bd,teamBuff:!0,name:Ne.ch("inSoulwind"),states:{on:{fields:[{node:Lg}]}}}),Ne.condTem("passive1",{path:cE,value:WD,teamBuff:!0,canShow:i(bd,"on",1),name:Ne.ch("numDetectorStacks"),states:t=>C(N(1,t.get(a.constellation).value>=6?4:3),l=>({name:d("stack",{count:l}),fields:[{node:LD}]}))}),Ne.condTem("constellation6",{teamBuff:!0,canShow:i(bd,"on",1),path:mE,value:UD,name:Ne.ch("inSoulwind"),states:{on:{fields:[{node:qD}]}}}),Ne.headerTem("constellation6",{fields:[{text:Ne.ch("incDetectorStacks"),value:Wl.constellation6.extraStacks}]})]),burst:Ne.talentTem("burst",[{fields:[{node:e(si.burst.castHeal,{name:Ne.chg("burst.skillParams.0")})},{node:e(si.burst.plumeHeal,{name:Ne.chg("burst.skillParams.1")})},{text:Ne.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=1&&t.get(bd).value==="on"&&t.get(a.activeCharKey).value===t.get(G.charKey).value?`${Wl.burst.plumeInterval}s - ${t.get(Lg).value*100}% = ${(Wl.burst.plumeInterval*(1-t.get(Lg).value)).toFixed(2)}`:Wl.burst.plumeInterval,unit:"s",fixed:1},{text:Ne.chg("burst.skillParams.3"),value:Wl.burst.plumeDuration,unit:"s"},{text:s("cd"),value:Wl.burst.cd,unit:"s"},{text:s("energyCost"),value:Wl.burst.energyCost}]}]),passive1:Ne.talentTem("passive1"),passive2:Ne.talentTem("passive2"),constellation1:Ne.talentTem("constellation1"),constellation2:Ne.talentTem("constellation2"),constellation3:Ne.talentTem("constellation3",[{fields:[{node:VD}]}]),constellation4:Ne.talentTem("constellation4"),constellation5:Ne.talentTem("constellation5",[{fields:[{node:JD}]}]),constellation6:Ne.talentTem("constellation6")}},pE=new R(hE,gE),jr="Mona",QD="hydro",zh=_.char.data[jr],Ht=_.char.skillParam[jr],me=A(jr,zh.weaponType);let $c=0,gk=0,rd=0,Q_=0,hk=0,X_=0;var I1,R1,M1,H1;const bl={normal:{hitArr:[Ht.auto[$c++],Ht.auto[$c++],Ht.auto[$c++],Ht.auto[$c++]]},charged:{dmg:Ht.auto[$c++],stamina:Ht.auto[$c++][0]},plunging:{dmg:Ht.auto[$c++],low:Ht.auto[$c++],high:Ht.auto[$c++]},skill:{dot:Ht.skill[gk++],dmg:Ht.skill[gk++],cd:Ht.skill[gk++][0]},burst:{bubbleDuration:Ht.burst[rd++][0],dmg:Ht.burst[rd++],dmgBonusNeg:Ht.burst[rd++],omenDuration:Ht.burst[rd++],cd:Ht.burst[rd++][0],enerCost:Ht.burst[rd++][0],dmgBonus:Ht.burst[rd++]},sprint:{active_stam:(R1=(I1=Ht==null?void 0:Ht.sprint)==null?void 0:I1[Q_++])==null?void 0:R1[0],drain_stam:(H1=(M1=Ht==null?void 0:Ht.sprint)==null?void 0:M1[Q_++])==null?void 0:H1[0]},passive1:{torrentDuration:Ht.passive1[hk++][0],phantomDuration:Ht.passive1[hk++][0],percentage:Ht.passive1[hk++][0]},passive2:{unknown:Ht.passive2[X_++][0],percentage:Ht.passive2[X_++][0]},constellation1:{electroChargeDmgInc:Ht.constellation1[0],vaporizeDmgInc:Ht.constellation1[1],hydroSwirlDmgInc:Ht.constellation1[2],frozenExtension:Ht.constellation1[3],unknown:Ht.constellation1[4],duration:Ht.constellation1[5]},constellation4:{critRateInc:Math.abs(Ht.constellation4[0])},constellation6:{unknown:Ht.constellation6[0],dmgBonus:Ht.constellation6[1],maxDmgBonus:Ht.constellation6[2],duration:Ht.constellation6[3]}},[kE,Wh]=h(jr,"Omen"),XD=i("on",Wh,$(a.total.burstIndex,bl.burst.dmgBonus,{unit:"%"})),[fE,Op]=h(jr,"ProphecyOfSubmersion"),YD=n(a.constellation,1,i("on",Op,c(bl.constellation1.electroChargeDmgInc))),ZD=n(a.constellation,1,i("on",Op,c(bl.constellation1.hydroSwirlDmgInc))),tP=n(a.constellation,1,i("on",Op,c(bl.constellation1.vaporizeDmgInc))),eP=n(a.constellation,4,i(Wh,"on",c(bl.constellation4.critRateInc))),[bE,aP]=h(jr,"RhetoricsOfCalamitas"),lP=n(a.constellation,6,w(aP,C(N(1,3),t=>c(t*bl.constellation6.dmgBonus)),0)),xo={normal:Object.fromEntries(bl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",bl.charged.dmg,"charged")},plunging:E("atk",bl.plunging),skill:{dot:o("atk",bl.skill.dot,"skill"),dmg:o("atk",bl.skill.dmg,"skill")},burst:{dmg:o("atk",bl.burst.dmg,"burst")},passive1:{dmg:n(a.asc,1,m(o("atk",bl.skill.dmg,"skill"),c(bl.passive1.percentage)))},passive2:{hydro_dmg_:n(a.asc,4,m(a.premod.enerRech_,c(bl.passive2.percentage)))}},nP=n(a.constellation,3,3),sP=n(a.constellation,5,3),vE=B(jr,QD,"mondstadt",zh,xo,{premod:{skillBoost:sP,burstBoost:nP,charged_dmg_:lP,hydro_dmg_:xo.passive2.hydro_dmg_},teamBuff:{premod:{all_dmg_:XD,electrocharged_dmg_:YD,swirl_dmg_:ZD,vaporize_dmg_:tP,critRate_:eP}}}),_E={key:jr,name:me.name,rarity:zh.rarity,elementKey:QD,weaponTypeKey:zh.weaponType,gender:"F",constellationName:me.chg("constellationName"),title:me.chg("title"),talent:{auto:me.talentTem("auto",[{text:me.chg("auto.fields.normal")},{fields:bl.normal.hitArr.map((t,l)=>({node:e(xo.normal[l],{name:me.chg(`auto.skillParams.${l}`)})}))},{text:me.chg("auto.fields.charged")},{fields:[{node:e(xo.charged.dmg,{name:me.chg("auto.skillParams.4")})},{text:me.chg("auto.skillParams.5"),value:bl.charged.stamina}]},{text:me.chg("auto.fields.plunging")},{fields:[{node:e(xo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(xo.plunging.low,{name:s("plunging.low")})},{node:e(xo.plunging.high,{name:s("plunging.high")})}]}]),skill:me.talentTem("skill",[{fields:[{node:e(xo.skill.dot,{name:me.chg("skill.skillParams.0")})},{node:e(xo.skill.dmg,{name:me.chg("skill.skillParams.1")})},{text:me.chg("skill.skillParams.2"),value:bl.skill.cd,unit:"s"}]}]),burst:me.talentTem("burst",[{fields:[{text:me.chg("burst.skillParams.0"),value:bl.burst.bubbleDuration,unit:"s"},{node:e(xo.burst.dmg,{name:me.chg("burst.skillParams.1")})},{text:s("cd"),value:bl.burst.cd,unit:"s"},{text:s("energyCost"),value:bl.burst.enerCost}]},me.condTem("burst",{value:Wh,path:kE,teamBuff:!0,name:me.ch("omen"),states:{on:{fields:[{node:XD},{text:s("duration"),value:t=>bl.burst.omenDuration[t.get(a.total.burstIndex).value],unit:"s"}]}}}),me.headerTem("constellation4",{canShow:i(Wh,"on",1),teamBuff:!0,fields:[{node:eP}]})]),sprint:me.talentTem("sprint",[{fields:[{text:d("activationStam"),value:bl.sprint.active_stam},{text:d("stamDrain"),value:bl.sprint.drain_stam,unit:"/s"}]}]),passive1:me.talentTem("passive1",[me.fieldsTem("passive1",{fields:[{node:e(xo.passive1.dmg,{name:me.chg("skill.skillParams.1")})},{text:s("duration"),value:bl.passive1.phantomDuration,unit:"s"}]})]),passive2:me.talentTem("passive2",[me.fieldsTem("passive2",{fields:[{node:xo.passive2.hydro_dmg_}]})]),passive3:me.talentTem("passive3"),constellation1:me.talentTem("constellation1",[me.condTem("constellation1",{value:Op,path:fE,teamBuff:!0,name:me.ch("hitOp.affectedByOmen"),states:{on:{fields:[{node:YD},{node:ZD},{node:tP},{text:me.ch("frozenDuration"),value:bl.constellation1.frozenExtension*100,unit:"%"},{text:s("duration"),value:bl.constellation1.duration,unit:"s"}]}}})]),constellation2:me.talentTem("constellation2"),constellation3:me.talentTem("constellation3",[{fields:[{node:nP}]}]),constellation4:me.talentTem("constellation4"),constellation5:me.talentTem("constellation5",[{fields:[{node:sP}]}]),constellation6:me.talentTem("constellation6",[me.condTem("constellation6",{value:aP,path:bE,name:me.ch("uponSprint"),states:Object.fromEntries(N(1,3).map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:lP},{text:s("duration"),value:bl.constellation6.duration,unit:"s"}]}]))})])}},yE=new R(_E,vE),Ys="Nahida",oP="dendro",Lh=_.char.data[Ys],Et=_.char.skillParam[Ys],Q=A(Ys,Lh.weaponType);let xc=0,rr=0,Dc=0;const wt={normal:{hitArr:[Et.auto[xc++],Et.auto[xc++],Et.auto[xc++],Et.auto[xc++]]},charged:{dmg:Et.auto[xc++],stamina:Et.auto[xc++][0]},plunging:{dmg:Et.auto[xc++],low:Et.auto[xc++],high:Et.auto[xc++]},skill:{pressDmg:Et.skill[rr++],holdDmg:Et.skill[rr++],karmaAtkDmg:Et.skill[rr++],karmaEleMasDmg:Et.skill[rr++],triggerInterval:Et.skill[rr++][0],duration:Et.skill[rr++][0],pressCd:Et.skill[rr++][0],holdCd:Et.skill[rr++][0]},burst:{dmg_1:Et.burst[Dc++],dmg_2:Et.burst[Dc++],intervalDec_1:Et.burst[Dc++],intervalDec_2:Et.burst[Dc++],durationInc1:Et.burst[Dc++],durationInc2:Et.burst[Dc++],duration:Et.burst[Dc++][0],cd:Et.burst[Dc++][0],energyCost:Et.burst[Dc++][0]},passive1:{eleMas_:Et.passive1[0][0],maxEleMas:Et.passive1[1][0]},passive2:{eleMas_min:Et.passive2[0][0],eleMas_maxCounted:Et.passive2[1][0],eleMas_dmg_:Et.passive2[2][0],eleMas_critRate_:Et.passive2[3][0]},constellation2:{critRate_:Et.constellation2[0],critDMG_:1,defDec_:Et.constellation2[1],duration:Et.constellation2[2]},constellation4:{eleMas:[...Et.constellation4]},constellation6:{atkDmg:Et.constellation6[0],eleMasDmg:Et.constellation6[1],cd:Et.constellation6[2],duration:Et.constellation6[3],triggers:Et.constellation6[4]}},[TE,wd]=h(Ys,"partyInBurst"),Uh=D(dn.pyro,n(a.constellation,1,1)),iP=i(wd,"on",n(Uh,1,Co(Uh,1,$(a.total.burstIndex,wt.burst.dmg_1),$(a.total.burstIndex,wt.burst.dmg_2))),{unit:"%"}),qh=D(dn.electro,n(a.constellation,1,1)),pk=i(wd,"on",n(qh,1,Co(qh,1,$(a.total.burstIndex,wt.burst.intervalDec_1),$(a.total.burstIndex,wt.burst.intervalDec_2))),{unit:"%"}),rf=D(dn.hydro,n(a.constellation,1,1)),kk=i(wd,"on",n(rf,1,Co(rf,1,$(a.total.burstIndex,wt.burst.durationInc1),$(a.total.burstIndex,wt.burst.durationInc2))),{unit:"%"}),[$E,df]=h(Ys,"condA1ActiveInBurst"),cP=n(a.asc,1,i(df,"on",n(D(i(wd,"on",1),z(a.activeCharKey,Ys,1)),1,yl(m(c(wt.passive1.eleMas_),dn.maxEleMas),wt.passive1.maxEleMas))),{...y.info("eleMas"),isTeamBuff:!0}),xE=i(a.activeCharKey,G.charKey,cP),rP=e(n(a.asc,4,yl(m(c(wt.passive2.eleMas_dmg_),Wm(D(a.total.eleMas,-wt.passive2.eleMas_min),0)),c(wt.passive2.eleMas_dmg_*wt.passive2.eleMas_maxCounted))),{unit:"%"}),dP=e(n(a.asc,4,yl(m(c(wt.passive2.eleMas_critRate_),Wm(D(a.total.eleMas,-wt.passive2.eleMas_min),0)),c(wt.passive2.eleMas_critRate_*wt.passive2.eleMas_maxCounted))),{unit:"%"}),Y_={premod:{skill_dmg_:D(rP,iP),skill_critRate_:dP}},[DE,tv]=h(Ys,"c2Bloom"),Lu=n(a.constellation,2,i(tv,"on",c(wt.constellation2.critRate_))),mP={...Lu},uP={...Lu},gP={...Lu},Uu=n(a.constellation,2,i(tv,"on",c(wt.constellation2.critDMG_))),hP={...Uu},pP={...Uu},kP={...Uu},[PE,fP]=h(Ys,"c2QSA"),bP=n(a.constellation,2,i(fP,"on",c(wt.constellation2.defDec_))),[Z_,mf]=h(Ys,"c4Count"),uf=N(1,4),gf=n(a.constellation,4,w(mf,Object.fromEntries(uf.map(t=>[t,$(p(t-1),[...wt.constellation4.eleMas])])),O)),fo={normal:Object.fromEntries(wt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",wt.charged.dmg,"charged")},plunging:E("atk",wt.plunging),skill:{pressDmg:o("atk",wt.skill.pressDmg,"skill"),holdDmg:o("atk",wt.skill.holdDmg,"skill"),karmaDmg:Xi(["atk","eleMas"],[wt.skill.karmaAtkDmg,wt.skill.karmaEleMasDmg],"skill",Y_)},passive2:{a4Karma_dmg_:rP,a4Karma_critRate_:dP},constellation6:{dmg:n(a.constellation,6,F(D(m(c(wt.constellation6.atkDmg),a.total.atk),m(c(wt.constellation6.eleMasDmg),a.total.eleMas)),"skill",Y_))}},vP=n(a.constellation,3,3),_P=n(a.constellation,5,3),CE=B(Ys,oP,"sumeru",Lh,fo,{premod:{skillBoost:vP,burstBoost:_P,eleMas:gf},teamBuff:{premod:{burning_critRate_:Lu,bloom_critRate_:mP,hyperbloom_critRate_:uP,burgeon_critRate_:gP,burning_critDMG_:Uu,bloom_critDMG_:hP,hyperbloom_critDMG_:pP,burgeon_critDMG_:kP,enemyDefRed_:bP},total:{eleMas:xE}}}),SE={key:Ys,name:Q.name,rarity:Lh.rarity,elementKey:oP,weaponTypeKey:Lh.weaponType,gender:"F",constellationName:Q.chg("constellationName"),title:Q.chg("title"),talent:{auto:Q.talentTem("auto",[{text:Q.chg("auto.fields.normal")},{fields:wt.normal.hitArr.map((t,l)=>({node:e(fo.normal[l],{name:Q.chg(`auto.skillParams.${l}`)})}))},{text:Q.chg("auto.fields.charged")},{fields:[{node:e(fo.charged.dmg,{name:Q.chg("auto.skillParams.4")})},{text:Q.chg("auto.skillParams.5"),value:wt.charged.stamina}]},{text:Q.chg("auto.fields.plunging")},{fields:[{node:e(fo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(fo.plunging.low,{name:s("plunging.low")})},{node:e(fo.plunging.high,{name:s("plunging.high")})}]}]),skill:Q.talentTem("skill",[{fields:[{node:e(fo.skill.pressDmg,{name:Q.chg("skill.skillParams.0")})},{node:e(fo.skill.holdDmg,{name:Q.chg("skill.skillParams.1")})},{node:e(fo.skill.karmaDmg,{name:Q.chg("skill.skillParams.2")})},{text:Q.chg("skill.skillParams.3"),value:t=>{const l=+t.get(pk).value.toFixed(2);return l!==0?`${wt.skill.triggerInterval}s - ${l}s = ${wt.skill.triggerInterval-l}`:wt.skill.triggerInterval},unit:"s",fixed:1},{text:Q.chg("skill.skillParams.4"),value:wt.skill.duration,unit:"s"},{text:s("press.cd"),value:wt.skill.pressCd,unit:"s"},{text:s("hold.cd"),value:wt.skill.holdCd,unit:"s"}]},Q.headerTem("burst",{canShow:i(wd,"on",D(Uh,qh)),fields:[{node:e(iP,{name:Q.ch("karmaDmg_")})},{text:Q.ch("karmaIntervalDec"),canShow:t=>t.get(pk).value>0,value:t=>t.get(pk).value,unit:"s",fixed:2}]}),Q.headerTem("passive2",{fields:[{node:e(fo.passive2.a4Karma_dmg_,{name:Q.ch("karmaDmg_")})},{node:e(fo.passive2.a4Karma_critRate_,{name:Q.ch("karmaCritRate_")})}]}),Q.condTem("constellation2",{teamBuff:!0,path:DE,value:tv,name:Q.ch("c2.bloomCondName"),states:{on:{fields:[{node:Lu},{node:Uu},{node:mP},{node:hP},{node:uP},{node:pP},{node:gP},{node:kP}]}}}),Q.condTem("constellation2",{teamBuff:!0,path:PE,value:fP,name:Q.ch("c2.qasCondName"),states:{on:{fields:[{node:bP}]}}}),Q.condTem("constellation4",{teamBuff:!0,path:Z_,value:mf,name:Q.ch("c4CondName"),states:Object.fromEntries(uf.map(t=>[t,{name:d("opponents",{count:t}),fields:[{node:gf}]}]))}),Q.headerTem("constellation6",{fields:[{node:e(fo.constellation6.dmg,{name:Q.ch("c6KarmicDmg")})}]})]),burst:Q.talentTem("burst",[{fields:[{text:s("duration"),value:t=>{const l=+t.get(kk).value.toFixed(2);return l!==0?`${wt.burst.duration}s + ${l}s = ${wt.burst.duration+l}`:wt.burst.duration},unit:"s"},{text:s("cd"),value:wt.burst.cd,unit:"s",fixed:1},{text:s("energyCost"),value:wt.burst.energyCost}]},Q.condTem("burst",{path:TE,value:wd,name:Q.ch("partyInBurst"),states:{on:{fields:[{canShow:t=>t.get(D(Uh,qh,rf)).value<1,text:Q.ch("noBurstEffect")},{canShow:t=>t.get(kk).value!==0,text:d("durationInc"),value:t=>t.get(kk).value,unit:"s",fixed:2}]}}}),Q.condTem("passive1",{canShow:D(i(wd,"on",1),z(a.activeCharKey,Ys,1)),teamBuff:!0,path:$E,value:df,name:d("activeCharField"),states:{on:{fields:[{node:cP}]}}}),Q.headerTem("constellation1",{fields:[{text:Q.ch("c1Key"),value:1}]}),Q.condTem("constellation4",{canShow:z(a.activeCharKey,Ys,i(df,"on",1)),teamBuff:!0,path:Z_,value:mf,name:Q.ch("c4CondName"),states:Object.fromEntries(uf.map(t=>[t,{name:d("opponents",{count:t}),fields:[{node:gf}]}]))})]),passive1:Q.talentTem("passive1"),passive2:Q.talentTem("passive2"),passive3:Q.talentTem("passive3"),constellation1:Q.talentTem("constellation1"),constellation2:Q.talentTem("constellation2"),constellation3:Q.talentTem("constellation3",[{fields:[{node:vP}]}]),constellation4:Q.talentTem("constellation4"),constellation5:Q.talentTem("constellation5",[{fields:[{node:_P}]}]),constellation6:Q.talentTem("constellation6")}},wE=new R(SE,CE),qc="Navia",Ad=_.char.data[qc],wa=_.char.skillParam[qc],_t=A(qc,Ad.weaponType);let jo=0,fm=0,mu=0;const ql={normal:{hitArr:[wa.auto[jo++],wa.auto[jo++],wa.auto[jo++],wa.auto[jo++]]},charged:{cyclicDmg:wa.auto[jo++],finalDmg:wa.auto[jo++],stam:wa.auto[jo++][0],duration:wa.auto[jo++][0]},plunging:{dmg:wa.auto[jo++],low:wa.auto[jo++],high:wa.auto[jo++]},skill:{baseShardDmg:wa.skill[fm++],addlCharge_dmg_:wa.skill[fm++][0],shrapnelDuration:wa.skill[fm++][0],cd:wa.skill[fm++][0],bladeDmg:wa.skill[fm++],bladeInterval:wa.skill[fm++][0]},burst:{skillDmg:wa.burst[mu++],supportDmg:wa.burst[mu++],duration:wa.burst[mu++][0],cd:wa.burst[mu++][0],enerCost:wa.burst[mu++][0]},passive1:{auto_dmg_:wa.passive1[0][0],duration:wa.passive1[1][0]},passive2:{atk_:wa.passive2[0][0]},constellation1:{energyRegen:wa.constellation1[0],cdReduction:wa.constellation1[1]},constellation2:{critRate_:wa.constellation2[0]},constellation4:{geo_enemyRes_:wa.constellation4[0],duration:wa.constellation4[1]},constellation6:{shot_critDMG_:wa.constellation6[0]}},jp=N(1,6),[AE,Gm]=h(qc,"skillCharges"),hf=w(Gm,{1:p(7),2:p(9),3:p(11),4:p(11),5:p(11),6:p(11)},p(5)),BE=N(1,11),IE={1:0,2:.05,3:.1,4:.15,5:.2,6:.36,7:.4,8:.6,9:.66,10:.9,11:1},[RE,yP]=h(qc,"shotsHit"),TP=w(yP,C(BE,t=>n(hf,t,c(IE[t]))),O),pf=w(Gm,C(jp,t=>t>3?p((t-3)*ql.skill.addlCharge_dmg_):void 0),O),[ME,ev]=h(qc,"a1AfterSkill"),HE=Sr(a.asc,1,rn(ev,"on",p("geo"))),av=n(a.asc,1,i(ev,"on",ql.passive1.auto_dmg_)),$P={...av},xP={...av},DP={...av},EE=["pyro","electro","cryo","hydro"],t1=D(...EE.map(t=>dn[t])),PP=n(a.asc,4,br(t1,2,ql.passive2.atk_*2,n(t1,1,ql.passive2.atk_))),CP=n(a.constellation,2,w(Gm,C(jp,t=>c(Math.min(t,3)*ql.constellation2.critRate_)),O)),[KE,SP]=h(qc,"c4AfterBurstHit"),wP=n(a.constellation,4,i(SP,"on",-ql.constellation4.geo_enemyRes_)),kf=n(a.constellation,6,w(Gm,C(jp,t=>t>3?c((t-3)*ql.constellation6.shot_critDMG_):void 0),O)),oi={normal:{...Object.fromEntries(ql.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{cyclicDmg:o("atk",ql.charged.cyclicDmg,"charged"),finalDmg:o("atk",ql.charged.finalDmg,"charged")},plunging:E("atk",ql.plunging),skill:{totalShardDmg:o("atk",ql.skill.baseShardDmg,"skill",{premod:{skill_critRate_:CP,skill_critDMG_:kf}},e(D(TP,St),{name:_t.ch("shot_mult_"),asConst:!0,unit:"%"})),bladeDmg:o("atk",ql.skill.bladeDmg,"skill")},burst:{skillDmg:o("atk",ql.burst.skillDmg,"burst"),supportDmg:o("atk",ql.burst.supportDmg,"burst")}},AP=n(a.constellation,3,3),BP=n(a.constellation,5,3),NE=B(qc,Ad.ele,Ad.region,Ad,oi,{premod:{skillBoost:AP,burstBoost:BP,normal_dmg_:$P,charged_dmg_:xP,plunging_dmg_:DP,atk_:PP,skill_dmg_:pf},infusion:{nonOverridableSelf:HE},teamBuff:{premod:{geo_enemyRes_:wP}}}),FE={key:qc,name:_t.name,rarity:Ad.rarity,elementKey:Ad.ele,weaponTypeKey:Ad.weaponType,gender:"F",constellationName:_t.chg("constellationName"),title:_t.chg("title"),talent:{auto:_t.talentTem("auto",[{text:_t.chg("auto.fields.normal")},{fields:ql.normal.hitArr.map((t,l)=>({node:e(oi.normal[l],{name:_t.chg(`auto.skillParams.${l}`)})}))},{text:_t.chg("auto.fields.charged")},{fields:[{node:e(oi.charged.cyclicDmg,{name:_t.chg("auto.skillParams.4")})},{node:e(oi.charged.finalDmg,{name:_t.chg("auto.skillParams.5")})},{text:_t.chg("auto.skillParams.6"),value:ql.charged.stam,unit:"/s"},{text:_t.chg("auto.skillParams.7"),value:ql.charged.duration,unit:"s"}]},{text:_t.chg("auto.fields.plunging")},{fields:[{node:e(oi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(oi.plunging.low,{name:s("plunging.low")})},{node:e(oi.plunging.high,{name:s("plunging.high")})}]},_t.condTem("passive1",{value:ev,path:ME,name:d("afterUse.skill"),states:{on:{fields:[{text:P(Rp,{color:"geo",children:d("infusion.geo")})},{node:$P},{node:xP},{node:DP},{text:s("duration"),value:ql.passive1.duration,unit:"s"}]}}})]),skill:_t.talentTem("skill",[{fields:[{node:e(oi.skill.totalShardDmg,{name:_t.ch("skillTotalShardDmg")})},{text:_t.chg("skill.skillParams.1"),value:ql.skill.shrapnelDuration,unit:"s"},{node:e(oi.skill.bladeDmg,{name:_t.chg("skill.skillParams.2")})},{text:_t.chg("skill.skillParams.3"),value:ql.skill.bladeInterval,unit:"s"},{text:s("cd"),value:ql.skill.cd,unit:"s"}]},_t.condTem("skill",{value:Gm,path:AE,name:_t.ch("chargesCond"),states:C(jp,t=>({name:`${t}`,fields:[{node:e(hf,{name:_t.ch("shotsFired")})},{canShow:l=>l.get(pf).value>0,node:pf}]}))}),_t.condTem("skill",{value:yP,path:RE,name:_t.ch("shotsHitCond"),states:t=>C(N(1,t.get(hf).value),l=>({name:`${l}`,fields:[{node:e(TP,{name:_t.ch("shot_mult_"),unit:"%"})}]}))}),_t.headerTem("constellation2",{canShow:z(Gm,void 0,1),fields:[{node:e(CP,{name:_t.ch("shot_critRate_"),unit:"%"})}]}),_t.headerTem("constellation6",{canShow:z(kf,O,1),fields:[{node:e(kf,{name:_t.ch("shot_critDMG_"),unit:"%"})}]})]),burst:_t.talentTem("burst",[{fields:[{node:e(oi.burst.skillDmg,{name:_t.chg("burst.skillParams.0")})},{node:e(oi.burst.supportDmg,{name:_t.chg("burst.skillParams.1")})},{text:_t.chg("burst.skillParams.2"),value:ql.burst.duration,unit:"s"},{text:s("cd"),value:ql.burst.cd,unit:"s"},{text:s("energyCost"),value:ql.burst.enerCost}]}]),passive1:_t.talentTem("passive1"),passive2:_t.talentTem("passive2",[{fields:[{node:PP}]}]),passive3:_t.talentTem("passive3"),constellation1:_t.talentTem("constellation1"),constellation2:_t.talentTem("constellation2"),constellation3:_t.talentTem("constellation3",[{fields:[{node:AP}]}]),constellation4:_t.talentTem("constellation4",[_t.condTem("constellation4",{value:SP,path:KE,name:d("hitOp.burst"),teamBuff:!0,states:{on:{fields:[{node:wP}]}}})]),constellation5:_t.talentTem("constellation5",[{fields:[{node:BP}]}]),constellation6:_t.talentTem("constellation6")}},OE=new R(FE,NE),Zd="Neuvillette",Bd=_.char.data[Zd],Aa=_.char.skillParam[Zd],Zt=A(Zd,Bd.weaponType);let Ks=0,uu=0,Dg=0;const on={normal:{hitArr:[Aa.auto[Ks++],Aa.auto[Ks++],Aa.auto[Ks++]]},charged:{dmg:Aa.auto[Ks++],judgmentDmg:Aa.auto[Ks++],stam:Aa.auto[Ks++][0],hpRestore:Aa.auto[Ks++][0],hpCost:Aa.auto[Ks++][0],hpCostInterval:Aa.auto[Ks++][0],hpThresh:Aa.auto[Ks++][0]},plunging:{dmg:Aa.auto[Ks++],low:Aa.auto[Ks++],high:Aa.auto[Ks++]},skill:{skillDmg:Aa.skill[uu++],thornDmg:Aa.skill[uu++],dropletDuration:Aa.skill[uu++][0],cd:Aa.skill[uu++][0],thornInterval:Aa.skill[uu++][0]},burst:{skillDmg:Aa.burst[Dg++],waterfallDmg:Aa.burst[Dg++],cd:Aa.burst[Dg++][0],enerCost:Aa.burst[Dg++][0]},passive1:{dmg_:[0,Aa.passive1[0][0],Aa.passive1[1][0],Aa.passive1[2][0]],duration:Aa.passive1[3][0]},passive2:{hpThresh:Aa.passive2[0][0],idk:Aa.passive2[1][0],hydro_dmg_:Aa.passive2[2][0]/100,maxHydro_dmg_:.3},constellation2:{charged_critDMG_:Aa.constellation2[0]},constellation6:{current_dmg_:Aa.constellation6[0]}},[jE,Vh]=h(Zd,"a1Stacks"),lv=N(1,on.passive1.dmg_.length-1),ff=br(a.asc,1,w(Vh,C(lv,t=>c(1+on.passive1.dmg_[t])),St),St),IP=N(1,50),[GE,RP]=h(Zd,"a4Hp"),MP=n(a.asc,4,w(RP,C(IP,t=>c(t*on.passive2.hydro_dmg_)),O)),bf=n(a.constellation,2,w(Vh,C(lv,t=>c(t*on.constellation2.charged_critDMG_)),O)),Ss={normal:Object.fromEntries(on.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",on.charged.dmg,"charged"),judgmentDmg:o("hp",on.charged.judgmentDmg,"charged",{premod:{charged_critDMG_:bf}},ff),hpRestore:zn("hp",on.charged.hpRestore,0),hpLoss:m(c(on.charged.hpCost),a.total.hp)},plunging:E("atk",on.plunging),skill:{skillDmg:o("hp",on.skill.skillDmg,"skill"),thornDmg:o("atk",on.skill.thornDmg,"skill")},burst:{skillDmg:o("hp",on.burst.skillDmg,"burst"),waterfallDmg:o("hp",on.burst.waterfallDmg,"burst")},constellation6:{currentDmg:n(a.constellation,6,F(m(c(on.constellation6.current_dmg_),a.total.hp,ff),"charged",{premod:{charged_critDMG_:bf}}))}},HP=n(a.constellation,3,3),EP=n(a.constellation,5,3),zE=B(Zd,Bd.ele,Bd.region,Bd,Ss,{premod:{burstBoost:EP,autoBoost:HP,hydro_dmg_:MP}}),WE={key:Zd,name:Zt.name,rarity:Bd.rarity,elementKey:Bd.ele,weaponTypeKey:Bd.weaponType,gender:"M",constellationName:Zt.chg("constellationName"),title:Zt.chg("title"),talent:{auto:Zt.talentTem("auto",[{text:Zt.chg("auto.fields.normal")},{fields:on.normal.hitArr.map((t,l)=>({node:e(Ss.normal[l],{name:Zt.chg(`auto.skillParams.${l}`)})}))},{text:Zt.chg("auto.fields.chargedLegal")},{text:Zt.chg("auto.fields.charged")},{fields:[{node:e(Ss.charged.dmg,{name:Zt.chg("auto.skillParams.3")})},{text:Zt.chg("auto.skillParams.4"),value:on.charged.stam}]},{text:Zt.chg("auto.fields.chargedJudgment")},{fields:[{node:e(Ss.charged.judgmentDmg,{name:Zt.chg("auto.skillParams.5")})},{node:e(Ss.charged.hpRestore,{name:Zt.chg("auto.skillParams.6")})},{node:e(Ss.charged.hpLoss,{name:Zt.chg("auto.skillParams.7")})}]},Zt.condTem("passive1",{value:Vh,path:jE,name:Zt.ch("a1Cond"),states:C(lv,t=>({name:d("stack",{count:t}),fields:[{node:e(ff,{name:Zt.ch("judgmentSpecialMult_")})},{text:s("duration"),value:on.passive1.duration,unit:"s"}]}))}),Zt.headerTem("constellation2",{canShow:n(a.asc,1,z(Vh,void 0,1)),fields:[{node:e(bf,{name:Zt.ch("judgment_critDMG_")})}]}),{text:Zt.chg("auto.fields.plunging")},{fields:[{node:e(Ss.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ss.plunging.low,{name:s("plunging.low")})},{node:e(Ss.plunging.high,{name:s("plunging.high")})}]}]),skill:Zt.talentTem("skill",[{fields:[{node:e(Ss.skill.skillDmg,{name:Zt.chg("skill.skillParams.0")})},{node:e(Ss.skill.thornDmg,{name:Zt.chg("skill.skillParams.1")})},{text:Zt.chg("skill.skillParams.2"),value:on.skill.thornInterval,unit:"s"},{text:Zt.chg("skill.skillParams.3"),value:on.skill.dropletDuration,unit:"s"},{text:s("cd"),value:on.skill.cd,unit:"s"}]}]),burst:Zt.talentTem("burst",[{fields:[{node:e(Ss.burst.skillDmg,{name:Zt.chg("burst.skillParams.0")})},{node:e(Ss.burst.waterfallDmg,{name:Zt.chg("burst.skillParams.1")})},{text:s("cd"),value:on.burst.cd,unit:"s"},{text:s("energyCost"),value:on.burst.enerCost}]}]),passive1:Zt.talentTem("passive1"),passive2:Zt.talentTem("passive2",[Zt.condTem("passive2",{value:RP,path:GE,name:d("percentCurrentHP"),states:C(IP,t=>({name:`${t+30}%`,fields:[{node:MP}]}))})]),passive3:Zt.talentTem("passive3"),constellation1:Zt.talentTem("constellation1"),constellation2:Zt.talentTem("constellation2"),constellation3:Zt.talentTem("constellation3",[{fields:[{node:HP}]}]),constellation4:Zt.talentTem("constellation4"),constellation5:Zt.talentTem("constellation5",[{fields:[{node:EP}]}]),constellation6:Zt.talentTem("constellation6",[{fields:[{node:e(Ss.constellation6.currentDmg,{name:Zt.ch("currentDmg"),multi:2})}]}])}},LE=new R(WE,zE),oc="Nilou",KP="hydro",Jh=_.char.data[oc],Dt=_.char.skillParam[oc],nt=A(oc,Jh.weaponType);let Pc=0,Go=0,Pg=0;const Ct={normal:{hitArr:[Dt.auto[Pc++],Dt.auto[Pc++],Dt.auto[Pc++]]},charged:{hit1:Dt.auto[Pc++],hit2:Dt.auto[Pc++],stamina:Dt.auto[Pc++][0]},plunging:{dmg:Dt.auto[Pc++],low:Dt.auto[Pc++],high:Dt.auto[Pc++]},skill:{skillDmg:Dt.skill[Go++],whirl1Dmg:Dt.skill[Go++],whirl2Dmg:Dt.skill[Go++],illusionDmg:Dt.skill[Go++],wheelDmg:Dt.skill[Go++],dance1Dmg:Dt.skill[Go++],dance2Dmg:Dt.skill[Go++],tranquilityAuraDuration:Dt.skill[Go++][0],cd:Dt.skill[Go++][0],lunarPrayerDuration:Dt.skill[Go++][0],pirouetteDuration:Dt.skill[Go++][0]},burst:{skillDmg:Dt.burst[Pg++],aeonDmg:Dt.burst[Pg++],cd:Dt.burst[Pg++][0],cost:Dt.burst[Pg++][0]},passive1:{bountyDuration:Dt.passive1[0][0],eleMas:Dt.passive1[1][0],buffDuration:Dt.passive1[2][0]},passive2:{dmg_:Dt.passive2[0][0],minHp:-Dt.passive2[1][0],maxDmg_:Dt.passive2[2][0]},constellation1:{illusion_dmg_:Dt.constellation1[0],durationInc:Dt.constellation1[1]},constellation2:{hydro_enemyRes_:-Dt.constellation2[0],dendro_enemyRes_:-Dt.constellation2[1],duration:Dt.constellation2[2]},constellation4:{energyRegen:Dt.constellation4[0],burst_dmg_:Dt.constellation4[1],duration:Dt.constellation4[2]},constellation6:{critRate_:Dt.constellation6[0],critDmg_:Dt.constellation6[1],maxCritRate_:Dt.constellation6[2],maxCritDmg_:Dt.constellation6[3]}},[UE,NP]=h(oc,"a1AfterSkill"),[qE,FP]=h(oc,"a1AfterHit"),vf=n(dn.dendro,1,i(dn.ele,2,1)),Id=n(a.asc,1,i(vf,1,i(NP,"on",1))),OP=i(Id,1,i(FP,"on",Ct.passive1.eleMas)),nv=n(a.asc,4,i(Id,1,yl(m(c(Ct.passive2.dmg_),m(Wm(D(a.total.hp,Ct.passive2.minHp),0),1/1e3)),c(Ct.passive2.maxDmg_)))),VE=n(a.constellation,1,c(Ct.constellation1.illusion_dmg_,{name:nt.ch("c1.illusion_dmg_")})),[JE,jP]=h(oc,"c2Hydro"),[QE,GP]=h(oc,"c2Dendro"),zP=n(a.constellation,2,i(Id,1,i(jP,"hydro",c(Ct.constellation2.hydro_enemyRes_)))),WP=n(a.constellation,2,i(Id,1,i(GP,"dendro",c(Ct.constellation2.dendro_enemyRes_)))),[XE,LP]=h(oc,"c4AfterPirHit"),UP=n(a.constellation,4,i(LP,"on",c(Ct.constellation4.burst_dmg_))),sv=n(a.constellation,6,yl(m(c(Ct.constellation6.critRate_),a.total.hp,1/1e3),c(Ct.constellation6.maxCritRate_))),ov=n(a.constellation,6,yl(m(c(Ct.constellation6.critDmg_),a.total.hp,1/1e3),c(Ct.constellation6.maxCritDmg_))),gs={normal:Object.fromEntries(Ct.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ct.charged.hit1,"charged"),dmg2:o("atk",Ct.charged.hit2,"charged")},plunging:E("atk",Ct.plunging),skill:{skillDmg:o("hp",Ct.skill.skillDmg,"skill"),dance1Dmg:o("hp",Ct.skill.dance1Dmg,"skill"),dance2Dmg:o("hp",Ct.skill.dance2Dmg,"skill"),whirl1Dmg:o("hp",Ct.skill.whirl1Dmg,"skill"),whirl2Dmg:o("hp",Ct.skill.whirl2Dmg,"skill"),moonDmg:o("hp",Ct.skill.illusionDmg,"skill",{premod:{skill_dmg_:VE}}),wheelDmg:o("hp",Ct.skill.wheelDmg,"skill")},burst:{skillDmg:o("hp",Ct.burst.skillDmg,"burst"),aeonDmg:o("hp",Ct.burst.aeonDmg,"burst")},passive2:{bountifulBloom_dmg_:nv},constellation6:{c6_critRate_:sv,c6_critDMG_:ov}},qP=n(a.constellation,3,3),VP=n(a.constellation,5,3),YE=B(oc,KP,"sumeru",Jh,gs,{teamBuff:{premod:{eleMas:OP,bloom_dmg_:nv,hydro_enemyRes_:zP,dendro_enemyRes_:WP}},premod:{skillBoost:VP,burstBoost:qP,burst_dmg_:UP,critRate_:sv,critDMG_:ov}}),ZE={key:oc,name:nt.name,rarity:Jh.rarity,elementKey:KP,weaponTypeKey:Jh.weaponType,gender:"F",constellationName:nt.chg("constellationName"),title:nt.chg("title"),talent:{auto:nt.talentTem("auto",[{text:nt.chg("auto.fields.normal")},{fields:Ct.normal.hitArr.map((t,l)=>({node:e(gs.normal[l],{name:nt.chg(`auto.skillParams.${l}`)})}))},{text:nt.chg("auto.fields.charged")},{fields:[{node:e(gs.charged.dmg1,{name:nt.chg("auto.skillParams.3")}),textSuffix:"(1)"},{node:e(gs.charged.dmg2,{name:nt.chg("auto.skillParams.3")}),textSuffix:"(2)"},{text:nt.chg("auto.skillParams.4"),value:Ct.charged.stamina}]},{text:nt.chg("auto.fields.plunging")},{fields:[{node:e(gs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(gs.plunging.low,{name:s("plunging.low")})},{node:e(gs.plunging.high,{name:s("plunging.high")})}]}]),skill:nt.talentTem("skill",[{fields:[{node:e(gs.skill.skillDmg,{name:nt.chg("skill.skillParams.0")})},{node:e(gs.skill.dance1Dmg,{name:nt.ch("skill.dance1")})},{node:e(gs.skill.whirl1Dmg,{name:nt.ch("skill.whirl1")})},{node:e(gs.skill.dance2Dmg,{name:nt.ch("skill.dance2")})},{node:e(gs.skill.whirl2Dmg,{name:nt.ch("skill.whirl2")})},{node:e(gs.skill.moonDmg,{name:nt.ch("skill.illusion")})},{node:e(gs.skill.wheelDmg,{name:nt.ch("skill.wheel")})},{text:nt.chg("skill.skillParams.4"),value:Ct.skill.pirouetteDuration,unit:"s"},{text:nt.chg("skill.skillParams.5"),value:Ct.skill.lunarPrayerDuration,unit:"s"},{text:nt.chg("skill.skillParams.6"),value:t=>t.get(a.constellation).value>=1?`${Ct.skill.tranquilityAuraDuration}s + ${Ct.constellation1.durationInc}s = ${Ct.skill.tranquilityAuraDuration+Ct.constellation1.durationInc}`:Ct.skill.tranquilityAuraDuration,unit:"s"},{text:s("cd"),value:Ct.skill.cd,unit:"s"}]},nt.condTem("constellation4",{path:XE,value:LP,name:nt.ch("c4.condName"),states:{on:{fields:[{text:s("energyRegen"),value:Ct.constellation4.energyRegen},{node:UP},{text:s("duration"),value:Ct.constellation4.duration,unit:"s"}]}}})]),burst:nt.talentTem("burst",[{fields:[{node:e(gs.burst.skillDmg,{name:nt.chg("burst.skillParams.0")})},{node:e(gs.burst.aeonDmg,{name:nt.chg("burst.skillParams.1")})},{text:s("cd"),value:Ct.burst.cd,unit:"s"},{text:s("energyCost"),value:Ct.burst.cost}]}]),passive1:nt.talentTem("passive1",[nt.fieldsTem("passive1",{teamBuff:!0,canShow:z(vf,1,1),fields:[{text:nt.ch("passive1.notDendroHydroTeam")}]}),nt.condTem("passive1",{path:UE,value:NP,teamBuff:!0,canShow:vf,name:nt.ch("passive1.underChaliceEffect"),states:{on:{fields:[{text:nt.ch("passive1.bountifulCores")}]}}}),nt.condTem("passive1",{path:qE,value:FP,name:nt.ch("passive1.condName"),teamBuff:!0,canShow:Id,states:{on:{fields:[{node:OP},{text:s("duration"),value:Ct.passive1.buffDuration,unit:"s"}]}}}),nt.headerTem("passive2",{canShow:Id,teamBuff:!0,fields:[{node:nv}]}),nt.condTem("constellation2",{teamBuff:!0,canShow:Id,states:{hydro:{path:JE,value:jP,name:d("hitOp.hydro"),fields:[{node:zP},{text:s("effectDuration.hydro"),value:Ct.constellation2.duration,unit:"s"}]},dendro:{path:QE,value:GP,name:d("hitOp.dendro"),fields:[{node:WP},{text:s("effectDuration.dendro"),value:Ct.constellation2.duration,unit:"s"}]}}})]),passive2:nt.talentTem("passive2"),passive3:nt.talentTem("passive3"),constellation1:nt.talentTem("constellation1"),constellation2:nt.talentTem("constellation2"),constellation3:nt.talentTem("constellation3",[{fields:[{node:qP}]}]),constellation4:nt.talentTem("constellation4"),constellation5:nt.talentTem("constellation5",[{fields:[{node:VP}]}]),constellation6:nt.talentTem("constellation6",[{fields:[{node:sv},{node:ov}]}])}},tK=new R(ZE,YE),tm="Ningguang",JP="geo",Qh=_.char.data[tm],ss=_.char.skillParam[tm],Lt=A(tm,Qh.weaponType);let dd=0,Cg=0,fk=0,e1=0;const Js={normal:{hitArr:[ss.auto[dd++]]},charged:{dmg:ss.auto[dd++],jadeDmg:ss.auto[dd++],stamina:ss.auto[dd++][0]},plunging:{dmg:ss.auto[dd++],low:ss.auto[dd++],high:ss.auto[dd++]},skill:{screenHpMod:ss.skill[Cg++],skillDmg:ss.skill[Cg++],screenHp:ss.skill[Cg++],cd:ss.skill[Cg++][0]},burst:{dmgPerGem:ss.burst[fk++],cd:ss.burst[fk++][0],enerCost:ss.burst[fk++][0]},passive2:{geoDmgBonus_:ss.passive2[e1++][0],duration:ss.passive2[e1++][0]}},[eK,QP]=h(tm,"Ascension4"),[aK,XP]=h(tm,"Constellation4"),YP=n(a.asc,4,i(QP,"on",c(Js.passive2.geoDmgBonus_))),ZP=Object.fromEntries(jf.map(t=>[`${t}_res_`,n(a.constellation,4,i(XP,"on",c(.1)))])),Ui={normal:Object.fromEntries(Js.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{baseDmg:o("atk",Js.charged.dmg,"charged"),jadeDmg:o("atk",Js.charged.jadeDmg,"charged")},plunging:E("atk",Js.plunging),skill:{screenHp:m($(a.total.skillIndex,Js.skill.screenHp,{unit:"%"}),a.total.hp),dmg:o("atk",Js.skill.skillDmg,"skill")},burst:{gemDmg:o("atk",Js.burst.dmgPerGem,"burst")}},t4=n(a.constellation,3,3),e4=n(a.constellation,5,3),lK=B(tm,JP,"liyue",Qh,Ui,{premod:{skillBoost:e4,burstBoost:t4},teamBuff:{premod:{geo_dmg_:YP,...ZP}}}),nK={key:tm,name:Lt.name,rarity:Qh.rarity,elementKey:JP,weaponTypeKey:Qh.weaponType,gender:"F",constellationName:Lt.chg("constellationName"),title:Lt.chg("title"),talent:{auto:Lt.talentTem("auto",[{text:Lt.chg("auto.fields.normal")},{fields:[{node:e(Ui.normal[0],{name:Lt.chg("auto.skillParams.0")})}]},Lt.headerTem("constellation1",{fields:[{text:Lt.ch("aoeGems")}]}),{text:Lt.chg("auto.fields.charged")},{fields:[{node:e(Ui.charged.baseDmg,{name:Lt.chg("auto.skillParams.1")})},{node:e(Ui.charged.jadeDmg,{name:Lt.chg("auto.skillParams.2")})},{text:Lt.chg("auto.skillParams.3"),value:Js.charged.stamina}]},Lt.headerTem("passive1",{fields:[{text:Lt.ch("starJadeStaminaCost")}]}),{text:Lt.chg("auto.fields.plunging")},{fields:[{node:e(Ui.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ui.plunging.low,{name:s("plunging.low")})},{node:e(Ui.plunging.high,{name:s("plunging.high")})}]}]),skill:Lt.talentTem("skill",[{fields:[{node:e(Ui.skill.screenHp,{name:Lt.chg("skill.skillParams.0")})},{node:e(Ui.skill.dmg,{name:Lt.chg("skill.skillParams.1")})},{text:Lt.chg("skill.skillParams.2"),value:Js.burst.cd,unit:"s"}]},Lt.headerTem("constellation2",{fields:[{text:Lt.ch("skillReset")}]}),Lt.condTem("passive2",{teamBuff:!0,value:QP,path:eK,name:Lt.ch("a4toggle"),states:{on:{fields:[{node:YP},{text:s("duration"),value:Js.passive2.duration,unit:"s"}]}}}),Lt.condTem("constellation4",{teamBuff:!0,value:XP,path:aK,name:Lt.ch("c4toggle"),states:{on:{fields:Object.values(ZP).map(t=>({node:t}))}}})]),burst:Lt.talentTem("burst",[{fields:[{node:e(Ui.burst.gemDmg,{name:Lt.chg("burst.skillParams.0")})},{text:Lt.chg("burst.skillParams.1"),value:Js.burst.cd,unit:"s"},{text:Lt.chg("burst.skillParams.2"),value:Js.burst.enerCost}]},Lt.headerTem("constellation6",{fields:[{text:Lt.ch("c6bonus"),value:7}]})]),passive1:Lt.talentTem("passive1"),passive2:Lt.talentTem("passive2"),passive3:Lt.talentTem("passive3"),constellation1:Lt.talentTem("constellation1"),constellation2:Lt.talentTem("constellation2"),constellation3:Lt.talentTem("constellation3",[{fields:[{node:t4}]}]),constellation4:Lt.talentTem("constellation4"),constellation5:Lt.talentTem("constellation5",[{fields:[{node:e4}]}]),constellation6:Lt.talentTem("constellation6")}},sK=new R(nK,lK),qm="Noelle",a4="geo",Xh=_.char.data[qm],oa=_.char.skillParam[qm],V=A(qm,Xh.weaponType);let zo=0,dr=0,bm=0,Sg=0;const Ja={normal:{hitArr:[oa.auto[zo++],oa.auto[zo++],oa.auto[zo++],oa.auto[zo++]]},charged:{spinningDmg:oa.auto[zo++],finalDmg:oa.auto[zo++],stamina:oa.auto[zo++][0],duration:oa.auto[zo++][0]},plunging:{dmg:oa.auto[zo++],low:oa.auto[zo++],high:oa.auto[zo++]},skill:{shieldDef:oa.skill[dr++],healDef:oa.skill[dr++],healChance:oa.skill[dr++],shieldDuration:oa.skill[dr++][0],cd:oa.skill[dr++][0],skillDmg:oa.skill[dr++],shieldFlat:oa.skill[dr++],healFlat:oa.skill[dr++]},burst:{burstDmg:oa.burst[bm++],skillDmg:oa.burst[bm++],defToAtk:oa.burst[bm++],duration:oa.burst[bm++][0],cd:oa.burst[bm++][0],enerCost:oa.burst[bm++][0]},passive1:{hpThreshold:oa.passive1[Sg++][0],shield:oa.passive1[Sg++][0],duration:oa.passive1[Sg++][0],cooldown:oa.passive1[Sg++][0]},constellation1:{healingChance:oa.constellation1[0]},constellation2:{chargeStamina:oa.constellation2[0],chargeDmg_:oa.constellation2[1]},constellation4:{skillDmg:oa.constellation4[0]},constellation6:{burstAtkBonus:oa.constellation6[0]}},[oK,zm]=h(qm,"SweepingTime"),iK=rn(zm,"on","geo"),iv=i("on",zm,m(a.total.def,D($(a.total.burstIndex,Ja.burst.defToAtk,{unit:"%"}),n(a.constellation,6,c(Ja.constellation6.burstAtkBonus))))),l4=$(a.total.skillIndex,Ja.skill.healChance,{name:V.chg("skill.skillParams.3"),unit:"%"}),cK=i("on",zm,c(Ja.constellation1.healingChance),{name:V.chg("skill.skillParams.3"),unit:"%"}),rK=z("on",zm,l4),n4=n(a.constellation,2,c(Ja.constellation2.chargeDmg_)),s4=n(a.constellation,2,c(-Ja.constellation2.chargeStamina)),o4=n(a.constellation,4,F(m(a.total.atk,c(Ja.constellation4.skillDmg)),"elemental",{hit:{ele:p(a4)}})),Gs={normal:Object.fromEntries(Ja.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Ja.charged.spinningDmg,"charged"),finalDmg:o("atk",Ja.charged.finalDmg,"charged")},plunging:E("atk",Ja.plunging),skill:{dmg:o("def",Ja.skill.skillDmg,"skill"),shield:tn("geo",Cn("def",Ja.skill.shieldDef,Ja.skill.shieldFlat,"skill")),heal:cl("def",Ja.skill.healDef,Ja.skill.healFlat,"skill")},burst:{defConv:iv,burstDmg:o("atk",Ja.burst.burstDmg,"burst"),skillDmg:o("atk",Ja.burst.skillDmg,"burst")},passive1:{devotionShield:n(a.asc,1,tn("geo",Hu("def",c(Ja.passive1.shield),0)))},constellation4:{dmg:o4}},i4=n(a.constellation,3,3),c4=n(a.constellation,5,3),dK=B(qm,a4,"mondstadt",Xh,Gs,{premod:{skillBoost:i4,burstBoost:c4,charged_dmg_:n4,atk:iv,staminaChargedDec_:s4},infusion:{nonOverridableSelf:iK}}),mK={key:qm,name:V.name,rarity:Xh.rarity,elementKey:"geo",weaponTypeKey:Xh.weaponType,gender:"F",constellationName:V.chg("constellationName"),title:V.chg("title"),talent:{auto:V.talentTem("auto",[{text:V.chg("auto.fields.normal")},{fields:Ja.normal.hitArr.map((t,l)=>({node:e(Gs.normal[l],{name:V.chg(`auto.skillParams.${l}`)})}))},{text:V.chg("auto.fields.charged")},{fields:[{node:e(Gs.charged.spinningDmg,{name:V.chg("auto.skillParams.4")})},{node:e(Gs.charged.finalDmg,{name:V.chg("auto.skillParams.5")})},{text:V.chg("auto.skillParams.6"),value:Ja.charged.stamina,unit:"/s"},{text:V.chg("auto.skillParams.7"),value:Ja.charged.duration,unit:"s"}]},{text:V.chg("auto.fields.plunging")},{fields:[{node:e(Gs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Gs.plunging.low,{name:s("plunging.low")})},{node:e(Gs.plunging.high,{name:s("plunging.high")})}]}]),skill:V.talentTem("skill",[{fields:[{node:e(Gs.skill.dmg,{name:V.chg("skill.skillParams.0")})},{node:e(Gs.skill.shield,{name:V.chg("skill.skillParams.1")})},{node:e(Gs.skill.heal,{name:V.chg("skill.skillParams.2")})},{canShow:t=>t.get(a.constellation).value===0,node:l4},{canShow:t=>t.get(a.constellation).value>=1,node:rK},{canShow:t=>t.get(a.constellation).value>=1,node:cK},{text:V.chg("skill.skillParams.4"),value:Ja.skill.shieldDuration,unit:"s"},{canShow:t=>t.get(a.asc).value<4,text:V.chg("skill.skillParams.5"),value:Ja.skill.cd,unit:"s"},{canShow:t=>t.get(a.asc).value>=4,text:V.chg("skill.skillParams.5"),value:V.ch("p4cd")}]}]),burst:V.talentTem("burst",[{fields:[{node:e(Gs.burst.burstDmg,{name:V.chg("burst.skillParams.0")})},{node:e(Gs.burst.skillDmg,{name:V.chg("burst.skillParams.1")})},{canShow:t=>t.get(a.constellation).value<6,text:V.chg("burst.skillParams.3"),value:Ja.burst.duration,unit:"s"},{canShow:t=>t.get(a.constellation).value>=6,text:V.chg("burst.skillParams.3"),value:V.ch("c6duration")},{text:V.chg("burst.skillParams.4"),value:Ja.burst.cd},{text:V.chg("burst.skillParams.5"),value:Ja.burst.enerCost}]},V.condTem("burst",{name:V.chg("burst.name"),value:zm,path:oK,states:{on:{fields:[{text:d("infusion.geo"),variant:"geo"},{text:d("attackAoeInc")},{node:iv}]}}}),V.headerTem("constellation6",{canShow:i(zm,"on",1),fields:[{text:d("bonusScaling.atkInc"),value:d("bonusScaling.value",{value:Ja.constellation6.burstAtkBonus*100}),unit:s("stat.def")}]})]),passive1:V.talentTem("passive1",[V.fieldsTem("passive1",{fields:[{node:e(Gs.passive1.devotionShield,{name:V.chg("skill.skillParams.1")})},{text:V.chg("skill.skillParams.4"),value:Ja.passive1.duration,unit:"s"},{text:V.chg("skill.skillParams.5"),value:Ja.passive1.cooldown,unit:"s"}]})]),passive2:V.talentTem("passive2"),passive3:V.talentTem("passive3"),constellation1:V.talentTem("constellation1"),constellation2:V.talentTem("constellation2",[V.fieldsTem("constellation2",{fields:[{node:s4},{node:n4}]})]),constellation3:V.talentTem("constellation3",[{fields:[{node:i4}]}]),constellation4:V.talentTem("constellation4",[V.fieldsTem("constellation4",{fields:[{node:e(o4,{name:V.ch("c4dmg")})}]})]),constellation5:V.talentTem("constellation5",[{fields:[{node:c4}]}]),constellation6:V.talentTem("constellation6")}},uK=new R(mK,dK),em="Qiqi",r4="cryo",Yh=_.char.data[em],Ql=_.char.skillParam[em],Ue=A(em,Yh.weaponType);let Hi=0,mr=0,vm=0;const Nn={normal:{hitArr:[Ql.auto[Hi++],Ql.auto[Hi++],Ql.auto[Hi++],Ql.auto[Hi++],Ql.auto[Hi++]]},charged:{dmg:Ql.auto[Hi++],stamina:Ql.auto[Hi++][0]},plunging:{dmg:Ql.auto[Hi++],low:Ql.auto[Hi++],high:Ql.auto[Hi++]},skill:{hitRegenPercent:Ql.skill[mr++],hitRegenFlat:Ql.skill[mr++],contRegenPercent:Ql.skill[mr++],contRegenFlat:Ql.skill[mr++],tickDmg:Ql.skill[mr++],duration:Ql.skill[mr++][0],cd:Ql.skill[mr++][0],castDmg:Ql.skill[mr++]},burst:{healPercent:Ql.burst[vm++],healFlat:Ql.burst[vm++],dmg:Ql.burst[vm++],duration:Ql.burst[vm++][0],cd:Ql.burst[vm++][0],cost:Ql.burst[vm++][0]}},[gK,d4]=h(em,"QiqiA1"),[hK,cv]=h(em,"QiqiC2"),m4=n(a.asc,1,i(d4,"on",.2,y.info("incHeal_"))),pK=i(a.activeCharKey,G.charKey,m4),u4=i(cv,"on",n(a.constellation,2,.15)),g4=i(cv,"on",n(a.constellation,2,.15)),bo={normal:Object.fromEntries(Nn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Nn.charged.dmg,"charged")},plunging:E("atk",Nn.plunging),skill:{castDmg:o("atk",Nn.skill.castDmg,"skill"),tickDmg:o("atk",Nn.skill.tickDmg,"skill"),hitRegen:cl("atk",Nn.skill.hitRegenPercent,Nn.skill.hitRegenFlat,"skill"),contRegen:cl("atk",Nn.skill.contRegenPercent,Nn.skill.contRegenFlat,"skill")},burst:{dmg:o("atk",Nn.burst.dmg,"burst"),heal:cl("atk",Nn.burst.healPercent,Nn.burst.healFlat,"burst")}},h4=n(a.constellation,3,3),p4=n(a.constellation,5,3),kK=B(em,r4,"liyue",Yh,bo,{premod:{burstBoost:h4,skillBoost:p4,normal_dmg_:g4,charged_dmg_:u4},teamBuff:{premod:{incHeal_:pK}}}),fK={key:em,name:Ue.name,rarity:Yh.rarity,elementKey:r4,weaponTypeKey:Yh.weaponType,gender:"F",constellationName:Ue.chg("constellationName"),title:Ue.chg("title"),talent:{auto:Ue.talentTem("auto",[{text:Ue.chg("auto.fields.normal")},{fields:Nn.normal.hitArr.map((t,l)=>({node:e(bo.normal[l],{name:Ue.chg(`auto.skillParams.${l}`),multi:l===2||l===3?2:void 0})}))},{text:Ue.chg("auto.fields.charged")},{fields:[{node:e(bo.charged.dmg,{name:Ue.chg("auto.skillParams.5"),multi:2})},{text:Ue.chg("auto.skillParams.6"),value:Nn.charged.stamina}]},{text:Ue.chg("auto.fields.plunging")},{fields:[{node:e(bo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(bo.plunging.low,{name:s("plunging.low")})},{node:e(bo.plunging.high,{name:s("plunging.high")})}]}]),skill:Ue.talentTem("skill",[{fields:[{node:e(bo.skill.castDmg,{name:Ue.chg("skill.skillParams.0")})},{node:e(bo.skill.hitRegen,{name:Ue.chg("skill.skillParams.1")})},{node:e(bo.skill.contRegen,{name:Ue.chg("skill.skillParams.2")})},{node:e(bo.skill.tickDmg,{name:Ue.chg("skill.skillParams.3")})},{text:Ue.chg("skill.skillParams.4"),value:Nn.skill.duration,unit:"s"},{text:Ue.chg("skill.skillParams.5"),value:Nn.skill.cd,unit:"s"}]}]),burst:Ue.talentTem("burst",[{fields:[{node:e(bo.burst.dmg,{name:Ue.chg("burst.skillParams.0")})},{node:e(bo.burst.heal,{name:Ue.chg("burst.skillParams.1")})},{text:Ue.chg("burst.skillParams.2"),value:Nn.skill.duration,unit:"s"},{text:Ue.chg("burst.skillParams.3"),value:Nn.skill.cd,unit:"s"},{text:Ue.chg("burst.skillParams.4"),value:Nn.burst.cost}]}]),passive1:Ue.talentTem("passive1",[Ue.condTem("passive1",{teamBuff:!0,name:Ue.ch("a1C"),value:d4,path:gK,states:{on:{fields:[{node:m4},{text:s("duration"),value:8,unit:"s"}]}}})]),passive2:Ue.talentTem("passive2"),passive3:Ue.talentTem("passive3"),constellation1:Ue.talentTem("constellation1"),constellation2:Ue.talentTem("constellation2",[Ue.condTem("constellation2",{value:cv,path:hK,name:d("enemyAffected.cryo"),states:{on:{fields:[{node:g4},{node:u4}]}}})]),constellation3:Ue.talentTem("constellation3",[{fields:[{node:h4}]}]),constellation4:Ue.talentTem("constellation4"),constellation5:Ue.talentTem("constellation5",[{fields:[{node:p4}]}]),constellation6:Ue.talentTem("constellation6")}},bK=new R(fK,kK),hi="RaidenShogun",Zh=_.char.data[hi],Pt=_.char.skillParam[hi],j=A(hi,Zh.weaponType);let Wo=0,gu=0,Sn=0,bk=0;const be={normal:{hitArr:[Pt.auto[Wo++],Pt.auto[Wo++],Pt.auto[Wo++],Pt.auto[Wo++],Pt.auto[Wo++],Pt.auto[Wo++]]},charged:{dmg:Pt.auto[Wo++],stamina:Pt.auto[Wo++][0]},plunging:{dmg:Pt.auto[Wo++],low:Pt.auto[Wo++],high:Pt.auto[Wo++]},skill:{skillDmg:Pt.skill[gu++],coorDmg:Pt.skill[gu++],duration:Pt.skill[gu++][0],burstDmg_bonus:Pt.skill[gu++],cd:Pt.skill[gu++][0]},burst:{dmg:Pt.burst[Sn++],resolveBonus1:Pt.burst[Sn++],resolveBonus2:Pt.burst[Sn++],resolveGained:Pt.burst[Sn++],hit1:Pt.burst[Sn++],hit2:Pt.burst[Sn++],hit3:Pt.burst[Sn++],hit41:Pt.burst[Sn++],hit42:Pt.burst[Sn++],hit5:Pt.burst[Sn++],charged1:Pt.burst[Sn++],charged2:Pt.burst[Sn++],stam:Pt.burst[Sn++][0],plunge:Pt.burst[Sn++],plungeLow:Pt.burst[Sn++],plungeHigh:Pt.burst[Sn++],enerGen:Pt.burst[Sn++],duration:Pt.burst[Sn++][0],cd:Pt.burst[Sn++][0],enerCost:Pt.burst[Sn++][0]},passive2:{er:Pt.passive2[bk++][0],energyGen:Pt.passive2[bk++][0],electroDmg_bonus:Pt.passive2[bk++][0]},constellation2:{def_ignore:Pt.constellation2[0]},constellation4:{atk_bonus:Pt.constellation4[0],duration:Pt.constellation4[1]}},[vK,k4]=h(hi,"skillEye"),rv=i("skillEye",k4,m(p(be.burst.enerCost,{name:d("energy")}),$(a.total.skillIndex,be.skill.burstDmg_bonus,{fixed:2,unit:"%"}))),[_K,_f]=h(hi,"InBurst"),f4=n(a.constellation,2,i(_f,"on",be.constellation2.def_ignore));function a1(t){return o("atk",t,"skill")}const b4=[40,50,60,70,80,90],[yK,v4]=h(hi,"skillEyeTeam"),_4=e(m(w(v4,C(b4,t=>p(t,{name:d("energy")})),0),$(a.total.skillIndex,be.skill.burstDmg_bonus,{fixed:2,unit:"%"})),{...y.info("burst_dmg_"),isTeamBuff:!0}),TK=z(hi,G.charKey,_4),y4=[10,20,30,40,50,60],[$K,T4]=h(hi,"burstResolve"),$4=w(T4,C(y4,t=>p(t)),0,{name:j.ch("burst.resolves")}),x4=m($(a.total.burstIndex,be.burst.resolveBonus1,{name:j.ch("burst.resolveInitial_"),unit:"%"}),$4),D4=m($(a.total.burstIndex,be.burst.resolveBonus2,{name:j.ch("burst.resolveInfused_"),unit:"%"}),$4);function oo(t,l=!1){const r=l?x4:D4;return F(m(D($(a.total.burstIndex,t,{unit:"%"}),r),a.total.atk),"burst",{hit:{ele:p("electro")}})}const l1=e(n(a.asc,4,m(D(a.total.enerRech_,c(-be.passive2.er)),c(be.passive2.energyGen),100)),{name:j.ch("a4.enerRest"),unit:"%"}),[xK,P4]=h(hi,"c4"),C4=n(a.constellation,4,i("c4",P4,z(a.activeCharKey,G.charKey,be.constellation4.atk_bonus))),Xl={normal:Object.fromEntries(be.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",be.charged.dmg,"charged")},plunging:E("atk",be.plunging),skill:{dmg:a1(be.skill.skillDmg),coorDmg:a1(be.skill.coorDmg),skillEye_:rv},burst:{dmg:oo(be.burst.dmg,!0),hit1:oo(be.burst.hit1),hit2:oo(be.burst.hit2),hit3:oo(be.burst.hit3),hit41:oo(be.burst.hit41),hit42:oo(be.burst.hit42),hit5:oo(be.burst.hit5),charged1:oo(be.burst.charged1),charged2:oo(be.burst.charged2),plunge:oo(be.burst.plunge),plungeLow:oo(be.burst.plungeLow),plungeHigh:oo(be.burst.plungeHigh),energyGen:m($(a.total.burstIndex,be.burst.enerGen),D(St,l1))},passive2:{passive2ElecDmgBonus:n(a.asc,4,m(D(a.premod.enerRech_,c(-be.passive2.er)),c(be.passive2.electroDmg_bonus),100)),energyRestore:l1}},S4=n(a.constellation,3,3),w4=n(a.constellation,5,3),DK=B(hi,"electro","inazuma",Zh,Xl,{premod:{skillBoost:w4,burstBoost:S4,burst_dmg_:rv,electro_dmg_:Xl.passive2.passive2ElecDmgBonus},teamBuff:{premod:{atk_:C4,burst_dmg_:TK}},enemy:{defIgn:f4}}),PK={key:hi,name:j.name,rarity:Zh.rarity,elementKey:"electro",weaponTypeKey:Zh.weaponType,gender:"F",constellationName:j.chg("constellationName"),title:j.chg("title"),talent:{auto:j.talentTem("auto",[{text:j.chg("auto.fields.normal")},{fields:be.normal.hitArr.map((t,l)=>({node:e(Xl.normal[l],{name:j.chg(`auto.skillParams.${l+(l<4?0:-1)}`),textSuffix:l===3?"(1)":l===4?"(2)":""})}))},{text:j.chg("auto.fields.charged")},{fields:[{node:e(Xl.charged.dmg,{name:j.chg("auto.skillParams.5")})},{text:j.chg("auto.skillParams.6"),value:be.charged.stamina}]},{text:j.chg("auto.fields.plunging")},{fields:[{node:e(Xl.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Xl.plunging.low,{name:s("plunging.low")})},{node:e(Xl.plunging.high,{name:s("plunging.high")})}]}]),skill:j.talentTem("skill",[{fields:[{node:e(Xl.skill.dmg,{name:j.chg("skill.skillParams.0")})},{node:e(Xl.skill.coorDmg,{name:j.chg("skill.skillParams.1")})},{text:j.chg("skill.skillParams.2"),value:be.skill.duration,unit:"s"},{text:j.chg("skill.skillParams.4"),value:be.skill.cd,unit:"s"}]},j.condTem("skill",{value:k4,path:vK,name:j.ch("skill.eye"),states:{skillEye:{fields:[{node:rv}]}}}),j.condTem("skill",{value:v4,path:yK,teamBuff:!0,name:j.ch("skill.partyCost"),states:Object.fromEntries(b4.map(t=>[t,{name:`${t}`,fields:[{node:_4}]}]))})]),burst:j.talentTem("burst",[{fields:[{node:e(Xl.burst.dmg,{name:j.ch("burst.burstDmg")})},{node:e(Xl.burst.hit1,{name:j.chg("burst.skillParams.3")})},{node:e(Xl.burst.hit2,{name:j.chg("burst.skillParams.4")})},{node:e(Xl.burst.hit3,{name:j.chg("burst.skillParams.5")})},{node:e(Xl.burst.hit41,{name:j.chg("burst.skillParams.6"),textSuffix:"(1)"})},{node:e(Xl.burst.hit42,{name:j.chg("burst.skillParams.6"),textSuffix:"(2)"})},{node:e(Xl.burst.hit5,{name:j.chg("burst.skillParams.7")})},{node:e(Xl.burst.charged1,{name:j.chg("burst.skillParams.8"),textSuffix:"(1)"})},{node:e(Xl.burst.charged2,{name:j.chg("burst.skillParams.8"),textSuffix:"(2)"})},{text:j.chg("burst.skillParams.9"),value:be.burst.stam},{node:e(Xl.burst.plunge,{name:j.chg("burst.skillParams.10")})},{node:e(Xl.burst.plungeLow,{name:s("plunging.low")})},{node:e(Xl.burst.plungeHigh,{name:s("plunging.high")})},{node:e(Xl.burst.energyGen,{name:j.chg("burst.skillParams.12")})},{text:j.chg("burst.skillParams.13"),value:be.burst.duration,unit:"s"},{text:j.chg("burst.skillParams.14"),value:be.burst.cd,unit:"s"},{text:j.chg("burst.skillParams.15"),value:be.burst.enerCost}]},j.condTem("burst",{value:T4,path:$K,name:j.ch("burst.resolves"),states:Object.fromEntries(y4.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:e(x4,{name:j.ch("burst.resolveInitial_"),unit:"%"})},{node:e(D4,{name:j.ch("burst.resolveInfused_"),unit:"%"})}]}]))}),j.condTem("burst",{value:_f,path:_K,name:j.ch("burst.active"),states:{on:{fields:[{text:d("infusion.electro"),variant:"electro"},{text:d("incInterRes")},{text:d("immuneToElectroCharged")}]}}}),j.headerTem("constellation2",{canShow:i(_f,"on",1),fields:[{node:f4}]})]),passive1:j.talentTem("passive1"),passive2:j.talentTem("passive2",[j.fieldsTem("passive2",{fields:[{node:Xl.passive2.energyRestore},{node:Xl.passive2.passive2ElecDmgBonus}]})]),passive3:j.talentTem("passive3"),constellation1:j.talentTem("constellation1"),constellation2:j.talentTem("constellation2"),constellation3:j.talentTem("constellation3",[{fields:[{node:S4}]}]),constellation4:j.talentTem("constellation4",[j.condTem("constellation4",{value:P4,path:xK,teamBuff:!0,canShow:z(a.activeCharKey,G.charKey,1),name:j.ch("c4.expires"),states:{c4:{fields:[{node:C4},{text:j.chg("skill.skillParams.2"),value:be.constellation4.duration,unit:"s"}]}}})]),constellation5:j.talentTem("constellation5",[{fields:[{node:w4}]}]),constellation6:j.talentTem("constellation6")}},CK=new R(PK,DK),pi="Razor",dv="electro",SK="mondstadt",tp=_.char.data[pi],Gl=_.char.skillParam[pi],X=A(pi,tp.weaponType);let Lo=0,md=0,ud=0;const ct={normal:{hitArr:[Gl.auto[Lo++],Gl.auto[Lo++],Gl.auto[Lo++],Gl.auto[Lo++]]},charged:{spinningDmg:Gl.auto[Lo++],finalDmg:Gl.auto[Lo++],stamina:Gl.auto[Lo++][0],duration:Gl.auto[Lo++][0]},plunging:{dmg:Gl.auto[Lo++],low:Gl.auto[Lo++],high:Gl.auto[Lo++]},skill:{press:Gl.skill[md++],hold:Gl.skill[md++],erBonus:Gl.skill[md++][0],enerRegen:Gl.skill[md++][0],duration:Gl.skill[md++][0],pressCd:Gl.skill[md++][0],holdCd:Gl.skill[md++][0]},burst:{dmg:Gl.burst[ud++],companionDmg:Gl.burst[ud++],atkSpdBonus:Gl.burst[ud++],electroResBonus:Gl.burst[ud++][0],duration:Gl.burst[ud++][0],cd:Gl.burst[ud++][0],enerCost:Gl.burst[ud++][0]},passive1:{cdRed:.18},passive2:{enerThreshold:.5,erInc:.3},passive3:{sprintStaminaDec:.2},constellation1:{allDmgInc:.1,duration:8},constellation2:{hpThreshold:.3,critRateInc:.1},constellation4:{defDec:.15,duration:7},constellation6:{dmg:1,electroSigilGenerated:1,cd:10}},[wK,A4]=h(pi,"ElectroSigil"),[AK,mv]=h(pi,"TheWolfWithin"),[BK,B4]=h(pi,"A4"),[IK,I4]=h(pi,"C1"),[RK,R4]=h(pi,"C2"),[MK,M4]=h(pi,"C4"),H4=w(A4,C(N(1,3),t=>m(t,c(ct.skill.erBonus))),O,y.info("enerRech_")),E4=i("on",mv,c(ct.burst.electroResBonus)),K4=i("on",mv,$(a.total.burstIndex,ct.burst.atkSpdBonus,{unit:"%"})),N4=n(a.asc,4,i("on",B4,c(ct.passive2.erInc,y.info("enerRech_")))),F4=n(a.constellation,1,i("on",I4,c(ct.constellation1.allDmgInc))),O4=n(a.constellation,2,i("on",R4,c(ct.constellation2.critRateInc))),j4=n(a.constellation,4,i("on",M4,c(ct.constellation4.defDec))),_s={normal:Object.fromEntries(ct.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",ct.charged.spinningDmg,"charged"),finalDmg:o("atk",ct.charged.finalDmg,"charged")},plunging:E("atk",ct.plunging),skill:{press:o("atk",ct.skill.press,"skill"),hold:o("atk",ct.skill.hold,"skill")},burst:{dmg:o("atk",ct.burst.dmg,"burst"),companionDmg1:F(m(m($(a.total.autoIndex,ct.normal.hitArr[0]),$(a.total.burstIndex,ct.burst.companionDmg)),a.total.atk),"burst"),companionDmg2:F(m(m($(a.total.autoIndex,ct.normal.hitArr[1]),$(a.total.burstIndex,ct.burst.companionDmg)),a.total.atk),"burst"),companionDmg3:F(m(m($(a.total.autoIndex,ct.normal.hitArr[2]),$(a.total.burstIndex,ct.burst.companionDmg)),a.total.atk),"burst"),companionDmg4:F(m(m($(a.total.autoIndex,ct.normal.hitArr[3]),$(a.total.burstIndex,ct.burst.companionDmg)),a.total.atk),"burst")},constellation6:{dmg:n(a.constellation,6,F(m(c(ct.constellation6.dmg),a.total.atk),"elemental",{hit:{ele:p(dv)}}))}},G4=n(a.constellation,3,3),z4=n(a.constellation,5,3),HK=B(pi,dv,SK,tp,_s,{premod:{skillBoost:z4,burstBoost:G4,enerRech_:D(H4,N4),electro_res_:E4,atkSPD_:K4,all_dmg_:F4,critRate_:O4},teamBuff:{premod:{enemyDefRed_:j4}}}),EK={key:pi,name:X.name,rarity:tp.rarity,elementKey:dv,weaponTypeKey:tp.weaponType,gender:"M",constellationName:X.chg("constellationName"),title:X.chg("title"),talent:{auto:X.talentTem("auto",[{text:X.chg("auto.fields.normal")},{fields:ct.normal.hitArr.map((t,l)=>({node:e(_s.normal[l],{name:X.chg(`auto.skillParams.${l}`)})}))},{text:X.chg("auto.fields.charged")},{fields:[{node:e(_s.charged.spinningDmg,{name:X.chg("auto.skillParams.4")})},{node:e(_s.charged.finalDmg,{name:X.chg("auto.skillParams.5")})},{text:X.chg("auto.skillParams.6"),value:ct.charged.stamina,unit:"/s"},{text:X.chg("auto.skillParams.7"),value:ct.charged.duration,unit:"s"}]},{text:X.chg("auto.fields.plunging")},{fields:[{node:e(_s.plunging.dmg,{name:s("plunging.dmg")})},{node:e(_s.plunging.low,{name:s("plunging.low")})},{node:e(_s.plunging.high,{name:s("plunging.high")})}]}]),skill:X.talentTem("skill",[{fields:[{node:e(_s.skill.press,{name:X.chg("skill.skillParams.0")})},{text:X.chg("skill.skillParams.5"),value:t=>t.get(a.asc).value>=1?ct.skill.pressCd-ct.skill.pressCd*ct.passive1.cdRed:ct.skill.pressCd,unit:"s"},{node:e(_s.skill.hold,{name:X.chg("skill.skillParams.1")})},{text:X.chg("skill.skillParams.6"),value:t=>t.get(a.asc).value>=1?ct.skill.holdCd-ct.skill.holdCd*ct.passive1.cdRed:ct.skill.holdCd,unit:"s"}]},X.condTem("skill",{value:A4,path:wK,name:X.ch("electroSigil"),states:{...C(N(1,3),t=>({name:d("stack",{count:t}),fields:[{node:H4},{text:X.chg("skill.skillParams.4"),value:ct.skill.duration,unit:"s"},{text:X.ch("electroSigilAbsorbed"),value:ct.skill.enerRegen*t}]}))}})]),burst:X.talentTem("burst",[{fields:[{node:e(_s.burst.dmg,{name:X.chg("burst.skillParams.0")})},{node:e(_s.burst.companionDmg1,{name:X.ch("soulCompanion.1")})},{node:e(_s.burst.companionDmg2,{name:X.ch("soulCompanion.2")})},{node:e(_s.burst.companionDmg3,{name:X.ch("soulCompanion.3")})},{node:e(_s.burst.companionDmg4,{name:X.ch("soulCompanion.4")})},{text:X.chg("burst.skillParams.5"),value:ct.burst.cd,unit:"s"},{text:X.chg("burst.skillParams.6"),value:ct.burst.enerCost}]},X.condTem("burst",{value:mv,path:AK,name:X.chg("burst.description.3"),states:{on:{fields:[{node:K4},{node:E4},{text:d("incInterRes")},{text:d("immuneToElectroCharged")},{text:X.chg("burst.skillParams.4"),value:ct.burst.duration,unit:"s"}]}}})]),passive1:X.talentTem("passive1"),passive2:X.talentTem("passive2",[X.condTem("passive2",{value:B4,path:BK,name:d("lessPercentEnergy",{percent:ct.passive2.enerThreshold*100}),states:{on:{fields:[{node:N4}]}}})]),passive3:X.talentTem("passive3"),constellation1:X.talentTem("constellation1",[X.condTem("constellation1",{value:I4,path:IK,name:d("getElementalOrbParticle"),states:{on:{fields:[{node:F4},{text:s("duration"),value:ct.constellation1.duration,unit:"s"}]}}})]),constellation2:X.talentTem("constellation2",[X.condTem("constellation2",{value:R4,path:RK,name:d("enemyLessPercentHP",{percent:ct.constellation2.hpThreshold*100}),states:{on:{fields:[{node:O4}]}}})]),constellation3:X.talentTem("constellation3",[{fields:[{node:G4}]}]),constellation4:X.talentTem("constellation4",[X.condTem("constellation4",{value:M4,path:MK,teamBuff:!0,name:X.ch("opHitWithClawAndThunder"),states:{on:{fields:[{node:j4},{text:s("duration"),value:ct.constellation4.duration,unit:"s"}]}}})]),constellation5:X.talentTem("constellation5",[{fields:[{node:z4}]}]),constellation6:X.talentTem("constellation6",[X.fieldsTem("constellation6",{fields:[{node:e(_s.constellation6.dmg,{name:d("dmg")})},{text:X.ch("electroSigilPerProc"),value:ct.constellation6.electroSigilGenerated},{text:d("cooldown"),value:ct.constellation6.cd,unit:"s"}]})])}},KK=new R(EK,HK),Xs="Rosaria",W4="cryo",ep=_.char.data[Xs],ja=_.char.skillParam[Xs],$e=A(Xs,ep.weaponType);let Uo=0,vk=0,_m=0,n1=0,_k=0,yk=0,s1=0;const Yl={normal:{hitArr:[ja.auto[Uo++],ja.auto[Uo++],ja.auto[Uo++],ja.auto[Uo++],ja.auto[Uo++],ja.auto[Uo++]]},charged:{dmg:ja.auto[Uo++],stamina:ja.auto[Uo++][0]},plunging:{dmg:ja.auto[Uo++],low:ja.auto[Uo++],high:ja.auto[Uo++]},skill:{hit1:ja.skill[vk++],hit2:ja.skill[vk++],cd:ja.skill[vk++][0]},burst:{hit1:ja.burst[_m++],hit2:ja.burst[_m++],dotDmg:ja.burst[_m++],duration:ja.burst[_m++][0],cd:ja.burst[_m++][0],cost:ja.burst[_m++][0]},passive1:{crInc:ja.passive1[n1++][0],duration:ja.passive1[n1++][0]},passive2:{crBonus:ja.passive2[_k++][0],duration:ja.passive2[_k++][0],maxBonus:ja.passive2[_k++][0]},constellation1:{atkSpdInc:ja.constellation1[yk++],dmgInc:ja.constellation1[yk++],duration:ja.constellation1[yk++]},constellation6:{physShred:ja.constellation6[s1++],duration:ja.constellation6[s1++]}},[o1,yf]=h(Xs,"RosariaA1"),[NK,Tf]=h(Xs,"RosariaA4"),[FK,uv]=h(Xs,"RosariaC1"),[OK,L4]=h(Xs,"DilucC6"),$f=n(a.asc,1,i(yf,"on",Yl.passive1.crInc)),U4=e(n(a.asc,4,yl(m(c(Yl.passive2.crBonus),a.premod.critRate_),c(Yl.passive2.maxBonus))),{...y.info("critRate_"),isTeamBuff:!0}),q4=i(Tf,"on",U4),jK=z(G.charKey,Xs,q4),V4=n(a.constellation,1,i(uv,"on",Yl.constellation1.atkSpdInc)),J4=n(a.constellation,1,i(uv,"on",Yl.constellation1.dmgInc)),Q4=n(a.constellation,6,i(L4,"on",-Yl.constellation6.physShred)),vo={normal:Object.fromEntries(Yl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Yl.charged.dmg,"charged")},plunging:E("atk",Yl.plunging),skill:{hit1:o("atk",Yl.skill.hit1,"skill"),hit2:o("atk",Yl.skill.hit2,"skill")},burst:{hit1:o("atk",Yl.burst.hit1,"burst"),hit2:o("atk",Yl.burst.hit2,"burst"),dotDmg:o("atk",Yl.burst.dotDmg,"burst")},passive2:{nodeA4OptTarget:U4}},X4=n(a.constellation,3,3),Y4=n(a.constellation,5,3),GK=B(Xs,W4,"mondstadt",ep,vo,{premod:{skillBoost:X4,burstBoost:Y4,critRate_:$f,atkSPD_:V4,normal_dmg_:J4},teamBuff:{premod:{physical_enemyRes_:Q4},total:{critRate_:jK}}}),zK={key:Xs,name:$e.name,rarity:ep.rarity,elementKey:W4,weaponTypeKey:ep.weaponType,gender:"F",constellationName:$e.chg("constellationName"),title:$e.chg("title"),talent:{auto:$e.talentTem("auto",[{text:$e.chg("auto.fields.normal")},{fields:Yl.normal.hitArr.map((t,l)=>({node:e(vo.normal[l],{name:$e.chg(`auto.skillParams.${l+(l<5?0:-1)}`),textSuffix:l===4?"(1)":l===5?"(2)":"",multi:l===2?2:void 0})}))},{text:$e.chg("auto.fields.charged")},{fields:[{node:e(vo.charged.dmg,{name:$e.chg("auto.skillParams.5")})},{text:$e.chg("auto.skillParams.6"),value:Yl.charged.stamina}]},{text:$e.chg("auto.fields.plunging")},{fields:[{node:e(vo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(vo.plunging.low,{name:s("plunging.low")})},{node:e(vo.plunging.high,{name:s("plunging.high")})}]}]),skill:$e.talentTem("skill",[{fields:[{node:e(vo.skill.hit1,{name:$e.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:e(vo.skill.hit2,{name:$e.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:$e.chg("skill.skillParams.1"),value:Yl.skill.cd,unit:"s"}]}]),burst:$e.talentTem("burst",[{fields:[{node:e(vo.burst.hit1,{name:$e.chg("burst.skillParams.0"),textSuffix:"(1)"})},{node:e(vo.burst.hit2,{name:$e.chg("burst.skillParams.0"),textSuffix:"(2)"})},{node:e(vo.burst.dotDmg,{name:$e.chg("burst.skillParams.1")})},{text:$e.chg("burst.skillParams.3"),value:Yl.burst.cd,unit:"s"},{text:$e.chg("burst.skillParams.4"),value:Yl.burst.cost}]},$e.condTem("constellation6",{value:L4,path:OK,name:d("hitOp.skill"),teamBuff:!0,states:{on:{fields:[{node:Q4},{text:s("duration"),value:Yl.constellation6.duration,unit:"s"}]}}})]),passive1:$e.talentTem("passive1",[$e.condTem("passive1",{name:$e.ch("a1"),value:yf,path:o1,states:{on:{fields:[{node:$f},{text:s("duration"),value:Yl.passive1.duration,unit:"s"}]}}})]),passive2:$e.talentTem("passive2",[$e.condTem("passive2",{name:d("afterUse.burst"),value:Tf,path:NK,teamBuff:!0,canShow:z(a.activeCharKey,Xs,1),states:{on:{fields:[{node:e(q4,{...y.info("critRate_"),isTeamBuff:!0})},{text:s("duration"),value:Yl.passive2.duration,unit:"s"}]}}}),$e.condTem("passive1",{path:o1,value:yf,name:$e.ch("a1"),teamBuff:!0,canShow:z(a.activeCharKey,Xs,i(Tf,"on",1)),states:{on:{fields:[{node:$f},{text:s("duration"),value:Yl.passive1.duration,unit:"s"}]}}}),$e.fieldsTem("passive2",{canShow:i(a.activeCharKey,Xs,1),fields:[{node:vo.passive2.nodeA4OptTarget}]})]),passive3:$e.talentTem("passive3"),constellation1:$e.talentTem("constellation1",[$e.condTem("constellation1",{value:uv,path:FK,name:d("hitOp.crit"),states:{on:{fields:[{node:J4},{node:V4},{text:s("duration"),value:Yl.constellation1.duration,unit:"s"}]}}})]),constellation2:$e.talentTem("constellation2"),constellation3:$e.talentTem("constellation3",[{fields:[{node:X4}]}]),constellation4:$e.talentTem("constellation4"),constellation5:$e.talentTem("constellation5",[{fields:[{node:Y4}]}]),constellation6:$e.talentTem("constellation6")}},WK=new R(zK,GK),Gr="SangonomiyaKokomi",gv="hydro",ap=_.char.data[Gr],Ba=_.char.skillParam[Gr],Kt=A(Gr,ap.weaponType);let ur=0,hu=0,Cc=0,Tk=0;const ol={normal:{hitArr:[Ba.auto[ur++],Ba.auto[ur++],Ba.auto[ur++]]},charged:{dmg:Ba.auto[ur++],stamina:Ba.auto[ur++][0]},plunging:{dmg:Ba.auto[ur++],low:Ba.auto[ur++],high:Ba.auto[ur++]},skill:{heal_:Ba.skill[hu++],heal:Ba.skill[hu++],dmg:Ba.skill[hu++],duration:Ba.skill[hu++][0],cd:Ba.skill[hu++][0]},burst:{dmg:Ba.burst[Cc++],heal_:Ba.burst[Cc++],heal:Ba.burst[Cc++],nBonus_:Ba.burst[Cc++],cBonus_:Ba.burst[Cc++],duration:Ba.burst[Cc++][0],cd:Ba.burst[Cc++][0],enerCost:Ba.burst[Cc++][0],sBonus_:Ba.burst[Cc++]},p:{heal_:.25,critRate_:-1},p2:{heal_ratio_:Ba.passive2[0][0]},c1:{hp_:Ba.constellation1[0]},c2:{s_heal_:Ba.constellation2[1],nc_heal_:Ba.constellation2[2]},c4:{atkSPD_:Ba.constellation4[0],energy:Ba.constellation4[1]},c6:{hp_:Ba.constellation6[Tk++],hydro_:Ba.constellation6[Tk++],duration:Ba.constellation6[Tk++]}},[LK,Km]=h(Gr,"burst"),[UK,hv]=h(Gr,"c2"),[qK,Z4]=h(Gr,"c6"),tC=i(Km,"on",m(D($(a.total.burstIndex,ol.burst.nBonus_,{unit:"%"}),n(a.asc,4,m(c(ol.p2.heal_ratio_),a.premod.heal_))),a.premod.hp),{variant:"invalid"}),eC=i(Km,"on",m(D($(a.total.burstIndex,ol.burst.cBonus_,{unit:"%"}),n(a.asc,4,m(c(ol.p2.heal_ratio_),a.premod.heal_))),a.premod.hp),{variant:"invalid"}),aC=i(Km,"on",m($(a.total.burstIndex,ol.burst.sBonus_,{unit:"%"}),a.premod.hp)),lC=p(ol.p.heal_),nC=p(ol.p.critRate_),sC=n(a.constellation,2,i(hv,"on",m(c(ol.c2.s_heal_),a.total.hp))),oC=n(a.constellation,2,i(hv,"on",m(c(ol.c2.nc_heal_),a.total.hp))),iC=n(a.constellation,4,ol.c4.atkSPD_),cC=n(a.constellation,6,i(Z4,"on",ol.c6.hydro_)),ii={normal:Object.fromEntries(ol.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",ol.charged.dmg,"charged")},plunging:E("atk",ol.plunging),skill:{dmg:o("atk",ol.skill.dmg,"skill"),heal:cl("hp",ol.skill.heal_,ol.skill.heal,"skill",{premod:{healInc:sC}})},burst:{dmg:o("hp",ol.burst.dmg,"burst"),heal:cl("hp",ol.burst.heal_,ol.burst.heal,"burst",{premod:{healInc:oC}})},constellation1:{dmg:n(a.constellation,1,F(m(a.total.hp,c(ol.c1.hp_)),"elemental",{hit:{ele:p(gv)}}))}},rC=n(a.constellation,3,3),dC=n(a.constellation,5,3),VK=B(Gr,gv,"liyue",ap,ii,{premod:{skillBoost:dC,burstBoost:rC,heal_:lC,critRate_:nC,atkSPD_:iC,hydro_dmg_:cC,normal_dmgInc:tC,charged_dmgInc:eC,skill_dmgInc:aC}}),JK={key:Gr,name:Kt.name,rarity:ap.rarity,elementKey:gv,weaponTypeKey:ap.weaponType,gender:"F",constellationName:Kt.chg("constellationName"),title:Kt.chg("title"),talent:{auto:Kt.talentTem("auto",[{text:Kt.chg("auto.fields.normal")},{fields:ol.normal.hitArr.map((t,l)=>({node:e(ii.normal[l],{name:Kt.chg(`auto.skillParams.${l}`)})}))},{text:Kt.chg("auto.fields.charged")},{fields:[{node:e(ii.charged.dmg,{name:Kt.chg("auto.skillParams.3")})},{text:Kt.chg("auto.skillParams.4"),value:ol.charged.stamina}]},{text:Kt.chg("auto.fields.plunging")},{fields:[{node:e(ii.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ii.plunging.low,{name:s("plunging.low")})},{node:e(ii.plunging.high,{name:s("plunging.high")})}]}]),skill:Kt.talentTem("skill",[{fields:[{node:e(ii.skill.heal,{name:Kt.chg("skill.skillParams.0")})},{node:e(ii.skill.dmg,{name:Kt.chg("skill.skillParams.1")})},{text:Kt.chg("skill.skillParams.2"),value:ol.skill.duration,unit:"s"},{text:Kt.chg("skill.skillParams.3"),value:ol.skill.cd,unit:"s"}]}]),burst:Kt.talentTem("burst",[{fields:[{node:e(ii.burst.dmg,{name:Kt.chg("burst.skillParams.0")})},{node:e(ii.burst.heal,{name:Kt.chg("burst.skillParams.4"),variant:"heal"})},{text:Kt.chg("burst.skillParams.6"),value:ol.burst.cd,unit:"s"},{text:Kt.chg("burst.skillParams.7"),value:ol.burst.enerCost}]},Kt.condTem("burst",{value:Km,path:LK,name:Kt.ch("burst"),states:{on:{fields:[{node:tC},{node:eC},{node:aC},{text:Kt.chg("burst.skillParams.5"),value:ol.burst.duration,unit:"s"}]}}}),Kt.headerTem("constellation4",{canShow:i(Km,"on",1),fields:[{node:iC},{text:d("enerRegenPerHit"),value:ol.c4.energy,fixed:1}]}),Kt.condTem("constellation6",{canShow:i(Km,"on",1),path:qK,value:Z4,name:Kt.ch("c6"),states:{on:{fields:[{node:cC}]}}})]),passive:Kt.talentTem("passive",[{fields:[{node:lC},{node:nC}]}]),passive1:Kt.talentTem("passive1"),passive2:Kt.talentTem("passive2"),passive3:Kt.talentTem("passive3"),constellation1:Kt.talentTem("constellation1",[Kt.fieldsTem("constellation1",{fields:[{node:e(ii.constellation1.dmg,{name:d("dmg")})}]})]),constellation2:Kt.talentTem("constellation2",[Kt.condTem("constellation2",{path:UK,value:hv,name:Kt.ch("c2"),states:{on:{fields:[{node:e(sC,{name:Kt.ch("c2SkillHeal")})},{node:e(oC,{name:Kt.ch("c2BurstHeal")})}]}}})]),constellation3:Kt.talentTem("constellation3",[{fields:[{node:rC}]}]),constellation4:Kt.talentTem("constellation4"),constellation5:Kt.talentTem("constellation5",[{fields:[{node:dC}]}]),constellation6:Kt.talentTem("constellation6")}},QK=new R(JK,VK),am="Sayu",XK="anemo",lp=_.char.data[am],Ut=_.char.skillParam[am],at=A(am,lp.weaponType);let gr=0,Sc=0;const ta={normal:{hitArr:[Ut.auto[0],Ut.auto[1],Ut.auto[2],Ut.auto[4]]},charged:{spin:Ut.auto[5],final:Ut.auto[6],stamina:Ut.auto[7][0],duration:Ut.auto[8][0]},plunging:{dmg:Ut.auto[9],low:Ut.auto[10],high:Ut.auto[11]},skill:{wheelDmg:Ut.skill[gr++],eleWheelDmg:Ut.skill[gr++],kickPressDmg:Ut.skill[gr++],kickHoldDmg:Ut.skill[gr++],eleKickDmg:Ut.skill[gr++],duration:Ut.skill[gr++][0],cdMin:Ut.skill[gr++][0],cdMax:Ut.skill[gr++][0]},burst:{pressDmg:Ut.burst[Sc++],pressBaseHeal:Ut.burst[Sc++],pressAtkHeal:Ut.burst[Sc++],darumaDmg:Ut.burst[Sc++],darumaBaseHeal:Ut.burst[Sc++],darumaAtkHeal:Ut.burst[Sc++],darumaHits:7,duration:Ut.burst[Sc++][0],cd:Ut.burst[Sc++][0],enerCost:Ut.burst[Sc++][0]},passive1:{baseHeal:Ut.passive1[0][0],emHeal:Ut.passive1[1][0],cd:Ut.passive1[2][0]},passive2:{nearHeal:Ut.passive2[0][0]},constellation2:{dmgInc:Ut.constellation2[0],maxStacks:Ut.constellation2[1]},constellation4:{ener:Ut.constellation4[0],cd:Ut.constellation4[1]},constellation6:{darumaDmgInc:Ut.constellation6[0],maxStacks:Ut.constellation6[1]/Ut.constellation6[0],darumaHealInc:Ut.constellation6[2]}},[YK,xf]=h(am,"skillAbsorption"),[ZK,mC]=h(am,"c2SkillStack"),uC=n(a.constellation,2,c(ta.constellation2.dmgInc)),Df=n(a.constellation,2,w(mC,Object.fromEntries(N(1,ta.constellation2.maxStacks).map(t=>[t,m(t,c(ta.constellation2.dmgInc))])),O)),gC=n(a.constellation,6,m(yl(a.total.eleMas,ta.constellation6.maxStacks),ta.constellation6.darumaDmgInc,a.total.atk)),hC=n(a.constellation,6,m(yl(a.total.eleMas,ta.constellation6.maxStacks),ta.constellation6.darumaHealInc)),i1=Gn(D(m($(a.total.burstIndex,ta.burst.darumaAtkHeal,{unit:"%"}),a.total.atk),$(a.total.burstIndex,ta.burst.darumaBaseHeal),hC)),Un={normal:Object.fromEntries(ta.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",ta.charged.spin,"charged"),final:o("atk",ta.charged.final,"charged")},plunging:E("atk",ta.plunging),skill:{wheelDmg:o("atk",ta.skill.wheelDmg,"skill"),kickPressDmg:o("atk",ta.skill.kickPressDmg,"skill",{premod:{skill_dmg_:uC}}),kickHoldDmg:o("atk",ta.skill.kickHoldDmg,"skill",{premod:{skill_dmg_:Df}}),eleWheelDmg:w(xf,Object.fromEntries(il.map(t=>[t,o("atk",ta.skill.eleWheelDmg,"skill",{hit:{ele:p(t)}})])),O),eleKickDmg:w(xf,Object.fromEntries(il.map(t=>[t,o("atk",ta.skill.eleKickDmg,"skill",{hit:{ele:p(t)},premod:{skill_dmg_:Df}})])),O)},burst:{pressDmg:o("atk",ta.burst.pressDmg,"burst"),pressHeal:cl("atk",ta.burst.pressAtkHeal,ta.burst.pressBaseHeal,"burst"),darumaDmg:o("atk",ta.burst.darumaDmg,"burst",{premod:{burst_dmgInc:gC}}),darumaHeal:i1},passive1:{heal:n(a.asc,1,Gn(D(ta.passive1.baseHeal,m(ta.passive1.emHeal,a.total.eleMas))))},passive2:{extraHeal:n(a.asc,4,m(i1,c(ta.passive2.nearHeal)))}},pC=n(a.constellation,3,3),kC=n(a.constellation,5,3),tN=B(am,"anemo","inazuma",lp,Un,{premod:{skillBoost:kC,burstBoost:pC}}),eN={key:am,name:at.name,rarity:lp.rarity,elementKey:XK,weaponTypeKey:lp.weaponType,gender:"F",constellationName:at.chg("constellationName"),title:at.chg("title"),talent:{auto:at.talentTem("auto",[{text:at.chg("auto.fields.normal")},{fields:ta.normal.hitArr.map((t,l)=>({node:e(Un.normal[l],{name:at.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:at.chg("auto.fields.charged")},{fields:[{node:e(Un.charged.spin,{name:at.chg("auto.skillParams.4")})},{node:e(Un.charged.final,{name:at.chg("auto.skillParams.5")})},{text:at.chg("auto.skillParams.6"),value:`${ta.charged.stamina}/s`}]},{text:at.chg("auto.fields.plunging")},{fields:[{node:e(Un.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Un.plunging.low,{name:s("plunging.low")})},{node:e(Un.plunging.high,{name:s("plunging.high")})}]}]),skill:at.talentTem("skill",[{fields:[{node:e(Un.skill.wheelDmg,{name:at.chg("skill.skillParams.0")})},{node:e(Un.skill.kickPressDmg,{name:at.chg("skill.skillParams.1")})},{node:e(Un.skill.kickHoldDmg,{name:at.chg("skill.skillParams.2")})},{text:at.chg("skill.skillParams.5"),value:ta.skill.duration,unit:"s"},{text:s("cd"),value:`${ta.skill.cdMin}s ~ ${ta.skill.cdMax}`,unit:"s"}]},at.condTem("skill",{value:xf,path:YK,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Un.skill.eleWheelDmg,{name:at.chg("skill.skillParams.3")})},{node:e(Un.skill.eleKickDmg,{name:at.chg("skill.skillParams.4")})}]}]))}),at.headerTem("constellation2",{fields:[{node:e(uC,{name:at.ch("c2KickPressDmg_"),unit:"%"})}]}),at.condTem("constellation2",{value:mC,path:ZK,name:at.ch("c2Cond"),states:Object.fromEntries(N(1,ta.constellation2.maxStacks).map(t=>[t,{name:d("seconds",{count:t*.5}),fields:[{node:e(Df,{name:at.ch("c2KickDmg_"),unit:"%"})}]}]))})]),burst:at.talentTem("burst",[{fields:[{node:e(Un.burst.pressDmg,{name:at.chg("burst.skillParams.0")})},{node:e(Un.burst.pressHeal,{name:at.chg("burst.skillParams.1")})},{node:e(Un.burst.darumaDmg,{name:at.chg("burst.skillParams.2")})},{node:e(Un.burst.darumaHeal,{name:at.chg("burst.skillParams.3")})},{text:at.ch("burstHits"),value:ta.burst.darumaHits}]},at.headerTem("passive2",{fields:[{node:e(Un.passive2.extraHeal,{name:s("healing"),variant:"heal"})},{text:at.ch("p2Aoe")}]}),at.headerTem("constellation6",{fields:[{node:e(gC,{name:at.ch("c6DarumaDmgInc"),variant:"anemo"})},{node:e(hC,{name:at.ch("c6DarumaHealInc"),variant:"heal"})}]})]),passive1:at.talentTem("passive1",[at.fieldsTem("passive1",{fields:[{node:e(Un.passive1.heal,{name:s("healing")})},{text:s("cd"),value:ta.passive1.cd,unit:"s"}]})]),passive2:at.talentTem("passive2"),passive3:at.talentTem("passive3"),constellation1:at.talentTem("constellation1"),constellation2:at.talentTem("constellation2"),constellation3:at.talentTem("constellation3",[{fields:[{node:pC}]}]),constellation4:at.talentTem("constellation4",[at.fieldsTem("constellation4",{fields:[{text:s("energyRegen"),value:ta.constellation4.ener,fixed:1},{text:s("cd"),value:ta.constellation4.cd,unit:"s"}]})]),constellation5:at.talentTem("constellation5",[{fields:[{node:kC}]}]),constellation6:at.talentTem("constellation6")}},aN=new R(eN,tN),ki="Shenhe",fC="cryo",np=_.char.data[ki],qe=_.char.skillParam[ki],vt=A(ki,np.weaponType);let wc=0,ym=0,lN=0,wg=0;const ua={normal:{hitArr:[qe.auto[0],qe.auto[1],qe.auto[2],qe.auto[3],qe.auto[5]]},charged:{dmg:qe.auto[6],stamina:qe.auto[7][0]},plunging:{dmg:qe.auto[8],low:qe.auto[9],high:qe.auto[10]},skill:{press:qe.skill[wc++],hold:qe.skill[wc++],dmgAtk_:qe.skill[wc++],duration:qe.skill[wc++][0],durationHold:qe.skill[wc++][0],trigger:qe.skill[wc++][0],triggerHold:qe.skill[wc++][0],cd:qe.skill[wc++][0],cdHold:qe.skill[wc++][0]},burst:{dmg:qe.burst[ym++],res_:qe.burst[ym++],dot:qe.burst[ym++],duration:qe.burst[ym++][0],cd:qe.burst[ym++][0],enerCost:qe.burst[ym++][0]},passive1:{cryo_dmg_:qe.passive1[lN++][0]},passive2:{press_dmg_:qe.passive2[wg++][0],durationPress:qe.passive2[wg++][0],hold_dmg_:qe.passive2[wg++][0],durationHold:qe.passive2[wg++][0]},constellation2:{durationInc:qe.constellation2[0]},constellation4:{dmg_:qe.constellation4[0],maxStacks:qe.constellation4[1]},constellation6:{auto_:qe.constellation6[0],duration:qe.constellation6[1]}},[nN,bC]=h(ki,"quill"),pv=i("quill",bC,m(a.total.atk,$(a.total.skillIndex,ua.skill.dmgAtk_,{unit:"%"}))),[sN,vC]=h(ki,"burst"),_C=i("burst",vC,$(a.total.burstIndex,ua.burst.res_.map(t=>-t),{unit:"%"})),yC={..._C},TC={..._C},[oN,kv]=h(ki,"asc1"),$C=n(a.asc,1,i(kv,"field",ua.passive1.cryo_dmg_)),iN=i(a.activeCharKey,G.charKey,$C),[cN,xC]=h(ki,"asc4"),DC=n(a.asc,4,i(xC,"press",ua.passive2.press_dmg_)),PC={...DC},CC={...DC},[rN,SC]=h(ki,"asc4Hold"),fv=n(a.asc,4,i(SC,"hold",ua.passive2.hold_dmg_)),wC={...fv},AC={...fv},BC={...fv},IC=n(a.constellation,2,i(kv,"field",ua.passive1.cryo_dmg_)),dN=i(a.activeCharKey,G.charKey,IC),[mN,RC]=h(ki,"c4"),sp=n(a.constellation,4,w(RC,C(N(1,ua.constellation4.maxStacks),t=>c(t*ua.constellation4.dmg_)),0)),qi={normal:Object.fromEntries(ua.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",ua.charged.dmg,"charged")},plunging:E("atk",ua.plunging),skill:{press:o("atk",ua.skill.press,"skill",{hit:{dmgBonus:sp}}),hold:o("atk",ua.skill.hold,"skill",{hit:{dmgBonus:sp}}),quillDmg:pv},burst:{dmg:o("atk",ua.burst.dmg,"burst"),dot:o("atk",ua.burst.dot,"burst")}},MC=n(a.constellation,3,3),HC=n(a.constellation,5,3),uN=B(ki,fC,"liyue",np,qi,{premod:{skillBoost:MC,burstBoost:HC,skill_dmg_:sp},teamBuff:{premod:{cryo_dmgInc:pv,cryo_enemyRes_:yC,physical_enemyRes_:TC,cryo_dmg_:iN,skill_dmg_:PC,burst_dmg_:CC,normal_dmg_:wC,charged_dmg_:AC,plunging_dmg_:BC,cryo_critDMG_:dN}}}),gN={key:ki,name:vt.name,rarity:np.rarity,elementKey:fC,weaponTypeKey:np.weaponType,gender:"F",constellationName:vt.chg("constellationName"),title:vt.chg("title"),talent:{auto:vt.talentTem("auto",[{text:vt.chg("auto.fields.normal")},{fields:ua.normal.hitArr.map((t,l)=>({node:e(qi.normal[l],{name:vt.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:vt.chg("auto.fields.charged")},{fields:[{node:e(qi.charged.dmg,{name:vt.chg("auto.skillParams.5")})},{text:vt.chg("auto.skillParams.6"),value:ua.charged.stamina}]},{text:vt.chg("auto.fields.plunging")},{fields:[{node:e(qi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qi.plunging.low,{name:s("plunging.low")})},{node:e(qi.plunging.high,{name:s("plunging.high")})}]}]),skill:vt.talentTem("skill",[{fields:[{node:e(qi.skill.press,{name:vt.chg("skill.skillParams.0")})},{text:vt.ch("pressDuration"),value:ua.skill.duration,unit:"s"},{text:vt.ch("pressQuota"),value:ua.skill.trigger},{text:s("press.cd"),value:ua.skill.cd,unit:"s"},{node:e(qi.skill.hold,{name:vt.chg("skill.skillParams.1")})},{text:vt.ch("holdDuration"),value:ua.skill.durationHold,unit:"s"},{text:vt.ch("holdQuota"),value:ua.skill.triggerHold},{text:s("hold.cd"),value:ua.skill.cdHold,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]},vt.condTem("skill",{teamBuff:!0,value:bC,path:nN,name:vt.ch("quill"),states:{quill:{fields:[{node:pv}]}}}),vt.condTem("passive2",{teamBuff:!0,states:{press:{value:xC,path:cN,name:d("afterUse.skillPress"),fields:[{node:PC},{node:CC},{text:s("duration"),value:ua.passive2.durationPress,unit:"s"}]},hold:{value:SC,path:rN,name:d("afterUse.skillHold"),fields:[{node:wC},{node:AC},{node:BC},{text:s("duration"),value:ua.passive2.durationHold,unit:"s"}]}}}),vt.condTem("constellation4",{value:RC,path:mN,name:vt.ch("c4"),states:C(N(1,50).map(t=>t),t=>({name:d("stack",{count:t}),fields:[{node:sp}]}))}),vt.headerTem("constellation6",{fields:[{text:vt.chg("constellation6.description")}],teamBuff:!0})]),burst:vt.talentTem("burst",[{fields:[{node:e(qi.burst.dmg,{name:vt.chg("burst.skillParams.0")})},{node:e(qi.burst.dot,{name:vt.chg("burst.skillParams.2")})},{text:vt.chg("burst.skillParams.3"),value:t=>t.get(a.constellation).value>=2?`${ua.burst.duration} + ${ua.constellation2.durationInc} = ${ua.burst.duration+ua.constellation2.durationInc}`:ua.burst.duration,unit:"s"},{text:vt.chg("burst.skillParams.4"),value:ua.burst.cd,unit:"s"},{text:vt.chg("burst.skillParams.5"),value:ua.burst.enerCost}]},vt.condTem("burst",{teamBuff:!0,value:vC,path:sN,name:d("opponentsField"),states:{burst:{fields:[{node:yC},{node:TC}]}}}),vt.condTem("passive1",{value:kv,path:oN,teamBuff:!0,name:d("activeCharField"),states:{field:{fields:[{node:e($C,y.info("cryo_dmg_"))}]}}}),vt.headerTem("constellation2",{fields:[{text:d("durationInc"),value:ua.constellation2.durationInc,unit:"s"},{node:e(IC,y.info("cryo_critDMG_"))}],teamBuff:!0})]),passive1:vt.talentTem("passive1"),passive2:vt.talentTem("passive2"),passive3:vt.talentTem("passive3"),constellation1:vt.talentTem("constellation1",[vt.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:vt.talentTem("constellation2"),constellation3:vt.talentTem("constellation3",[{fields:[{node:MC}]}]),constellation4:vt.talentTem("constellation4"),constellation5:vt.talentTem("constellation5",[{fields:[{node:HC}]}]),constellation6:vt.talentTem("constellation6")}},hN=new R(gN,uN),Vc="ShikanoinHeizou",EC="anemo",op=_.char.data[Vc],Ga=_.char.skillParam[Vc],da=A(Vc,op.weaponType);let io=0,pu=0,Ag=0,c1=0;const Dn={normal:{hitArr:[Ga.auto[io++],Ga.auto[io++],Ga.auto[io++],Ga.auto[io++],Ga.auto[io++],Ga.auto[io++],Ga.auto[io++]]},charged:{dmg:Ga.auto[io++],stamina:Ga.auto[io++][0]},plunging:{dmg:Ga.auto[io++],low:Ga.auto[io++],high:Ga.auto[io++]},skill:{dmg:Ga.skill[pu++],declension_dmg_:Ga.skill[pu++],conviction_dmg_:Ga.skill[pu++],cd:Ga.skill[pu++][0],declension_duration:Ga.skill[pu++][0]},burst:{slugger_dmg:Ga.burst[Ag++],iris_dmg:Ga.burst[Ag++],cd:Ga.burst[Ag++][0],enerCost:Ga.burst[Ag++][0]},passive2:{duration:Ga.passive2[c1++][0],eleMas:Ga.passive2[c1++][0]},passive3:{staminaSprintDec_:.25},constellation1:{duration:Ga.constellation1[0],atkSpd_:Ga.constellation1[1],cd:Ga.constellation1[2]},constellation4:{baseEnergy:Ga.constellation4[0],addlEnergy:Ga.constellation4[1]},constellation6:{hsCritRate_:Ga.constellation6[0],hsCritDmg_:Ga.constellation6[1]}},bv=N(1,4),[pN,Rd]=h(Vc,"declensionStacks"),kN=w(Rd,Object.fromEntries(bv.map(t=>[t,m($(a.total.skillIndex,Dn.skill.declension_dmg_,{name:d("bonusScaling.skill_"),unit:"%"}),p(t,{name:da.ch("declensionStacks")}))])),O,{name:d("bonusScaling.skill_"),unit:"%"}),fN=i(Rd,"4",$(a.total.skillIndex,Dn.skill.conviction_dmg_,{unit:"%"}),{name:d("bonusScaling.skill_"),unit:"%"}),KC=D(kN,fN),[bN,NC]=h(Vc,"skillHit"),FC=n(a.asc,4,i(NC,"on",Dn.passive2.eleMas)),vN=z(G.charKey,Vc,FC),[_N,OC]=h(Vc,"takeField"),jC=n(a.constellation,1,i(OC,"on",c(Dn.constellation1.atkSpd_))),GC=n(a.constellation,6,w(Rd,Object.fromEntries(bv.map(t=>[t,m(c(Dn.constellation6.hsCritRate_),p(t,{name:da.ch("declensionStacks")}))])),O)),zC=n(a.constellation,6,i(Rd,"4",c(Dn.constellation6.hsCritDmg_))),Kc={normal:Object.fromEntries(Dn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Dn.charged.dmg,"charged")},plunging:E("atk",Dn.plunging),skill:{dmg:F(m(D($(a.total.skillIndex,Dn.skill.dmg,{unit:"%"}),KC),a.total.atk),"skill",{hit:{ele:p("anemo")}})},burst:{slugger_dmg:o("atk",Dn.burst.slugger_dmg,"burst"),...Object.fromEntries(il.map(t=>[`${t}_iris_dmg`,o("atk",Dn.burst.iris_dmg,"burst",{hit:{ele:p(t)}})]))}},WC=n(a.constellation,3,3),LC=n(a.constellation,5,3),yN=B(Vc,EC,"inazuma",op,Kc,{premod:{skillBoost:WC,burstBoost:LC,atkSPD_:jC,skill_critRate_:GC,skill_critDMG_:zC},teamBuff:{premod:{eleMas:vN}}}),TN={key:Vc,name:da.name,rarity:op.rarity,elementKey:EC,weaponTypeKey:op.weaponType,gender:"M",constellationName:da.chg("constellationName"),title:da.chg("title"),talent:{auto:da.talentTem("auto",[{text:da.chg("auto.fields.normal")},{fields:Dn.normal.hitArr.map((t,l)=>({node:e(Kc.normal[l],{name:da.chg(`auto.skillParams.${l>2?l<6?3:4:l}`),textSuffix:l>2&&l<6?`(${l-2})`:void 0})}))},{text:da.chg("auto.fields.charged")},{fields:[{node:e(Kc.charged.dmg,{name:da.chg("auto.skillParams.5")})},{text:da.chg("auto.skillParams.6"),value:Dn.charged.stamina}]},{text:da.chg("auto.fields.plunging")},{fields:[{node:e(Kc.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Kc.plunging.low,{name:s("plunging.low")})},{node:e(Kc.plunging.high,{name:s("plunging.high")})}]}]),skill:da.talentTem("skill",[{fields:[{node:e(Kc.skill.dmg,{name:da.chg("skill.skillParams.0")})},{text:s("cd"),value:Dn.skill.cd,unit:"s"}]},da.condTem("skill",{path:pN,value:Rd,name:da.chg("skill.description.6"),states:Object.fromEntries(bv.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:e(KC,{name:d("bonusScaling.skill_"),unit:"%"})},{canShow:l=>l.get(Rd).value==="4",text:d("aoeInc")},{text:da.chg("skill.skillParams.3"),value:Dn.skill.declension_duration,unit:"s"}]}]))}),da.condTem("passive2",{path:bN,value:NC,name:d("hitOp.skill"),teamBuff:!0,canShow:z(G.charKey,a.activeCharKey,1),states:{on:{fields:[{node:e(FC,y.info("eleMas"))},{text:s("duration"),value:Dn.passive2.duration,unit:"s"}]}}}),da.headerTem("constellation6",{canShow:z(Rd,void 0,1),fields:[{node:GC},{node:zC}]})]),burst:da.talentTem("burst",[{fields:[{node:e(Kc.burst.slugger_dmg,{name:da.chg("burst.skillParams.0")})},...il.map(t=>({node:e(Kc.burst[`${t}_iris_dmg`],{name:da.chg("burst.skillParams.1")})})),{text:s("cd"),value:Dn.burst.cd,unit:"s"},{text:s("energyCost"),value:Dn.burst.enerCost}]}]),passive1:da.talentTem("passive1"),passive2:da.talentTem("passive2"),passive3:da.talentTem("passive3"),constellation1:da.talentTem("constellation1",[da.condTem("constellation1",{path:_N,value:OC,name:da.ch("takingField"),states:{on:{fields:[{node:jC},{text:s("duration"),value:Dn.constellation1.duration,unit:"s"},{text:s("cd"),value:Dn.constellation1.cd,unit:"s"}]}}})]),constellation2:da.talentTem("constellation2"),constellation3:da.talentTem("constellation3",[{fields:[{node:WC}]}]),constellation4:da.talentTem("constellation4"),constellation5:da.talentTem("constellation5",[{fields:[{node:LC}]}]),constellation6:da.talentTem("constellation6")}},$N=new R(TN,yN),ps="Somnia",vv="electro",ip=_.char.data[ps],Nt=_.char.skillParam[ps],q=A(ps,ip.weaponType);let Ac=0,Bg=0,Ns=0;const Ra={normal:{hitArr:[Nt.auto[Ac++],Nt.auto[Ac++],Nt.auto[Ac++],Nt.auto[Ac++]]},charged:{dmg:Nt.auto[Ac++],stamina:Nt.auto[Ac++][0]},plunging:{dmg:Nt.auto[Ac++],low:Nt.auto[Ac++],high:Nt.auto[Ac++]},skill:{dmg:Nt.skill[Bg++],norm_charged_dmgInc:Nt.skill[Bg++],duration:Nt.skill[Bg++][0],cd:Nt.skill[Bg++][0]},burst:{pressDmg:Nt.burst[Ns++],eleMas_:Nt.burst[Ns++],multDotDmg:Nt.burst[Ns++],sunderDmg:Nt.burst[Ns++],addDotDmg:Nt.burst[Ns++],supernovaDmg:Nt.burst[Ns++],subDotDmg:Nt.burst[Ns++],subDmgInc:Nt.burst[Ns++],subElemRes:Nt.burst[Ns++],resDuration:Nt.burst[Ns++][0],duration:Nt.burst[Ns++][0],cd:Nt.burst[Ns++][0],energyCost:Nt.burst[Ns++][0]},passive1:{chargedStamRed:Nt.passive1[0][0],chargedCastSpeed:Nt.passive1[1][0]},passive2:{elemas:Nt.passive2[0][0],stacks:Nt.passive2[1][0],maxElemas:Nt.passive2[2][0]},constellation1:{chance:Nt.constellation1[0],dmg:Nt.constellation1[1]},constellation2:{dmg:Nt.constellation2[0]},constellation4:{energyRestore:Nt.constellation4[0],cd:Nt.constellation4[1]},constellation6:{cd:Nt.constellation6[2],critRate_:Nt.constellation6[3],critDMG_:Nt.constellation6[4],maxStacks:Nt.constellation6[5],duration:Nt.constellation6[6]}},[xN,cp]=h(ps,"superposition"),Pf=i(cp,"on",m($(a.total.skillIndex,Ra.skill.norm_charged_dmgInc,{unit:"%"}),a.total.eleMas)),[DN,_r]=h(ps,"cycloneActive"),[PN,UC]=h(ps,"multiplication"),CN=rn(_r,"on",rn(UC,"on",rn(w(G.weaponType,{sword:St,claymore:St,polearm:St},O),St,p(vv)))),[SN,qC]=h(ps,"subtraction"),r1=i(_r,"on",i(qC,"on",m($(a.total.burstIndex,Ra.burst.subDmgInc,{unit:"%"}),a.total.eleMas))),[wN,VC]=h(ps,"lessThan3"),AN=i(VC,"on",m($(a.total.burstIndex,Ra.burst.subElemRes,{unit:"%"}),a.total.eleMas)),[BN,JC]=h(ps,"a4EnemiesHit"),QC=N(1,Ra.passive2.stacks),[IN,XC]=h(ps,"c1Mode"),rp=e(D(1,n(a.constellation,1,w(XC,{average:p(Ra.constellation1.chance*Ra.constellation1.dmg),always:p(Ra.constellation1.dmg)},O))),{name:q.ch("c1Key"),unit:"%",asConst:!0}),[RN,YC]=h(ps,"c2Prime"),d1=n(a.constellation,2,i(cp,"on",i(YC,"on",{...Pf}))),[MN,_v]=h(ps,"c6Stacks"),yv=N(1,Ra.constellation6.maxStacks),ZC=n(a.constellation,6,w(_v,C(yv,t=>m(c(Ra.constellation6.critRate_),t)),O)),t6=n(a.constellation,6,w(_v,C(yv,t=>m(c(Ra.constellation6.critDMG_),t)),O)),Ia={normal:Object.fromEntries(Ra.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",void 0,rp)])),charged:{dmg:o("atk",Ra.charged.dmg,"charged",void 0,rp)},plunging:E("atk",Ra.plunging),skill:{pressDmg:o("atk",Ra.skill.dmg,"skill"),normal_dmgInc:Pf,charged_dmgInc:{...Pf}},burst:{initialDmg:o("atk",Ra.burst.pressDmg,"burst"),multDotDmg:o("atk",Ra.burst.multDotDmg,"burst"),addDotDmg:o("atk",Ra.burst.addDotDmg,"burst"),subDotDmg:o("atk",Ra.burst.subDotDmg,"burst"),sunderDmg:o("eleMas",Ra.burst.sunderDmg,"burst"),supernovaDmg:o("eleMas",Ra.burst.supernovaDmg,"burst"),eleMas:i(_r,"on",m($(a.total.burstIndex,Ra.burst.eleMas_,{unit:"%"}),a.premod.eleMas)),sub_normal_dmgInc:r1,sub_charged_dmgInc:{...r1},...C(Po,t=>({...AN}))},passive2:{eleMas:n(a.asc,4,i(_r,"on",w(JC,C(QC,t=>m(c(Ra.passive2.elemas),t,a.premod.eleMas)),O)))},constellation2:{normal_dmgInc:d1,charged_dmgInc:{...d1}}},e6=n(a.constellation,3,3),a6=n(a.constellation,5,3),HN=B(ps,vv,"mondstadt",ip,Ia,{premod:{burstBoost:e6,skillBoost:a6,normal_dmgInc:D(Ia.skill.normal_dmgInc,Ia.burst.sub_normal_dmgInc,Ia.constellation2.normal_dmgInc),charged_dmgInc:D(Ia.skill.charged_dmgInc,Ia.burst.sub_charged_dmgInc,Ia.constellation2.charged_dmgInc),critRate_:ZC,critDMG_:t6},teamBuff:{premod:{...Object.fromEntries(Po.map(t=>[`${t}_enemyRes_`,Ia.burst[t]]))},infusion:{team:CN}},total:{eleMas:D(Ia.burst.eleMas,Ia.passive2.eleMas)}}),EN={key:ps,name:q.chg("name"),rarity:ip.rarity,elementKey:vv,weaponTypeKey:ip.weaponType,gender:"F",constellationName:q.chg("constellationName"),title:q.chg("title"),talent:{auto:q.talentTem("auto",[{text:q.chg("auto.fields.normal")},{fields:Ra.normal.hitArr.map((t,l)=>({node:e(Ia.normal[l],{name:q.chg(`auto.skillParams.${l}`)})}))},{text:q.chg("auto.fields.charged")},{fields:[{node:e(Ia.charged.dmg,{name:q.chg("auto.skillParams.4")})},{text:q.chg("auto.skillParams.5"),value:Ra.charged.stamina,unit:"/s"}]},{text:q.chg("auto.fields.plunging")},{fields:[{node:e(Ia.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ia.plunging.low,{name:s("plunging.low")})},{node:e(Ia.plunging.high,{name:s("plunging.high")})}]},q.condTem("constellation1",{value:XC,path:IN,name:q.ch("c1Cond"),states:{average:{name:q.ch("average"),fields:[{node:rp}]},always:{name:q.ch("always"),fields:[{node:rp}]}}})]),skill:q.talentTem("skill",[q.fieldsTem("skill",{fields:[{node:e(Ia.skill.pressDmg,{name:q.chg("skill.skillParams.0")})},{text:s("duration"),value:Ra.skill.duration,unit:"s"},{text:s("cd"),value:Ra.skill.cd,unit:"s"}]}),q.condTem("skill",{value:cp,path:xN,name:q.ch("superpositionCond"),states:{on:{fields:[{node:e(Ia.skill.normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.skill.charged_dmgInc,y.info("charged_dmgInc"))}]}}}),q.condTem("constellation2",{value:YC,path:RN,name:q.ch("c2Cond"),canShow:i(cp,"on",1),states:{on:{fields:[{node:e(Ia.constellation2.normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.constellation2.charged_dmgInc,y.info("charged_dmgInc"))}]}}})]),burst:q.talentTem("burst",[q.fieldsTem("burst",{fields:[{node:e(Ia.burst.initialDmg,{name:q.chg("burst.skillParams.0")})},{node:e(Ia.burst.multDotDmg,{name:q.chg("burst.skillParams.2")})},{node:e(Ia.burst.sunderDmg,{name:q.chg("burst.skillParams.3")})},{node:e(Ia.burst.addDotDmg,{name:q.chg("burst.skillParams.4")})},{node:e(Ia.burst.supernovaDmg,{name:q.chg("burst.skillParams.5")})},{node:e(Ia.burst.subDotDmg,{name:q.chg("burst.skillParams.6")})},{text:s("duration"),value:Ra.burst.duration,unit:"s"},{text:s("energyCost"),value:Ra.burst.energyCost},{text:s("cd"),value:Ra.burst.cd,unit:"s"}]}),q.condTem("burst",{value:_r,path:DN,teamBuff:!0,name:q.ch("cycloneActiveCond"),states:{on:{fields:[{node:e(Ia.burst.eleMas,y.info("eleMas"))}]}}}),q.condTem("burst",{value:qC,path:SN,canShow:i(_r,"on",i(a.activeCharKey,ps,1)),name:q.ch("subCond"),states:{on:{fields:[{node:e(Ia.burst.sub_normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.burst.sub_charged_dmgInc,y.info("charged_dmgInc"))}]}}}),q.condTem("burst",{value:UC,path:PN,teamBuff:!0,canShow:i(_r,"on",z(a.activeCharKey,ps,1)),name:q.ch("multCond"),states:{on:{fields:[{text:P(yt,{color:"electro",children:d("infusion.electro")})}]}}}),q.condTem("burst",{value:VC,path:wN,teamBuff:!0,name:q.ch("lessThan3Cond"),states:{on:{fields:[...Po.map(t=>({node:Ia.burst[t]})),{text:s("duration"),value:Ra.burst.resDuration,unit:"s"}]}}}),q.condTem("passive2",{value:JC,path:BN,canShow:i(_r,"on",1),name:d("hitOp.burst"),states:C(QC,t=>({name:d("hits",{count:t}),fields:[{node:e(Ia.passive2.eleMas,y.info("eleMas"))}]}))})]),passive1:q.talentTem("passive1"),passive2:q.talentTem("passive2"),passive3:q.talentTem("passive3"),constellation1:q.talentTem("constellation1"),constellation2:q.talentTem("constellation2"),constellation3:q.talentTem("constellation3",[{fields:[{node:e6}]}]),constellation4:q.talentTem("constellation4"),constellation5:q.talentTem("constellation5",[{fields:[{node:a6}]}]),constellation6:q.talentTem("constellation6",[q.condTem("constellation6",{value:_v,path:MN,name:q.chg("constellation6.name"),states:C(yv,t=>({name:d("stack",{count:t}),fields:[{node:ZC},{node:t6},{text:s("duration"),value:Ra.constellation6.duration,unit:"s"}]}))})])}},KN=new R(EN,HN),ic="Sucrose",l6="anemo",dp=_.char.data[ic],pn=_.char.skillParam[ic],Ve=A(ic,dp.weaponType);let Bc=0,m1=0,ku=0,u1=0,g1=0;const es={normal:{hitArr:[pn.auto[Bc++],pn.auto[Bc++],pn.auto[Bc++],pn.auto[Bc++]]},charged:{dmg:pn.auto[Bc++],stamina:pn.auto[Bc++][0]},plunging:{dmg:pn.auto[Bc++],low:pn.auto[Bc++],high:pn.auto[Bc++]},skill:{press:pn.skill[m1++],cd:pn.skill[m1++][0]},burst:{dot:pn.burst[ku++],dmg_:pn.burst[ku++],duration:pn.burst[ku++][0],cd:pn.burst[ku++][0],enerCost:pn.burst[ku++][0]},passive1:{eleMas:pn.passive1[u1++][0],duration:pn.passive1[u1++][0]},passive2:{eleMas_:pn.passive2[g1++][0],duration:pn.passive2[g1++][0]},constellation2:{durationInc:pn.constellation2[0]},constellation6:{ele_dmg_:pn.constellation6[0]}},[h1,Iu]=h(ic,"absorption"),n6=C(il,t=>[ic,`swirl${t}`]),s6=C(il,t=>Gf(n6[t])),[NN,o6]=h(ic,"skillHit"),i6=n(a.asc,1,es.passive1.eleMas),FN=C(il,t=>z(G.charKey,ic,i(G.charEle,s6[t],i6),{...y.info("eleMas"),isTeamBuff:!0})),c6=e(n(a.asc,4,m(c(es.passive2.eleMas_),a.premod.eleMas)),{...y.info("eleMas"),isTeamBuff:!0}),r6=i("hit",o6,c6),ON=z(G.charKey,ic,r6),jN=n(a.constellation,6,c(.2)),Cf=C(il.map(t=>`${t}_dmg_`),t=>i(Iu,t.slice(0,-5),jN)),Vi={normal:Object.fromEntries(es.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",es.charged.dmg,"charged")},plunging:E("atk",es.plunging),skill:{press:o("atk",es.skill.press,"skill")},burst:{dot:o("atk",es.burst.dot,"burst"),...Object.fromEntries(il.map(t=>[t,i(Iu,t,o("atk",es.burst.dmg_,"burst",{hit:{ele:p(t)}}))]))},passive2:{asc4OptNode:c6}},d6=n(a.constellation,3,3),m6=n(a.constellation,5,3),GN=B(ic,l6,"mondstadt",dp,Vi,{premod:{skillBoost:d6,burstBoost:m6},teamBuff:{total:{eleMas:ON},premod:{...Cf,eleMas:D(...Object.values(FN))}}}),zN={key:ic,name:Ve.name,rarity:dp.rarity,elementKey:l6,weaponTypeKey:dp.weaponType,gender:"F",constellationName:Ve.chg("constellationName"),title:Ve.chg("title"),talent:{auto:Ve.talentTem("auto",[{text:Ve.chg("auto.fields.normal")},{fields:es.normal.hitArr.map((t,l)=>({node:e(Vi.normal[l],{name:Ve.chg(`auto.skillParams.${l}`)})}))},{text:Ve.chg("auto.fields.charged")},{fields:[{node:e(Vi.charged.dmg,{name:Ve.chg("auto.skillParams.4")})},{text:Ve.chg("auto.skillParams.5"),value:es.charged.stamina}]},{text:Ve.chg("auto.fields.plunging")},{fields:[{node:e(Vi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Vi.plunging.low,{name:s("plunging.low")})},{node:e(Vi.plunging.high,{name:s("plunging.high")})}]}]),skill:Ve.talentTem("skill",[{fields:[{node:e(Vi.skill.press,{name:Ve.chg("skill.skillParams.0")})},{text:Ve.chg("skill.skillParams.1"),value:es.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]}]),burst:Ve.talentTem("burst",[{fields:[{node:e(Vi.burst.dot,{name:Ve.chg("burst.skillParams.0")})},{text:Ve.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=2?`${es.burst.duration}s + 2`:es.burst.duration,unit:"s"},{text:Ve.chg("burst.skillParams.3"),value:es.burst.cd,unit:"s"},{text:Ve.chg("burst.skillParams.4"),value:es.burst.enerCost}]},Ve.condTem("burst",{value:Iu,path:h1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Vi.burst[t],{name:Ve.chg("burst.skillParams.1")})}]}]))}),Ve.condTem("constellation6",{teamBuff:!0,value:Iu,path:h1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:Object.values(Cf).map(l=>({node:l}))}]))}),Ve.headerTem("constellation6",{canShow:z(Iu,void 0,1),fields:Object.values(Cf).map(t=>({node:t}))})]),passive1:Ve.talentTem("passive1",[Ve.condTem("passive1",{teamBuff:!0,states:C(il,t=>({path:n6[t],value:s6[t],name:d(`swirlReaction.${t}`),fields:[{node:e(i6,{...y.info("eleMas"),isTeamBuff:!0})},{text:d(`effectDuration.${t}`),value:es.passive1.duration,unit:"s"}]}))})]),passive2:Ve.talentTem("passive2",[Ve.condTem("passive2",{teamBuff:!0,value:o6,path:NN,name:d("hitOp.skillOrBurst"),states:{hit:{fields:[{node:e(r6,y.info("eleMas"))},{text:s("duration"),value:es.passive2.duration,unit:"s"}]}}}),Ve.fieldsTem("passive2",{fields:[{node:Vi.passive2.asc4OptNode}]})]),passive3:Ve.talentTem("passive3"),constellation1:Ve.talentTem("constellation1",[Ve.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Ve.talentTem("constellation2"),constellation3:Ve.talentTem("constellation3",[{fields:[{node:d6}]}]),constellation4:Ve.talentTem("constellation4"),constellation5:Ve.talentTem("constellation5",[{fields:[{node:m6}]}]),constellation6:Ve.talentTem("constellation6")}},WN=new R(zN,GN),qu="Tartaglia",u6="hydro",LN="snezhnaya",mp=_.char.data[qu],xe=_.char.skillParam[qu],Z=A(qu,mp.weaponType);let Ts=0,os=0,Tm=0,UN=0;const jt={normal:{hitArr:[xe.auto[Ts++],xe.auto[Ts++],xe.auto[Ts++],xe.auto[Ts++],xe.auto[Ts++],xe.auto[Ts++]]},charged:{aimed:xe.auto[Ts++],aimedCharged:xe.auto[Ts++]},riptide:{flashDmg:xe.auto[Ts++],burstDmg:xe.auto[Ts++]},plunging:{dmg:xe.auto[Ts++],low:xe.auto[Ts++],high:xe.auto[Ts++]},riptideDuration:xe.auto[Ts++][0],skill:{stanceDmg:xe.skill[os++],normal1:xe.skill[os++],normal2:xe.skill[os++],normal3:xe.skill[os++],normal4:xe.skill[os++],normal5:xe.skill[os++],normal61:xe.skill[os++],normal62:xe.skill[os++],charged1:xe.skill[os++],charged2:xe.skill[os++],riptideSlash:xe.skill[os++],chargedStamina:xe.skill[os++][0],duration:xe.skill[os++][0],preemptiveCd1:xe.skill[os++][0],preemptiveCd2:xe.skill[os++][0],maxCd:xe.skill[os++][0]},burst:{meleeDmg:xe.burst[Tm++],riptideBlastDmg:xe.burst[Tm++],rangedDmg:xe.burst[Tm++],enerReturned:xe.burst[Tm++][0],cd:xe.burst[Tm++][0],enerCost:xe.burst[Tm++][0]},passive1:{durationExt:xe.passive1[UN++][0]},passive:{auto_boost:1},constellation1:{cdRed:.2}},nn={normal:Object.fromEntries(jt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",jt.charged.aimed,"charged"),aimedCharged:o("atk",jt.charged.aimedCharged,"charged",{hit:{ele:p("hydro")}}),flashDmg:o("atk",jt.riptide.flashDmg,"normal",{hit:{ele:p("hydro")}}),burstDmg:o("atk",jt.riptide.burstDmg,"normal",{hit:{ele:p("hydro")}})},plunging:E("atk",jt.plunging),skill:{stanceDmg:o("atk",jt.skill.stanceDmg,"skill"),normal1:F(m($(a.total.skillIndex,jt.skill.normal1,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal2:F(m($(a.total.skillIndex,jt.skill.normal2,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal3:F(m($(a.total.skillIndex,jt.skill.normal3,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal4:F(m($(a.total.skillIndex,jt.skill.normal4,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal5:F(m($(a.total.skillIndex,jt.skill.normal5,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal61:F(m($(a.total.skillIndex,jt.skill.normal61,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal62:F(m($(a.total.skillIndex,jt.skill.normal62,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),charged1:F(m($(a.total.skillIndex,jt.skill.charged1,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p("hydro")}}),charged2:F(m($(a.total.skillIndex,jt.skill.charged2,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p("hydro")}}),riptideSlash:o("atk",jt.skill.riptideSlash,"skill")},burst:{meleeDmg:o("atk",jt.burst.meleeDmg,"burst"),rangedDmg:o("atk",jt.burst.rangedDmg,"burst"),riptideBlastDmg:o("atk",jt.burst.riptideBlastDmg,"burst")}},g6=p(1),h6=n(a.constellation,3,3),p6=n(a.constellation,5,3),qN=B(qu,u6,LN,mp,nn,{premod:{skillBoost:h6,burstBoost:p6},teamBuff:{premod:{autoBoost:g6}}}),VN={key:qu,name:Z.name,rarity:mp.rarity,elementKey:u6,weaponTypeKey:mp.weaponType,gender:"M",constellationName:Z.chg("constellationName"),title:Z.chg("title"),talent:{auto:Z.talentTem("auto",[{text:Z.chg("auto.fields.normal")},{fields:jt.normal.hitArr.map((t,l)=>({node:e(nn.normal[l],{name:Z.chg(`auto.skillParams.${l}`)})}))},{text:Z.chg("auto.fields.charged")},{fields:[{node:e(nn.charged.aimed,{name:Z.chg("auto.skillParams.6")})},{node:e(nn.charged.aimedCharged,{name:Z.chg("auto.skillParams.7")})}]},{text:Z.chg("auto.fields.riptide")},{fields:[{node:e(nn.charged.flashDmg,{name:Z.chg("auto.skillParams.8"),multi:3})},{node:e(nn.charged.burstDmg,{name:Z.chg("auto.skillParams.9")})},{text:Z.chg("auto.skillParams.10"),value:t=>t.get(a.asc).value>=1?jt.passive1.durationExt+jt.riptideDuration:jt.riptideDuration,unit:"s"}]},{text:Z.chg("auto.fields.plunging")},{fields:[{node:e(nn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(nn.plunging.low,{name:s("plunging.low")})},{node:e(nn.plunging.high,{name:s("plunging.high")})}]}]),skill:Z.talentTem("skill",[{fields:[{node:e(nn.skill.stanceDmg,{name:Z.chg("skill.skillParams.0")})},{node:e(nn.skill.normal1,{name:Z.chg("skill.skillParams.1")})},{node:e(nn.skill.normal2,{name:Z.chg("skill.skillParams.2")})},{node:e(nn.skill.normal3,{name:Z.chg("skill.skillParams.3")})},{node:e(nn.skill.normal4,{name:Z.chg("skill.skillParams.4")})},{node:e(nn.skill.normal5,{name:Z.chg("skill.skillParams.5")})},{node:e(nn.skill.normal61,{name:Z.chg("skill.skillParams.6"),textSuffix:"(1)"})},{node:e(nn.skill.normal62,{name:Z.chg("skill.skillParams.6"),textSuffix:"(2)"})},{node:e(nn.skill.charged1,{name:Z.chg("skill.skillParams.7"),textSuffix:"(1)"})},{node:e(nn.skill.charged2,{name:Z.chg("skill.skillParams.7"),textSuffix:"(2)"})},{node:e(p(jt.skill.chargedStamina),{name:Z.chg("skill.skillParams.8")})},{node:e(nn.skill.riptideSlash,{name:Z.chg("skill.skillParams.9")})},{text:Z.chg("skill.skillParams.10"),value:jt.skill.duration,unit:"s"},{text:Z.chg("skill.skillParams.11"),value:t=>t.get(a.constellation).value>=1?`${jt.skill.preemptiveCd1-jt.skill.preemptiveCd1*jt.constellation1.cdRed}
            - ${jt.skill.preemptiveCd2-jt.skill.preemptiveCd2*jt.constellation1.cdRed}`:`${jt.skill.preemptiveCd1} - ${jt.skill.preemptiveCd2}`,unit:"s"},{text:Z.chg("skill.skillParams.12"),value:t=>t.get(a.constellation).value>=1?`${jt.skill.maxCd-jt.skill.maxCd*jt.constellation1.cdRed}`:`${jt.skill.maxCd}`,unit:"s"}]}]),burst:Z.talentTem("burst",[{fields:[{node:e(nn.burst.meleeDmg,{name:Z.chg("burst.skillParams.0")})},{node:e(nn.burst.rangedDmg,{name:Z.chg("burst.skillParams.1")})},{node:e(nn.burst.riptideBlastDmg,{name:Z.chg("burst.skillParams.2")})},{text:Z.chg("burst.skillParams.4"),value:`${jt.burst.cd}`,unit:"s"},{text:Z.chg("burst.skillParams.5"),value:`${jt.burst.enerCost}`},{text:Z.chg("burst.skillParams.3"),value:`${jt.burst.enerReturned}`}]}]),passive1:Z.talentTem("passive1"),passive2:Z.talentTem("passive2"),passive3:Z.talentTem("passive3",[Z.headerTem("passive3",{teamBuff:!0,fields:[{node:g6}]})]),constellation1:Z.talentTem("constellation1"),constellation2:Z.talentTem("constellation2"),constellation3:Z.talentTem("constellation3",[{fields:[{node:h6}]}]),constellation4:Z.talentTem("constellation4"),constellation5:Z.talentTem("constellation5",[{fields:[{node:p6}]}]),constellation6:Z.talentTem("constellation6")}},JN=new R(VN,qN),lm="Thoma",Nc="pyro",up=_.char.data[lm],ia=_.char.skillParam[lm],ue=A(lm,up.weaponType);let Ic=0,gd=0,Rc=0;const ae={normal:{hitArr:[ia.auto[Ic++],ia.auto[Ic++],ia.auto[Ic++],ia.auto[Ic++]]},charged:{dmg:ia.auto[Ic++],stamina:ia.auto[Ic++][0]},plunging:{dmg:ia.auto[Ic++],low:ia.auto[Ic++],high:ia.auto[Ic++]},skill:{dmg:ia.skill[gd++],hpShield_:ia.skill[gd++],baseShield:ia.skill[gd++],shieldDuration:ia.skill[gd++][0],maxHpShield_:ia.skill[gd++],maxBaseShield:ia.skill[gd++],cd:ia.skill[gd++][0]},burst:{pressDmg:ia.burst[Rc++],collapseDmg:ia.burst[Rc++],hpShield_:ia.burst[Rc++],baseShield:ia.burst[Rc++],shieldDuration:ia.burst[Rc++][0],unknown:ia.burst[Rc++][0],scorchingDuration:ia.burst[Rc++][0],cd:ia.burst[Rc++][0],enerCost:ia.burst[Rc++][0]},passive1:{shield_:ia.passive1[0][0],duration:ia.passive1[1][0],maxStacks:ia.passive1[2][0],cd:ia.passive1[3][0]},passive2:{collapse_dmgInc:ia.passive2[0][0]},c2:{burstDuration:ia.constellation2[0]},c4:{energyRestore:ia.constellation4[0]},c6:{auto_dmg:ia.constellation6[0],duration:ia.constellation6[1]}},[QN,k6]=h(lm,"p1BarrierStacks"),f6=n(a.asc,1,w(k6,Object.fromEntries(N(1,ae.passive1.maxStacks).map(t=>[t,p(t*ae.passive1.shield_)])),O)),b6=n(a.asc,4,m(a.total.hp,ae.passive2.collapse_dmgInc)),[XN,v6]=h(lm,"c6AfterBarrier"),Gp=n(a.constellation,6,i(v6,"on",ae.c6.auto_dmg)),_6={...Gp},y6={...Gp},ys={normal:Object.fromEntries(ae.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",ae.charged.dmg,"charged")},plunging:E("atk",ae.plunging),skill:{dmg:o("atk",ae.skill.dmg,"skill"),minShield:Cn("hp",ae.skill.hpShield_,ae.skill.baseShield,"skill"),minPyroShield:tn("pyro",Cn("hp",ae.skill.hpShield_,ae.skill.baseShield,"skill")),maxShield:Cn("hp",ae.skill.maxHpShield_,ae.skill.maxBaseShield,"skill"),maxPyroShield:tn("pyro",Cn("hp",ae.skill.maxHpShield_,ae.skill.maxBaseShield,"skill"))},burst:{pressDmg:o("atk",ae.burst.pressDmg,"burst"),collapseDmg:o("atk",ae.burst.collapseDmg,"burst",{premod:{burst_dmgInc:b6}}),shield:Cn("hp",ae.burst.hpShield_,ae.burst.baseShield,"burst"),pyroShield:tn("pyro",Cn("hp",ae.burst.hpShield_,ae.burst.baseShield,"burst"))}},T6=n(a.constellation,3,3),$6=n(a.constellation,5,3),YN=B(lm,Nc,"inazuma",up,ys,{premod:{skillBoost:T6,burstBoost:$6},teamBuff:{premod:{shield_:f6,normal_dmg_:Gp,charged_dmg_:_6,plunging_dmg_:y6}}}),ZN={key:lm,name:ue.name,rarity:up.rarity,elementKey:Nc,weaponTypeKey:up.weaponType,gender:"M",constellationName:ue.chg("constellationName"),title:ue.chg("title"),talent:{auto:ue.talentTem("auto",[{text:ue.chg("auto.fields.normal")},{fields:ae.normal.hitArr.map((t,l)=>({node:e(ys.normal[l],{name:ue.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ue.chg("auto.fields.charged")},{fields:[{node:e(ys.charged.dmg1,{name:ue.chg("auto.skillParams.4")})},{text:ue.chg("auto.skillParams.5"),value:ae.charged.stamina}]},{text:ue.chg("auto.fields.plunging")},{fields:[{node:e(ys.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ys.plunging.low,{name:s("plunging.low")})},{node:e(ys.plunging.high,{name:s("plunging.high")})}]}]),skill:ue.talentTem("skill",[{fields:[{node:e(ys.skill.dmg,{name:ue.chg("skill.skillParams.0")})},{node:e(ys.skill.minShield,{name:ue.chg("skill.skillParams.1")})},{node:e(ys.skill.minPyroShield,{name:d(`dmgAbsorption.${Nc}`),variant:Nc})},{node:e(ys.skill.maxShield,{name:ue.chg("skill.skillParams.3")})},{node:e(ys.skill.maxPyroShield,{name:d(`dmgAbsorption.max.${Nc}`),variant:Nc})},{text:s("duration"),value:ae.skill.shieldDuration,unit:"s"},{text:s("cd"),value:ae.skill.cd,unit:"s"}]}]),burst:ue.talentTem("burst",[{fields:[{node:e(ys.burst.pressDmg,{name:ue.chg("burst.skillParams.0")})},{node:e(ys.burst.collapseDmg,{name:ue.chg("burst.skillParams.1")})},{node:e(ys.burst.shield,{name:ue.chg("burst.skillParams.2")})},{node:e(ys.burst.pyroShield,{name:d(`dmgAbsorption.${Nc}`),variant:Nc})},{text:ue.chg("burst.skillParams.3"),value:ae.burst.shieldDuration,unit:"s"},{text:ue.chg("burst.skillParams.4"),value:t=>t.get(a.constellation).value>=2?`${ae.burst.scorchingDuration}s + ${ae.c2.burstDuration}s = ${ae.burst.scorchingDuration+ae.c2.burstDuration}`:ae.burst.scorchingDuration,unit:"s"},{text:s("cd"),value:ae.burst.cd,unit:"s"},{text:s("energyCost"),value:ae.burst.enerCost}]},ue.condTem("passive1",{value:k6,path:QN,name:ue.ch("refreshBarrier"),teamBuff:!0,states:Object.fromEntries(N(1,ae.passive1.maxStacks).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:f6},{text:s("duration"),value:ae.passive1.duration,unit:"s"},{text:d("triggerCD"),value:ae.passive1.cd,unit:"s",fixed:1}]}]))}),ue.headerTem("passive2",{fields:[{node:e(b6,{name:ue.ch("a2"),variant:Nc})}]}),ue.headerTem("constellation2",{fields:[{text:ue.ch("c2"),value:ae.c2.burstDuration,unit:"s"}]}),ue.headerTem("constellation4",{fields:[{text:s("energyRegen"),value:ae.c4.energyRestore}]}),ue.condTem("constellation6",{value:v6,path:XN,name:ue.ch("refreshBarrier"),teamBuff:!0,states:{on:{fields:[{node:Gp},{node:_6},{node:y6}]}}})]),passive1:ue.talentTem("passive1"),passive2:ue.talentTem("passive2"),passive3:ue.talentTem("passive3"),constellation1:ue.talentTem("constellation1"),constellation2:ue.talentTem("constellation2"),constellation3:ue.talentTem("constellation3",[{fields:[{node:T6}]}]),constellation4:ue.talentTem("constellation4"),constellation5:ue.talentTem("constellation5",[{fields:[{node:$6}]}]),constellation6:ue.talentTem("constellation6")}},tF=new R(ZN,YN),zr="Tighnari",zp="dendro",eF="sumeru",gp=_.char.data[zr],za=_.char.skillParam[zr],ge=A(zr,gp.weaponType);let qo=0,Ig=0,Rg=0,p1=0,k1=0;const Al={normal:{hitArr:[za.auto[qo++],za.auto[qo++],za.auto[qo++],za.auto[qo++]]},charged:{aimed:za.auto[qo++],aimedCharged:za.auto[qo++],wreathArrow:za.auto[qo++],clusterArrow:za.auto[qo++]},plunging:{dmg:za.auto[qo++],low:za.auto[qo++],high:za.auto[qo++]},skill:{dmg:za.skill[Ig++],fieldDuration:za.skill[Ig++][0],penetratorDuration:za.skill[Ig++][0],cd:za.skill[Ig++][0]},burst:{primaryDmg:za.burst[Rg++],secondaryDmg:za.burst[Rg++],cd:za.burst[Rg++][0],energyCost:za.burst[Rg++][0]},passive1:{eleMas:za.passive1[p1++][0],duration:za.passive1[p1++][0]},passive2:{charged_burst_dmg_:za.passive2[k1++][0],maxDmg_:za.passive2[k1++][0]},constellation1:{charged_critRate_:za.constellation1[0]},constellation2:{dendro_dmg_:za.constellation2[0],duration:za.constellation2[1]},constellation4:{eleMas:za.constellation4[0],duration:za.constellation4[1]},constellation6:{unknown:za.constellation6[0],dmg:za.constellation6[1],chargeTimeRed:.9}},[aF,x6]=h(zr,"p1AfterWreath"),D6=n(a.asc,1,i(x6,"on",Al.passive1.eleMas)),Wp=n(a.asc,4,yl(m(c(Al.passive2.charged_burst_dmg_,{fixed:2}),a.total.eleMas),c(Al.passive2.maxDmg_))),Tv={...Wp},$k={hit:{ele:p(zp)}},P6=n(a.constellation,1,Al.constellation1.charged_critRate_),[lF,C6]=h(zr,"c2EnemyField"),S6=n(a.constellation,2,i(C6,"on",Al.constellation2.dendro_dmg_)),[nF,w6]=h(zr,"c4"),Sf=n(a.constellation,4,w(w6,{after:p(Al.constellation4.eleMas),react:p(Al.constellation4.eleMas*2)},O)),zs={normal:Object.fromEntries(Al.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Al.charged.aimed,"charged"),aimedCharged:o("atk",Al.charged.aimedCharged,"charged",$k),wreath:o("atk",Al.charged.wreathArrow,"charged",$k),cluster:o("atk",Al.charged.clusterArrow,"charged",$k)},plunging:E("atk",Al.plunging),skill:{dmg:o("atk",Al.skill.dmg,"skill")},burst:{primaryDmg:o("atk",Al.burst.primaryDmg,"burst"),secondaryDmg:o("atk",Al.burst.secondaryDmg,"burst")},passive2:{charged_dmg_:Wp,burst_dmg_:Tv},constellation6:{cluster:n(a.constellation,6,F(m(c(Al.constellation6.dmg),a.total.atk),"charged",{hit:{ele:p(zp)}}))}},A6=n(a.constellation,3,3),B6=n(a.constellation,5,3),sF=B(zr,zp,eF,gp,zs,{premod:{skillBoost:B6,burstBoost:A6,eleMas:D6,charged_dmg_:Wp,burst_dmg_:Tv,charged_critRate_:P6,dendro_dmg_:S6},teamBuff:{premod:{eleMas:Sf}}}),oF={key:zr,name:ge.name,rarity:gp.rarity,elementKey:zp,weaponTypeKey:gp.weaponType,gender:"M",constellationName:ge.chg("constellationName"),title:ge.chg("title"),talent:{auto:ge.talentTem("auto",[{text:ge.chg("auto.fields.normal")},{fields:Al.normal.hitArr.map((t,l)=>({node:e(zs.normal[l],{name:ge.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ge.chg("auto.fields.charged")},{fields:[{node:e(zs.charged.aimed,{name:ge.chg("auto.skillParams.4")})},{node:e(zs.charged.aimedCharged,{name:ge.chg("auto.skillParams.5")})},{node:e(zs.charged.wreath,{name:ge.chg("auto.skillParams.6")})},{node:e(zs.charged.cluster,{name:ge.chg("auto.skillParams.7")})}]},ge.condTem("passive1",{path:aF,value:x6,name:ge.ch("p1Cond"),states:{on:{fields:[{node:D6},{text:s("duration"),value:Al.passive1.duration,unit:"s"}]}}}),ge.headerTem("constellation1",{fields:[{node:P6}]}),ge.headerTem("constellation6",{fields:[{text:ge.ch("c6WreathRed"),value:Al.constellation6.chargeTimeRed,unit:"s",fixed:1},{node:e(zs.constellation6.cluster,{name:ge.ch("c6DmgKey")})}]}),{text:ge.chg("auto.fields.plunging")},{fields:[{node:e(zs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(zs.plunging.low,{name:s("plunging.low")})},{node:e(zs.plunging.high,{name:s("plunging.high")})}]}]),skill:ge.talentTem("skill",[{fields:[{node:e(zs.skill.dmg,{name:ge.chg("skill.skillParams.0")})},{text:ge.chg("skill.skillParams.1"),value:Al.skill.fieldDuration,unit:"s"},{text:ge.chg("skill.skillParams.2"),value:Al.skill.penetratorDuration,unit:"s"},{text:s("cd"),value:Al.skill.cd,unit:"s"}]},ge.condTem("constellation2",{path:lF,value:C6,name:d("opponentsField"),states:{on:{fields:[{node:S6}]}}})]),burst:ge.talentTem("burst",[{fields:[{node:e(zs.burst.primaryDmg,{name:ge.chg("burst.skillParams.0")})},{node:e(zs.burst.secondaryDmg,{name:ge.chg("burst.skillParams.1")})},{text:s("cd"),value:Al.burst.cd,unit:"s"},{text:s("energyCost"),value:Al.burst.energyCost}]},ge.condTem("constellation4",{path:nF,value:w6,teamBuff:!0,name:"",states:{after:{name:d("afterUse.burst"),fields:[{node:Sf},{text:s("duration"),value:Al.constellation4.duration,unit:"s"}]},react:{name:ge.ch("c4ReactCond"),fields:[{node:Sf},{text:s("duration"),value:Al.constellation4.duration,unit:"s"}]}}})]),passive1:ge.talentTem("passive1"),passive2:ge.talentTem("passive2",[ge.fieldsTem("passive2",{fields:[{node:Wp},{node:Tv}]})]),passive3:ge.talentTem("passive3"),constellation1:ge.talentTem("constellation1"),constellation2:ge.talentTem("constellation2"),constellation3:ge.talentTem("constellation3",[{fields:[{node:A6}]}]),constellation4:ge.talentTem("constellation4"),constellation5:ge.talentTem("constellation5",[{fields:[{node:B6}]}]),constellation6:ge.talentTem("constellation6")}},iF=new R(oF,sF);function cc(t,l,r,u){const v=_.char.data.Traveler,g=_.char.skillParam[t],b={normal:{hitArr:[g.auto[0],g.auto[1],g.auto[2],g.auto[3],g.auto[4]]},charged:{hit1:g.auto[5],hit2:g.auto[6],stamina:g.auto[7][0]},plunging:{dmg:g.auto[8],low:g.auto[9],high:g.auto[10]}},k={normal:Object.fromEntries(b.normal.hitArr.map((S,I)=>[I,o("atk",S,"normal")])),charged:{dmg1:o("atk",b.charged.hit1,"charged"),dmg2:o("atk",b.charged.hit2,"charged")},plunging:Object.fromEntries(Object.entries(b.plunging).map(([S,I])=>[S,o("atk",I,S==="dmg"?"plunging_collision":"plunging_impact")]))},{talent:T,data:x,elementKey:f}=r(t,l,k),H=A(t,v.weaponType);T.auto=H.talentTem("auto",[{text:H.chg("auto.fields.normal")},{fields:b.normal.hitArr.map((S,I)=>({node:e(k.normal[I],{name:H.chg(`auto.skillParams.${I}`)})}))},{text:H.chg("auto.fields.charged")},{fields:[{node:e(k.charged.dmg1,{name:H.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(k.charged.dmg2,{name:H.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:H.chg("auto.skillParams.6"),value:b.charged.stamina}]},{text:H.chg("auto.fields.plunging")},{fields:[{node:e(k.plunging.dmg,{name:s("plunging.dmg")})},{node:e(k.plunging.low,{name:s("plunging.low")})},{node:e(k.plunging.high,{name:s("plunging.high")})}]}]);const M={...u,talent:T,key:l,elementKey:f};return new R(M,x)}const xk=_.char.data.Traveler,Rs={sheet:{rarity:xk.rarity,weaponTypeKey:xk.weaponType},data_gen:xk},[Dk]=Nd("char","TravelerF"),Vu={sheet:{...Rs.sheet,name:zf("TravelerF",Dk),gender:"F",constellationName:Dk("constellationName"),title:Dk("title")},data_gen:Rs.data_gen};function I6(t,l,r){const u="anemo",v="TravelerAnemo",[,g]=Nd("char",v),b=A(t,Rs.data_gen.weaponType),k=_.char.skillParam.TravelerAnemoF;let T=0,x=0;const f={skill:{initial_dmg:k.skill[T++],initial_max:k.skill[T++],ele_dmg:.25,storm_dmg:k.skill[T++],storm_max:k.skill[T++],cd:k.skill[T++][0],maxCd:k.skill[T++][0]},burst:{dmg:k.burst[x++],absorbDmg:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{dmg:.6},passive2:{heal_:.02},constellation2:{enerRech_:.16},constellation6:{enemyRes_:-.2}},[H,M]=h(v,"skillAbsorption"),[S,I]=h(v,`${u}BurstAbsorption`),K=n(a.constellation,2,f.constellation2.enerRech_),[At,rl]=h(v,`${u}C6Hit`),en=n(a.constellation,6,i(rl,"on",f.constellation6.enemyRes_)),ks=Fm(il,mn=>[`${mn}_enemyRes_`,n(a.constellation,6,i(rl,"on",i(I,mn,f.constellation6.enemyRes_)))]),Re={hit:{ele:M}},dl={...r,skill:{initial_dmg:o("atk",f.skill.initial_dmg,"skill"),initial_max:o("atk",f.skill.initial_max,"skill"),initial_ele_dmg:z(M,void 0,o("atk",f.skill.initial_dmg,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),max_ele_dmg:z(M,void 0,o("atk",f.skill.initial_max,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),storm_dmg:o("atk",f.skill.storm_dmg,"skill"),storm_max:o("atk",f.skill.storm_max,"skill"),storm_ele_dmg:z(M,void 0,o("atk",f.skill.storm_dmg,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),storm_ele_max:z(M,void 0,o("atk",f.skill.storm_max,"skill",Re,p(f.skill.ele_dmg,{unit:"%"})))},burst:{dmg:o("atk",f.burst.dmg,"burst"),absorb:z(I,void 0,o("atk",f.burst.absorbDmg,"burst",{hit:{ele:I}}))},passive1:{dmg:n(a.asc,1,F(m(a.total.atk,f.passive1.dmg),"elemental",{hit:{ele:p(u)}}))},passive2:{heal:n(a.asc,2,Gn(m(c(f.passive2.heal_),a.total.hp)))}},as=n(a.constellation,3,3),$n=n(a.constellation,5,3),fi=B(l,u,void 0,Rs.data_gen,dl,{premod:{skillBoost:$n,burstBoost:as,enerRech_:K},teamBuff:{premod:{...ks,anemo_enemyRes_:en}}});return{talent:{skill:b.talentTem("skill",[{fields:[{node:e(dl.skill.initial_dmg,{name:b.chg("skill.skillParams.0"),multi:2})},{node:e(dl.skill.initial_max,{name:b.chg("skill.skillParams.1"),multi:4})},{node:e(dl.skill.storm_dmg,{name:b.chg("skill.skillParams.2")})},{node:e(dl.skill.storm_max,{name:b.chg("skill.skillParams.3")})},{text:b.chg("skill.skillParams.4"),value:f.skill.cd,unit:"s"},{text:b.chg("skill.skillParams.5"),value:f.skill.maxCd,unit:"s"}]},b.condTem("skill",{value:M,path:H,name:d("eleAbsor"),states:Object.fromEntries(il.map(mn=>[mn,{name:P(yt,{color:mn,children:s(`element.${mn}`)}),fields:[{node:e(dl.skill.initial_ele_dmg,{name:g("initialEleDmg")})},{node:e(dl.skill.max_ele_dmg,{name:g("maxEleDmg"),multi:4})},{node:e(dl.skill.storm_ele_dmg,{name:g("stormEleDmg")})},{node:e(dl.skill.storm_ele_max,{name:g("stormEleMaxDmg")})}]}]))}),b.headerTem("constellation4",{fields:[{text:g("c4"),value:10,unit:"%"}]})]),burst:b.talentTem("burst",[{fields:[{node:e(dl.burst.dmg,{name:b.chg("burst.skillParams.0")})},{text:b.chg("burst.skillParams.2"),value:f.burst.duration,unit:"s"},{text:b.chg("burst.skillParams.3"),value:f.burst.cd,unit:"s"},{text:b.chg("burst.skillParams.4"),value:f.burst.enerCost}]},b.condTem("burst",{value:I,path:S,name:d("eleAbsor"),states:Object.fromEntries(il.map(mn=>[mn,{name:P(yt,{color:mn,children:s(`element.${mn}`)}),fields:[{node:e(dl.burst.absorb,{name:b.chg("burst.skillParams.1")})}]}]))}),b.condTem("constellation6",{value:rl,path:At,teamBuff:!0,name:g("c6"),states:{on:{fields:[{node:e(en,y.info("anemo_enemyRes_"))},{text:s("duration"),value:10,unit:"s"}]}}}),b.condTem("constellation6",{value:I,path:S,name:d("eleAbsor"),teamBuff:!0,canShow:i(rl,"on",1),states:Object.fromEntries(il.map(mn=>[mn,{name:P(yt,{color:mn,children:s(`element.${mn}`)}),fields:[{node:ks[`${mn}_enemyRes_`]},{text:s("duration"),value:10,unit:"s"}]}]))})]),passive1:b.talentTem("passive1",[b.fieldsTem("passive1",{fields:[{node:e(dl.passive1.dmg,{name:g("p1")})}]})]),passive2:b.talentTem("passive2",[b.fieldsTem("passive2",{fields:[{node:e(dl.passive2.heal,{name:s("healing")})}]})]),constellation1:b.talentTem("constellation1"),constellation2:b.talentTem("constellation2",[{fields:[{node:K}]}]),constellation3:b.talentTem("constellation3",[{fields:[{node:as}]}]),constellation4:b.talentTem("constellation4"),constellation5:b.talentTem("constellation5",[{fields:[{node:$n}]}]),constellation6:b.talentTem("constellation6")},data:fi,elementKey:u}}const cF="TravelerAnemoF",rF="TravelerAnemo",dF=cc(cF,rF,I6,Vu.sheet),[Pk]=Nd("char","TravelerM"),Ju={sheet:{...Rs.sheet,name:zf("TravelerM",Pk),gender:"M",constellationName:Pk("constellationName"),title:Pk("title")},data_gen:Rs.data_gen},mF="TravelerAnemoM",uF="TravelerAnemo",gF=cc(mF,uF,I6,Ju.sheet);function R6(t,l,r){const u="dendro",v="TravelerDendro",g=A(t,Rs.data_gen.weaponType),b=_.char.skillParam.TravelerDendroF;let k=0,T=0;const x={skill:{dmg:b.skill[k++],cd:b.skill[k++][0]},burst:{lampDmg:b.burst[T++],explosionDmg:b.burst[T++],unknown1:b.burst[T++],unknown2:b.burst[T++],lampDuration:b.burst[T++][0],cd:b.burst[T++][0],enerCost:b.burst[T++][0]},passive1:{eleMas:b.passive1[0][0],maxStacks:10},passive2:{skill_dmgInc:b.passive2[0][0],burst_dmgInc:b.passive2[1][0]},constellation1:{energyRegen:1},constellation2:{durationInc:b.constellation2[0]},constellation6:{ele_dmg_:b.constellation6[0]}},[f,H]=h(v,"a1Stacks"),M=N(1,x.passive1.maxStacks),S=n(a.asc,1,w(H,Object.fromEntries(M.map(Qn=>[Qn,m(x.passive1.eleMas,Qn)])),O),y.info("eleMas")),I=i(a.activeCharKey,G.charKey,S),K=n(a.asc,4,m(c(x.passive2.skill_dmgInc,{fixed:2}),a.total.eleMas),{unit:"%"}),At=n(a.asc,4,m(c(x.passive2.burst_dmgInc),a.total.eleMas),{unit:"%"}),[rl,en]=h(v,"c6BurstEffect"),[ks,Re]=h(v,"c6BurstEle"),dl=n(a.constellation,6,i(en,"on",c(x.constellation6.ele_dmg_))),as=i(a.activeCharKey,G.charKey,dl),$n=Object.fromEntries(["hydro","pyro","electro"].map(Qn=>[Qn,n(a.constellation,6,i(en,"on",i(Re,Qn,c(x.constellation6.ele_dmg_))))])),fi=Object.fromEntries(Object.entries($n).map(([Qn,qp])=>[`${Qn}_dmg_`,i(a.activeCharKey,G.charKey,qp)])),Bn={...r,skill:{dmg:o("atk",x.skill.dmg,"skill")},burst:{lampDmg:o("atk",x.burst.lampDmg,"burst"),explosionDmg:o("atk",x.burst.explosionDmg,"burst")}},mn=n(a.constellation,3,3),Up=n(a.constellation,5,3),Vr=B(l,u,void 0,Rs.data_gen,Bn,{premod:{burstBoost:Up,skillBoost:mn,skill_dmg_:K,burst_dmg_:At},teamBuff:{premod:{eleMas:I,dendro_dmg_:as,...fi}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(Bn.skill.dmg,{name:g.chg("skill.skillParams.0")})},{text:s("cd"),value:x.skill.cd,unit:"s"}]}]),burst:g.talentTem("burst",[{fields:[{node:e(Bn.burst.lampDmg,{name:g.chg("burst.skillParams.0")})},{node:e(Bn.burst.explosionDmg,{name:g.chg("burst.skillParams.1")})},{text:g.chg("burst.skillParams.2"),value:Qn=>Qn.get(a.constellation).value>=2?`${x.burst.lampDuration}s + ${x.constellation2.durationInc}s = ${x.burst.lampDuration+x.constellation2.durationInc}`:x.burst.lampDuration,unit:"s"},{text:s("cd"),value:x.burst.cd,unit:"s"},{text:s("energyCost"),value:x.burst.enerCost}]},g.condTem("passive1",{path:f,value:H,teamBuff:!0,name:d("stacks"),states:Object.fromEntries(M.map(Qn=>[Qn,{name:d("stack",{count:Qn}),fields:[{node:S}]}]))}),g.headerTem("constellation2",{fields:[{text:d("durationInc"),value:x.constellation2.durationInc,unit:"s"}]}),g.condTem("constellation6",{path:rl,value:en,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(dl,{...y.info("dendro_dmg_"),isTeamBuff:!0})}]}}}),g.condTem("constellation6",{path:ks,value:Re,teamBuff:!0,canShow:i(en,"on",1),name:d("eleAbsor"),states:Object.fromEntries(Object.entries($n).map(([Qn,qp])=>[Qn,{name:P(yt,{color:Qn,children:s(`element.${Qn}`)}),fields:[{node:e(qp,{...y.info(`${Qn}_dmg_`),isTeamBuff:!0})}]}]))})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2",[g.fieldsTem("passive2",{fields:[{node:K},{node:At}]})]),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:mn}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:Up}]}]),constellation6:g.talentTem("constellation6")},data:Vr,elementKey:u}}const hF="TravelerDendroF",pF="TravelerDendro",kF=cc(hF,pF,R6,Vu.sheet),fF="TravelerDendroM",bF="TravelerDendro",vF=cc(fF,bF,R6,Ju.sheet);function M6(t,l,r){const u="electro",v="TravelerElectro",g=A(t,Rs.data_gen.weaponType),[,b]=Nd("char",v),k=_.char.skillParam.TravelerElectroF;let T=0,x=0;const f={skill:{dmg:k.skill[T++],energyRestore:k.skill[T++],amulets:2,amuletDuration:k.skill[T++][0],enerRech_:k.skill[T++][0],enerRech_duration:k.skill[T++][0],cd:k.skill[T++][0]},burst:{pressDmg:k.burst[x++],thunderDmg:k.burst[x++],thunderCd:.5,energyRestore:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{cdRed:k.passive1[0][0]},passive2:{enerRech_:k.passive2[0][0]},constellation1:{addlAmulets:1},constellation2:{duration:k.constellation2[0],electro_enemyRes:k.constellation2[1]},constellation6:{numAttacks:k.constellation6[0],thunder_dmg_:k.constellation6[0],energyRestore:k.constellation6[1]}},[H,M]=h(v,`${u}SkillAmulet`),S=n(a.asc,4,m(a.premod.enerRech_,c(f.passive2.enerRech_))),I=i(M,"on",D(c(f.skill.enerRech_),S)),K=i(a.activeCharKey,G.charKey,I),At=$(a.total.burstIndex,f.burst.energyRestore,{name:g.chg("burst.skillParmas.2")}),[rl,en]=h(v,`${u}C2Thunder`),ks=n(a.constellation,2,i(en,"on",f.constellation2.electro_enemyRes)),Re={...r,skill:{dmg:o("atk",f.skill.dmg,"skill")},burst:{pressDmg:o("atk",f.burst.pressDmg,"burst"),thunderDmg:o("atk",f.burst.thunderDmg,"burst"),thirdThunderDmg:n(a.constellation,6,F(m($(a.total.burstIndex,f.burst.thunderDmg,{unit:"%"}),c(f.constellation6.thunder_dmg_),a.total.atk),"burst",{hit:{ele:p(u)}}))}},dl=n(a.constellation,3,3),as=n(a.constellation,5,3),$n=B(l,u,void 0,Rs.data_gen,Re,{premod:{skillBoost:as,burstBoost:dl},teamBuff:{premod:{electro_enemyRes_:ks},total:{enerRech_:K}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(Re.skill.dmg,{name:g.chg("skill.skillParams.0")})},{canShow:Bn=>Bn.get(a.constellation).value<4,node:$(a.total.skillIndex,f.skill.energyRestore,{name:b("skill.enerRest.none")})},{canShow:Bn=>Bn.get(a.constellation).value>=4,node:$(a.total.skillIndex,f.skill.energyRestore,{name:b("skill.enerRest.over35")})},{canShow:Bn=>Bn.get(a.constellation).value>=4,node:e(m($(a.total.skillIndex,f.skill.energyRestore),2),{name:b("skill.enerRest.under35")})},{text:b("skill.amuletGenAmt"),value:Bn=>Bn.get(a.constellation).value>=1?f.skill.amulets+f.constellation1.addlAmulets:f.skill.amulets},{text:g.chg("skill.skillParams.4"),value:f.skill.amuletDuration,unit:"s"},{text:s("cd"),value:f.skill.cd,unit:"s",fixed:1}]},g.condTem("skill",{value:M,path:H,name:b("skill.absorb"),teamBuff:!0,states:{on:{fields:[{node:e(I,y.info("enerRech_"))},{text:s("duration"),value:f.skill.enerRech_duration,unit:"s"}]}}}),g.headerTem("passive1",{fields:[{text:g.chg("passive1.description")}]}),g.headerTem("passive2",{fields:[{node:e(S,{name:b("passive2.enerRech_"),unit:"%"})}]})]),burst:g.talentTem("burst",[{fields:[{node:e(Re.burst.pressDmg,{name:g.chg("burst.skillParams.0")})},{node:e(Re.burst.thunderDmg,{name:g.chg("burst.skillParams.1")})},{node:e(Re.burst.thirdThunderDmg,{name:b("burst.3rd")})},{text:b("burst.thunderCd"),value:f.burst.thunderCd,unit:"s",fixed:1},{node:e(At,{name:g.chg("burst.skillParams.2"),fixed:1})},{text:s("duration"),value:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.condTem("constellation2",{value:en,path:rl,name:b("c2.thunderHit"),teamBuff:!0,states:{on:{fields:[{node:ks},{text:s("duration"),value:f.constellation2.duration,unit:"s"}]}}})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2"),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:dl}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:as}]}]),constellation6:g.talentTem("constellation6")},data:$n,elementKey:u}}const _F="TravelerElectroF",yF="TravelerElectro",TF=cc(_F,yF,M6,Vu.sheet),$F="TravelerElectroM",xF="TravelerElectro",DF=cc($F,xF,M6,Ju.sheet);function H6(t,l,r){const u="geo",v="TravelerGeo",g=A(t,Rs.data_gen.weaponType),[,b]=Nd("char",v),k=_.char.skillParam.TravelerGeoF;let T=0,x=0;const f={skill:{dmg:k.skill[T++],duration:k.skill[T++][0],cd:k.skill[T++][0]},burst:{dmg:k.burst[x++],numShockwaves:4,duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{skill_cdRed:2},passive2:{geoDmg:c(.6)},constellation1:{critRate_:c(.1)},constellation4:{energyRestore:5,maxTriggers:5},constellation6:{burstDuration:5,skillDuration:10}},[H,M]=h(v,`${u}C1BurstArea`),S=n(a.constellation,1,i(M,"on",f.constellation1.critRate_)),I=i(a.activeCharKey,G.charKey,S),K={...r,skill:{dmg:o("atk",f.skill.dmg,"skill")},burst:{dmg:o("atk",f.burst.dmg,"burst")},passive2:{dmg:F(m(a.total.atk,f.passive2.geoDmg),"elemental",{hit:{ele:p("geo")}})},constellation2:{dmg:n(a.constellation,2,o("atk",f.skill.dmg,"skill"))}},At=n(a.constellation,3,3),rl=n(a.constellation,5,3),en=B(l,u,void 0,Rs.data_gen,K,{premod:{skillBoost:rl,burstBoost:At},teamBuff:{premod:{critRate_:I}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(K.skill.dmg,{name:g.chg("skill.skillParams.0")})},{text:g.chg("skill.skillParams.1"),value:Re=>Re.get(a.constellation).value>=6?`${f.skill.duration}s + ${f.constellation6.skillDuration}s = ${f.skill.duration+f.constellation6.skillDuration}`:f.skill.duration,unit:"s"},{text:s("cd"),value:Re=>Re.get(a.asc).value>=1?`${f.skill.cd}s - ${f.passive1.skill_cdRed}s = ${f.skill.cd-f.passive1.skill_cdRed}`:f.skill.cd,unit:"s"}]},g.headerTem("passive1",{fields:[{text:d("skillCDRed"),value:f.passive1.skill_cdRed,unit:"s"}]}),g.headerTem("constellation2",{fields:[{node:e(K.constellation2.dmg,{name:b("c2.key")})}]}),g.headerTem("constellation6",{fields:[{text:d("durationInc"),value:f.constellation6.skillDuration,unit:"s"}]})]),burst:g.talentTem("burst",[{fields:[{node:e(K.burst.dmg,{name:g.chg("burst.skillParams.0"),multi:f.burst.numShockwaves})},{text:g.chg("burst.skillParams.1"),value:Re=>Re.get(a.constellation).value>=6?`${f.burst.duration}s + ${f.constellation6.burstDuration}s = ${f.burst.duration+f.constellation6.burstDuration}`:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.condTem("constellation1",{value:M,path:H,name:d("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:e(S,y.info("critRate_"))},{text:d("incInterRes")}]}}}),g.headerTem("constellation4",{fields:[{text:d("enerRegenPerHit"),value:f.constellation4.energyRestore}]}),g.headerTem("constellation6",{fields:[{text:d("durationInc"),value:f.constellation6.burstDuration,unit:"s"}]})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2",[g.fieldsTem("passive2",{fields:[{node:e(K.passive2.dmg,{name:b("passive2.key")})}]})]),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:At}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:rl}]}]),constellation6:g.talentTem("constellation6")},data:en,elementKey:u}}const PF="TravelerGeoF",CF="TravelerGeo",SF=cc(PF,CF,H6,Vu.sheet),wF="TravelerGeoM",AF="TravelerGeo",BF=cc(wF,AF,H6,Ju.sheet);function E6(t,l,r){const u="hydro",v="TravelerHydro",g=A(t,Rs.data_gen.weaponType),[,b]=Nd("char",v),k=_.char.skillParam.TravelerHydroF;let T=0,x=0;const f={skill:{dewdropDmg:k.skill[T++],surgeDmg:k.skill[T++],thornDmg:k.skill[T++],thornInterval:k.skill[T++][0],hpCost:k.skill[T++][0],dmgBonus:k.skill[T++],suffusionLimit:k.skill[T++][0],cd:k.skill[T++][0],holdDuration:k.skill[T++][0]},burst:{dmg:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{numDropsPerSec:k.passive1[0][0],maxDrops:k.passive1[1][0],heal:k.passive1[2][0]},passive2:{surge_dmgInc:k.passive2[0][0],maxSurge_dmgInc:k.passive2[1][0]},constellation1:{energyRegen:k.constellation1[0]},constellation2:{movementSpdDec:k.constellation2[0],durationInc:k.constellation2[1]},constellation4:{shield_:k.constellation4[0],restoreInterval:k.constellation4[1],restore_:.1},constellation6:{heal:k.constellation6[0]}},[H,M]=h(v,"suffusion"),S=i(M,"on",m($(a.total.skillIndex,f.skill.dmgBonus,{unit:"%"}),a.total.hp)),I=m(c(f.skill.hpCost),a.total.hp),K=[f.skill.hpCost,2*f.skill.hpCost,3*f.skill.hpCost,4*f.skill.hpCost,5*f.skill.hpCost,6*f.skill.hpCost],[At,rl]=h(v,"a4HpConsumedPercent"),en=w(rl,C(K,Vr=>m(a.total.hp,c(Vr))),O),ks=n(a.asc,4,yl(f.passive2.maxSurge_dmgInc,m(c(f.passive2.surge_dmgInc),en))),Re=n(a.constellation,4,Hu("hp",f.constellation4.shield_,0)),dl=n(a.constellation,4,tn("hydro",Re)),as=n(a.constellation,6,zn("hp",f.constellation6.heal,0)),$n={...r,skill:{surgeDmg:o("atk",f.skill.surgeDmg,"skill",{premod:{skill_dmgInc:ks}}),dewdropDmg:o("atk",f.skill.dewdropDmg,"skill",{premod:{skill_dmgInc:S}}),thornDmg:o("atk",f.skill.thornDmg,"skill"),suffusion_hpCost:I,suffusion_dewdrop_dmgInc:S},burst:{dmg:o("atk",f.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,zn("hp",f.passive1.heal,0))},passive2:{a4HpConsumed_surge_dmgInc:ks},constellation4:{c4Shield:Re,c4HydroShield:dl}},fi=n(a.constellation,3,3),Bn=n(a.constellation,5,3),mn=B(l,u,void 0,Rs.data_gen,$n,{premod:{burstBoost:Bn,skillBoost:fi}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e($n.skill.surgeDmg,{name:g.chg("skill.skillParams.0")})},{node:e($n.skill.dewdropDmg,{name:g.chg("skill.skillParams.1")})},{node:e($n.skill.thornDmg,{name:g.chg("skill.skillParams.2")})},{text:g.chg("skill.skillParams.3"),value:f.skill.thornInterval,unit:"s"},{node:e($n.skill.suffusion_hpCost,{name:g.chg("skill.skillParams.4")})},{text:g.chg("skill.skillParams.6"),value:f.skill.holdDuration,unit:"s"},{text:s("cd"),value:f.skill.cd,unit:"s"}]},g.condTem("skill",{value:M,path:H,name:b("skillCondName"),states:{on:{fields:[{node:e($n.skill.suffusion_dewdrop_dmgInc,{name:b("dewdropDmgInc")})}]}}}),g.condTem("passive2",{value:rl,path:At,name:b("a4CondName"),states:C(K,Vr=>({name:`${Vr*100}%`,fields:[{node:e($n.passive2.a4HpConsumed_surge_dmgInc,{name:b("surgeDmgInc")})}]}))}),g.headerTem("constellation4",{fields:[{node:e($n.constellation4.c4Shield,{name:d("dmgAbsorption.none")})},{node:e($n.constellation4.c4HydroShield,{name:d("dmgAbsorption.hydro")})}]})]),burst:g.talentTem("burst",[{fields:[{node:e($n.burst.dmg,{name:g.chg("burst.skillParams.0")})},{text:s("duration"),value:Vr=>Vr.get(a.constellation).value>=2?`${f.burst.duration}s + ${f.constellation2.durationInc}s = ${f.burst.duration+f.constellation2.durationInc}`:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.headerTem("constellation2",{fields:[{node:p(f.constellation2.movementSpdDec*-100,y.info("moveSPD_"))},{text:d("durationInc"),value:f.constellation2.durationInc,unit:"s"}]})]),passive1:g.talentTem("passive1",[{fields:[{node:e($n.passive1.heal,{name:s("healing")})}]},g.headerTem("constellation1",{fields:[{text:s("energyRegen"),value:f.constellation1.energyRegen}]})]),passive2:g.talentTem("passive2"),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:fi}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:Bn}]}]),constellation6:g.talentTem("constellation6",[g.headerTem("constellation6",{fields:[{node:e(as,{name:s("healing")})}]})])},data:mn,elementKey:u}}const IF="TravelerHydroF",RF="TravelerHydro",MF=cc(IF,RF,E6,Vu.sheet),HF="TravelerHydroM",EF="TravelerHydro",KF=cc(HF,EF,E6,Ju.sheet),gi="Venti",hp="anemo",pp=_.char.data[gi],xn=_.char.skillParam[gi],tt=A(gi,pp.weaponType);let Vo=0,Mg=0,fu=0;const Dl={normal:{hitArr:[xn.auto[Vo++],xn.auto[Vo++],xn.auto[Vo++],xn.auto[Vo++],xn.auto[Vo++],xn.auto[Vo++]]},charged:{aimed:xn.auto[Vo++],fully:xn.auto[Vo++]},plunging:{dmg:xn.auto[Vo++],low:xn.auto[Vo++],high:xn.auto[Vo++]},skill:{pressDmg:xn.skill[Mg++],pressCD:xn.skill[Mg++][0],holdDmg:xn.skill[Mg++],holdCD:xn.skill[Mg++][0]},burst:{baseDmg:xn.burst[fu++],baseTicks:20,absorbDmg:xn.burst[fu++],absorbTicks:15,duration:xn.burst[fu++][0],cd:xn.burst[fu++][0],enerCost:xn.burst[fu++][0]},passive1:{duration:xn.passive1[0][0]},passive3:{stam_:.2},constellation1:{dmgRatio:.33},constellation2:{res_:-.12,duration:10},constellation4:{anemo_dmg_:.25,duration:10},constellation6:{res_:-.2,duration:10}},K6=n(a.constellation,3,3),N6=n(a.constellation,5,3),F6=p(Dl.passive3.stam_),[f1,Nm]=h(gi,"burstAbsorption"),[NF,O6]=h(gi,"c2"),kp=n(a.constellation,2,w(O6,{hit:p(Dl.constellation2.res_),launched:m(Dl.constellation2.res_,2)},O)),wf={...kp},[FF,j6]=h(gi,"c4"),G6=n(a.constellation,4,i(j6,"pickup",Dl.constellation4.anemo_dmg_)),[OF,Ru]=h(gi,"c6"),z6=n(a.constellation,6,i(Ru,"takeDmg",Dl.constellation6.res_)),Af=Object.fromEntries(il.map(t=>[`${t}_enemyRes_`,n(a.constellation,6,i(Ru,"takeDmg",i(t,Nm,Dl.constellation6.res_)))])),Ws={normal:Object.fromEntries(Dl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Dl.charged.aimed,"charged"),fully:o("atk",Dl.charged.fully,"charged",{hit:{ele:p(hp)}})},plunging:E("atk",Dl.plunging),skill:{press:o("atk",Dl.skill.pressDmg,"skill"),hold:o("atk",Dl.skill.holdDmg,"skill")},burst:{base:o("atk",Dl.burst.baseDmg,"burst"),absorb:z(Nm,void 0,o("atk",Dl.burst.absorbDmg,"burst",{hit:{ele:Nm}}))},constellation1:{aimed:n(a.constellation,1,F(m(c(Dl.constellation1.dmgRatio),$(a.total.autoIndex,Dl.charged.aimed,{unit:"%"}),a.total.atk),"charged")),fully:n(a.constellation,1,F(m(c(Dl.constellation1.dmgRatio),$(a.total.autoIndex,Dl.charged.fully,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p(hp)}}))}},jF=B(gi,hp,"mondstadt",pp,Ws,{premod:{burstBoost:K6,skillBoost:N6,anemo_dmg_:G6,staminaGlidingDec_:F6},teamBuff:{premod:{anemo_enemyRes_:D(kp,z6),physical_enemyRes_:wf,...Af}}}),GF={key:gi,name:tt.name,rarity:pp.rarity,elementKey:hp,weaponTypeKey:pp.weaponType,gender:"M",constellationName:tt.chg("constellationName"),title:tt.chg("title"),talent:{auto:tt.talentTem("auto",[{text:tt.chg("auto.fields.normal")},{fields:Dl.normal.hitArr.map((t,l)=>({node:e(Ws.normal[l],{name:tt.chg(`auto.skillParams.${l}`),multi:l===0||l===3?2:void 0})}))},{text:tt.chg("auto.fields.charged")},{fields:[{node:e(Ws.charged.aimed,{name:tt.chg("auto.skillParams.6")})},{node:e(Ws.charged.fully,{name:tt.chg("auto.skillParams.7")})}]},tt.headerTem("constellation1",{fields:[{node:e(Ws.constellation1.aimed,{name:tt.ch("addAimed")})},{node:e(Ws.constellation1.fully,{name:tt.ch("addFullAimed")})}]}),{text:tt.chg("auto.fields.plunging")},{fields:[{node:e(Ws.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ws.plunging.low,{name:s("plunging.low")})},{node:e(Ws.plunging.high,{name:s("plunging.high")})}]}]),skill:tt.talentTem("skill",[{fields:[{node:e(Ws.skill.press,{name:tt.chg("skill.skillParams.0")})},{text:tt.chg("skill.skillParams.1"),value:Dl.skill.pressCD,unit:"s"},{node:e(Ws.skill.hold,{name:tt.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:Dl.skill.holdCD,unit:"s"}]},tt.headerTem("passive1",{fields:[{text:tt.ch("upcurrentDuration"),value:Dl.passive1.duration,unit:"s"}]}),tt.condTem("constellation2",{value:O6,path:NF,teamBuff:!0,name:tt.chg("constellation2.name"),states:{hit:{name:tt.ch("c2.hit"),fields:[{node:e(kp,y.info("anemo_enemyRes_"))},{node:wf}]},launched:{name:tt.ch("c2.launched"),fields:[{node:e(kp,y.info("anemo_enemyRes_"))},{node:wf}]}}})]),burst:tt.talentTem("burst",[{fields:[{node:e(Ws.burst.base,{name:tt.chg("burst.skillParams.0"),multi:Dl.burst.baseTicks})},{text:tt.chg("burst.skillParams.2"),value:Dl.burst.duration,unit:"s"},{text:tt.chg("burst.skillParams.3"),value:Dl.burst.cd,unit:"s"},{text:tt.chg("burst.skillParams.4"),value:Dl.burst.enerCost}]},tt.condTem("burst",{value:Nm,path:f1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Ws.burst.absorb,{name:tt.chg("burst.skillParams.1"),multi:Dl.burst.absorbTicks})}]}]))}),tt.headerTem("passive2",{fields:[{text:tt.ch("regenEner")},{text:tt.ch("q")}]}),tt.condTem("constellation6",{value:Ru,path:OF,teamBuff:!0,name:tt.ch("c6"),states:{takeDmg:{fields:[{node:e(z6,y.info("anemo_enemyRes_"))}]}}}),tt.headerTem("constellation6",{fields:il.map(t=>({node:Af[`${t}_enemyRes_`]})),canShow:z(Nm,void 0,i(Ru,"takeDmg",i(G.charKey,gi,1)))}),tt.condTem("constellation6",{value:Nm,path:f1,name:d("eleAbsor"),teamBuff:!0,canShow:i(Ru,"takeDmg",z(a.activeCharKey,gi,1)),states:Object.fromEntries(il.map(t=>[t,{name:P(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:Af[`${t}_enemyRes_`]}]}]))})]),passive1:tt.talentTem("passive1"),passive2:tt.talentTem("passive2"),passive3:tt.talentTem("passive3",[{fields:[{node:F6}]}]),constellation1:tt.talentTem("constellation1"),constellation2:tt.talentTem("constellation2"),constellation3:tt.talentTem("constellation3",[{fields:[{node:K6}]}]),constellation4:tt.talentTem("constellation4",[tt.condTem("constellation4",{value:j6,path:FF,name:d("getElementalOrbParticle"),states:{pickup:{fields:[{node:G6}]}}})]),constellation5:tt.talentTem("constellation5",[{fields:[{node:N6}]}]),constellation6:tt.talentTem("constellation6")}},zF=new R(GF,jF),Jc="Wanderer",fp="anemo",bp=_.char.data[Jc],Wa=_.char.skillParam[Jc],ee=A(Jc,bp.weaponType);let Mc=0,bu=0,Ck=0,Hg=0,Sk=0;const Tn={normal:{hitArr:[Wa.auto[Mc++],Wa.auto[Mc++],Wa.auto[Mc++]]},throwaway:Mc++,charged:{dmg:Wa.auto[Mc++],stamina:Wa.auto[Mc++][0]},plunging:{dmg:Wa.auto[Mc++],low:Wa.auto[Mc++],high:Wa.auto[Mc++]},skill:{dmg:Wa.skill[bu++],normal_mult:Wa.skill[bu++],charged_mult:Wa.skill[bu++],skyDwellerPoints:Wa.skill[bu++][0],cd:Wa.skill[bu++][0]},burst:{dmg:Wa.burst[Ck++],cd:Wa.burst[Ck++][0],enerCost:Wa.burst[Ck++][0]},passive1:{pyro_atk_:Wa.passive1[Hg++][0],hydro_point:Wa.passive1[Hg++][0],cryo_critRate_:Wa.passive1[Hg++][0],electro_energy:Wa.passive1[Hg++][0],electro_cd:.2},passive2:{chance_:Wa.passive2[Sk++][0],chanceInc_:Wa.passive2[Sk++][0],dmg:Wa.passive2[Sk++][0],arrowAmt:4,cd:.1},constellation1:{atkSPD_:Wa.constellation1[0],dmg:Wa.constellation1[1]},constellation2:{burst_dmg_perPoint:Wa.constellation2[0],max_burst_dmg_:Wa.constellation2[1]},constellation6:{dmg:Wa.constellation6[0],pointRestore:Wa.constellation6[1],threshold:Wa.constellation6[2],cd:.2,maxRestoreTimes:5}},[WF,Qs]=h(Jc,"afterSkill"),Bf=Co(Qs,"on",$(a.total.skillIndex,Tn.skill.normal_mult),St,{name:d("dmgMult.normal"),unit:"%"}),W6=Co(Qs,"on",$(a.total.skillIndex,Tn.skill.charged_mult),St,{name:d("dmgMult.charged"),unit:"%"}),[LF,L6]=h(Jc,"skillPyroContact"),U6=n(a.asc,1,i(Qs,"on",i(L6,"pyro",Tn.passive1.pyro_atk_))),[UF,q6]=h(Jc,"skillCryoContact"),V6=n(a.asc,1,i(Qs,"on",i(q6,"cryo",Tn.passive1.cryo_critRate_))),J6=n(a.constellation,1,i(Qs,"on",Tn.constellation1.atkSPD_)),Q6=n(a.constellation,1,i(Qs,"on",Tn.constellation1.dmg,{name:ee.ch("c1BonusKey"),unit:"%"})),[qF,X6]=h(Jc,"c2Points"),Y6=[5,10,15,20,25,30,35,40,45,50],Z6=n(a.constellation,2,i(Qs,"on",w(X6,Object.fromEntries(Y6.map(t=>[t,m(t,Tn.constellation2.burst_dmg_perPoint)])),O))),Ji={normal:Object.fromEntries(Tn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",void 0,Bf)])),charged:{dmg:o("atk",Tn.charged.dmg,"charged",void 0,W6)},plunging:Object.fromEntries(Object.entries(Tn.plunging).map(([t,l])=>[t,o("atk",l,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{dmg:o("atk",Tn.skill.dmg,"skill")},burst:{dmg:o("atk",Tn.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,F(m(D(c(Tn.passive2.dmg),Q6),a.total.atk),"elemental",{hit:{ele:p(fp)}}))},constellation6:Object.fromEntries(Tn.normal.hitArr.map((t,l)=>[l,n(a.constellation,6,i(Qs,"on",F(m($(a.total.autoIndex,t,{unit:"%"}),p(Tn.constellation6.dmg,{name:ee.ch("c6Key"),unit:"%"}),a.total.atk,Bf),"normal",{hit:{ele:p(fp)}})))]))},tS=n(a.constellation,3,3),eS=n(a.constellation,5,3),VF=B(Jc,fp,"sumeru",bp,Ji,{premod:{skillBoost:eS,burstBoost:tS,atk_:U6,critRate_:V6,atkSPD_:J6,burst_dmg_:Z6}}),JF={key:Jc,name:ee.name,rarity:bp.rarity,elementKey:fp,weaponTypeKey:bp.weaponType,gender:"M",constellationName:ee.chg("constellationName"),title:ee.chg("title"),talent:{auto:ee.talentTem("auto",[{text:ee.chg("auto.fields.normal")},{fields:Tn.normal.hitArr.map((t,l)=>({node:e(Ji.normal[l],{name:ee.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},ee.headerTem("constellation6",{canShow:i(Qs,"on",1),fields:Tn.normal.hitArr.map((t,l)=>({node:e(Ji.constellation6[l],{name:ee.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))}),{text:ee.chg("auto.fields.charged")},{fields:[{node:e(Ji.charged.dmg,{name:ee.chg("auto.skillParams.3")})},{text:ee.chg("auto.skillParams.4"),value:Tn.charged.stamina}]},{text:ee.chg("auto.fields.plunging")},{fields:[{node:e(Ji.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ji.plunging.low,{name:s("plunging.low")})},{node:e(Ji.plunging.high,{name:s("plunging.high")})}]}]),skill:ee.talentTem("skill",[{fields:[{node:e(Ji.skill.dmg,{name:ee.chg("skill.skillParams.0")})},{text:ee.chg("skill.skillParams.3"),value:Tn.skill.skyDwellerPoints},{text:s("cd"),value:Tn.skill.cd,unit:"s"}]},ee.condTem("skill",{path:WF,value:Qs,name:ee.ch("windfavoredState"),states:{on:{fields:[{node:Bf},{node:W6}]}}}),ee.condTem("passive1",{canShow:i(Qs,"on",1),states:{pyro:{path:LF,value:L6,name:ee.ch("p1.pyroCondName"),fields:[{node:U6}]},cryo:{path:UF,value:q6,name:ee.ch("p1.cryoCondName"),fields:[{node:V6}]}}}),ee.headerTem("constellation1",{canShow:i(Qs,"on",1),fields:[{node:J6}]})]),burst:ee.talentTem("burst",[{fields:[{node:e(Ji.burst.dmg,{name:ee.chg("burst.skillParams.0"),multi:5})},{text:s("cd"),value:Tn.burst.cd,unit:"s"},{text:s("energyCost"),value:Tn.burst.enerCost}]},ee.condTem("constellation2",{path:qF,value:X6,canShow:i(Qs,"on",1),name:ee.ch("c2CondName"),states:Object.fromEntries(Y6.map(t=>[t,{name:t.toString(),fields:[{node:Z6}]}]))})]),passive1:ee.talentTem("passive1"),passive2:ee.talentTem("passive2",[ee.fieldsTem("passive2",{fields:[{node:e(Ji.passive2.dmg,{name:ee.ch("p2Dmg")})}]}),ee.headerTem("constellation1",{canShow:n(a.asc,4,1),fields:[{node:Q6}]})]),passive3:ee.talentTem("passive3"),constellation1:ee.talentTem("constellation1"),constellation2:ee.talentTem("constellation2"),constellation3:ee.talentTem("constellation3",[{fields:[{node:tS}]}]),constellation4:ee.talentTem("constellation4"),constellation5:ee.talentTem("constellation5",[{fields:[{node:eS}]}]),constellation6:ee.talentTem("constellation6")}},QF=new R(JF,VF),Vm="Wriothesley",Md=_.char.data[Vm],De=_.char.skillParam[Vm],he=A(Vm,Md.weaponType);let Ei=-1,Eg=0,vu=0;const Cl={normal:{hitArr:[De.auto[++Ei],De.auto[++Ei],De.auto[++Ei],De.auto[Ei+=2],De.auto[++Ei]]},charged:{dmg:De.auto[++Ei],stam:De.auto[++Ei][0]},plunging:{dmg:De.auto[++Ei],low:De.auto[++Ei],high:De.auto[++Ei]},skill:{fistDmg:De.skill[Eg++],hpCost:De.skill[Eg++][0],duration:De.skill[Eg++][0],cd:De.skill[Eg++][0]},burst:{skillDmg:De.burst[vu++],bladeDmg:De.burst[vu++],cd:De.burst[vu++][0],enerCost:De.burst[vu++][0],bladeCd:De.burst[vu++][0]},passive1:{hpThresh:De.passive1[0][0],dmg_:De.passive1[1][0],hpRestore:De.passive1[2][0],cd:De.passive1[3][0]},passive2:{atk_:De.passive2[0][0],maxStacks:De.passive2[1][0]},constellation1:{cd:De.constellation1[0],dmg_:De.constellation1[1],durationInc:De.constellation1[2]},constellation2:{dmg_:De.constellation2[0]},constellation4:{selfAtkSPD_:De.constellation4[0],selfDuration:De.constellation4[1],teamAtkSPD_:De.constellation4[2],teamDuration:De.constellation4[3],heal:De.constellation4[4]},constellation6:{skill_critRate_:De.constellation6[0],skill_critDMG_:De.constellation6[1],icicle_dmg_:De.constellation6[2]}},XF=n(a.asc,1,Cl.passive1.dmg_,{unit:"%"}),[YF,vp]=h(Vm,"a4EdictStacks"),$v=N(1,Cl.passive2.maxStacks),aS=n(a.asc,4,w(vp,C($v,t=>c(t*Cl.passive2.atk_)),O)),lS=n(a.constellation,1,Cl.constellation1.dmg_),ZF=D(XF,lS),nS=n(a.constellation,2,n(a.asc,4,w(vp,C($v,t=>c(t*Cl.constellation2.dmg_)),O))),sS=n(a.constellation,6,Cl.constellation6.skill_critRate_),oS=n(a.constellation,6,Cl.constellation6.skill_critDMG_),b1=n(a.asc,1,o("atk",Cl.charged.dmg,"charged",{premod:{charged_critRate_:sS,charged_critDMG_:oS,charged_dmg_:ZF}})),Ls={normal:{...Object.fromEntries(Cl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Cl.charged.dmg,"charged"),rebukeDmg:b1},plunging:E("atk",Cl.plunging),skill:{...Object.fromEntries(Cl.normal.hitArr.map((t,l)=>[`enhanced_${l}`,o("atk",t,"normal",void 0,$(a.total.skillIndex,Cl.skill.fistDmg,{unit:"%"}))])),hpCost:m(c(Cl.skill.hpCost),a.total.hp)},burst:{skillDmg:o("atk",Cl.burst.skillDmg,"burst"),bladeDmg:o("atk",Cl.burst.bladeDmg,"burst")},passive1:{heal:zn("hp",br(a.constellation,4,Cl.constellation4.heal+Cl.passive1.hpRestore,Cl.passive1.hpRestore),0)},constellation6:{icicleDmg:n(a.constellation,6,{...b1})}},iS=n(a.constellation,3,3),cS=n(a.constellation,5,3),tO=B(Vm,Md.ele,Md.region,Md,Ls,{premod:{burstBoost:cS,autoBoost:iS,atk_:aS,burst_dmg_:nS}}),eO={key:Vm,name:he.name,rarity:Md.rarity,elementKey:Md.ele,weaponTypeKey:Md.weaponType,gender:"M",constellationName:he.chg("constellationName"),title:he.chg("title"),talent:{auto:he.talentTem("auto",[{text:he.chg("auto.fields.normal")},{fields:Cl.normal.hitArr.map((t,l)=>({node:e(Ls.normal[l],{name:he.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:he.chg("auto.fields.charged")},{fields:[{node:e(Ls.charged.dmg,{name:he.chg("auto.skillParams.5")})},{text:he.chg("auto.skillParams.6"),value:Cl.charged.stam}]},he.headerTem("passive1",{fields:[{node:e(Ls.charged.rebukeDmg,{name:he.ch("rebukeDmg")})},{node:e(Ls.passive1.heal,{name:s("healing")})}]}),he.headerTem("constellation1",{fields:[{node:e(lS,{name:he.ch("rebuke_dmg_"),unit:"%"})}]}),he.headerTem("constellation6",{fields:[{node:e(Ls.constellation6.icicleDmg,{name:he.ch("icicleDmg")})},{node:e(sS,{name:he.ch("rebuke_critRate_"),unit:"%"})},{node:e(oS,{name:he.ch("rebuke_critDMG_"),unit:"%"})}]}),{text:he.chg("auto.fields.plunging")},{fields:[{node:e(Ls.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ls.plunging.low,{name:s("plunging.low")})},{node:e(Ls.plunging.high,{name:s("plunging.high")})}]}]),skill:he.talentTem("skill",[{fields:[{node:e(Ls.skill.hpCost,{name:he.chg("skill.skillParams.1")})},...Cl.normal.hitArr.map((t,l)=>({node:e(Ls.skill[`enhanced_${l}`],{name:he.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})})),{text:s("duration"),value:Cl.skill.duration,unit:"s"},{text:s("cd"),value:Cl.skill.cd,unit:"s"}]}]),burst:he.talentTem("burst",[{fields:[{node:e(Ls.burst.skillDmg,{name:he.chg("burst.skillParams.0"),multi:5})},{node:e(Ls.burst.bladeDmg,{name:he.chg("burst.skillParams.1")})},{text:he.chg("burst.skillParams.2"),value:Cl.burst.cd,unit:"s"},{text:he.chg("burst.skillParams.3"),value:Cl.burst.bladeCd,unit:"s"},{text:s("energyCost"),value:Cl.burst.enerCost}]}]),passive1:he.talentTem("passive1"),passive2:he.talentTem("passive2",[he.condTem("passive2",{value:vp,path:YF,name:he.ch("a4Cond"),states:C($v,t=>({name:d("stack",{count:t}),fields:[{node:aS}]}))}),he.headerTem("constellation2",{canShow:z(vp,void 0,1),fields:[{node:nS}]})]),passive3:he.talentTem("passive3"),constellation1:he.talentTem("constellation1"),constellation2:he.talentTem("constellation2"),constellation3:he.talentTem("constellation3",[{fields:[{node:iS}]}]),constellation4:he.talentTem("constellation4"),constellation5:he.talentTem("constellation5",[{fields:[{node:cS}]}]),constellation6:he.talentTem("constellation6")}},aO=new R(eO,tO),Wr="Xiangling",xv="pyro",_p=_.char.data[Wr],hl=_.char.skillParam[Wr],Pe=A(Wr,_p.weaponType);let Ki=0,v1=0,hd=0,_1=0;const kl={normal:{hitArr:[hl.auto[Ki++],hl.auto[Ki++],hl.auto[Ki++],hl.auto[Ki++],hl.auto[Ki++]]},charged:{dmg1:hl.auto[Ki++],stamina:hl.auto[Ki++][0]},plunging:{dmg:hl.auto[Ki++],low:hl.auto[Ki++],high:hl.auto[Ki++]},skill:{press:hl.skill[v1++],cd:hl.skill[v1++][0]},burst:{dmg1:hl.burst[hd++],dmg2:hl.burst[hd++],dmg3:hl.burst[hd++],dmgNado:hl.burst[hd++],duration:hl.burst[hd++][0],cd:hl.burst[hd++][0],enerCost:hl.burst[hd++][0]},passive2:{atk_bonus:hl.passive2[_1++][0],duration:hl.passive2[_1++][0]},constellation1:{pyroRes:hl.constellation1[0],duration:hl.constellation1[1]},constellation2:{duration1:hl.constellation2[0],duration2:hl.constellation2[1],dmg:hl.constellation2[2]},constellation4:{durationInc:hl.constellation4[0]},constellation6:{pyroDmg:hl.constellation6[0]}},[lO,rS]=h(Wr,"afterChili"),[nO,sO]=kA(G.charKey,n(a.asc,4,i("afterChili",rS,c(kl.passive2.atk_bonus))),y.info("atk_")),[oO,dS]=h(Wr,"afterGuobaHit"),mS=n(a.constellation,1,i("afterGuobaHit",dS,c(-kl.constellation1.pyroRes))),[iO,If]=h(Wr,"afterPyronado"),Dv=n(a.constellation,6,i("duringPyronado",If,c(kl.constellation6.pyroDmg))),wk=m(Dv,-1),_o={normal:Object.fromEntries(kl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",kl.charged.dmg1,"charged")},plunging:E("atk",kl.plunging),skill:{press:o("atk",kl.skill.press,"skill")},burst:{dmg1:o("atk",kl.burst.dmg1,"burst",{premod:{pyro_dmg_:wk}}),dmg2:o("atk",kl.burst.dmg2,"burst",{premod:{pyro_dmg_:wk}}),dmg3:o("atk",kl.burst.dmg3,"burst"),dmgNado:o("atk",kl.burst.dmgNado,"burst",{premod:{pyro_dmg_:wk}})},constellation2:{dmg:n(a.constellation,2,F(m(a.total.atk,c(kl.constellation2.dmg)),"elemental",{hit:{ele:p(xv)}}))}},uS=n(a.constellation,3,3),gS=n(a.constellation,5,3),cO=B(Wr,xv,"liyue",_p,_o,{premod:{skillBoost:gS,burstBoost:uS},teamBuff:{premod:{atk_:sO,pyro_dmg_:Dv,pyro_enemyRes_:mS}}}),rO={key:Wr,name:Pe.name,rarity:_p.rarity,elementKey:xv,weaponTypeKey:_p.weaponType,gender:"F",constellationName:Pe.chg("constellationName"),title:Pe.chg("title"),talent:{auto:Pe.talentTem("auto",[{text:Pe.chg("auto.fields.normal")},{fields:kl.normal.hitArr.map((t,l)=>({node:e(_o.normal[l],{name:Pe.chg(`auto.skillParams.${l}`),multi:l===2?2:l===3?4:void 0})}))},{text:Pe.chg("auto.fields.charged")},{fields:[{node:e(_o.charged.dmg1,{name:Pe.chg("auto.skillParams.5")})},{text:Pe.chg("auto.skillParams.6"),value:kl.charged.stamina}]},{text:Pe.chg("auto.fields.plunging")},{fields:[{node:e(_o.plunging.dmg,{name:s("plunging.dmg")})},{node:e(_o.plunging.low,{name:s("plunging.low")})},{node:e(_o.plunging.high,{name:s("plunging.high")})}]}]),skill:Pe.talentTem("skill",[{fields:[{node:e(_o.skill.press,{name:Pe.chg("skill.skillParams.0")})},{text:Pe.chg("skill.skillParams.1"),value:kl.skill.cd,unit:"s"}]},Pe.condTem("passive2",{value:rS,path:lO,name:Pe.ch("afterChili"),teamBuff:!0,states:{afterChili:{fields:[{node:nO},{text:s("duration"),value:kl.passive2.duration,unit:"s"}]}}}),Pe.condTem("constellation1",{value:dS,path:oO,name:Pe.ch("afterGuobaHit"),teamBuff:!0,states:{afterGuobaHit:{fields:[{node:mS},{text:s("duration"),value:kl.constellation1.duration,unit:"s"}]}}})]),burst:Pe.talentTem("burst",[{fields:[{node:e(_o.burst.dmg1,{name:Pe.chg("burst.skillParams.0")})},{node:e(_o.burst.dmg2,{name:Pe.chg("burst.skillParams.1")})},{node:e(_o.burst.dmg3,{name:Pe.chg("burst.skillParams.2")})},{node:e(_o.burst.dmgNado,{name:Pe.chg("burst.skillParams.3")})},{text:s("duration"),value:t=>t.get(a.constellation).value>=4?`${kl.burst.duration}s + ${kl.burst.duration*kl.constellation4.durationInc}s = ${kl.burst.duration*(1+kl.constellation4.durationInc)}`:kl.burst.duration,unit:"s"},{text:s("cd"),value:kl.burst.cd,unit:"s"},{text:s("energyCost"),value:kl.burst.enerCost}]},Pe.headerTem("constellation4",{fields:[{text:d("durationInc"),value:kl.burst.duration*kl.constellation4.durationInc,unit:"s"}]}),Pe.condTem("constellation6",{value:If,path:iO,name:Pe.ch("duringPyronado"),teamBuff:!0,states:{duringPyronado:{fields:[{node:Dv},{text:Pe.ch("c6Exception"),canShow:t=>t.get(a.constellation).value>=6&&t.get(If).value==="duringPyronado"}]}}})]),passive1:Pe.talentTem("passive1"),passive2:Pe.talentTem("passive2"),passive3:Pe.talentTem("passive3"),constellation1:Pe.talentTem("constellation1"),constellation2:Pe.talentTem("constellation2",[Pe.fieldsTem("constellation2",{fields:[{value:kl.constellation2.dmg,node:e(_o.constellation2.dmg,{name:Pe.ch("explosionDMG")})}]})]),constellation3:Pe.talentTem("constellation3",[{fields:[{node:uS}]}]),constellation4:Pe.talentTem("constellation4"),constellation5:Pe.talentTem("constellation5",[{fields:[{node:gS}]}]),constellation6:Pe.talentTem("constellation6")}},dO=new R(rO,cO),Qc="Xianyun",Hd=_.char.data[Qc],gt=_.char.skillParam[Qc],Ft=A(Qc,Hd.weaponType);let Hc=0,_u=0,Jo=0;const _a={normal:{hitArr:[gt.auto[Hc++],gt.auto[Hc++],gt.auto[Hc++],gt.auto[Hc++]]},charged:{dmg:gt.auto[Hc++],stam:gt.auto[Hc++][0]},plunging:{dmg:gt.auto[Hc++],low:gt.auto[Hc++],high:gt.auto[Hc++]},skill:{trailDmg:gt.skill[_u++],firstLeapDmg:gt.skill[_u++],secondLeapDmg:gt.skill[_u++],thirdLeapDmg:gt.skill[_u++],cd:gt.skill[_u++][0]},burst:{instantDmg:gt.burst[Jo++],coordinatedDmg:gt.burst[Jo++],instantHealFlat:gt.burst[Jo++],instantHealMult:gt.burst[Jo++],deviceHealFlat:gt.burst[Jo++],deviceHealMult:gt.burst[Jo++],deviceHealInterval:gt.burst[Jo++][0],dmgTriggers:gt.burst[Jo++][0],duration:gt.burst[Jo++][0],cd:gt.burst[Jo++][0],enerCost:gt.burst[Jo++][0]},passive1:{critRate:[gt.passive1[0][0],gt.passive1[1][0],gt.passive1[2][0],gt.passive1[3][0]],duration:gt.passive1[4][0]},passive2:{plunging_dmg_inc:gt.passive2[0][0],maxAtk:gt.passive2[1][0],triggerInterval:gt.passive2[2][0]},constellation2:{atk_:gt.constellation2[0],duration:gt.constellation2[1],plunging_dmg_inc_mult:gt.constellation2[2]},constellation4:{heal1:gt.constellation4[0],heal2:gt.constellation4[1],heal3:gt.constellation4[2],cd:gt.constellation4[3]},constellation6:{skill_critDMG_:[gt.constellation6[0],gt.constellation6[1],gt.constellation6[2]],cd:gt.constellation6[3]}},hS=N(1,4),[mO,pS]=h(Qc,"a1Stacks"),kS=n(a.asc,1,w(pS,C(hS,t=>c(_a.passive1.critRate[t-1])),O)),[uO,fS]=h(Qc,"a4HasStacks"),bS=n(a.asc,4,i(fS,"on",m(m(br(a.constellation,2,c((1+_a.constellation2.plunging_dmg_inc_mult)*_a.passive2.plunging_dmg_inc),c(_a.passive2.plunging_dmg_inc)),yl(a.total.atk,p(_a.passive2.maxAtk)))))),[gO,vS]=h(Qc,"c2AfterSkill"),_S=n(a.constellation,2,i(vS,"on",_a.constellation2.atk_)),yS=N(1,3),[hO,TS]=h(Qc,"c6SkyladderUses"),$S=n(a.constellation,6,w(TS,C(yS,t=>c(_a.constellation6.skill_critDMG_[t-1])),O)),Ak=t=>F(m($(a.total.skillIndex,t,{unit:"%"}),a.total.atk),"plunging_impact",{premod:{plunging_critDMG_:$S}}),qn={normal:{...Object.fromEntries(_a.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",_a.charged.dmg,"charged")},plunging:E("atk",_a.plunging),skill:{trailDmg:o("atk",_a.skill.trailDmg,"skill"),firstLeapDmg:Ak(_a.skill.firstLeapDmg),secondLeapDmg:Ak(_a.skill.secondLeapDmg),thirdLeapDmg:Ak(_a.skill.thirdLeapDmg)},burst:{instantDmg:o("atk",_a.burst.instantDmg,"burst"),coordinatedDmg:o("atk",_a.burst.coordinatedDmg,"burst"),instantHeal:cl("atk",_a.burst.instantHealMult,_a.burst.instantHealFlat,"burst"),deviceHeal:cl("atk",_a.burst.deviceHealMult,_a.burst.deviceHealFlat,"burst")},passive2:{a4HasStacks_plunging_dmg_inc:bS},constellation4:{heal1:n(a.constellation,4,zn("atk",c(_a.constellation4.heal1),0)),heal2:n(a.constellation,4,zn("atk",c(_a.constellation4.heal2),0)),heal3:n(a.constellation,4,zn("atk",c(_a.constellation4.heal3),0))}},xS=n(a.constellation,3,3),DS=n(a.constellation,5,3),pO=B(Qc,Hd.ele,Hd.region,Hd,qn,{premod:{skillBoost:DS,burstBoost:xS,atk_:_S},teamBuff:{premod:{plunging_impact_dmgInc:bS,plunging_critRate_:kS}}}),kO={key:Qc,name:Ft.name,rarity:Hd.rarity,elementKey:Hd.ele,weaponTypeKey:Hd.weaponType,gender:"F",constellationName:Ft.chg("constellationName"),title:Ft.chg("title"),talent:{auto:Ft.talentTem("auto",[{text:Ft.chg("auto.fields.normal")},{fields:_a.normal.hitArr.map((t,l)=>({node:e(qn.normal[l],{name:Ft.chg(`auto.skillParams.${l}`)})}))},{text:Ft.chg("auto.fields.charged")},{fields:[{node:e(qn.charged.dmg,{name:Ft.chg("auto.skillParams.4")})},{text:Ft.chg("auto.skillParams.5"),value:_a.charged.stam}]},{text:Ft.chg("auto.fields.plunging")},{fields:[{node:e(qn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qn.plunging.low,{name:s("plunging.low")})},{node:e(qn.plunging.high,{name:s("plunging.high")})}]}]),skill:Ft.talentTem("skill",[{fields:[{node:e(qn.skill.trailDmg,{name:Ft.chg("skill.skillParams.0")})},{node:e(qn.skill.firstLeapDmg,{name:Ft.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:e(qn.skill.secondLeapDmg,{name:Ft.chg("skill.skillParams.1"),textSuffix:"(2)"})},{node:e(qn.skill.thirdLeapDmg,{name:Ft.chg("skill.skillParams.1"),textSuffix:"(3)"})},{text:s("cd"),value:_a.skill.cd,unit:"s"}]},Ft.condTem("constellation2",{value:vS,path:gO,teamBuff:!0,name:d("afterUse.skill"),states:{on:{fields:[{node:_S},{text:s("duration"),value:_a.constellation2.duration,unit:"s"}]}}}),Ft.condTem("constellation6",{path:hO,value:TS,name:Ft.ch("c6Cond"),states:C(yS,t=>({name:`${t}`,fields:[{node:e($S,{name:Ft.ch("wave_critDMG_"),unit:"%"})}]}))})]),burst:Ft.talentTem("burst",[{fields:[{node:e(qn.burst.instantDmg,{name:Ft.chg("burst.skillParams.0")})},{node:e(qn.burst.coordinatedDmg,{name:Ft.chg("burst.skillParams.1")})},{node:e(qn.burst.instantHeal,{name:Ft.chg("burst.skillParams.2")})},{node:e(qn.burst.deviceHeal,{name:Ft.chg("burst.skillParams.3")})},{text:d("interval"),value:_a.burst.deviceHealInterval,unit:"s",fixed:1},{text:s("duration"),value:_a.burst.duration,unit:"s"},{text:s("cd"),value:_a.burst.cd,unit:"s"},{text:s("energyCost"),value:_a.burst.enerCost}]},Ft.condTem("passive2",{value:fS,path:uO,teamBuff:!0,name:Ft.ch("a4Cond"),states:{on:{fields:[{node:qn.passive2.a4HasStacks_plunging_dmg_inc}]}}})]),passive1:Ft.talentTem("passive1",[Ft.condTem("passive1",{value:pS,path:mO,teamBuff:!0,name:Ft.ch("a1Cond"),states:C(hS,t=>({name:d("stack",{count:t}),fields:[{node:kS},{text:s("duration"),value:_a.passive1.duration,unit:"s"}]}))})]),passive2:Ft.talentTem("passive2"),passive3:Ft.talentTem("passive3"),constellation1:Ft.talentTem("constellation1"),constellation2:Ft.talentTem("constellation2"),constellation3:Ft.talentTem("constellation3",[{fields:[{node:xS}]}]),constellation4:Ft.talentTem("constellation4",[Ft.fieldsTem("constellation4",{fields:[{node:e(qn.constellation4.heal1,{name:Ft.ch("c4Heal"),textSuffix:"(1)"})},{node:e(qn.constellation4.heal2,{name:Ft.ch("c4Heal"),textSuffix:"(2)"})},{node:e(qn.constellation4.heal3,{name:Ft.ch("c4Heal"),textSuffix:"(3)"})}]})]),constellation5:Ft.talentTem("constellation5",[{fields:[{node:DS}]}]),constellation6:Ft.talentTem("constellation6")}},fO=new R(kO,pO),rc="Xiao",Pv="anemo",yp=_.char.data[rc],Rl=_.char.skillParam[rc],Je=A(rc,yp.weaponType);let y1=0,yu=0;const Jn={normal:{hitArr:[Rl.auto[0],Rl.auto[2],Rl.auto[3],Rl.auto[4],Rl.auto[6],Rl.auto[7]]},charged:{dmg1:Rl.auto[8],stamina:Rl.auto[9][0]},plunging:{dmg:Rl.auto[10],low:Rl.auto[11],high:Rl.auto[12]},skill:{press:Rl.skill[y1++],cd:Rl.skill[y1++][0]},burst:{dmgBonus:Rl.burst[yu++],drain:Rl.burst[yu++],duration:Rl.burst[yu++][0],cd:Rl.burst[yu++][0],enerCost:Rl.burst[yu++][0]},passive1:{dmgBonus:Rl.passive1[0][0]},passive2:{duration:Rl.passive2[0][0],skillDmgBonus:Rl.passive2[1][0],maxStacks:Rl.passive2[2][0]},passive3:{staminaClimbingDec_:.2},constellation2:{enerRech_:Rl.constellation2[0]},constellation4:{hpThresh:Rl.constellation4[0],def_:Rl.constellation4[1]},constellation6:{duration:Rl.constellation6[0]}},pd={normal:Object.fromEntries(Jn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Jn.charged.dmg1,"charged")},plunging:E("atk",Jn.plunging),skill:{press:o("atk",Jn.skill.press,"skill")}},PS=n(a.constellation,3,3),CS=n(a.constellation,5,3),[bO,Fu]=h(rc,"inBurst"),vO=$(a.total.burstIndex,Jn.burst.dmgBonus,{unit:"%"}),Lp=i("inBurst",Fu,vO,{unit:"%"}),SS={...Lp},wS={...Lp},_O=$(a.total.burstIndex,Jn.burst.drain),yO=rn("inBurst",Fu,Pv),[TO,AS]=h(rc,"a1BurstStack"),BS=N(0,4),IS=n(a.asc,1,i("inBurst",Fu,w(AS,Object.fromEntries(BS.map(t=>[t,m(Jn.passive1.dmgBonus,t+1)])),O))),[$O,RS]=h(rc,"a4SkillStack"),MS=N(1,Jn.passive2.maxStacks),HS=n(a.asc,4,w(RS,Object.fromEntries(MS.map(t=>[t,m(Jn.passive2.skillDmgBonus,t)])),O)),[xO,ES]=h(rc,"offField"),KS=n(a.constellation,2,i(ES,"on",Jn.constellation2.enerRech_)),[DO,NS]=h(rc,"c4BelowHP"),FS=n(a.constellation,4,i("c4BelowHP",NS,Jn.constellation4.def_)),PO=B(rc,Pv,"liyue",yp,pd,{premod:{skillBoost:PS,burstBoost:CS,normal_dmg_:Lp,charged_dmg_:SS,plunging_dmg_:wS,all_dmg_:IS,skill_dmg_:HS,enerRech_:KS,def_:FS},infusion:{nonOverridableSelf:yO}}),CO={key:rc,name:Je.name,rarity:yp.rarity,elementKey:Pv,weaponTypeKey:yp.weaponType,gender:"M",constellationName:Je.chg("constellationName"),title:Je.chg("title"),talent:{auto:Je.talentTem("auto",[{text:Je.chg("auto.fields.normal")},{fields:Jn.normal.hitArr.map((t,l)=>({node:e(pd.normal[l],{name:Je.chg(`auto.skillParams.${l}`),multi:l===0?2:void 0})}))},{text:Je.chg("auto.fields.charged")},{fields:[{node:e(pd.charged.dmg1,{name:Je.chg("auto.skillParams.6")})},{text:Je.chg("auto.skillParams.7"),value:Jn.charged.stamina}]},{text:Je.chg("auto.fields.plunging")},{fields:[{node:e(pd.plunging.dmg,{name:s("plunging.dmg")})},{node:e(pd.plunging.low,{name:s("plunging.low")})},{node:e(pd.plunging.high,{name:s("plunging.high")})}]}]),skill:Je.talentTem("skill",[{fields:[{node:e(pd.skill.press,{name:Je.chg("skill.skillParams.0")})},{text:Je.chg("skill.skillParams.1"),value:Jn.skill.cd,unit:"s"},{text:d("charges"),value:t=>t.get(a.constellation).value>=1?3:2}]},Je.condTem("passive2",{path:$O,value:RS,name:Je.ch("skillStack"),states:Object.fromEntries(MS.map(t=>[t,{name:d("uses",{count:t}),fields:[{node:HS}]}]))})]),burst:Je.talentTem("burst",[{fields:[{text:s("cd"),value:Jn.burst.cd,unit:"s"},{text:s("energyCost"),value:Jn.burst.enerCost}]},Je.condTem("burst",{path:bO,value:Fu,name:Je.ch("burst.inBurst"),states:{inBurst:{fields:[{text:P(yt,{color:"anemo",children:d("infusion.anemo")})},{node:Lp},{node:SS},{node:wS},{text:d("attackAoeInc")},{text:Je.ch("burst.incJump")},{node:e(_O,{name:Je.ch("burst.lifeDrain_"),textSuffix:Je.ch("burst.currentHPPerSec"),unit:"%"})},{text:s("duration"),value:Jn.burst.duration,unit:"s"}]}}}),Je.condTem("passive1",{path:TO,value:AS,name:Je.ch("burst.stack"),canShow:i("inBurst",Fu,1),states:Object.fromEntries(BS.map(t=>[t,{name:d("seconds",{count:t*3}),fields:[{node:IS}]}]))})]),passive1:Je.talentTem("passive1"),passive2:Je.talentTem("passive2"),passive3:Je.talentTem("passive3"),constellation1:Je.talentTem("constellation1",[Je.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Je.talentTem("constellation2",[Je.condTem("constellation2",{value:ES,path:xO,name:d("charOffField"),states:{on:{fields:[{node:KS}]}}})]),constellation3:Je.talentTem("constellation3",[{fields:[{node:PS}]}]),constellation4:Je.talentTem("constellation4",[Je.condTem("constellation4",{path:DO,value:NS,name:d("lessPercentHP",{percent:Jn.constellation4.hpThresh*100}),states:{c4BelowHP:{fields:[{node:FS}]}}})]),constellation5:Je.talentTem("constellation5",[{fields:[{node:CS}]}]),constellation6:Je.talentTem("constellation6")}},SO=new R(CO,PO),Lr="Xingqiu",Cv="hydro",Tp=_.char.data[Lr],wn=_.char.skillParam[Lr],pe=A(Lr,Tp.weaponType);let Tu=0,Kg=0;const bn={normal:{hitArr:[wn.auto[0],wn.auto[1],wn.auto[2],wn.auto[4],wn.auto[5]]},charged:{hit1:wn.auto[7],hit2:wn.auto[8],stamina:wn.auto[9][0]},plunging:{dmg:wn.auto[10],low:wn.auto[11],high:wn.auto[12]},skill:{hit1:wn.skill[Tu++],hit2:wn.skill[Tu++],dmgRed_:wn.skill[Tu++],duration:wn.skill[Tu++][0],cd:wn.skill[Tu++][0]},burst:{dmg:wn.burst[Kg++],duration:wn.burst[Kg++][0],cd:wn.burst[Kg++][0],cost:wn.burst[Kg++][0]},passive2:{hydro_dmg_:.2},constellation2:{hydro_enemyRes_:-.15,burst_duration:3},constellation4:{dmg_:1.5}},OS=n(a.asc,4,bn.passive2.hydro_dmg_),[wO,jS]=h(Lr,"c2"),GS=n(a.constellation,2,i(jS,"on",bn.constellation2.hydro_enemyRes_)),[AO,zS]=h(Lr,"skill"),[BO,WS]=h(Lr,"burst"),Rf=Co(n(a.constellation,4,i(WS,"on",1)),1,bn.constellation4.dmg_,St,{name:d("dmgMult.skill"),unit:"%"}),LS=i(zS,"on",D($(a.total.skillIndex,bn.skill.dmgRed_,{unit:"%"}),yl(c(.24),m(c(.2),a.premod.hydro_dmg_)))),IO=Gn(n(a.asc,1,m(a.total.hp,c(.06)))),yo={normal:Object.fromEntries(bn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",bn.charged.hit1,"charged"),dmg2:o("atk",bn.charged.hit2,"charged")},plunging:E("atk",bn.plunging),skill:{press1:o("atk",bn.skill.hit1,"skill",void 0,Rf),press2:o("atk",bn.skill.hit2,"skill",void 0,Rf),dmgRed_:LS},passive1:{healing:IO},burst:{dmg:o("atk",bn.burst.dmg,"burst",{hit:{ele:p(Cv)}})}},US=n(a.constellation,3,3),qS=n(a.constellation,5,3),RO=B(Lr,Cv,"liyue",Tp,yo,{premod:{skillBoost:qS,burstBoost:US,hydro_dmg_:OS},teamBuff:{premod:{hydro_enemyRes_:GS,dmgRed_:e(LS,y.info("dmgRed_"))}}}),MO={key:Lr,name:pe.name,rarity:Tp.rarity,elementKey:Cv,weaponTypeKey:Tp.weaponType,gender:"M",constellationName:pe.chg("constellationName"),title:pe.chg("title"),talent:{auto:pe.talentTem("auto",[{text:pe.chg("auto.fields.normal")},{fields:bn.normal.hitArr.map((t,l)=>({node:e(yo.normal[l],{name:pe.chg(`auto.skillParams.${l}`),multi:l===2||l===4?2:void 0})}))},{text:pe.chg("auto.fields.charged")},{fields:[{node:e(yo.charged.dmg1,{name:pe.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(yo.charged.dmg2,{name:pe.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:pe.chg("auto.skillParams.6"),value:bn.charged.stamina}]},{text:pe.chg("auto.fields.plunging")},{fields:[{node:e(yo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(yo.plunging.low,{name:s("plunging.low")})},{node:e(yo.plunging.high,{name:s("plunging.high")})}]}]),skill:pe.talentTem("skill",[{fields:[{node:e(yo.skill.press1,{name:pe.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:e(yo.skill.press2,{name:pe.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:pe.chg("skill.skillParams.2"),value:bn.skill.duration,unit:"s"},{text:pe.chg("skill.skillParams.3"),value:bn.skill.cd,unit:"s"}]},pe.condTem("skill",{teamBuff:!0,value:zS,path:AO,name:pe.ch("skillCond"),states:{on:{fields:[{node:yo.skill.dmgRed_}]}}})]),burst:pe.talentTem("burst",[{fields:[{node:e(yo.burst.dmg,{name:pe.chg("burst.skillParams.0")})},{text:pe.chg("burst.skillParams.1"),value:t=>t.get(a.constellation).value>=2?`${bn.burst.duration}s + ${bn.constellation2.burst_duration}s = ${bn.burst.duration+bn.constellation2.burst_duration}`:`${bn.burst.duration}`,unit:"s"},{text:pe.chg("burst.skillParams.2"),value:bn.burst.cd,unit:"s"},{text:pe.chg("burst.skillParams.3"),value:bn.burst.cost}]},pe.condTem("constellation4",{value:WS,path:BO,name:pe.ch("burstCond"),states:{on:{fields:[{node:Rf}]}}})]),passive1:pe.talentTem("passive1",[pe.fieldsTem("passive1",{fields:[{node:e(yo.passive1.healing,{name:s("healing")})}]})]),passive2:pe.talentTem("passive2",[pe.fieldsTem("passive2",{fields:[{node:OS}]})]),passive3:pe.talentTem("passive3"),constellation1:pe.talentTem("constellation1"),constellation2:pe.talentTem("constellation2",[pe.condTem("constellation2",{value:jS,path:wO,teamBuff:!0,name:pe.ch("c2Cond"),states:{on:{fields:[{node:GS}]}}})]),constellation3:pe.talentTem("constellation3",[{fields:[{node:US}]}]),constellation4:pe.talentTem("constellation4"),constellation5:pe.talentTem("constellation5",[{fields:[{node:qS}]}]),constellation6:pe.talentTem("constellation6")}},HO=new R(MO,RO),Xc="Xinyan",Sv="pyro",$p=_.char.data[Xc],Qe=_.char.skillParam[Xc],lt=A(Xc,$p.weaponType);let Qo=0,Ni=0,$u=0;const Ol={normal:{hitArr:[Qe.auto[Qo++],Qe.auto[Qo++],Qe.auto[Qo++],Qe.auto[Qo++]]},charged:{spin:Qe.auto[Qo++],final:Qe.auto[Qo++],stamina:Qe.auto[Qo++][0],duration:Qe.auto[Qo++][0]},plunging:{dmg:Qe.auto[Qo++],low:Qe.auto[Qo++],high:Qe.auto[Qo++]},skill:{dmg:Qe.skill[Ni++],shieldArr:[{defShield_:Qe.skill[Ni++],baseShield:Qe.skill[Ni++]},{defShield_:Qe.skill[Ni++],baseShield:Qe.skill[Ni++]},{defShield_:Qe.skill[Ni++],baseShield:Qe.skill[Ni++]}],lvl3Dmg:Qe.skill[Ni++],duration:Qe.skill[Ni++][0],cd:Qe.skill[Ni++][0]},burst:{pressPhysDmg:Qe.burst[$u++],dotPyroDmg:Qe.burst[$u++],cd:Qe.burst[$u++][0],enerCost:Qe.burst[$u++][0],duration:Qe.burst[$u++][0]},passive2:{physical_dmg_:Qe.passive2[0][0]},c1:{atkSPD_:Qe.constellation1[0],duration:Qe.constellation1[1],cd:Qe.constellation1[1]},c2:{burstphysical_critRate_:Qe.constellation2[0]},c4:{physical_enemyRes_:Qe.constellation4[0],duration:Qe.constellation4[1]},c6:{staminaChargedDec_:-Qe.constellation6[0],charged_atkBonus:Qe.constellation6[1]}},[EO,VS]=h(Xc,"p2Shield"),JS=n(a.asc,4,i(VS,"on",Ol.passive2.physical_dmg_)),KO=i(a.activeCharKey,G.charKey,JS),[NO,QS]=h(Xc,"c1Crit"),XS=n(a.constellation,1,i(QS,"on",Ol.c1.atkSPD_)),YS=n(a.constellation,2,Ol.c2.burstphysical_critRate_),[FO,ZS]=h(Xc,"c4Burst"),tw=n(a.constellation,4,i(ZS,"on",Ol.c4.physical_enemyRes_)),ew=n(a.constellation,6,Ol.c6.staminaChargedDec_),[OO,aw]=h(Xc,"c6Charged"),lw=n(a.constellation,6,i(aw,"on",m(a.total.def,c(Ol.c6.charged_atkBonus)))),Zn={normal:Object.fromEntries(Ol.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",Ol.charged.spin,"charged"),final:o("atk",Ol.charged.final,"charged")},plunging:E("atk",Ol.plunging),skill:{dmg:o("atk",Ol.skill.dmg,"skill"),...Object.fromEntries(Ol.skill.shieldArr.map((t,l)=>[`normShield${l+1}`,Cn("def",t.defShield_,t.baseShield,"skill")])),...Object.fromEntries(Ol.skill.shieldArr.map((t,l)=>[`pyroShield${l+1}`,tn(Sv,Cn("def",t.defShield_,t.baseShield,"skill"))])),lvl3Dmg:o("atk",Ol.skill.lvl3Dmg,"skill")},burst:{pressPhysDmg:o("atk",Ol.burst.pressPhysDmg,"burst",{hit:{ele:p("physical")},premod:{burst_critRate_:YS}}),dotPyroDmg:o("atk",Ol.burst.dotPyroDmg,"burst")}},nw=n(a.constellation,3,3),sw=n(a.constellation,5,3),jO=B(Xc,Sv,"liyue",$p,Zn,{teamBuff:{premod:{physical_dmg_:KO,physical_enemyRes_:tw}},premod:{skillBoost:nw,burstBoost:sw,atkSPD_:XS,staminaChargedDec_:ew,atk:lw}}),GO={key:Xc,name:lt.name,rarity:$p.rarity,elementKey:Sv,weaponTypeKey:$p.weaponType,gender:"F",constellationName:lt.chg("constellationName"),title:lt.chg("title"),talent:{auto:lt.talentTem("auto",[{text:lt.chg("auto.fields.normal")},{fields:Ol.normal.hitArr.map((t,l)=>({node:e(Zn.normal[l],{name:lt.chg(`auto.skillParams.${l}`)})}))},{text:lt.chg("auto.fields.charged")},{fields:[{node:e(Zn.charged.spin,{name:lt.chg("auto.skillParams.4")})},{node:e(Zn.charged.final,{name:lt.chg("auto.skillParams.5")})},{text:lt.chg("auto.skillParams.6"),value:`${Ol.charged.stamina}/s`}]},lt.headerTem("constellation6",{fields:[{node:ew}]}),lt.condTem("constellation6",{value:aw,path:OO,name:lt.ch("c6.duringCharge"),states:{on:{fields:[{node:lw}]}}}),{text:lt.chg("auto.fields.plunging")},{fields:[{node:e(Zn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Zn.plunging.low,{name:s("plunging.low")})},{node:e(Zn.plunging.high,{name:s("plunging.high")})}]}]),skill:lt.talentTem("skill",[{fields:[{node:e(Zn.skill.dmg,{name:lt.chg("skill.skillParams.0")})},{node:e(Zn.skill.normShield1,{name:lt.chg("skill.skillParams.1")})},{node:e(Zn.skill.pyroShield1,{name:lt.ch("skill.pyroShield.1")})},{node:e(Zn.skill.normShield2,{name:lt.chg("skill.skillParams.2")})},{node:e(Zn.skill.pyroShield2,{name:lt.ch("skill.pyroShield.2")})},{node:e(Zn.skill.normShield3,{name:lt.chg("skill.skillParams.3")})},{node:e(Zn.skill.pyroShield3,{name:lt.ch("skill.pyroShield.3")})},{node:e(Zn.skill.lvl3Dmg,{name:lt.chg("skill.skillParams.4")})},{text:lt.chg("skill.skillParams.5"),value:Ol.skill.duration,unit:"s"},{text:s("cd"),value:Ol.skill.cd,unit:"s"}]},lt.headerTem("passive1",{fields:[{text:lt.ch("p1.desc")}]}),lt.condTem("passive2",{value:VS,path:EO,name:lt.ch("p2.activeShield"),teamBuff:!0,states:{on:{fields:[{node:e(JS,y.info("physical_dmg_"))}]}}}),lt.condTem("constellation4",{value:ZS,path:FO,name:lt.ch("c4.swingHit"),teamBuff:!0,states:{on:{fields:[{node:tw},{text:s("duration"),value:Ol.c4.duration,unit:"s"}]}}})]),burst:lt.talentTem("burst",[{fields:[{node:e(Zn.burst.pressPhysDmg,{name:lt.chg("burst.skillParams.0")})},{node:e(Zn.burst.dotPyroDmg,{name:lt.chg("burst.skillParams.1")})},{text:s("duration"),value:Ol.burst.duration,unit:"s"},{text:s("cd"),value:Ol.burst.cd,unit:"s"},{text:s("energyCost"),value:Ol.burst.enerCost}]},lt.headerTem("constellation2",{fields:[{node:e(YS,{name:lt.ch("c2.key_"),unit:"%"})},{text:lt.ch("c2.shield")}]})]),passive1:lt.talentTem("passive1"),passive2:lt.talentTem("passive2"),passive3:lt.talentTem("passive3"),constellation1:lt.talentTem("constellation1",[lt.condTem("constellation1",{value:QS,path:NO,name:d("hitOp.crit"),states:{on:{fields:[{node:XS},{text:s("duration"),value:Ol.c1.duration,unit:"s"},{text:s("cd"),value:Ol.c1.cd,unit:"s"}]}}})]),constellation2:lt.talentTem("constellation2"),constellation3:lt.talentTem("constellation3",[{fields:[{node:nw}]}]),constellation4:lt.talentTem("constellation4"),constellation5:lt.talentTem("constellation5",[{fields:[{node:sw}]}]),constellation6:lt.talentTem("constellation6")}},zO=new R(GO,jO),Jm="YaeMiko",ow="electro",xp=_.char.data[Jm],Ml=_.char.skillParam[Jm],Ce=A(Jm,xp.weaponType);let hr=0,$m=0,Ng=0,WO=0;const _n={normal:{hitArr:[Ml.auto[hr++],Ml.auto[hr++],Ml.auto[hr++]]},charged:{dmg:Ml.auto[hr++],stamina:Ml.auto[hr++][0]},plunging:{dmg:Ml.auto[hr++],low:Ml.auto[hr++],high:Ml.auto[hr++]},skill:{dmg1:Ml.skill[$m++],dmg2:Ml.skill[$m++],dmg3:Ml.skill[$m++],dmg4:Ml.skill[$m++],duration:Ml.skill[$m++][0],cd:Ml.skill[$m++][0]},burst:{dmg:Ml.burst[Ng++],tenkoDmg:Ml.burst[Ng++],cd:Ml.burst[Ng++][0],enerCost:Ml.burst[Ng++][0]},passive2:{eleMas_dmg_:Ml.passive2[WO++][0]},constellation1:{enerRest:Ml.constellation1[0]},constellation2:{unknown1:Ml.constellation2[0],aoeInc:Ml.constellation2[1],unknown2:Ml.constellation2[2]},constellation4:{ele_dmg_:Ml.constellation4[0],duration:Ml.constellation4[1]},constellation6:{defIgn_:Ml.constellation6[0]}},[LO,iw]=h(Jm,"c4"),cw=n(a.constellation,4,i("hit",iw,_n.constellation4.ele_dmg_)),Bk=n(a.constellation,6,_n.constellation6.defIgn_),As={normal:Object.fromEntries(_n.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",_n.charged.dmg,"charged")},plunging:E("atk",_n.plunging),skill:{dmg1:oA(a.constellation,2,o("atk",_n.skill.dmg1,"skill")),dmg2:o("atk",_n.skill.dmg2,"skill",{enemy:{defIgn:Bk}}),dmg3:o("atk",_n.skill.dmg3,"skill",{enemy:{defIgn:Bk}}),dmg4:n(a.constellation,2,o("atk",_n.skill.dmg4,"skill",{enemy:{defIgn:Bk}}))},burst:{dmg:o("atk",_n.burst.dmg,"burst"),tenkoDmg:o("atk",_n.burst.tenkoDmg,"burst")},passive2:{nodeAsc4:n(a.asc,4,m(a.total.eleMas,c(_n.passive2.eleMas_dmg_,{fixed:2})))}},rw=n(a.constellation,3,3),dw=n(a.constellation,5,3),UO=B(Jm,ow,"liyue",xp,As,{premod:{skillBoost:rw,burstBoost:dw},total:{skill_dmg_:As.passive2.nodeAsc4},teamBuff:{premod:{electro_dmg_:cw}}}),qO={key:Jm,name:Ce.name,rarity:xp.rarity,elementKey:ow,weaponTypeKey:xp.weaponType,gender:"F",constellationName:Ce.chg("constellationName"),title:Ce.chg("title"),talent:{auto:Ce.talentTem("auto",[{text:Ce.chg("auto.fields.normal")},{fields:_n.normal.hitArr.map((t,l)=>({node:e(As.normal[l],{name:Ce.chg(`auto.skillParams.${l}`)})}))},{text:Ce.chg("auto.fields.charged")},{fields:[{node:e(As.charged.dmg,{name:Ce.chg("auto.skillParams.3")})},{text:Ce.chg("auto.skillParams.4"),value:_n.charged.stamina}]},{text:Ce.chg("auto.fields.plunging")},{fields:[{node:e(As.plunging.dmg,{name:s("plunging.dmg")})},{node:e(As.plunging.low,{name:s("plunging.low")})},{node:e(As.plunging.high,{name:s("plunging.high")})}]}]),skill:Ce.talentTem("skill",[{fields:[{node:e(As.skill.dmg1,{name:Ce.chg("skill.skillParams.0")})},{node:e(As.skill.dmg2,{name:Ce.chg("skill.skillParams.1")})},{node:e(As.skill.dmg3,{name:Ce.chg("skill.skillParams.2")})},{node:e(As.skill.dmg4,{name:Ce.chg("skill.skillParams.3")})},{text:Ce.chg("skill.skillParams.4"),value:_n.skill.duration,unit:"s"},{text:Ce.chg("skill.skillParams.5"),value:_n.skill.cd},{text:d("charges"),value:3}]},Ce.headerTem("constellation2",{fields:[{text:d("aoeInc"),value:_n.constellation2.aoeInc*100,unit:"%"}]}),Ce.condTem("constellation4",{value:iw,path:LO,teamBuff:!0,name:Ce.ch("c4"),states:{hit:{fields:[{node:cw},{text:s("duration"),value:_n.constellation4.duration,unit:"s"}]}}}),Ce.headerTem("constellation6",{fields:[{text:Ce.ch("c6"),value:_n.constellation6.defIgn_*100,unit:"%"}]})]),burst:Ce.talentTem("burst",[{fields:[{node:e(As.burst.dmg,{name:Ce.chg("burst.skillParams.0")})},{node:e(As.burst.tenkoDmg,{name:Ce.chg("burst.skillParams.1")})},{text:Ce.chg("burst.skillParams.2"),value:_n.burst.cd,unit:"s"},{text:Ce.chg("burst.skillParams.3"),value:_n.burst.enerCost}]},Ce.headerTem("constellation1",{fields:[{text:d("enerRegenPerHit"),value:_n.constellation1.enerRest}]})]),passive1:Ce.talentTem("passive1"),passive2:Ce.talentTem("passive2",[{fields:[{node:As.passive2.nodeAsc4}]}]),passive3:Ce.talentTem("passive3"),constellation1:Ce.talentTem("constellation1"),constellation2:Ce.talentTem("constellation2"),constellation3:Ce.talentTem("constellation3",[{fields:[{node:rw}]}]),constellation4:Ce.talentTem("constellation4"),constellation5:Ce.talentTem("constellation5",[{fields:[{node:dw}]}]),constellation6:Ce.talentTem("constellation6")}},VO=new R(qO,UO),Ur="Yanfei",Dp="pyro",Pp=_.char.data[Ur],Xe=_.char.skillParam[Ur],te=A(Ur,Pp.weaponType);let Rn=0,xm=0;const pl={normal:{hitArr:[Xe.auto[Rn++],Xe.auto[Rn++],Xe.auto[Rn++]]},charged:{dmgArr:[Xe.auto[Rn++],Xe.auto[Rn++],Xe.auto[Rn++],Xe.auto[Rn++],Xe.auto[Rn++]],unknown:{arr:[Xe.auto[Rn++][0],Xe.auto[Rn++][0],Xe.auto[Rn++][0],Xe.auto[Rn++][0],Xe.auto[Rn++][0]]},stamina:Xe.auto[Rn++][0],sealStaminaRed_:Xe.auto[Rn++][0],maxSeals:3},plunging:{dmg:Xe.auto[Rn++],low:Xe.auto[Rn++],high:Xe.auto[Rn++]},sealDuration:Xe.auto[Rn++][0],skill:{dmg:Xe.skill[0],cd:Xe.skill[1][0]},burst:{dmg:Xe.burst[xm++],charged_dmg_:Xe.burst[xm++],duration:Xe.burst[xm++][0],sealInterval:Xe.burst[xm++][0],cd:Xe.burst[xm++][0],enerCost:Xe.burst[xm++][0]},passive1:{seal_pyro_dmg_:Xe.passive1[0][0],duration:Xe.passive1[1][0]},passive2:{dmg:c(Xe.passive2[0][0])},c1:{sealStaminaRed_:Xe.constellation1[0]},c2:{hpThresh:Xe.constellation2[0],charged_critRate_:Xe.constellation2[1]},c4:{hpShield_:Xe.constellation4[0],duration:15},c6:{extraSeals:Xe.constellation6[0]}},[JO,mw]=h(Ur,"afterBurst"),uw=i(mw,"on",$(a.total.burstIndex,pl.burst.charged_dmg_)),[QO,gw]=h(Ur,"p1Seals"),XO=N(1,4),hw=n(a.asc,1,m(w(gw,C(XO,t=>t===4?n(a.constellation,6,t):p(t)),O),pl.passive1.seal_pyro_dmg_)),[YO,pw]=h(Ur,"c2EnemyHp"),kw=n(a.constellation,2,i(pw,"on",pl.c2.charged_critRate_)),ci={normal:Object.fromEntries(pl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:Object.fromEntries(pl.charged.dmgArr.map((t,l)=>[l,l<4?o("atk",t,"charged"):n(a.constellation,6,o("atk",t,"charged"))])),plunging:E("atk",pl.plunging),skill:{dmg:o("atk",pl.skill.dmg,"skill")},burst:{dmg:o("atk",pl.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,F(m(a.total.atk,pl.passive2.dmg),"charged"))},constellation4:{pyro_shield:n(a.constellation,4,tn(Dp,Qg(m(a.total.hp,pl.c4.hpShield_)))),norm_shield:n(a.constellation,4,Qg(m(a.total.hp,pl.c4.hpShield_)))}},fw=n(a.constellation,3,3),bw=n(a.constellation,5,3),ZO=B(Ur,Dp,"liyue",Pp,ci,{premod:{skillBoost:fw,burstBoost:bw,charged_dmg_:uw,charged_critRate_:kw,pyro_dmg_:hw}}),tj={key:Ur,name:te.name,rarity:Pp.rarity,elementKey:Dp,weaponTypeKey:Pp.weaponType,gender:"F",constellationName:te.chg("constellationName"),title:te.chg("title"),talent:{auto:te.talentTem("auto",[{text:te.chg("auto.fields.normal")},{fields:pl.normal.hitArr.map((t,l)=>({node:e(ci.normal[l],{name:te.chg(`auto.skillParams.${l}`)})}))},{text:te.chg("auto.fields.charged")},{fields:[...pl.charged.dmgArr.map((t,l)=>({node:e(ci.charged[l],{name:te.ch(`charged.${l}`)})})),{text:te.chg("auto.skillParams.4"),value:pl.charged.stamina},{text:d("staminaDec_"),value:pl.charged.sealStaminaRed_*100,textSuffix:te.ch("perSeal"),unit:"%"},{text:te.ch("maxSeals"),value:t=>t.get(a.constellation).value>=6?pl.charged.maxSeals+pl.c6.extraSeals:pl.charged.maxSeals},{text:te.chg("auto.skillParams.6"),value:pl.sealDuration,unit:"s"}]},te.condTem("passive1",{value:gw,path:QO,name:te.ch("passive1.sealsConsumed"),states:t=>Object.fromEntries(N(1,t.get(a.constellation).value>=6?4:3).map(l=>[l,{name:te.ch(`seals.${l}`),fields:[{node:hw},{text:s("duration"),value:pl.passive1.duration,unit:"s"}]}]))}),te.headerTem("passive2",{fields:[{node:e(ci.passive2.dmg,{name:te.ch("passive2.key")})}]}),te.headerTem("constellation6",{fields:[{text:te.ch("c6.maxSealInc"),value:pl.c6.extraSeals}]}),{text:te.chg("auto.fields.plunging")},{fields:[{node:e(ci.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ci.plunging.low,{name:s("plunging.low")})},{node:e(ci.plunging.high,{name:s("plunging.high")})}]}]),skill:te.talentTem("skill",[{fields:[{node:e(ci.skill.dmg,{name:te.chg("skill.skillParams.0")})},{text:s("cd"),value:pl.skill.cd,unit:"s"}]}]),burst:te.talentTem("burst",[{fields:[{node:e(ci.burst.dmg,{name:te.chg("burst.skillParams.0")})},{text:te.ch("burst.grantMax")},{text:s("cd"),value:pl.burst.cd,unit:"s"},{text:s("energyCost"),value:pl.burst.enerCost}]},te.condTem("burst",{value:mw,path:JO,name:d("afterUse.burst"),states:{on:{fields:[{text:te.chg("burst.skillParams.2"),value:pl.burst.sealInterval,unit:"s"},{node:uw}]}}})]),passive1:te.talentTem("passive1"),passive2:te.talentTem("passive2"),passive3:te.talentTem("passive3"),constellation1:te.talentTem("constellation1",[{fields:[{text:te.ch("c1.sealChargedStam_"),value:pl.c1.sealStaminaRed_*-100,textSuffix:te.ch("perSeal"),unit:"%"},{text:d("incInterRes")}]}]),constellation2:te.talentTem("constellation2",[te.condTem("constellation2",{value:pw,path:YO,name:d("enemyLessPercentHP",{percent:pl.c2.hpThresh*100}),states:{on:{fields:[{node:kw}]}}})]),constellation3:te.talentTem("constellation3",[{fields:[{node:fw}]}]),constellation4:te.talentTem("constellation4",[{fields:[{node:e(ci.constellation4.norm_shield,{name:s("dmgAbsorption")})},{node:e(ci.constellation4.pyro_shield,{name:d(`dmgAbsorption.${Dp}`)})},{text:s("duration"),value:pl.c4.duration,unit:"s"}]}]),constellation5:te.talentTem("constellation5",[{fields:[{node:bw}]}]),constellation6:te.talentTem("constellation6")}},ej=new R(tj,ZO),qr="Yaoyao",vw="dendro",Cp=_.char.data[qr],ke=_.char.skillParam[qr],fe=A(qr,Cp.weaponType);let Fi=0,Dm=0,pr=0;const $a={normal:{hitArr:[ke.auto[Fi++],ke.auto[Fi++],ke.auto[Fi++],ke.auto[Fi++],ke.auto[Fi++]]},charged:{dmg:ke.auto[Fi++],stamina:ke.auto[Fi++][0]},plunging:{dmg:ke.auto[Fi++],low:ke.auto[Fi++],high:ke.auto[Fi++]},skill:{dmg:ke.skill[Dm++],heal_hp_:ke.skill[Dm++],heal_base:ke.skill[Dm++],throwDuration:ke.skill[Dm++][0],radishDuration:ke.skill[Dm++][0],cd:ke.skill[Dm++][0]},burst:{radish_dmg:ke.burst[pr++],radish_heal_hp:ke.burst[pr++],radish_heal_flat:ke.burst[pr++],skill_dmg:ke.burst[pr++],dendro_res_:ke.burst[pr++][0],moveSPD_:.15,legacyDuration:ke.burst[pr++][0],cd:ke.burst[pr++][0],cost:ke.burst[pr++][0]},passive2:{cd:ke.passive2[0][0],heal_hp:ke.passive2[1][0],duration:ke.passive2[2][0]},constellation1:{duration:ke.constellation1[0],dendro_dmg_:ke.constellation1[1],staminaRestore:ke.constellation1[2],cd:ke.constellation1[3]},constellation2:{energyRegen:ke.constellation2[0],cd:ke.constellation2[1]},constellation4:{eleMas_Hp:ke.constellation4[0],duration:ke.constellation4[1],maxEleMas:ke.constellation4[2]},constellation6:{dmg:ke.constellation6[0],heal_hp:ke.constellation6[1]}},[aj,wv]=h(qr,"adeptalLegacy"),_w=i(wv,"on",$a.burst.dendro_res_),yw=i(wv,"on",$a.burst.moveSPD_),[lj,Tw]=h(qr,"c1Explode"),$w=n(a.constellation,1,i(Tw,"on",$a.constellation1.dendro_dmg_),{...y.info("dendro_dmg_"),isTeamBuff:!0}),nj=i(a.activeCharKey,G.charKey,$w),[sj,xw]=h(qr,"c4AfterSkillBurst"),Av=n(a.constellation,4,i(xw,"on",yl(m(c($a.constellation4.eleMas_Hp),a.premod.hp),$a.constellation4.maxEleMas))),ws={normal:Object.fromEntries($a.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",$a.charged.dmg,"charged")},plunging:E("atk",$a.plunging),skill:{dmg:o("atk",$a.skill.dmg,"skill"),heal:cl("hp",$a.skill.heal_hp_,$a.skill.heal_base,"skill")},burst:{skillDmg:o("atk",$a.burst.skill_dmg,"burst"),radish:o("atk",$a.burst.radish_dmg,"burst"),radishHeal:cl("hp",$a.burst.radish_heal_hp,$a.burst.radish_heal_flat,"burst")},passive2:{heal:n(a.asc,4,Gn(m(c($a.passive2.heal_hp),a.total.hp)))},constellation4:{eleMas:Av},constellation6:{dmg:n(a.constellation,6,F(m(c($a.constellation6.dmg),a.total.atk),"burst")),heal:n(a.constellation,6,Gn(m(c($a.constellation6.heal_hp),a.total.hp)))}},Dw=n(a.constellation,3,3),Pw=n(a.constellation,5,3),oj=B(qr,vw,"liyue",Cp,ws,{premod:{skillBoost:Dw,burstBoost:Pw,dendro_res_:_w,moveSPD_:yw},total:{eleMas:Av},teamBuff:{premod:{dendro_dmg_:nj}}}),ij={key:qr,name:fe.name,rarity:Cp.rarity,elementKey:vw,weaponTypeKey:Cp.weaponType,gender:"F",constellationName:fe.chg("constellationName"),title:fe.chg("title"),talent:{auto:fe.talentTem("auto",[{text:fe.chg("auto.fields.normal")},{fields:$a.normal.hitArr.map((t,l)=>({node:e(ws.normal[l],{name:fe.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:fe.chg("auto.fields.charged")},{fields:[{node:e(ws.charged.dmg,{name:fe.chg("auto.skillParams.4")})},{text:fe.chg("auto.skillParams.5"),value:$a.charged.stamina}]},{text:fe.chg("auto.fields.plunging")},{fields:[{node:e(ws.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ws.plunging.low,{name:s("plunging.low")})},{node:e(ws.plunging.high,{name:s("plunging.high")})}]}]),skill:fe.talentTem("skill",[{fields:[{node:e(ws.skill.dmg,{name:fe.chg("skill.skillParams.0")})},{node:e(ws.skill.heal,{name:fe.chg("skill.skillParams.1")})},{text:fe.chg("skill.skillParams.2"),value:$a.skill.throwDuration,unit:"s"},{text:fe.chg("skill.skillParams.3"),value:$a.skill.radishDuration,unit:"s"},{text:s("cd"),value:$a.skill.cd,unit:"s"}]}]),burst:fe.talentTem("burst",[{fields:[{node:e(ws.burst.skillDmg,{name:fe.chg("burst.skillParams.0")})},{node:e(ws.burst.radish,{name:fe.chg("burst.skillParams.1")})},{node:e(ws.burst.radishHeal,{name:fe.chg("burst.skillParams.2")})},{text:s("cd"),value:$a.burst.cd,unit:"s"},{text:s("energyCost"),value:$a.burst.cost}]},fe.condTem("burst",{path:aj,value:wv,name:fe.ch("inLegacy"),states:{on:{fields:[{node:_w},{node:yw},{text:fe.chg("burst.skillParams.4"),value:$a.burst.legacyDuration,unit:"s"}]}}}),fe.headerTem("constellation6",{fields:[{node:e(ws.constellation6.dmg,{name:fe.ch("megaDmg")})},{node:e(ws.constellation6.heal,{name:fe.ch("megaHeal")})}]})]),passive1:fe.talentTem("passive1"),passive2:fe.talentTem("passive2",[fe.fieldsTem("passive2",{fields:[{node:e(ws.passive2.heal,{name:s("contHealing")})},{text:d("interval"),value:$a.passive2.cd,unit:"s"},{text:s("duration"),value:$a.passive2.duration,unit:"s"}]})]),passive3:fe.talentTem("passive3"),constellation1:fe.talentTem("constellation1",[fe.condTem("constellation1",{path:lj,value:Tw,name:fe.ch("inExplosionAoE"),teamBuff:!0,states:{on:{fields:[{node:$w},{text:s("duration"),value:$a.constellation1.duration,unit:"s"},{text:d("stamRestored"),value:$a.constellation1.staminaRestore},{text:s("cd"),value:$a.constellation1.cd,unit:"s"}]}}})]),constellation2:fe.talentTem("constellation2"),constellation3:fe.talentTem("constellation3",[{fields:[{node:Dw}]}]),constellation4:fe.talentTem("constellation4",[fe.condTem("constellation4",{path:sj,value:xw,name:d("afterUse.skillOrBurst"),states:{on:{fields:[{node:Av},{text:s("duration"),value:$a.constellation4.duration,unit:"s"}]}}})]),constellation5:fe.talentTem("constellation5",[{fields:[{node:Pw}]}]),constellation6:fe.talentTem("constellation6")}},cj=new R(ij,oj),nm="Yelan",Bv="hydro",Sp=_.char.data[nm],ka=_.char.skillParam[nm],Fe=A(nm,Sp.weaponType);let Oi=0,Fg=0,xu=0;const Sl={normal:{hitArr:[ka.auto[Oi++],ka.auto[Oi++],ka.auto[Oi++],ka.auto[Oi++]]},charged:{aimed:ka.auto[Oi++],aimedCharged:ka.auto[Oi++],barb:ka.auto[Oi++]},plunging:{dmg:ka.auto[Oi++],low:ka.auto[Oi++],high:ka.auto[Oi++]},skill:{dmg:ka.skill[Fg++],resetChance:ka.skill[Fg++][0],maxDuration:ka.skill[Fg++][0],cd:ka.skill[Fg++][0]},burst:{pressDmg:ka.burst[xu++],throwDmg:ka.burst[xu++],duration:ka.burst[xu++][0],cd:ka.burst[xu++][0],enerCost:ka.burst[xu++][0]},passive1:{hp_Arr:[0,...ka.passive1.map(([t])=>t)]},passive2:{baseDmg_:ka.passive2[0][0],stackDmg_:ka.passive2[1][0],maxDmg_:ka.passive2[2][0],maxStacks:14},constellation1:{addlCharge:ka.constellation1[0]},constellation2:{arrowDmg_:ka.constellation2[0],cd:ka.constellation2[1]},constellation4:{bonusHp_:ka.constellation4[0],duration:ka.constellation4[1],maxHp_:ka.constellation4[2],maxStacks:4},constellation6:{charges:ka.constellation6[0],duration:ka.constellation6[1],dmg_:ka.constellation6[2]}},Cw=n(a.asc,1,$(dn.ele,Sl.passive1.hp_Arr)),[rj,Sw]=h(nm,"a4Stacks"),ww=N(0,Sl.passive2.maxStacks),Aw=n(a.asc,4,w(Sw,Object.fromEntries(ww.map(t=>[t,D(c(Sl.passive2.baseDmg_),m(t,c(Sl.passive2.stackDmg_)))])),O)),dj=i(G.charKey,a.activeCharKey,Aw),[mj,Bw]=h(nm,"c4Stacks"),Iw=N(1,Sl.constellation4.maxStacks),Rw=n(a.constellation,4,w(Bw,Object.fromEntries(Iw.map(t=>[t,m(t,c(Sl.constellation4.bonusHp_))])),O)),Og={hit:{ele:p(Bv)}},Us={normal:Object.fromEntries(Sl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Sl.charged.aimed,"charged"),aimedCharged:o("atk",Sl.charged.aimedCharged,"charged",Og),barb:o("hp",Sl.charged.barb,"charged",Og)},plunging:E("atk",Sl.plunging),skill:{dmg:o("hp",Sl.skill.dmg,"skill")},burst:{pressDmg:o("hp",Sl.burst.pressDmg,"burst"),throwDmg:o("hp",Sl.burst.throwDmg,"burst")},constellation2:{arrowDmg:n(a.constellation,2,F(m(c(Sl.constellation2.arrowDmg_),a.total.hp),"burst",Og))},constellation6:{barbDmg:n(a.constellation,6,F(m($(a.total.autoIndex,Sl.charged.barb,{unit:"%"}),c(Sl.constellation6.dmg_),a.total.hp),"charged",Og))}},Mw=n(a.constellation,3,3),Hw=n(a.constellation,5,3),uj=B(nm,Bv,"liyue",Sp,Us,{premod:{skillBoost:Hw,burstBoost:Mw,hp_:Cw},teamBuff:{premod:{all_dmg_:dj,hp_:Rw}}}),gj={key:nm,name:Fe.name,rarity:Sp.rarity,elementKey:Bv,weaponTypeKey:Sp.weaponType,gender:"F",constellationName:Fe.chg("constellationName"),title:Fe.chg("title"),talent:{auto:Fe.talentTem("auto",[{text:Fe.chg("auto.fields.normal")},{fields:Sl.normal.hitArr.map((t,l)=>({node:e(Us.normal[l],{name:Fe.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},Fe.headerTem("constellation6",{fields:[{node:e(Us.constellation6.barbDmg,{name:Fe.ch("c6.dmg")})},{text:d("charges"),value:Sl.constellation6.charges},{text:s("duration"),value:Sl.constellation6.duration,unit:"s"}]}),{text:Fe.chg("auto.fields.charged")},{fields:[{node:e(Us.charged.aimed,{name:Fe.chg("auto.skillParams.4")})},{node:e(Us.charged.aimedCharged,{name:Fe.chg("auto.skillParams.5")})}]},{text:Fe.chg("auto.fields.breakthrough")},{fields:[{node:e(Us.charged.barb,{name:Fe.chg("auto.skillParams.6")})}]},{text:Fe.chg("auto.fields.plunging")},{fields:[{node:e(Us.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Us.plunging.low,{name:s("plunging.low")})},{node:e(Us.plunging.high,{name:s("plunging.high")})}]}]),skill:Fe.talentTem("skill",[{fields:[{node:e(Us.skill.dmg,{name:Fe.chg("skill.skillParams.0")})},{text:Fe.chg("skill.skillParams.1"),value:Sl.skill.maxDuration,unit:"s"},{text:s("cd"),value:Sl.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]},Fe.condTem("constellation4",{path:mj,value:Bw,teamBuff:!0,name:Fe.ch("c4.condName"),states:Object.fromEntries(Iw.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:Rw},{text:s("duration"),value:Sl.constellation4.duration,unit:"s"}]}]))})]),burst:Fe.talentTem("burst",[{fields:[{node:e(Us.burst.pressDmg,{name:Fe.chg("burst.skillParams.0")})},{node:e(Us.burst.throwDmg,{name:Fe.chg("burst.skillParams.1")})},{text:s("duration"),value:Sl.burst.duration,unit:"s"},{text:s("cd"),value:Sl.burst.cd,unit:"s"},{text:s("energyCost"),value:Sl.burst.enerCost}]},Fe.condTem("passive2",{path:rj,value:Sw,teamBuff:!0,name:d("afterUse.burst"),states:Object.fromEntries(ww.map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:e(Aw,y.info("all_dmg_"))}]}]))}),Fe.headerTem("constellation2",{fields:[{node:e(Us.constellation2.arrowDmg,{name:Fe.ch("c2.dmg")})},{text:s("cd"),value:Sl.constellation2.cd,unit:"s",fixed:1}]})]),passive1:Fe.talentTem("passive1",[Fe.fieldsTem("passive1",{fields:[{node:Cw}]})]),passive2:Fe.talentTem("passive2"),passive3:Fe.talentTem("passive3"),constellation1:Fe.talentTem("constellation1",[Fe.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Fe.talentTem("constellation2"),constellation3:Fe.talentTem("constellation3",[{fields:[{node:Mw}]}]),constellation4:Fe.talentTem("constellation4"),constellation5:Fe.talentTem("constellation5",[{fields:[{node:Hw}]}]),constellation6:Fe.talentTem("constellation6")}},hj=new R(gj,uj),Zs="Yoimiya",yr="pyro",wp=_.char.data[Zs],fa=_.char.skillParam[Zs],pt=A(Zs,wp.weaponType),ya={normal:{hitArr:[fa.auto[0],fa.auto[1],fa.auto[2],fa.auto[3],fa.auto[4]]},charged:{hit:fa.auto[5],full:fa.auto[6],kindling:fa.auto[7]},plunging:{dmg:fa.auto[8],low:fa.auto[9],high:fa.auto[10]},skill:{dmg_:fa.skill[3],duration:fa.skill[1][0],cd:fa.skill[2][0]},burst:{dmg:fa.burst[0],exp:fa.burst[1],duration:fa.burst[3][0],cd:fa.burst[4][0],cost:fa.burst[5][0]},passive1:{pyro_dmg_:fa.passive1[0][0],duration:fa.passive1[1][0],maxStacks:10},passive2:{fixed_atk_:fa.passive2[0][0],var_atk_:fa.passive2[1][0],duration:fa.passive2[2][0]},constellation1:{burst_durationInc:fa.constellation1[0],atk_:fa.constellation1[1],duration:fa.constellation1[2]},constellation2:{pyro_dmg_:fa.constellation2[0],duration:fa.constellation2[1]},constellation3:{},constellation4:{cdRed:fa.constellation4[0]},constellation5:{},constellation6:{chance:fa.constellation6[0],dmg_:fa.constellation6[1]}},[pj,Dr]=h(Zs,"skill"),[kj,Mf]=h(Zs,"burst"),[T1,Hf]=h(Zs,"a1"),[fj,Ew]=h(Zs,"c1"),[bj,Kw]=h(Zs,"c2"),Nw=n(a.constellation,3,3),Fw=n(a.constellation,5,3),Iv=Co(Dr,"skill",$(a.total.skillIndex,ya.skill.dmg_,{name:d("dmgMult.normal"),unit:"%"}),St),Ow=w(Hf,Object.fromEntries(N(1,ya.passive1.maxStacks).map(t=>[t,p(t)])),0),Ef=n(a.asc,1,i(Dr,"skill",e(m(c(ya.passive1.pyro_dmg_),Ow),y.info("pyro_dmg_")))),jw=n(a.asc,4,i(Mf,"on",z(a.activeCharKey,Zs,D(c(ya.passive2.fixed_atk_),m(c(ya.passive2.var_atk_),Ow))))),vj=n(a.constellation,1,i(Ew,"c1",c(ya.constellation1.atk_))),Gw=n(a.constellation,2,i(Kw,"c2",c(ya.constellation2.pyro_dmg_),y.info("pyro_dmg_"))),_j=ya.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",{hit:{ele:Co(Dr,"skill",yr,"physical")}},Iv)]),yj=ya.normal.hitArr.map((t,l)=>l===0||l===3?t.map(r=>r*2):t),Tj=yj.map((t,l)=>[l,n(a.constellation,6,i(Dr,"skill",F(m($(a.total.autoIndex,t,{unit:"%"}),p(ya.constellation6.dmg_,{name:pt.ch("c6Key_"),unit:"%"}),a.total.atk,Iv),"normal",{hit:{ele:Co(Dr,"skill",yr,"physical")}})))]),ri={normal:Object.fromEntries(_j),charged:{hit:o("atk",ya.charged.hit,"charged"),full:o("atk",ya.charged.full,"charged",{hit:{ele:p(yr)}}),kindling:o("atk",ya.charged.kindling,"charged",{hit:{ele:p(yr)}})},plunging:E("atk",ya.plunging),skill:{},burst:{dmg:o("atk",ya.burst.dmg,"burst",{hit:{ele:p(yr)}}),exp:o("atk",ya.burst.exp,"burst",{hit:{ele:p(yr)}})},constellation6:Object.fromEntries(Tj)},$j=B(Zs,yr,"inazuma",wp,ri,{teamBuff:{premod:{atk_:jw}},premod:{skillBoost:Nw,burstBoost:Fw,atk_:vj,pyro_dmg_:D(Ef,Gw)}}),xj={key:Zs,name:pt.name,rarity:wp.rarity,elementKey:yr,weaponTypeKey:wp.weaponType,gender:"F",constellationName:pt.chg("constellationName"),title:pt.chg("title"),talent:{auto:pt.talentTem("auto",[{text:pt.chg("auto.fields.normal")},{fields:ya.normal.hitArr.map((t,l)=>({node:e(ri.normal[l],{name:pt.chg(`auto.skillParams.${l}`),multi:[0,3].includes(l)?2:void 0})}))},pt.headerTem("constellation6",{canShow:i(Dr,"skill",1),fields:ya.normal.hitArr.map((t,l)=>({node:e(ri.constellation6[l],{name:pt.chg(`auto.skillParams.${l}`)})}))}),{text:pt.chg("auto.fields.charged")},{fields:[{node:e(ri.charged.hit,{name:pt.chg("auto.skillParams.5")})},{node:e(ri.charged.full,{name:pt.chg("auto.skillParams.6")})},{node:e(ri.charged.kindling,{name:pt.chg("auto.skillParams.7")})}]},{text:pt.chg("auto.fields.plunging")},{fields:[{node:e(ri.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ri.plunging.low,{name:s("plunging.low")})},{node:e(ri.plunging.high,{name:s("plunging.high")})}]}]),skill:pt.talentTem("skill",[{fields:[{text:pt.chg("skill.skillParams.2"),value:ya.skill.cd,unit:"s"}]},pt.condTem("skill",{name:d("afterUse.skill"),path:pj,value:Dr,states:{skill:{fields:[{text:pt.ch("normPyroInfus")},{node:Iv},{text:pt.chg("skill.skillParams.1"),value:ya.skill.duration,unit:"s"}]}}}),pt.condTem("passive1",{canShow:i(Dr,"skill",1),value:Hf,path:T1,name:pt.chg("passive1.name"),states:Object.fromEntries(N(1,ya.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:Ef},{text:s("duration"),value:ya.passive1.duration,unit:"s"}]}]))})]),burst:pt.talentTem("burst",[{fields:[{node:e(ri.burst.dmg,{name:pt.chg("burst.skillParams.0")})},{node:e(ri.burst.exp,{name:pt.chg("burst.skillParams.1")})},{text:pt.chg("burst.skillParams.2"),value:t=>ya.burst.duration+(t.get(a.constellation).value>=1?ya.constellation1.burst_durationInc:0),unit:"s"},{text:pt.chg("burst.skillParams.3"),value:ya.burst.cd,unit:"s"},{text:pt.chg("burst.skillParams.4"),value:60}]},pt.headerTem("constellation1",{fields:[{text:d("durationInc"),value:ya.constellation1.burst_durationInc,unit:"s"}]}),pt.condTem("constellation1",{name:pt.ch("c1"),value:Ew,path:fj,states:{c1:{fields:[{node:p(ya.constellation1.atk_,y.info("atk_"))},{text:s("duration"),value:ya.constellation1.duration,unit:"s"}]}}})]),passive1:pt.talentTem("passive1"),passive2:pt.talentTem("passive2",[pt.condTem("passive2",{teamBuff:!0,canShow:z(a.activeCharKey,Zs,1),path:kj,value:Mf,name:d("afterUse.burst"),states:{on:{fields:[{node:jw},{text:s("duration"),value:ya.passive2.duration,unit:"s"}]}}}),pt.condTem("passive1",{canShow:z(a.activeCharKey,Zs,i(Mf,"on",n(a.asc,4,1))),teamBuff:!0,value:Hf,path:T1,name:pt.chg("passive1.name"),states:Object.fromEntries(N(1,ya.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:Ef},{text:s("duration"),value:ya.passive1.duration,unit:"s"}]}]))})]),passive3:pt.talentTem("passive3"),constellation1:pt.talentTem("constellation1"),constellation2:pt.talentTem("constellation2",[pt.condTem("constellation2",{name:pt.ch("c2"),value:Kw,path:bj,states:{c2:{fields:[{node:Gw},{text:s("duration"),value:ya.constellation2.duration,unit:"s"}]}}})]),constellation3:pt.talentTem("constellation3",[{fields:[{node:Nw}]}]),constellation4:pt.talentTem("constellation4"),constellation5:pt.talentTem("constellation5",[{fields:[{node:Fw}]}]),constellation6:pt.talentTem("constellation6")}},Dj=new R(xj,$j),Cr="YunJin",zw="geo",Ap=_.char.data[Cr],el=_.char.skillParam[Cr],Ot=A(Cr,Ap.weaponType);let co=0,Pm=0,Cm=0;const Ll={normal:{hitArr:[el.auto[co++],el.auto[co++],el.auto[co++],el.auto[co++],el.auto[co++],el.auto[co++],el.auto[co++]]},charged:{dmg:el.auto[co++],stamina:el.auto[co++][0]},plunging:{dmg:el.auto[co++],low:el.auto[co++],high:el.auto[co++]},skill:{shield_:el.skill[Pm++],shield:el.skill[Pm++],dmg:el.skill[Pm++],dmg1:el.skill[Pm++],dmg2:el.skill[Pm++],cd:el.skill[Pm++][0]},burst:{dmg:el.burst[Cm++],dmgInc:el.burst[Cm++],duration:el.burst[Cm++][0],cd:el.burst[Cm++][0],enerCost:el.burst[Cm++][0],triggerNum:el.burst[Cm++][0]},passive2:{dmgInc:el.passive2.map(t=>t[0])},constellation2:{normalInc:el.constellation2[0]},constellation4:{def_:el.constellation4[0],duration:el.constellation4[1]},constellation6:{atkSpd:el.constellation6[0]}},Ww=n(a.asc,4,$(D(...jf.map(t=>n(dn[t],1,1))),[0,...Ll.passive2.dmgInc],{unit:"%"})),[Pj,Ou]=h(Cr,"skill"),Rv=i("on",Ou,D(m(a.premod.def,D($(a.total.burstIndex,Ll.burst.dmgInc,{unit:"%"}),Ww)))),Kf=n(a.constellation,2,i("on",Ou,Ll.constellation2.normalInc)),[$1,Nf]=h(Cr,"c4"),Ff=n(a.constellation,4,i("on",Nf,Ll.constellation4.def_)),Lw=n(a.constellation,6,i("on",Ou,Ll.constellation6.atkSpd)),di={normal:Object.fromEntries(Ll.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Ll.charged.dmg,"charged")},plunging:E("atk",Ll.plunging),skill:{dmg:o("def",Ll.skill.dmg,"skill"),dmg1:o("def",Ll.skill.dmg1,"skill"),dmg2:o("def",Ll.skill.dmg2,"skill"),shield:tn("geo",Cn("hp",Ll.skill.shield_,Ll.skill.shield,"skill"))},burst:{dmg:o("atk",Ll.burst.dmg,"burst"),dmgInc:Rv}},Uw=n(a.constellation,3,3),qw=n(a.constellation,5,3),Cj=B(Cr,zw,"liyue",Ap,di,{premod:{skillBoost:qw,burstBoost:Uw,def_:Ff},teamBuff:{premod:{atkSPD_:Lw,normal_dmgInc:Rv,normal_dmg_:Kf}}}),Sj={key:Cr,name:Ot.name,rarity:Ap.rarity,elementKey:zw,weaponTypeKey:Ap.weaponType,gender:"F",constellationName:Ot.chg("constellationName"),title:Ot.chg("title"),talent:{auto:Ot.talentTem("auto",[{text:Ot.chg("auto.fields.normal")},{fields:Ll.normal.hitArr.map((t,l)=>({node:e(di.normal[l],{name:Ot.chg(`auto.skillParams.${l+(l>2?-1:0)+(l>4?-1:0)}`),textSuffix:l===2||l===4?"(1)":l===3||l===5?"(2)":""})}))},{text:Ot.chg("auto.fields.charged")},{fields:[{node:e(di.charged.dmg,{name:Ot.chg("auto.skillParams.5")})},{text:Ot.chg("auto.skillParams.6"),value:Ll.charged.stamina}]},{text:Ot.chg("auto.fields.plunging")},{fields:[{node:e(di.plunging.dmg,{name:s("plunging.dmg")})},{node:e(di.plunging.low,{name:s("plunging.low")})},{node:e(di.plunging.high,{name:s("plunging.high")})}]}]),skill:Ot.talentTem("skill",[{fields:[{node:e(di.skill.dmg,{name:Ot.chg("skill.skillParams.0")})},{node:e(di.skill.dmg1,{name:Ot.chg("skill.skillParams.1")})},{node:e(di.skill.dmg2,{name:Ot.chg("skill.skillParams.2")})},{node:e(di.skill.shield,{name:Ot.chg("skill.skillParams.3")})},{text:Ot.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=1?`${Ll.skill.cd} - 18% = ${(Ll.skill.cd*(1-.18)).toFixed(2)}`:`${Ll.skill.cd}`,unit:"s"}]}]),burst:Ot.talentTem("burst",[{fields:[{node:e(di.burst.dmg,{name:Ot.chg("burst.skillParams.0")})},{text:Ot.chg("burst.skillParams.4"),value:Ll.burst.cd,unit:"s"},{text:Ot.chg("burst.skillParams.5"),value:Ll.burst.enerCost}]},Ot.condTem("burst",{teamBuff:!0,value:Ou,path:Pj,name:Ot.ch("burst"),states:{on:{fields:[{node:Rv},{text:Ot.chg("burst.skillParams.2"),value:Ll.burst.duration,unit:"s"},{text:Ot.chg("burst.skillParams.3"),value:Ll.burst.triggerNum}]}}}),Ot.headerTem("constellation2",{fields:[{node:Kf}]}),Ot.headerTem("constellation6",{fields:[{node:Lw}]}),Ot.condTem("constellation4",{teamBuff:!0,canShow:z(a.activeCharKey,Cr,i(Ou,"on",1)),value:Nf,path:$1,name:Ot.ch("c4"),states:{on:{fields:[{node:Ff},{text:s("duration"),value:Ll.constellation4.duration,unit:"s"}]}}})]),passive1:Ot.talentTem("passive1"),passive2:Ot.talentTem("passive2",[Ot.fieldsTem("passive2",{fields:[{node:e(Ww,{name:Ot.ch("a4Inc_"),unit:"%"})}]})]),passive3:Ot.talentTem("passive3"),constellation1:Ot.talentTem("constellation1"),constellation2:Ot.talentTem("constellation2",[{fields:[{node:Kf}]}]),constellation3:Ot.talentTem("constellation3",[{fields:[{node:Uw}]}]),constellation4:Ot.talentTem("constellation4",[Ot.condTem("constellation4",{value:Nf,path:$1,name:Ot.ch("c4"),states:{on:{fields:[{node:Ff},{text:s("duration"),value:Ll.constellation4.duration,unit:"s"}]}}})]),constellation5:Ot.talentTem("constellation5",[{fields:[{node:qw}]}]),constellation6:Ot.talentTem("constellation6")}},wj=new R(Sj,Cj),sm="Zhongli",Vw="geo",Bp=_.char.data[sm],al=_.char.skillParam[sm],Se=A(sm,Bp.weaponType);let Xo=0,kr=0,jg=0,Aj=0,Ik=0;const Vl={normal:{hitArr:[al.auto[Xo++],al.auto[Xo++],al.auto[Xo++],al.auto[Xo++],al.auto[Xo++],al.auto[Xo++]]},charged:{dmg:al.auto[Xo++],stamina:al.auto[Xo++][0]},plunging:{dmg:al.auto[Xo++],low:al.auto[Xo++],high:al.auto[Xo++]},skill:{stele:al.skill[kr++],resonance:al.skill[kr++],pressCD:al.skill[kr++][0],holdDMG:al.skill[kr++],shield:al.skill[kr++],shield_:al.skill[kr++],shileDuration:al.skill[kr++][0],holdCD:al.skill[kr++][0],enemyRes_:-.2},burst:{dmg:al.burst[jg++],duration:al.burst[jg++],cd:al.burst[jg++][0],enerCost:al.burst[jg++][0]},passive1:{shield_:al.passive1[Aj++][0]},passive2:{auto_:al.passive2[Ik++][0],skill_:al.passive2[Ik++][0],burst_:al.passive2[Ik++][0]},constellation4:{durationInc:al.constellation4[1]},constellation6:{hp_:al.constellation6[1]}},[Bj,Jw]=h(sm,"skill"),Qw=Fm(Po,t=>[`${t}_enemyRes_`,i("on",Jw,c(Vl.skill.enemyRes_))]),[Ij,Xw]=h(sm,"p1"),Yw=n(a.asc,1,w(Xw,C(N(1,5),t=>c(Vl.passive1.shield_*t)),O)),Mv=n(a.asc,4,m(c(Vl.passive2.auto_),a.premod.hp)),Hv={...Mv},Ev={...Mv},Kv={...Mv},Nv=n(a.asc,4,m(c(Vl.passive2.skill_),a.premod.hp)),Fv=n(a.asc,4,m(c(Vl.passive2.burst_),a.premod.hp)),Rj=n(a.constellation,6,Gn(m(c(Vl.constellation6.hp_),a.total.hp))),To={normal:Object.fromEntries(Vl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Vl.charged.dmg,"charged")},plunging:E("atk",Vl.plunging),skill:{stele:o("atk",Vl.skill.stele,"skill"),resonance:o("atk",Vl.skill.resonance,"skill"),holdDMG:o("atk",Vl.skill.holdDMG,"skill"),shield:tn("geo",Cn("hp",Vl.skill.shield_,Vl.skill.shield,"skill"))},burst:{dmg:o("atk",Vl.burst.dmg,"burst")},passive2:{p4normalDmgInc:Hv,p4ChargedDmgInc:Ev,p4PlungingDmgInc:Kv,p4SKillDmgInc:Nv,p4BurstDmgInc:Fv},constellation6:{heal:Rj}},Zw=n(a.constellation,3,3),t3=n(a.constellation,5,3),Mj=B(sm,Vw,"liyue",Bp,To,{premod:{skillBoost:Zw,burstBoost:t3,normal_dmgInc:Hv,charged_dmgInc:Ev,plunging_dmgInc:Kv,skill_dmgInc:Nv,burst_dmgInc:Fv},teamBuff:{premod:{shield_:Yw,...Qw}}}),Hj={key:sm,name:Se.name,rarity:Bp.rarity,elementKey:Vw,weaponTypeKey:Bp.weaponType,gender:"M",constellationName:Se.chg("constellationName"),title:Se.chg("title"),talent:{auto:Se.talentTem("auto",[{text:Se.chg("auto.fields.normal")},{fields:Vl.normal.hitArr.map((t,l)=>({node:e(To.normal[l],{name:Se.chg(`auto.skillParams.${l}`),multi:l===4?4:void 0})}))},{text:Se.chg("auto.fields.charged")},{fields:[{node:e(To.charged.dmg,{name:Se.chg("auto.skillParams.6")})},{text:Se.chg("auto.skillParams.7"),value:Vl.charged.stamina}]},{text:Se.chg("auto.fields.plunging")},{fields:[{node:e(To.plunging.dmg,{name:s("plunging.dmg")})},{node:e(To.plunging.low,{name:s("plunging.low")})},{node:e(To.plunging.high,{name:s("plunging.high")})}]}]),skill:Se.talentTem("skill",[{fields:[{node:e(To.skill.stele,{name:Se.ch("skill.stele")})},{node:e(To.skill.resonance,{name:Se.ch("skill.resonance")})},{text:Se.ch("skill.maxStele"),value:t=>t.get(a.constellation).value>=1?2:1},{node:e(To.skill.holdDMG,{name:Se.chg("skill.skillParams.2")})},{node:e(To.skill.shield,{name:s("dmgAbsorption")})},{text:s("press.cd"),value:Vl.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Vl.skill.holdCD,unit:"s"},{text:Se.chg("skill.skillParams.5"),value:Vl.skill.shileDuration,unit:"s"}]},Se.condTem("skill",{value:Jw,path:Bj,teamBuff:!0,name:Se.ch("skill.nearShield"),states:{on:{fields:Object.values(Qw).map(t=>({node:t}))}}}),Se.condTem("passive1",{value:Xw,path:Ij,teamBuff:!0,name:Se.ch("p1cond"),states:C(N(1,5),t=>({name:d("stack",{count:t}),fields:[{node:Yw}]}))})]),burst:Se.talentTem("burst",[{fields:[{node:e(To.burst.dmg,{name:Se.chg("burst.skillParams.0")})},{text:Se.chg("burst.skillParams.1"),value:t=>t.get(a.constellation).value<4?Vl.burst.duration[t.get(a.total.burstIndex).value]:`${Vl.burst.duration[t.get(a.total.burstIndex).value]}s + ${Vl.constellation4.durationInc}`,fixed:1,unit:"s"},{text:Se.chg("burst.skillParams.2"),value:Vl.burst.cd,unit:"s"},{text:Se.chg("burst.skillParams.3"),value:Vl.burst.enerCost}]}]),passive1:Se.talentTem("passive1"),passive2:Se.talentTem("passive2",[Se.fieldsTem("passive2",{fields:[{node:Hv},{node:Ev},{node:Kv},{node:Nv},{node:Fv}]})]),passive3:Se.talentTem("passive3"),constellation1:Se.talentTem("constellation1"),constellation2:Se.talentTem("constellation2"),constellation3:Se.talentTem("constellation3",[{fields:[{node:Zw}]}]),constellation4:Se.talentTem("constellation4"),constellation5:Se.talentTem("constellation5",[{fields:[{node:t3}]}]),constellation6:Se.talentTem("constellation6",[Se.fieldsTem("constellation6",{fields:[{node:e(To.constellation6.heal,{name:Se.ch("c6heal")})}]})])}},Ej=new R(Hj,Mj),Kj={Albedo:ZA,Alhaitham:cB,Aloy:pB,Amber:yB,AratakiItto:IB,Arlecchino:KB,Baizhu:zB,Barbara:YB,Beidou:sI,Bennett:fI,Candace:TI,Charlotte:CI,Chevreuse:RI,Chiori:FI,Chongyun:JI,Collei:a5,Cyno:c5,Dehya:g5,Diluc:y5,Diona:w5,Dori:F5,Eula:V5,Faruzan:lR,Fischl:rR,Freminet:hR,Furina:DR,Gaming:BR,Ganyu:jR,Gorou:JR,HuTao:oM,Jean:vM,KaedeharaKazuha:SM,Kaeya:RM,KamisatoAyaka:jM,KamisatoAyato:QM,Kaveh:lH,Keqing:dH,Kirara:hH,Klee:yH,KujouSara:CH,KukiShinobu:BH,Layla:KH,Lisa:GH,Lynette:JH,Lyney:sE,Mika:pE,Mona:yE,Nahida:wE,Navia:OE,Neuvillette:LE,Nilou:tK,Ningguang:sK,Noelle:uK,Qiqi:bK,RaidenShogun:CK,Razor:KK,Rosaria:WK,SangonomiyaKokomi:QK,Sayu:aN,Shenhe:hN,ShikanoinHeizou:$N,Somnia:KN,Sucrose:WN,Tartaglia:JN,Thoma:tF,Tighnari:iF,TravelerAnemoF:dF,TravelerGeoF:SF,TravelerElectroF:TF,TravelerDendroF:kF,TravelerAnemoM:gF,TravelerGeoM:BF,TravelerElectroM:DF,TravelerDendroM:vF,TravelerHydroF:MF,TravelerHydroM:KF,Venti:zF,Wanderer:QF,Wriothesley:aO,Xiangling:dO,Xianyun:fO,Xiao:SO,Xingqiu:HO,Xinyan:zO,YaeMiko:VO,Yanfei:ej,Yaoyao:cj,Yelan:hj,Yoimiya:Dj,YunJin:wj,Zhongli:Ej};function iG(t,l="F"){return Kj[Nj(t,l)]}function Nj(t,l){return z3.includes(t)?`${t}${l}`:t}export{ju as $,Om as A,zj as B,Gj as C,Zj as D,eA as E,Z3 as F,iA as G,eG as H,lG as I,Jj as J,Do as K,dn as L,kA as M,y as N,n as O,c as P,Gf as Q,i as R,Mn as S,Oc as T,vd as U,G as V,d as W,e as X,s as Y,KA as Z,aG as _,Wj as a,h as a0,il as a1,Nd as a2,w as a3,O as a4,z as a5,Uj as a6,Co as a7,$ as a8,F as a9,Gn as aa,Qg as ab,Qj as b,Xj as c,Vj as d,qj as e,W1 as f,iG as g,Yv as h,p as i,Wm as j,yl as k,wu as l,L1 as m,tG as n,Yj as o,a as p,tA as q,sG as r,D as s,br as t,hA as u,Rm as v,oG as w,nG as x,Lj as y,m as z};
