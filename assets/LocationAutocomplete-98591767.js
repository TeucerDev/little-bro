import{r as h,at as jt,an as nt,cg as Ee,ch as Et,ci as mt,aa as Ot,ab as Pt,ac as K,ap as _e,ad as P,ae as St,ah as lt,j as $,aj as xe,ak as $t,cj as pe,a6 as Lt,ax as kt,am as At,b9 as rt,ck as _t,ai as Vt,l as Tt,c as it,q as Bt,s as Gt,g as Kt,k as S,i as ke,bG as wt,bH as Rt,x as ct,cl as Wt,u as Ut,a2 as qt,a as Jt,b as Qt,a3 as Xt,E as Yt,b2 as Zt,B as eo,cm as to,cn as oo}from"./index-ae0e5ead.js";import{g as no,B as ro}from"./index-2c4aa6a3.js";import{C as Mt}from"./ColoredText-c98c28ec.js";import{i as at,o as xt,j as me,A as ao,T as Dt,F as Nt,C as so}from"./StarDisplay-3a29ee7b.js";import{M as Ft}from"./DropdownButton-02febc47.js";const lo=o=>{const r=h.useRef({});return h.useEffect(()=>{r.current=o}),r.current},io=lo;function yt(o){return typeof o.normalize<"u"?o.normalize("NFD").replace(/[\u0300-\u036f]/g,""):o}function co(o={}){const{ignoreAccents:r=!0,ignoreCase:c=!0,limit:y,matchFrom:I="any",stringify:x,trim:d=!1}=o;return(b,{inputValue:w,getOptionLabel:C})=>{let f=d?w.trim():w;c&&(f=f.toLowerCase()),r&&(f=yt(f));const s=f?b.filter(i=>{let m=(x||C)(i);return c&&(m=m.toLowerCase()),r&&(m=yt(m)),I==="start"?m.indexOf(f)===0:m.indexOf(f)>-1}):b;return typeof y=="number"?s.slice(0,y):s}}function st(o,r){for(let c=0;c<o.length;c+=1)if(r(o[c]))return c;return-1}const po=co(),Ct=5,uo=o=>{var r;return o.current!==null&&((r=o.current.parentElement)==null?void 0:r.contains(document.activeElement))};function fo(o){const{unstable_isActiveElementInListbox:r=uo,unstable_classNamePrefix:c="Mui",autoComplete:y=!1,autoHighlight:I=!1,autoSelect:x=!1,blurOnSelect:d=!1,clearOnBlur:b=!o.freeSolo,clearOnEscape:w=!1,componentName:C="useAutocomplete",defaultValue:f=o.multiple?[]:null,disableClearable:s=!1,disableCloseOnSelect:i=!1,disabled:m,disabledItemsFocusable:D=!1,disableListWrap:p=!1,filterOptions:V=po,filterSelectedOptions:ye=!1,freeSolo:oe=!1,getOptionDisabled:Q,getOptionLabel:Ve=t=>{var e;return(e=t.label)!=null?e:t},groupBy:ue,handleHomeEndKeys:Be=!o.freeSolo,id:le,includeInputInList:Ge=!1,inputValue:ut,isOptionEqualToValue:ne=(t,e)=>t===e,multiple:O=!1,onChange:Ce,onClose:ve,onHighlightChange:Ae,onInputChange:X,onOpen:Te,open:Ke,openOnFocus:dt=!1,options:ft,readOnly:Y=!1,selectOnFocus:We=!o.freeSolo,value:Ie}=o,z=jt(le);let N=Ve;N=t=>{const e=Ve(t);return typeof e!="string"?String(e):e};const Oe=h.useRef(!1),Pe=h.useRef(!0),R=h.useRef(null),H=h.useRef(null),[de,Ue]=h.useState(null),[E,fe]=h.useState(-1),we=I?0:-1,F=h.useRef(we),[l,Re]=nt({controlled:Ie,default:f,name:C}),[v,re]=nt({controlled:ut,default:"",name:C,state:"inputValue"}),[Z,Me]=h.useState(!1),ge=h.useCallback((t,e)=>{if(!(O?l.length<e.length:e!==null)&&!b)return;let a;if(O)a="";else if(e==null)a="";else{const g=N(e);a=typeof g=="string"?g:""}v!==a&&(re(a),X&&X(t,a,"reset"))},[N,v,O,X,re,b,l]),[ee,De]=nt({controlled:Ke,default:!1,name:C,state:"open"}),[qe,Ne]=h.useState(!0),Fe=!O&&l!=null&&v===N(l),j=ee&&!Y,L=j?V(ft.filter(t=>!(ye&&(O?l:[l]).some(e=>e!==null&&ne(t,e)))),{inputValue:Fe&&qe?"":v,getOptionLabel:N}):[],_=io({filteredOptions:L,value:l,inputValue:v});h.useEffect(()=>{const t=l!==_.value;Z&&!t||oe&&!t||ge(null,l)},[l,ge,Z,_.value,oe]);const Se=ee&&L.length>0&&!Y,he=Ee(t=>{t===-1?R.current.focus():de.querySelector(`[data-tag-index="${t}"]`).focus()});h.useEffect(()=>{O&&E>l.length-1&&(fe(-1),he(-1))},[l,O,E,he]);function Je(t,e){if(!H.current||t===-1)return-1;let n=t;for(;;){if(e==="next"&&n===L.length||e==="previous"&&n===-1)return-1;const a=H.current.querySelector(`[data-option-index="${n}"]`),g=D?!1:!a||a.disabled||a.getAttribute("aria-disabled")==="true";if(a&&!a.hasAttribute("tabindex")||g)n+=e==="next"?1:-1;else return n}}const B=Ee(({event:t,index:e,reason:n="auto"})=>{if(F.current=e,e===-1?R.current.removeAttribute("aria-activedescendant"):R.current.setAttribute("aria-activedescendant",`${z}-option-${e}`),Ae&&Ae(t,e===-1?null:L[e],n),!H.current)return;const a=H.current.querySelector(`[role="option"].${c}-focused`);a&&(a.classList.remove(`${c}-focused`),a.classList.remove(`${c}-focusVisible`));let g=H.current;if(H.current.getAttribute("role")!=="listbox"&&(g=H.current.parentElement.querySelector('[role="listbox"]')),!g)return;if(e===-1){g.scrollTop=0;return}const k=H.current.querySelector(`[data-option-index="${e}"]`);if(k&&(k.classList.add(`${c}-focused`),n==="keyboard"&&k.classList.add(`${c}-focusVisible`),g.scrollHeight>g.clientHeight&&n!=="mouse"&&n!=="touch")){const A=k,J=g.clientHeight+g.scrollTop,bt=A.offsetTop+A.offsetHeight;bt>J?g.scrollTop=bt-g.clientHeight:A.offsetTop-A.offsetHeight*(ue?1.3:0)<g.scrollTop&&(g.scrollTop=A.offsetTop-A.offsetHeight*(ue?1.3:0))}}),G=Ee(({event:t,diff:e,direction:n="next",reason:a="auto"})=>{if(!j)return;const k=Je((()=>{const A=L.length-1;if(e==="reset")return we;if(e==="start")return 0;if(e==="end")return A;const J=F.current+e;return J<0?J===-1&&Ge?-1:p&&F.current!==-1||Math.abs(e)>1?0:A:J>A?J===A+1&&Ge?-1:p||Math.abs(e)>1?A:0:J})(),n);if(B({index:k,reason:a,event:t}),y&&e!=="reset")if(k===-1)R.current.value=v;else{const A=N(L[k]);R.current.value=A,A.toLowerCase().indexOf(v.toLowerCase())===0&&v.length>0&&R.current.setSelectionRange(v.length,A.length)}}),Qe=()=>{const t=(e,n)=>{const a=e?N(e):"",g=n?N(n):"";return a===g};if(F.current!==-1&&_.filteredOptions&&_.filteredOptions.length!==L.length&&_.inputValue===v&&(O?l.length===_.value.length&&_.value.every((e,n)=>N(l[n])===N(e)):t(_.value,l))){const e=_.filteredOptions[F.current];if(e&&L.some(a=>N(a)===N(e)))return!0}return!1},ae=h.useCallback(()=>{if(!j||Qe())return;const t=O?l[0]:l;if(L.length===0||t==null){G({diff:"reset"});return}if(H.current){if(t!=null){const e=L[F.current];if(O&&e&&st(l,a=>ne(e,a))!==-1)return;const n=st(L,a=>ne(a,t));n===-1?G({diff:"reset"}):B({index:n});return}if(F.current>=L.length-1){B({index:L.length-1});return}B({index:F.current})}},[L.length,O?!1:l,ye,G,B,j,v,O]),Xe=Ee(t=>{Et(H,t),t&&ae()});h.useEffect(()=>{ae()},[ae]);const te=t=>{ee||(De(!0),Ne(!0),Te&&Te(t))},U=(t,e)=>{ee&&(De(!1),ve&&ve(t,e))},q=(t,e,n,a)=>{if(O){if(l.length===e.length&&l.every((g,k)=>g===e[k]))return}else if(l===e)return;Ce&&Ce(t,e,n,a),Re(e)},se=h.useRef(!1),ie=(t,e,n="selectOption",a="options")=>{let g=n,k=e;if(O){k=Array.isArray(l)?l.slice():[];const A=st(k,J=>ne(e,J));A===-1?k.push(e):a!=="freeSolo"&&(k.splice(A,1),g="removeOption")}ge(t,k),q(t,k,g,{option:e}),!i&&(!t||!t.ctrlKey&&!t.metaKey)&&U(t,g),(d===!0||d==="touch"&&se.current||d==="mouse"&&!se.current)&&R.current.blur()};function Ye(t,e){if(t===-1)return-1;let n=t;for(;;){if(e==="next"&&n===l.length||e==="previous"&&n===-1)return-1;const a=de.querySelector(`[data-tag-index="${n}"]`);if(!a||!a.hasAttribute("tabindex")||a.disabled||a.getAttribute("aria-disabled")==="true")n+=e==="next"?1:-1;else return n}}const $e=(t,e)=>{if(!O)return;v===""&&U(t,"toggleInput");let n=E;E===-1?v===""&&e==="previous"&&(n=l.length-1):(n+=e==="next"?1:-1,n<0&&(n=0),n===l.length&&(n=-1)),n=Ye(n,e),fe(n),he(n)},ze=t=>{Oe.current=!0,re(""),X&&X(t,"","clear"),q(t,O?[]:null,"clear")},Ze=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(E!==-1&&["ArrowLeft","ArrowRight"].indexOf(e.key)===-1&&(fe(-1),he(-1)),e.which!==229))switch(e.key){case"Home":j&&Be&&(e.preventDefault(),G({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":j&&Be&&(e.preventDefault(),G({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),G({diff:-Ct,direction:"previous",reason:"keyboard",event:e}),te(e);break;case"PageDown":e.preventDefault(),G({diff:Ct,direction:"next",reason:"keyboard",event:e}),te(e);break;case"ArrowDown":e.preventDefault(),G({diff:1,direction:"next",reason:"keyboard",event:e}),te(e);break;case"ArrowUp":e.preventDefault(),G({diff:-1,direction:"previous",reason:"keyboard",event:e}),te(e);break;case"ArrowLeft":$e(e,"previous");break;case"ArrowRight":$e(e,"next");break;case"Enter":if(F.current!==-1&&j){const n=L[F.current],a=Q?Q(n):!1;if(e.preventDefault(),a)return;ie(e,n,"selectOption"),y&&R.current.setSelectionRange(R.current.value.length,R.current.value.length)}else oe&&v!==""&&Fe===!1&&(O&&e.preventDefault(),ie(e,v,"createOption","freeSolo"));break;case"Escape":j?(e.preventDefault(),e.stopPropagation(),U(e,"escape")):w&&(v!==""||O&&l.length>0)&&(e.preventDefault(),e.stopPropagation(),ze(e));break;case"Backspace":if(O&&!Y&&v===""&&l.length>0){const n=E===-1?l.length-1:E,a=l.slice();a.splice(n,1),q(e,a,"removeOption",{option:l[n]})}break;case"Delete":if(O&&!Y&&v===""&&l.length>0&&E!==-1){const n=E,a=l.slice();a.splice(n,1),q(e,a,"removeOption",{option:l[n]})}break}},et=t=>{Me(!0),dt&&!Oe.current&&te(t)},tt=t=>{if(r(H)){R.current.focus();return}Me(!1),Pe.current=!0,Oe.current=!1,x&&F.current!==-1&&j?ie(t,L[F.current],"blur"):x&&oe&&v!==""?ie(t,v,"blur","freeSolo"):b&&ge(t,l),U(t,"blur")},Le=t=>{const e=t.target.value;v!==e&&(re(e),Ne(!1),X&&X(t,e,"input")),e===""?!s&&!O&&q(t,null,"clear"):te(t)},M=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));F.current!==e&&B({event:t,index:e,reason:"mouse"})},T=t=>{B({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),se.current=!0},W=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));ie(t,L[e],"selectOption"),se.current=!1},gt=t=>e=>{const n=l.slice();n.splice(t,1),q(e,n,"removeOption",{option:l[t]})},He=t=>{ee?U(t,"toggleInput"):te(t)},ht=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==z&&t.preventDefault()},ot=t=>{t.currentTarget.contains(t.target)&&(R.current.focus(),We&&Pe.current&&R.current.selectionEnd-R.current.selectionStart===0&&R.current.select(),Pe.current=!1)},je=t=>{!m&&(v===""||!ee)&&He(t)};let ce=oe&&v.length>0;ce=ce||(O?l.length>0:l!==null);let be=L;return ue&&(be=L.reduce((t,e,n)=>{const a=ue(e);return t.length>0&&t[t.length-1].group===a?t[t.length-1].options.push(e):t.push({key:n,index:n,group:a,options:[e]}),t},[])),m&&Z&&tt(),{getRootProps:(t={})=>mt({"aria-owns":Se?`${z}-listbox`:null},t,{onKeyDown:Ze(t),onMouseDown:ht,onClick:ot}),getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:v,onBlur:tt,onFocus:et,onChange:Le,onMouseDown:je,"aria-activedescendant":j?"":null,"aria-autocomplete":y?"both":"list","aria-controls":Se?`${z}-listbox`:void 0,"aria-expanded":Se,autoComplete:"off",ref:R,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,onClick:ze}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:He}),getTagProps:({index:t})=>mt({key:t,"data-tag-index":t,tabIndex:-1},!Y&&{onDelete:gt(t)}),getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:Xe,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:({index:t,option:e})=>{const n=(O?l:[l]).some(g=>g!=null&&ne(e,g)),a=Q?Q(e):!1;return{key:N(e),tabIndex:-1,role:"option",id:`${z}-option-${t}`,onMouseMove:M,onClick:W,onTouchStart:T,"data-option-index":t,"aria-disabled":a,"aria-selected":n}},id:z,inputValue:v,value:l,dirty:ce,expanded:j&&de,popupOpen:j,focused:Z||E!==-1,anchorEl:de,setAnchorEl:Ue,focusedTag:E,groupedOptions:be}}function go(o){return Ot("MuiListSubheader",o)}Pt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const ho=["className","color","component","disableGutters","disableSticky","inset"],bo=o=>{const{classes:r,color:c,disableGutters:y,inset:I,disableSticky:x}=o,d={root:["root",c!=="default"&&`color${_e(c)}`,!y&&"gutters",I&&"inset",!x&&"sticky"]};return $t(d,go,r)},mo=K("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:c}=o;return[r.root,c.color!=="default"&&r[`color${_e(c.color)}`],!c.disableGutters&&r.gutters,c.inset&&r.inset,!c.disableSticky&&r.sticky]}})(({theme:o,ownerState:r})=>P({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(o.vars||o).palette.text.secondary,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(14)},r.color==="primary"&&{color:(o.vars||o).palette.primary.main},r.color==="inherit"&&{color:"inherit"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.inset&&{paddingLeft:72},!r.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(o.vars||o).palette.background.paper})),zt=h.forwardRef(function(r,c){const y=St({props:r,name:"MuiListSubheader"}),{className:I,color:x="default",component:d="li",disableGutters:b=!1,disableSticky:w=!1,inset:C=!1}=y,f=lt(y,ho),s=P({},y,{color:x,component:d,disableGutters:b,disableSticky:w,inset:C}),i=bo(s);return $.jsx(mo,P({as:d,className:xe(i.root,I),ref:c,ownerState:s},f))});zt.muiSkipListHighlight=!0;const xo=zt;function yo(o){return Ot("MuiAutocomplete",o)}const Co=Pt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),u=Co;var vt,It;const vo=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Io=["ref"],Oo=o=>{const{classes:r,disablePortal:c,expanded:y,focused:I,fullWidth:x,hasClearIcon:d,hasPopupIcon:b,inputFocused:w,popupOpen:C,size:f}=o,s={root:["root",y&&"expanded",I&&"focused",x&&"fullWidth",d&&"hasClearIcon",b&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",w&&"inputFocused"],tag:["tag",`tagSize${_e(f)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",C&&"popupIndicatorOpen"],popper:["popper",c&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return $t(s,yo,r)},Po=K("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:c}=o,{fullWidth:y,hasClearIcon:I,hasPopupIcon:x,inputFocused:d,size:b}=c;return[{[`& .${u.tag}`]:r.tag},{[`& .${u.tag}`]:r[`tagSize${_e(b)}`]},{[`& .${u.inputRoot}`]:r.inputRoot},{[`& .${u.input}`]:r.input},{[`& .${u.input}`]:d&&r.inputFocused},r.root,y&&r.fullWidth,x&&r.hasPopupIcon,I&&r.hasClearIcon]}})(({ownerState:o})=>P({[`&.${u.focused} .${u.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${u.clearIndicator}`]:{visibility:"visible"}}},o.fullWidth&&{width:"100%"},{[`& .${u.tag}`]:P({margin:3,maxWidth:"calc(100% - 6px)"},o.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${u.inputRoot}`]:{flexWrap:"wrap",[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4},[`& .${u.input}`]:{width:0,minWidth:30}},[`& .${at.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${at.root}.${pe.sizeSmall}`]:{[`& .${at.input}`]:{padding:"2px 4px 3px 0"}},[`& .${xt.root}`]:{padding:9,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${u.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${xt.root}.${pe.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${u.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${me.root}`]:{paddingTop:19,paddingLeft:8,[`.${u.hasPopupIcon}&, .${u.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${u.hasPopupIcon}.${u.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${me.input}`]:{padding:"7px 4px"},[`& .${u.endAdornment}`]:{right:9}},[`& .${me.root}.${pe.sizeSmall}`]:{paddingBottom:1,[`& .${me.input}`]:{padding:"2.5px 4px"}},[`& .${pe.hiddenLabel}`]:{paddingTop:8},[`& .${me.root}.${pe.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${u.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${me.root}.${pe.hiddenLabel}.${pe.sizeSmall}`]:{[`& .${u.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${u.input}`]:P({flexGrow:1,textOverflow:"ellipsis",opacity:0},o.inputFocused&&{opacity:1})})),So=K("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(o,r)=>r.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),$o=K(Lt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(o,r)=>r.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Lo=K(Lt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:o},r)=>P({},r.popupIndicator,o.popupOpen&&r.popupIndicatorOpen)})(({ownerState:o})=>P({padding:2,marginRight:-2},o.popupOpen&&{transform:"rotate(180deg)"})),ko=K(kt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(o,r)=>{const{ownerState:c}=o;return[{[`& .${u.option}`]:r.option},r.popper,c.disablePortal&&r.popperDisablePortal]}})(({theme:o,ownerState:r})=>P({zIndex:(o.vars||o).zIndex.modal},r.disablePortal&&{position:"absolute"})),Ao=K(At,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(o,r)=>r.paper})(({theme:o})=>P({},o.typography.body1,{overflow:"auto"})),To=K("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(o,r)=>r.loading})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),wo=K("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(o,r)=>r.noOptions})(({theme:o})=>({color:(o.vars||o).palette.text.secondary,padding:"14px 16px"})),Ro=K("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(o,r)=>r.listbox})(({theme:o})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${u.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[o.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${u.focused}`]:{backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(o.vars||o).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${u.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:rt(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${u.focused}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:rt(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(o.vars||o).palette.action.selected}},[`&.${u.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:rt(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}}}})),Mo=K(xo,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(o,r)=>r.groupLabel})(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,top:-8})),Do=K("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(o,r)=>r.groupUl})({padding:0,[`& .${u.option}`]:{paddingLeft:24}}),No=h.forwardRef(function(r,c){var y,I,x,d;const b=St({props:r,name:"MuiAutocomplete"}),{autoComplete:w=!1,autoHighlight:C=!1,autoSelect:f=!1,blurOnSelect:s=!1,ChipProps:i,className:m,clearIcon:D=vt||(vt=$.jsx(_t,{fontSize:"small"})),clearOnBlur:p=!b.freeSolo,clearOnEscape:V=!1,clearText:ye="Clear",closeText:oe="Close",componentsProps:Q={},defaultValue:Ve=b.multiple?[]:null,disableClearable:ue=!1,disableCloseOnSelect:Be=!1,disabled:le=!1,disabledItemsFocusable:Ge=!1,disableListWrap:ut=!1,disablePortal:ne=!1,filterSelectedOptions:O=!1,forcePopupIcon:Ce="auto",freeSolo:ve=!1,fullWidth:Ae=!1,getLimitTagsText:X=n=>`+${n}`,getOptionLabel:Te,groupBy:Ke,handleHomeEndKeys:dt=!b.freeSolo,includeInputInList:ft=!1,limitTags:Y=-1,ListboxComponent:We="ul",ListboxProps:Ie,loading:z=!1,loadingText:N="Loading…",multiple:Oe=!1,noOptionsText:Pe="No options",openOnFocus:R=!1,openText:H="Open",PaperComponent:de=At,PopperComponent:Ue=kt,popupIcon:E=It||(It=$.jsx(ao,{})),readOnly:fe=!1,renderGroup:we,renderInput:F,renderOption:l,renderTags:Re,selectOnFocus:v=!b.freeSolo,size:re="medium",slotProps:Z={}}=b,Me=lt(b,vo),{getRootProps:ge,getInputProps:ee,getInputLabelProps:De,getPopupIndicatorProps:qe,getClearProps:Ne,getTagProps:Fe,getListboxProps:j,getOptionProps:L,value:_,dirty:Se,expanded:he,id:Je,popupOpen:B,focused:G,focusedTag:Qe,anchorEl:ae,setAnchorEl:Xe,inputValue:te,groupedOptions:U}=fo(P({},b,{componentName:"Autocomplete"})),q=!ue&&!le&&Se&&!fe,se=(!ve||Ce===!0)&&Ce!==!1,{onMouseDown:ie}=ee(),{ref:Ye}=Ie??{},$e=j(),{ref:ze}=$e,Ze=lt($e,Io),et=Vt(ze,Ye),Le=Te||(n=>{var a;return(a=n.label)!=null?a:n}),M=P({},b,{disablePortal:ne,expanded:he,focused:G,fullWidth:Ae,getOptionLabel:Le,hasClearIcon:q,hasPopupIcon:se,inputFocused:Qe===-1,popupOpen:B,size:re}),T=Oo(M);let W;if(Oe&&_.length>0){const n=a=>P({className:T.tag,disabled:le},Fe(a));Re?W=Re(_,n,M):W=_.map((a,g)=>$.jsx(Tt,P({label:Le(a),size:re},n({index:g}),i)))}if(Y>-1&&Array.isArray(W)){const n=W.length-Y;!G&&n>0&&(W=W.splice(0,Y),W.push($.jsx("span",{className:T.tag,children:X(n)},W.length)))}const He=we||(n=>$.jsxs("li",{children:[$.jsx(Mo,{className:T.groupLabel,ownerState:M,component:"div",children:n.group}),$.jsx(Do,{className:T.groupUl,ownerState:M,children:n.children})]},n.key)),ot=l||((n,a)=>$.jsx("li",P({},n,{children:Le(a)}))),je=(n,a)=>{const g=L({option:n,index:a});return ot(P({},g,{className:T.option}),n,{selected:g["aria-selected"],index:a,inputValue:te},M)},ce=(y=Z.clearIndicator)!=null?y:Q.clearIndicator,be=(I=Z.paper)!=null?I:Q.paper,t=(x=Z.popper)!=null?x:Q.popper,e=(d=Z.popupIndicator)!=null?d:Q.popupIndicator;return $.jsxs(h.Fragment,{children:[$.jsx(Po,P({ref:c,className:xe(T.root,m),ownerState:M},ge(Me),{children:F({id:Je,disabled:le,fullWidth:!0,size:re==="small"?"small":void 0,InputLabelProps:De(),InputProps:P({ref:Xe,className:T.inputRoot,startAdornment:W,onClick:n=>{n.target===n.currentTarget&&ie(n)}},(q||se)&&{endAdornment:$.jsxs(So,{className:T.endAdornment,ownerState:M,children:[q?$.jsx($o,P({},Ne(),{"aria-label":ye,title:ye,ownerState:M},ce,{className:xe(T.clearIndicator,ce==null?void 0:ce.className),children:D})):null,se?$.jsx(Lo,P({},qe(),{disabled:le,"aria-label":B?oe:H,title:B?oe:H,ownerState:M},e,{className:xe(T.popupIndicator,e==null?void 0:e.className),children:E})):null]})}),inputProps:P({className:T.input,disabled:le,readOnly:fe},ee())})})),ae?$.jsx(ko,P({as:Ue,disablePortal:ne,style:{width:ae?ae.clientWidth:null},ownerState:M,role:"presentation",anchorEl:ae,open:B},t,{className:xe(T.popper,t==null?void 0:t.className),children:$.jsxs(Ao,P({ownerState:M,as:de},be,{className:xe(T.paper,be==null?void 0:be.className),children:[z&&U.length===0?$.jsx(To,{className:T.loading,ownerState:M,children:N}):null,U.length===0&&!ve&&!z?$.jsx(wo,{className:T.noOptions,ownerState:M,role:"presentation",onMouseDown:n=>{n.preventDefault()},children:Pe}):null,U.length>0?$.jsx(Ro,P({as:We,className:T.listbox,ownerState:M},Ze,Ie,{ref:et,children:U.map((n,a)=>Ke?He({key:n.key,group:n.group,children:n.options.map((g,k)=>je(g,n.index+k))}):je(n,a))})):null]}))})):null]})}),Ht=No,Uo=it($.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),qo=it($.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock"),Jo=it($.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");var pt={},Fo=Gt;Object.defineProperty(pt,"__esModule",{value:!0});var zo=pt.default=void 0,Ho=Fo(Bt()),jo=$,Eo=(0,Ho.default)((0,jo.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");zo=pt.default=Eo;function _o({options:o,valueKey:r,label:c,onChange:y,toImg:I,toExItemLabel:x,toExLabel:d,textFieldProps:b,...w}){const C=o.find(s=>s.key===r)??null,f=Kt();return S(Ht,{autoHighlight:!0,options:o,value:C,onChange:(s,i,m)=>y((i==null?void 0:i.key)??null),isOptionEqualToValue:(s,i)=>s.key===(i==null?void 0:i.key),renderInput:s=>{var p;const i=C==null?void 0:C.color,m=i?(p=f.palette[i])==null?void 0:p.main:void 0,D=C==null?void 0:C.key;return S(Dt,{...s,...b,label:c,InputProps:{...s.InputProps,startAdornment:D?I(D):void 0},inputProps:{...s.inputProps,autoComplete:"new-password",style:{color:m}},color:r?"success":"primary"})},renderOption:(s,i)=>ke(Ft,{value:i.key,sx:{whiteSpace:"normal"},...s,children:[S(wt,{children:I(i.key)}),S(Rt,{color:i.color,children:S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:ke(Mt,{color:i.color,sx:{display:"flex",gap:1},children:[i.key===(C==null?void 0:C.key)?S("strong",{children:i.label}):S("span",{children:i.label}),x==null?void 0:x(i.key)]})})}),!!i.favorite&&S(Nt,{})]}),filterOptions:(s,{inputValue:i})=>s.filter(m=>{var D;return m.label.toLowerCase().includes(i.toLowerCase())||((D=m.alternateNames)==null?void 0:D.some(p=>p.toLowerCase().includes(i.toLowerCase())))}),...w})}function Qo({options:o,valueKeys:r,label:c,onChange:y,toImg:I,toExItemLabel:x,toExLabel:d,chipProps:b,...w}){const C=h.useMemo(()=>r.map(f=>o.find(s=>s.key===f)).filter(f=>f),[o,r]);return S(Ht,{autoHighlight:!0,options:o,multiple:!0,disableCloseOnSelect:!0,value:C,onChange:(f,s,i)=>i==="clear"?y([]):s!==null&&y(s.map(m=>m.key)),isOptionEqualToValue:(f,s)=>f.key===s.key,renderInput:f=>S(Dt,{...f,label:c,inputProps:{...f.inputProps,autoComplete:"new-password"},color:r.length?"success":"primary"}),renderOption:(f,s)=>ke(Ft,{value:s.key,...f,children:[S(wt,{children:I(s.key)}),S(Rt,{children:S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:ke(Mt,{color:s.color,sx:{display:"flex",gap:1},children:[r.includes(s.key)?S("strong",{children:s.label}):S("span",{children:s.label}),x==null?void 0:x(s.key)]})})}),!!s.favorite&&S(Nt,{})]}),renderTags:(f,s)=>f.map(({key:i,label:m,color:D},p)=>Wt(Tt,{...b,...s({index:p}),key:`${p}${i}${m}`,icon:I(i),label:d?ke("span",{children:[m," ",d(i)]}):m,color:D})),filterOptions:(f,{inputValue:s})=>f.filter(i=>{var m;return i.label.toLowerCase().includes(s.toLowerCase())||((m=i.alternateNames)==null?void 0:m.some(D=>D.toLowerCase().includes(s.toLowerCase())))}),...w})}function Xo({location:o,setLocation:r,filter:c=()=>!0,autoCompleteProps:y={}}){const{t:I}=Ut(["ui","artifact","sillyWisher_charNames","charNames_gen"]),{silly:x}=h.useContext(qt),d=Jt(),{gender:b}=Qt(),w=h.useCallback(p=>V=>I(`${p?"sillyWisher_charNames":"charNames_gen"}:${Xt(d.chars.LocationToCharacterKey(V),b)}`),[d,b,I]),[C,f]=Yt();h.useEffect(()=>d.arts.followAny(()=>f()),[d,f]);const s=h.useMemo(()=>C&&d.chars.keys.map(p=>Zt(p)),[C,d]),i=h.useCallback(p=>p===""?S(ro,{}):S(eo,{sx:{opacity:s.includes(p)?void 0:.7},children:S(so,{characterKey:d.chars.LocationToCharacterKey(p)})}),[d,s]),m=h.useCallback(p=>p==="Traveler"?to.some(V=>d.charMeta.get(V).favorite):p?d.charMeta.get(p).favorite:!1,[d]),D=h.useMemo(()=>[{key:"",label:I`artifact:filterLocation.inventory`},...Array.from(new Set(oo.filter(p=>c(no(d.chars.LocationToCharacterKey(p),b))))).map(p=>({key:p,label:w(x)(p),favorite:m(p),alternateNames:x?[w(!x)(p)]:void 0,color:s.includes(p)?void 0:"secondary"})).sort((p,V)=>p.favorite&&!V.favorite?-1:!p.favorite&&V.favorite?1:!p.color&&V.color?-1:p.color&&!V.color?1:p.label.localeCompare(V.label))],[I,d.chars,b,s,c,w,x,m]);return S(h.Suspense,{fallback:S(ct,{variant:"text",width:100}),children:S(_o,{size:"small",options:D,valueKey:o,onChange:p=>r(p??""),toImg:i,...y})})}export{Uo as A,_o as G,qo as L,Jo as a,Xo as b,xo as c,zo as d,Qo as e,io as u};
