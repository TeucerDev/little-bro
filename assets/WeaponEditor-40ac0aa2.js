import{aj as Le,ai as we,ak as J,al as g,r as m,am as De,ap as ie,dq as z,j as D,ar as H,as as Me,aA as _,dG as We,cc as ze,d0 as He,aq as Ue,d7 as ge,aw as qe,c as Qe,q as Ae,k as n,u as de,i as f,B as v,b6 as be,bh as oe,aH as re,T as I,v as Je,aQ as Ke,D as K,c1 as Ye,dH as L,dI as Xe,dJ as Ze,bI as ve,s as G,dK as Re,dL as et,dM as tt,Q as nt,dN as st,dO as at,O as ot,N as it,dP as Y,a as X,aM as O,cA as $,dQ as j,ba as Pe,b9 as Oe,C as le,ae as $e,dR as rt,G as S,n as lt,m as ct,M as dt,K as ut,_ as pt}from"./index-9c4f648f.js";import{E as Ie,S as U,n as mt,T as ft,y as ht,w as xt,x as Ct,u as W}from"./index-46e46301.js";import{u as yt}from"./useWeapon-2a1cd4a4.js";import{L as gt,a as bt,b as vt}from"./ConditionalWrapper-ce33c3b9.js";import{C as It}from"./CloseButton-6fbdd333.js";import{D as b}from"./DataContext-97d19631.js";import{d as St,a as kt}from"./InfoTooltip-657b87ed.js";import{C as q,B as ue}from"./ColoredText-d1deb99d.js";import{B as Lt}from"./BootstrapTooltip-fc59917c.js";import{M as Q,D as pe}from"./DropdownButton-d77412d0.js";import{e as wt}from"./StarDisplay-7421eee5.js";import{g as Dt}from"./index-a4c7472a.js";import{C as Mt}from"./CardHeader-0a0f5f99.js";function At(e){return we("MuiListItem",e)}const Rt=Le("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),P=Rt;function Pt(e){return we("MuiListItemSecondaryAction",e)}Le("MuiListItemSecondaryAction",["root","disableGutters"]);const Ot=["className"],$t=e=>{const{disableGutters:t,classes:s}=e;return Me({root:["root",t&&"disableGutters"]},Pt,s)},jt=J("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>g({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),je=m.forwardRef(function(t,s){const a=De({props:t,name:"MuiListItemSecondaryAction"}),{className:d}=a,i=ie(a,Ot),c=m.useContext(z),r=g({},a,{disableGutters:c.disableGutters}),u=$t(r);return D.jsx(jt,g({className:H(u.root,d),ownerState:r,ref:s},i))});je.muiName="ListItemSecondaryAction";const Tt=je,Ft=["className"],Bt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Gt=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},Nt=e=>{const{alignItems:t,button:s,classes:a,dense:d,disabled:i,disableGutters:c,disablePadding:r,divider:u,hasSecondaryAction:o,selected:p}=e;return Me({root:["root",d&&"dense",!c&&"gutters",!r&&"padding",u&&"divider",i&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction",p&&"selected"],container:["container"]},At,a)},Vt=J("div",{name:"MuiListItem",slot:"Root",overridesResolver:Gt})(({theme:e,ownerState:t})=>g({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&g({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${We.root}`]:{paddingRight:48}},{[`&.${P.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${P.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${P.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:_(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${P.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:_(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:_(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Et=J("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),_t=m.forwardRef(function(t,s){const a=De({props:t,name:"MuiListItem"}),{alignItems:d="center",autoFocus:i=!1,button:c=!1,children:r,className:u,component:o,components:p={},componentsProps:C={},ContainerComponent:x="li",ContainerProps:{className:h}={},dense:l=!1,disabled:k=!1,disableGutters:T=!1,disablePadding:Z=!1,divider:ee=!1,focusVisibleClassName:te,secondaryAction:N,selected:ne=!1,slotProps:F={},slots:y={}}=a,w=ie(a.ContainerProps,Ft),_e=ie(a,Bt),he=m.useContext(z),se=m.useMemo(()=>({dense:l||he.dense||!1,alignItems:d,disableGutters:T}),[d,he.dense,l,T]),ae=m.useRef(null);ze(()=>{i&&ae.current&&ae.current.focus()},[i]);const R=m.Children.toArray(r),xe=R.length&&He(R[R.length-1],["ListItemSecondaryAction"]),V=g({},a,{alignItems:d,autoFocus:i,button:c,dense:se.dense,disabled:k,disableGutters:T,disablePadding:Z,divider:ee,hasSecondaryAction:xe,selected:ne}),Ce=Nt(V),ye=Ue(ae,s),E=y.root||p.Root||Vt,B=F.root||C.root||{},M=g({className:H(Ce.root,B.className,u),disabled:k},_e);let A=o||"li";return c&&(M.component=o||"div",M.focusVisibleClassName=H(P.focusVisible,te),A=qe),xe?(A=!M.component&&!o?"div":A,x==="li"&&(A==="li"?A="div":M.component==="li"&&(M.component="div")),D.jsx(z.Provider,{value:se,children:D.jsxs(Et,g({as:x,className:H(Ce.container,h),ref:ye,ownerState:V},w,{children:[D.jsx(E,g({},B,!ge(E)&&{as:A,ownerState:g({},V,B.ownerState)},M,{children:R})),R.pop()]}))})):D.jsx(z.Provider,{value:se,children:D.jsxs(E,g({},B,{as:A,ref:ye},!ge(E)&&{ownerState:g({},V,B.ownerState)},M,{children:[R,N&&D.jsx(Tt,{children:N})]}))})}),Te=_t,Wt=Qe(D.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"}),"Groups"),Fe=m.createContext({setFormulaData:()=>{},onModalOpen:()=>{},onModalClose:()=>{}});function In({children:e}){const[t,s,a]=Ae(),[[d,i],c]=m.useState([void 0,void 0]),r=m.useCallback((u,o)=>{u&&o?s():a(),c([u,o])},[s,a]);return n(Fe.Provider,{value:{setFormulaData:r,data:d,node:i,modalOpen:t,onModalOpen:s,onModalClose:a},children:e})}const Se={melt:{cryo:"pyro",pyro:"cryo"},vaporize:{hydro:"pyro",pyro:"hydro"}},ke={mx:.25,px:.25};function zt({reaction:e,trigger:t}){const{t:s}=de("sheet_gen");t||(t=Object.keys(Se[e])[0]);const a=Se[e][t];return a?f(v,{display:"flex",alignItems:"center",children:[n(q,{color:"melt",children:s(`reaction.${e}`)}),n(U,{sx:ke,color:a,children:n(Ie,{ele:a,iconProps:be})}),"+",n(U,{sx:ke,color:t,children:n(Ie,{ele:t,iconProps:be})})]}):null}function Be({fields:e,bgt:t="normal"}){return n(Ge,{sx:{m:0},bgt:t,children:e.map((s,a)=>n(Ht,{field:s,component:Te},a))})}function Ht({field:e,component:t}){const{data:s,oldData:a}=m.useContext(b);if(!m.useMemo(()=>{var i;return((i=e==null?void 0:e.canShow)==null?void 0:i.call(e,s))??!0},[e,s]))return null;if("node"in e){const i=s.get(e.node);if(i.isEmpty)return null;if(a){const c=a.get(e.node),r=c.isEmpty?0:c.value;return n(ce,{node:i,oldValue:r,component:t})}else return n(ce,{node:i,component:t})}return n(Ut,{field:e,component:t})}function Ut({field:e,component:t}){var r;const{data:s}=m.useContext(b),a=L(e.value,s),d=L(e.variant,s),i=e.text&&n("span",{children:e.text}),c=e.textSuffix&&f("span",{children:[" ",e.textSuffix]});return f(v,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1},component:t,children:[f(I,{color:`${d}.main`,children:[i,c]}),f(I,{children:[typeof a=="number"?(r=a.toFixed)==null?void 0:r.call(a,e.fixed):a,e.unit]})]})}function ce({node:e,oldValue:t,component:s,emphasize:a}){const{data:d}=m.useContext(b),{setFormulaData:i}=m.useContext(Fe),c=m.useCallback(()=>i(d,e),[i,d,e]);if(e.isEmpty)return null;const{multi:r}=e.info,u=r&&f("span",{children:[r,"Ã—"]});let o=!1;if(t!==void 0){const p=e.value-t,C=oe(Math.abs(p/t),"%",e.info.fixed);o=f(re,{children:[n("span",{children:oe(t,e.info.unit,e.info.fixed)}),Math.abs(p)>1e-4&&f(re,{children:[f(q,{color:p>0?"success":"error",children:[p>0?"+":"",oe(p,e.info.unit,e.info.fixed)]}),e.info.unit!=="%"&&t!==0&&f(q,{color:p>0?"success":"error",children:["(",C,")"]})]})]})}else o=n("span",{children:mt(e)});return f(v,{width:"100%",sx:{display:"flex",justifyContent:"space-between",gap:1,boxShadow:a?"0px 0px 0px 2px red inset":void 0},component:s,children:[n(qt,{node:e}),f(I,{sx:{display:"flex",gap:.5,alignItems:"center",justifyContent:"flex-end",flexWrap:"wrap"},children:[u,o]}),!!e.formula&&n(Lt,{placement:"top",title:n(I,{children:f(m.Suspense,{fallback:n(Je,{variant:"rectangular",width:300,height:30}),children:[Ke.includes(e.info.variant)&&f(v,{sx:{display:"inline-flex",gap:1,mr:1},children:[n(v,{children:n(zt,{reaction:e.info.variant,trigger:e.info.subVariant})}),n(K,{orientation:"vertical",flexItem:!0})]}),n("span",{children:e.formula})]})}),children:n(St,{onClick:c,fontSize:"inherit",sx:{cursor:"help"}})})]})}function qt({node:e}){const{textSuffix:t}=e.info,s=t&&f("span",{children:[" ",t]});return f(I,{component:"div",sx:{display:"flex",gap:1,alignItems:"center",marginRight:"auto"},children:[!!e.info.isTeamBuff&&n(Wt,{}),e.info.icon,f(q,{color:e.info.variant,children:[e.info.name,s]})]})}const Ge=J(Ye)(({theme:e,bgt:t="normal"})=>{const s=t==="light"?"contentLight":t==="dark"?"contentDark":"contentNormal";return{borderRadius:e.shape.borderRadius,overflow:"hidden",margin:0,"> .MuiListItem-root:nth-of-type(even)":{backgroundColor:e.palette[s].main},"> .MuiListItem-root:nth-of-type(odd)":{backgroundColor:e.palette[s].dark}}});function Qt({level:e,ascension:t,setBoth:s,useLow:a=!1,disabled:d=!1}){const{t:i}=de("ui"),c=a?tt:ve,r=m.useCallback((o=1)=>{o=nt(o,1,a?st:at);const p=c.findIndex(C=>o<=C);s({level:o,ascension:p})},[s,c,a]),u=m.useCallback(()=>{const o=c.findIndex(p=>e!==90&&e===p);s(t===o?{ascension:t+1}:{ascension:o})},[s,c,t,e]);return f(ue,{sx:{bgcolor:o=>o.palette.contentNormal.main},children:[n(it,{children:n(ot,{onChange:r,value:e,startAdornment:"Lv. ",disabled:d,inputProps:{min:1,max:90,sx:{textAlign:"center",width:"3em"}},sx:{height:"100%",pl:2}})}),n(G,{sx:{pl:1,whiteSpace:"nowrap"},disabled:!(a?Xe:Ze)(e)||d,onClick:u,children:f("strong",{children:["/ ",ve[t]]})}),n(pe,{title:i("selectlevel"),sx:{flexGrow:1},disabled:d,children:[...a?Re:et].map(([o,p])=>{const C=o===e&&p===t;return n(Q,{selected:C,disabled:C,onClick:()=>s({level:o,ascension:p}),children:o===c[p]?`Lv. ${o}`:`Lv. ${o}/${c[p]}`},`${o}/${p}`)})})]})}function Jt({avatar:e,title:t,action:s}){return f(v,{display:"flex",gap:1,p:2,alignItems:"center",children:[e,n(I,{variant:"subtitle1",sx:{flexGrow:1},children:t}),s&&n(I,{variant:"caption",children:s})]})}const me=m.createContext({teamChar:{},team:{}});function Kt({conditional:e,disabled:t=!1}){const{data:s}=m.useContext(b);return Object.keys(Y(e.states,s)).length===1&&"path"in e?n(Yt,{conditional:e,disabled:t}):"path"in e?n(Xt,{conditional:e,disabled:t}):n(Zt,{conditional:e,disabled:t})}function Yt({conditional:e,disabled:t}){const{teamId:s,teamCharId:a}=m.useContext(me),{data:d}=m.useContext(b),i=X(),c=m.useCallback(x=>{e.path[0]==="resonance"?i.teams.set(s,h=>{const l=O(h.conditional);x?$(l,e.path,x):j(l,e.path),h.conditional=l}):i.teamChars.set(a,h=>{const l=O(h.conditional);x?$(l,e.path,x):j(l,e.path),h.conditional=l})},[i,e.path,a,s]),r=d.get(e.value).value,[u,o]=Object.entries(Y(e.states,d))[0],p=Ve(o.name),C=fe(e.name);return f(G,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:r?"success":"primary",onClick:()=>c(r?void 0:u),disabled:t,startIcon:r?n(Pe,{}):n(Oe,{}),children:[C," ",p]})}function Xt({conditional:e,disabled:t}){const{teamId:s,teamCharId:a}=m.useContext(me),{data:d}=m.useContext(b),i=X(),c=m.useCallback(x=>{e.path[0]==="resonance"?i.teams.set(s,h=>{const l=O(h.conditional);x?$(l,e.path,x):j(l,e.path),h.conditional=l}):i.teamChars.set(a,h=>{const l=O(h.conditional);x?$(l,e.path,x):j(l,e.path),h.conditional=l})},[i,e.path,a,s]),r=d.get(e.value).value,u=Y(e.states,d),o=r?u[r]:void 0,p=o?Ve(o.name):n(U,{color:"secondary",children:"Not Active"}),C=fe(e.name);return f(pe,{fullWidth:!0,size:"small",sx:{borderRadius:0},color:r&&o?"success":"primary",title:f("span",{children:[C," ",p]}),disabled:t,children:[n(Q,{onClick:()=>c(),selected:!o,disabled:!o,children:n("span",{children:"Not Active"})}),n(K,{}),Object.entries(u).map(([x,h])=>n(Q,{onClick:()=>c(x),selected:r===x,disabled:r===x,children:h.name},x))]})}function Zt({conditional:e,disabled:t}){const{teamId:s,teamCharId:a}=m.useContext(me),{data:d}=m.useContext(b),i=X(),c=m.useCallback((r,u)=>{r[0]==="resonance"?i.teamChars.set(s,o=>{const p=O(o.conditional);u?$(p,r,u):j(p,r),o.conditional=p}):i.teamChars.set(a,o=>{const p=O(o.conditional);u?$(p,r,u):j(p,r),o.conditional=p})},[i,a,s]);return n(ue,{fullWidth:!0,orientation:"vertical",disableElevation:!0,color:"secondary",children:Object.entries(Y(e.states,d)).map(([r,u])=>{const o=d.get(u.value).value,p=o===r;return n(G,{color:p?"success":"primary",disabled:t,fullWidth:!0,onClick:()=>c(u.path,o?void 0:r),size:"small",startIcon:p?n(Pe,{}):n(Oe,{}),sx:{borderRadius:0},children:fe(u.name)},r)})})}function Ne(e){return typeof e!="string"}function Ve(e){if(!e)return"";let t="primary",s=e;return e&&Ne(e)&&e.props.color&&(t=e.props.color,s=n("span",{children:e.props.children})),n(U,{sx:{ml:.5},color:t,children:s})}function fe(e){if(Ne(e)){const t=e.props.key18,s=e.props.ns,a=e.props.values;return n(ft,{ns:s,key18:t,values:a,useBadge:!0})}return e}function en({conditional:e,hideHeader:t=!1,hideDesc:s=!1,disabled:a=!1,bgt:d="normal"}){var r;const{data:i}=m.useContext(b);let c;if("path"in e){const u=i.get(e.value).value,o=L(e.states,i);c=u&&((r=o[u])==null?void 0:r.fields)}else{const u=L(e.states,i);c=Object.values(u).flatMap(o=>i.get(o.value).value?o.fields:[])}return f($e,{bgt:d,children:[!L(t,e)&&n(Ee,{header:e.header,hideDesc:s}),n(le,{sx:{p:0,"&:last-child":{pb:0}},children:n(Kt,{conditional:e,disabled:a})}),c&&n(Be,{bgt:d,fields:c})]})}function tn({sections:e,teamBuffOnly:t,hideDesc:s=!1,hideHeader:a=!1,disabled:d=!1,bgt:i="normal"}){const{data:c}=m.useContext(b);if(!e.length)return null;const r=e.map((u,o)=>u.canShow&&!c.get(u.canShow).value||t&&!u.teamBuff?null:n(nn,{section:u,hideDesc:s,hideHeader:a,disabled:d,bgt:i},o)).filter(u=>u);return r.length?n(v,{display:"flex",flexDirection:"column",gap:1,children:r}):null}function nn({section:e,hideDesc:t=!1,hideHeader:s=!1,disabled:a=!1,bgt:d="normal"}){return"fields"in e?n(sn,{section:e,hideDesc:t,hideHeader:s,bgt:d}):"states"in e?n(en,{conditional:e,hideDesc:t,hideHeader:s,disabled:a,bgt:d}):n(an,{section:e})}function sn({section:e,hideDesc:t,hideHeader:s,bgt:a="normal"}){return f($e,{bgt:a,children:[!L(s,e)&&e.header&&n(Ee,{header:e.header,hideDesc:t,hideDivider:e.fields.length===0}),n(Be,{bgt:a,fields:e.fields})]})}function an({section:e}){const{data:t}=m.useContext(b);return n("div",{children:L(e.text,t)})}function Ee({header:e,hideDesc:t,hideDivider:s}){const{data:a}=m.useContext(b),{icon:d,title:i,action:c}=e,r=L(d,a),u=!t&&L(e.description,a);return f(re,{children:[n(Jt,{avatar:r,title:t?i:f("span",{children:[i,n(kt,{title:n(I,{children:u})})]}),action:c}),!s&&n(K,{})]})}function on({refinement:e,setRefinement:t,disabled:s=!1}){const{t:a}=de("ui");return n(pe,{title:a("refinement",{value:e}),disabled:s,children:rt.map(d=>n(Q,{onClick:()=>t(d),selected:e===d,disabled:e===d,children:a("refinement",{value:d})},d))})}const rn=ut.lazy(()=>pt(()=>import("./WeaponSelectionModal-fc123cef.js"),["./WeaponSelectionModal-fc123cef.js","./index-9c4f648f.js","./index-f8f225f9.css","./index-46e46301.js","./ColoredText-d1deb99d.js","./index-a4c7472a.js","./totalUtils-3ee34d6f.js","./CloseButton-6fbdd333.js","./StarDisplay-7421eee5.js","./DropdownButton-d77412d0.js","./WeaponCard-9335d5b3.js","./SolidToggleButtonGroup-70213330.js","./useWeapon-2a1cd4a4.js","./ConditionalWrapper-ce33c3b9.js"],import.meta.url));function ln({weaponId:e,footer:t=!1,onClose:s,extraButtons:a}){const{data:d}=m.useContext(b),i=X(),c=yt(e),{key:r="",level:u=0,refinement:o=1,ascension:p=0,lock:C,location:x="",id:h}=c??{},l=r?Dt(r):void 0,k=m.useCallback(y=>{i.weapons.set(e,y)},[e,i]),T=m.useCallback(y=>h&&i.weapons.set(h,{location:y}),[i,h]),Z=m.useCallback(y=>y.weaponTypeKey===(l==null?void 0:l.weaponType),[l]),[ee,te,N]=Ae(),ne=r?ht(r,p>=2):"";m.useEffect(()=>{if(!(!l||!k||l.key!==(c==null?void 0:c.key))&&l.rarity<=2&&(u>70||p>4)){const[y,w]=Re[0];k({level:y,ascension:w})}},[l,c,k,u,p]);const F=m.useMemo(()=>l&&c&&xt([l.data,Ct(c)]),[l,c]);return n(dt,{open:!!e,onClose:s,containerProps:{maxWidth:"md"},children:f(ct,{children:[n(rn,{ascension:p,show:ee,onHide:N,onSelect:y=>k({key:y}),weaponTypeFilter:l&&l.weaponType}),n(le,{children:l&&F&&f(S,{container:!0,spacing:1.5,children:[n(S,{item:!0,xs:12,sm:3,children:f(S,{container:!0,spacing:1.5,children:[n(S,{item:!0,xs:6,sm:12,children:n(v,{component:"img",src:ne,className:`grad-${l.rarity}star`,sx:{maxWidth:256,width:"100%",height:"auto",borderRadius:1}})}),n(S,{item:!0,xs:6,sm:12,children:n(I,{children:n("small",{children:l.description})})})]})}),f(S,{item:!0,xs:12,sm:9,sx:{display:"flex",flexDirection:"column",gap:1},children:[n(v,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:f(ue,{children:[n(G,{color:"info",onClick:te,children:(l==null?void 0:l.name)??"Select a Weapon"}),(l==null?void 0:l.hasRefinement)&&n(on,{refinement:o,setRefinement:y=>k({refinement:y})}),a]})}),f(v,{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"space-between",children:[l&&n(Qt,{level:u,ascension:p,setBoth:k,useLow:!l.hasRefinement}),n(G,{color:"error",onClick:()=>h&&i.weapons.set(h,{lock:!C}),startIcon:C?n(gt,{}):n(bt,{}),children:C?"Locked":"Unlocked"})]}),n(wt,{stars:l.rarity}),n(I,{variant:"subtitle1",children:n("strong",{children:l.passiveName})}),n(I,{gutterBottom:!0,children:l.passiveName&&l.passiveDescription(F.get(W.weapon.refinement).value-1)}),f(v,{display:"flex",flexDirection:"column",gap:1,children:[f(lt,{children:[n(Mt,{title:"Main Stats",titleTypographyProps:{variant:"subtitle2"}}),n(K,{}),n(Ge,{children:[W.weapon.main,W.weapon.sub,W.weapon.sub2].map(y=>{const w=F.get(y);return w.isEmpty||!w.value?null:n(ce,{node:w,component:Te},JSON.stringify(w.info))})})]}),d&&l.document&&n(tn,{sections:l.document})]})]})]})}),t&&h&&n(le,{sx:{py:1},children:f(S,{container:!0,spacing:1,children:[n(S,{item:!0,flexGrow:1,children:n(vt,{location:x,setLocation:T,filter:Z,autoCompleteProps:{getOptionDisabled:y=>!y.key}})}),n(S,{item:!0,flexGrow:2}),!!s&&n(S,{item:!0,children:n(It,{sx:{height:"100%"},large:!0,onClick:s})})]})})]})})}const Sn=Object.freeze(Object.defineProperty({__proto__:null,default:ln},Symbol.toStringTag,{value:"Module"}));export{zt as A,Jt as C,tn as D,Fe as F,Te as L,qt as N,on as R,me as T,ln as W,ce as a,Ge as b,Qt as c,In as d,Sn as e};
