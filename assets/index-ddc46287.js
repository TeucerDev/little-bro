import{c1 as Hh,k as H,I as Gh,ck as d,o as $,bo as p,d as k,cv as Kh,ct as Lh,e as qh}from"./index-52652410.js";import{B as Vh,v as e,S as zh,_ as f,c as g,T as u,s as y,a4 as a,p as i,x as Zo,W as Uh,Z as m,$ as h,R as n,a0 as _,P as c,V as l,a5 as v,m as te,N as P,a6 as He,M as Yo,a1 as F,K as A,t as es,a3 as Da,Q as S,a7 as Jh}from"./index-e160f5e8.js";import{C as Te}from"./ColoredText-fdad0407.js";const ts=class{constructor(t,w,N,E){this.passiveDescription=da=>this.hasRefinement?this.tr(`passiveDescription.${da}`):"",this.rarity=N.rarity,this.weaponType=N.weaponType,this.key=t,this.sheet=w,this.data=E}static trm(t){return f("weapon",t)[1]}static tr(t){return f("weapon",t)[0]}static getAllDataOfType(t){return M8[t]}get tr(){return ts.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=ts;s.getWeaponsOfType=(t,w)=>Object.fromEntries(Object.entries(t).filter(([N,E])=>E.weaponType===w));s.getLevelString=t=>Hh(t.level,t.ascension);function o(t,w){const N=s.tr(t);return{title:N("passiveName"),icon:E=>H(Gh,{size:2,src:Vh(t,E.get(e.weapon.asc).value>=2)}),action:w&&H(zh,{color:"success",children:w}),description:E=>N(`passiveDescription.${E.get(e.weapon.refinement).value-1}`)}}function r(t,w,N={},E={}){const da={base:{},premod:{},total:{},weapon:{key:g(t),type:g(w.weaponType)},display:{[`weapon:${t}`]:E}},{mainStat:ae,subStat:W}=w,ra=[da];if(ae.type!=="atk"&&ae.type!=="def"&&ae.type!=="hp")throw new Error("Main stat type must be `atk`");const Nh=u(y(i(ae.base,a(e.weapon.lvl,d.weapon.expCurve[ae.curve])),a(e.weapon.asc,w.ascensionBonus.atk??[])),{path:ae.type});if(ra.push({base:{[ae.type]:e.weapon.main},weapon:{main:Nh}}),W){if(W.type==="atk"||W.type==="def"||W.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Wh=u(i(W.base,a(e.weapon.lvl,d.weapon.expCurve[W.curve])),{path:W.type});ra.push({premod:{[W.type]:e.weapon.sub},weapon:{sub:Wh}})}return Zo([...ra,Uh(N,t)])}const Ge="AlleyHunter",ns=d.weapon.data[Ge],[,Qh]=f("weapon",Ge),Xh=[-1,.02,.025,.03,.035,.04],[Zh,as]=m(Ge,"OppidanAmbush"),os=h(as,{...$(p(1,10),t=>i(a(e.weapon.refinement,Xh),t))},_),Yh=r(Ge,ns,{premod:{all_dmg_:os}}),e1={document:[{value:as,path:Zh,header:o(Ge,n("conditional")),name:Qh("condName"),states:Object.fromEntries(p(1,10).map(t=>[t,{name:n("seconds",{count:t}),fields:[{node:os}]}]))}]},t1=new s(Ge,e1,ns,Yh),se="AmosBow",ss=d.weapon.data[se],[,n1]=f("weapon",se),cs=[-1,.12,.15,.18,.21,.24],a1=[-1,.08,.1,.12,.14,.16],[o1,Ta]=m(se,"StrongWilled"),ds=a(e.weapon.refinement,cs,{path:"normal_dmg_"}),rs=a(e.weapon.refinement,cs,{path:"charged_dmg_"}),is=a(e.weapon.refinement,a1),ms=h(Ta,{...$(p(1,5),t=>i(is,t))},_,{path:"normal_dmg_"}),ls=h(Ta,{...$(p(1,5),t=>i(is,t))},_,{path:"charged_dmg_"}),s1=r(se,ss,{premod:{normal_dmg_:y(ds,ms),charged_dmg_:y(rs,ls)}}),c1={document:[{header:o(se,n("base")),fields:[{node:ds},{node:rs}]},{value:Ta,path:o1,header:o(se,n("stacks")),name:n1("condName"),states:$(p(1,5),t=>({name:n("seconds",{count:t/10}),fields:[{node:ms},{node:ls}]}))}]},d1=new s(se,c1,ss,s1),ce="AquaSimulacra",ps=d.weapon.data[ce],[,r1]=f("weapon",ce),i1=[-1,.16,.2,.24,.28,.32],m1=[-1,.2,.25,.3,.35,.4],[l1,$s]=m(ce,"passive"),hs=a(e.weapon.refinement,i1),us=c($s,"on",a(e.weapon.refinement,m1)),p1=r(ce,ps,{premod:{hp_:hs,all_dmg_:us}}),$1={document:[{header:o(ce,n("base")),fields:[{node:hs}]},{value:$s,path:l1,header:o(ce,n("conditional")),name:r1("condName"),states:{on:{fields:[{node:us}]}}}]},h1=new s(ce,$1,ps,p1),ut="BlackcliffWarbow",_s=d.weapon.data[ut],u1=[-1,.12,.15,.18,.21,.24],[_1,fs]=m(ut,"PressTheAdvantage"),gs=h(fs,{...$(p(1,3),t=>i(a(e.weapon.refinement,u1),t))},_),f1=r(ut,_s,{premod:{atk_:gs}}),g1={document:[{value:fs,path:_1,header:o(ut,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(p(1,3).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:gs},{text:l("duration"),value:30,unit:"s"}]}]))}]},w1=new s(ut,g1,_s,f1),_t="CompoundBow",ws=d.weapon.data[_t],k1=[-1,.04,.05,.06,.07,.08],v1=[-1,.012,.015,.018,.021,.024],[y1,Ra]=m(_t,"InfusionArrow"),ks=h(Ra,{...$(p(1,4),t=>i(a(e.weapon.refinement,k1),t))},_),vs=h(Ra,{...$(p(1,4),t=>i(a(e.weapon.refinement,v1),t))},_),P1=r(_t,ws,{premod:{atk_:ks,atkSPD_:vs}}),S1={document:[{value:Ra,path:y1,header:o(_t,n("stacks")),name:n("hitOp.normalOrCharged"),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:ks},{node:vs}]}]))}]},b1=new s(_t,S1,ws,P1),de="ElegyForTheEnd",[,O1]=f("weapon",de),ys=d.weapon.data[de],B1=[-1,60,75,90,105,120],A1=[-1,100,125,150,175,200],E1=[-1,.2,.25,.3,.35,.4],[x1,Ca]=m(de,"ThePartingRefrain"),Ps=a(e.weapon.refinement,B1,{path:"eleMas"}),Ss=c(Ca,"on",a(e.weapon.refinement,A1,{path:"eleMas"})),bs=c(Ca,"on",a(e.weapon.refinement,E1)),M1=r(de,ys,{premod:{eleMas:Ps},teamBuff:{premod:{atk_:bs,eleMas:Ss}}}),D1={document:[{header:o(de,n("base")),fields:[{node:Ps}]},{value:Ca,path:x1,teamBuff:!0,header:o(de,n("conditional")),name:O1("condName"),states:{on:{fields:[{node:Ss},{node:bs},{text:l("duration"),value:12,unit:"s"}]}}}]},T1=new s(de,D1,ys,M1),ft="EndOfTheLine",Os=d.weapon.data[ft],R1=[-1,.8,1,1.2,1.4,1.6],Bs=c(e.weapon.key,ft,v(i(a(e.weapon.refinement,R1,{unit:"%"}),e.total.atk),"elemental")),C1=r(ft,Os,void 0,{dmg:Bs}),I1={document:[{header:o(ft,n("base")),fields:[{node:u(Bs,{name:n("dmg")})}]}]},j1=new s(ft,I1,Os,C1),Ke="FadingTwilight",As=d.weapon.data[Ke],[,qo]=f("weapon",Ke),[F1,Es]=m(Ke,"state"),xs={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ms=h(Es,xs,_),N1=r(Ke,As,{premod:{all_dmg_:Ms}}),W1={document:[{value:Es,path:F1,header:o(Ke,n("conditional")),name:qo("condName"),states:Object.fromEntries(Object.keys(xs).map(t=>[t,{name:qo(`states.${t}`),fields:[{node:Ms}]}]))}]},H1=new s(Ke,W1,As,N1),Rn="FavoniusWarbow",Ds=d.weapon.data[Rn],G1=r(Rn,Ds),K1={document:[{header:o(Rn),fields:[]}]},L1=new s(Rn,K1,Ds,G1),re="Hamayumi",Ts=d.weapon.data[re],[,q1]=f("weapon",re),Rs=[-1,.16,.2,.24,.28,.32],Cs=[-1,.12,.15,.18,.21,.24],Is=a(e.weapon.refinement,Rs,{path:"normal_dmg_"}),js=a(e.weapon.refinement,Cs,{path:"charged_dmg_"}),[V1,Ia]=m(re,"FullDraw"),Fs=c(Ia,"on",a(e.weapon.refinement,Rs,{path:"normal_dmg_"})),Ns=c(Ia,"on",a(e.weapon.refinement,Cs,{path:"charged_dmg_"})),z1=r(re,Ts,{premod:{normal_dmg_:y(Is,Fs),charged_dmg_:y(js,Ns)}}),U1={document:[{header:o(re,n("base")),fields:[{node:Is},{node:js}]},{value:Ia,path:V1,name:q1("condName"),header:o(re,n("conditional")),states:{on:{fields:[{node:Fs},{node:Ns}]}}}]},J1=new s(re,U1,Ts,z1),ja="HuntersBow",Fa=d.weapon.data[ja],Q1=r(ja,Fa),X1={...Fa,document:[]},Z1=new s(ja,X1,Fa,Q1),Re="HuntersPath",Ws=d.weapon.data[Re],Y1=[-1,.12,.15,.18,.21,.24],Hs=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,Y1,{unit:"%"})])),eu=[-1,1.6,2,2.4,2.8,3.2],[tu,Gs]=m(Re,"passive"),Ks=c(Gs,"on",i(a(e.weapon.refinement,eu,{unit:"%"}),e.total.eleMas)),nu=r(Re,Ws,{premod:{...Hs,charged_dmgInc:Ks}}),au={document:[{header:o(Re,n("base")),fields:Object.values(Hs).map(t=>({node:t}))},{value:Gs,path:tu,header:o(Re,n("conditional")),name:n("hitOp.charged"),states:{on:{fields:[{node:Ks},{text:l("duration"),value:10,unit:"s"},{text:n("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},ou=new s(Re,au,Ws,nu),gt="IbisPiercer",Ls=d.weapon.data[gt],qs=p(1,2),su=[-1,40,50,60,70,80],[cu,Vs]=m(gt,"passiveStacks"),zs=h(Vs,$(qs,t=>i(a(e.weapon.refinement,su),t)),_),du=r(gt,Ls,{premod:{eleMas:zs}}),ru={document:[{value:Vs,path:cu,header:o(gt,n("stacks")),name:n("hitOp.charged"),states:Object.fromEntries(qs.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:zs},{text:l("duration"),value:6,unit:"s"}]}]))}]},iu=new s(gt,ru,Ls,du),ie="KingsSquire",Us=d.weapon.data[ie],[mu,Js]=m(ie,"passive"),lu=[-1,60,80,100,120,140],Qs=c(Js,"on",a(e.weapon.refinement,lu)),pu=[-1,1,1.2,1.4,1.6,1.8],Xs=c(e.weapon.key,ie,v(i(a(e.weapon.refinement,pu,{unit:"%"}),e.total.atk),"elemental")),$u=r(ie,Us,{premod:{eleMas:Qs}},{dmg:Xs}),hu={document:[{header:o(ie,n("base")),fields:[{node:u(Xs,{name:n("dmg")})}]},{value:Js,path:mu,header:o(ie,n("conditional")),name:n("afterUse.skillOrBurst"),states:{on:{fields:[{node:Qs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},uu=new s(ie,hu,Us,$u),wt="Messenger",Zs=d.weapon.data[wt],_u=[-1,1,1.25,1.5,1.75,2],Ys=c(e.weapon.key,wt,v(i(a(e.weapon.refinement,_u),e.total.atk),"elemental",{hit:{ele:g("physical")}})),fu=r(wt,Zs,void 0,{dmg:Ys}),gu={document:[{header:o(wt,n("base")),fields:[{node:u(Ys,{name:n("dmg")})}]}]},wu=new s(wt,gu,Zs,fu),me="MitternachtsWaltz",ec=d.weapon.data[me],ku=[-1,.2,.25,.3,.35,.4],vu=[-1,.2,.25,.3,.35,.4],[yu,tc]=m(me,"EvernightDuetSkill"),[Pu,nc]=m(me,"EvernightDuetNormal"),ac=c(tc,"on",a(e.weapon.refinement,ku)),oc=c(nc,"on",a(e.weapon.refinement,vu)),Su=r(me,ec,{premod:{skill_dmg_:ac,normal_dmg_:oc}}),bu={document:[{value:nc,path:Pu,header:o(me,n("conditional")),name:n("hitOp.skill"),states:{on:{fields:[{node:oc},{text:l("duration"),value:5,unit:"s"}]}}},{value:tc,path:yu,header:o(me,n("conditional")),name:n("hitOp.normal"),states:{on:{fields:[{node:ac},{text:l("duration"),value:5,unit:"s"}]}}}]},Ou=new s(me,bu,ec,Su),Le="MouunsMoon",sc=d.weapon.data[Le],[,Bu]=f("weapon",Le),[Au,cc]=m(Le,"WatatsumiWavewalker"),dc=p(4,36).map(t=>t*10),Eu=[-1,.0012,.0015,.0018,.0021,.0024],xu=[-1,.4,.5,.6,.7,.8],rc=h(cc,Object.fromEntries(dc.map(t=>[t,te(i(a(e.weapon.refinement,Eu,{unit:"%"}),t),a(e.weapon.refinement,xu,{unit:"%"}))])),_),Mu=r(Le,sc,{premod:{burst_dmg_:rc}}),Du={document:[{value:cc,path:Au,header:o(Le,n("conditional")),name:Bu("party"),states:Object.fromEntries(dc.map(t=>[t,{name:t.toString(),fields:[{node:rc}]}]))}]},Tu=new s(Le,Du,sc,Mu),le="PolarStar",ic=d.weapon.data[le],[,Ru]=f("weapon",le),mc=[-1,.12,.15,.18,.21,.24],Cu=[-1,.1,.125,.15,.175,.2],Iu=[-1,.2,.25,.3,.35,.4],ju=[-1,.3,.375,.45,.528,.6],Fu=[-1,.48,.6,.72,.84,.96],[Nu,lc]=m(le,"GoldenMajesty"),pc=a(e.weapon.refinement,mc),$c=a(e.weapon.refinement,mc),hc=h(lc,{1:a(e.weapon.refinement,Cu),2:a(e.weapon.refinement,Iu),3:a(e.weapon.refinement,ju),4:a(e.weapon.refinement,Fu)},_),Wu=r(le,ic,{premod:{skill_dmg_:pc,burst_dmg_:$c,atk_:hc}}),Hu={document:[{header:o(le,n("base")),fields:[{node:pc},{node:$c}]},{value:lc,path:Nu,header:o(le,n("stacks")),name:Ru("condName"),states:$(p(1,4),t=>({name:n("stack",{count:t}),fields:[{node:hc}]}))}]},Gu=new s(le,Hu,ic,Wu),kt="Predator",uc=d.weapon.data[kt],Ku=P(.1),Lu=P(.1),[qu,Na]=m(kt,"PressTheAdvantage"),_c=h(Na,{...$(p(1,2),t=>i(Ku,t))},_),fc=h(Na,{...$(p(1,2),t=>i(Lu,t))},_),Vu=c(e.activeCharKey,"Aloy",66),zu=r(kt,uc,{premod:{normal_dmg_:_c,charged_dmg_:fc,atk:Vu}}),Uu={document:[{value:Na,path:qu,header:o(kt,n("stacks")),name:n("hitOp.cryo"),states:Object.fromEntries(p(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:_c},{node:fc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Ju=new s(kt,Uu,uc,zu),vt="PrototypeCrescent",gc=d.weapon.data[vt],Qu=[-1,.36,.45,.54,.63,.72],[Xu,Wa]=m(vt,"Unreturning"),wc=c(Wa,"on",a(e.weapon.refinement,Qu)),kc=c(Wa,"on",P(.1)),Zu=r(vt,gc,{premod:{atk_:wc,moveSPD_:kc}}),Yu={document:[{value:Wa,path:Xu,header:o(vt,n("conditional")),name:n("hitOp.weakSpot"),states:{on:{fields:[{node:wc},{node:kc},{text:l("duration"),value:10,unit:"s"}]}}}]},e_=new s(vt,Yu,gc,Zu),qe="RangeGauge",vc=d.weapon.data[qe],[,t_]=f("weapon",qe),n_=[-1,.03,.04,.05,.06,.07],a_=[-1,.07,.085,.1,.115,.13],[o_,Ha]=m(qe,"marksConsumed"),Ga=p(1,3),yc=h(Ha,$(Ga,t=>i(t,a(e.weapon.refinement,n_,{unit:"%"}))),_),s_=h(Ha,$(Ga,t=>i(t,a(e.weapon.refinement,a_,{unit:"%"}))),_),Pc=$(k.map(t=>`${t}_dmg_`),()=>({...s_})),c_=r(qe,vc,{premod:{atk_:yc,...Pc}}),d_={document:[{value:Ha,path:o_,teamBuff:!0,header:o(qe,n("stacks")),name:t_("condName"),states:$(Ga,t=>({name:`${t}`,fields:[{node:yc},...Object.values(Pc).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},r_=new s(qe,d_,vc,c_),yt="RavenBow",Sc=d.weapon.data[yt],i_=[-1,.12,.15,.18,.21,.24],[m_,bc]=m(yt,"BaneOfFlameAndWater"),Oc=c(bc,"on",a(e.weapon.refinement,i_)),l_=r(yt,Sc,{premod:{all_dmg_:Oc}}),p_={document:[{value:bc,path:m_,name:n("enemyAffected.hydroOrPyro"),header:o(yt,n("conditional")),states:{on:{fields:[{node:Oc}]}}}]},$_=new s(yt,p_,Sc,l_),Pt="RecurveBow",Bc=d.weapon.data[Pt],h_=[-1,.08,.1,.12,.14,.16],Ac=c(e.weapon.key,Pt,He(i(e.total.hp,a(e.weapon.refinement,h_)))),u_=r(Pt,Bc,void 0,{healing:Ac}),__={document:[{header:o(Pt,n("base")),fields:[{node:u(Ac,{name:l("healing"),variant:"heal"})}]}]},f_=new s(Pt,__,Bc,u_),St="RoyalBow",Ec=d.weapon.data[St],g_=[-1,.08,.1,.12,.14,.16],[w_,xc]=m(St,"Focus"),Mc=h(xc,{...$(p(1,5),t=>i(a(e.weapon.refinement,g_),t))},_),k_=r(St,Ec,{premod:{critRate_:Mc}}),v_={document:[{value:xc,path:w_,header:o(St,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Mc}]}]))}]},y_=new s(St,v_,Ec,k_),Cn="Rust",Dc=d.weapon.data[Cn],P_=[-1,.4,.5,.6,.7,.8],Tc=a(e.weapon.refinement,P_),Rc=g(-.1),S_=r(Cn,Dc,{premod:{normal_dmg_:Tc,charged_dmg_:Rc}}),b_={document:[{header:o(Cn,n("base")),fields:[{node:Tc},{node:Rc}]}]},O_=new s(Cn,b_,Dc,S_),In="SacrificialBow",Cc=d.weapon.data[In],B_=r(In,Cc),A_={document:[{header:o(In),fields:[]}]},E_=new s(In,A_,Cc,B_),pe="ScionOfTheBlazingSun",Ic=d.weapon.data[pe],[,Vo]=f("weapon",pe),x_=[-1,.6,.75,.9,1.05,1.2],M_=[-1,.28,.35,.42,.49,.56],D_=v(i(a(e.weapon.refinement,x_,{unit:"%"}),e.total.atk),"elemental"),[T_,jc]=m(pe,"afterHit"),Fc=c(jc,"on",a(e.weapon.refinement,M_)),R_=r(pe,Ic,{premod:{charged_dmg_:Fc}}),C_={document:[{header:o(pe,n("dmg")),fields:[{node:u(D_,{name:Vo("dmg")})}]},{header:o(pe,n("conditional")),path:T_,value:jc,name:Vo("condName"),states:{on:{fields:[{node:Fc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},I_=new s(pe,C_,Ic,R_),Ka="SeasonedHuntersBow",La=d.weapon.data[Ka],j_=r(Ka,La),F_={...La,document:[]},N_=new s(Ka,F_,La,j_),jn="SharpshootersOath",Nc=d.weapon.data[jn],W_=[-1,.24,.3,.36,.42,.48],Wc=a(e.weapon.refinement,W_),H_=r(jn,Nc,{premod:{weakspotDMG_:Wc}}),G_={document:[{header:o(jn,n("base")),fields:[{node:Wc}]}]},K_=new s(jn,G_,Nc,H_),bt="SkywardHarp",Hc=d.weapon.data[bt],L_=[-1,.2,.25,.3,.35,.4],q_=P(1.25),Gc=a(e.weapon.refinement,L_),Kc=c(e.weapon.key,bt,v(i(q_,e.total.atk),"elemental",{hit:{ele:g("physical")}})),V_=r(bt,Hc,{premod:{critDMG_:Gc}},{dmg:Kc}),z_={document:[{header:o(bt,n("base")),fields:[{node:Gc},{node:u(Kc,{name:n("dmg")})}]}]},U_=new s(bt,z_,Hc,V_),Ve="Slingshot",Lc=d.weapon.data[Ve],[,zo]=f("weapon",Ve),J_=[-1,.36,.42,.48,.54,.6],[Q_,qc]=m(Ve,"Slingshot"),X_=["less","more"],qa=h(qc,{less:a(e.weapon.refinement,J_,{path:"normal_dmg_"}),more:P(-.1,{path:"normal_dmg_"})},_),Vc={...qa},Z_=r(Ve,Lc,{premod:{normal_dmg_:qa,charged_dmg_:Vc}}),Y_={document:[{value:qc,path:Q_,header:o(Ve,n("conditional")),name:zo("condName"),states:$(X_,t=>({name:zo(t),fields:[{node:qa},{node:Vc}]}))}]},ef=new s(Ve,Y_,Lc,Z_),Ot="SongOfStillness",zc=d.weapon.data[Ot],tf=[-1,.16,.2,.24,.28,.32],[nf,Uc]=m(Ot,"afterHeal"),Jc=c(Uc,"on",a(e.weapon.refinement,tf)),af=r(Ot,zc,{premod:{all_dmg_:Jc}}),of={document:[{header:o(Ot,n("conditional")),path:nf,value:Uc,name:n("afterHeal"),states:{on:{fields:[{node:Jc},{text:l("duration"),value:8,unit:"s"}]}}}]},sf=new s(Ot,of,zc,af),ht="TheFirstGreatMagic",Qc=d.weapon.data[ht],cf=[-1,.16,.2,.24,.28,.32],ia=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],ma=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Uo=h(e.charEle,A,_),la=y(...k.map(t=>Yo(A[t],1,F(t,e.charEle,A[t])))),Xc=a(e.weapon.refinement,cf),Zc=es(Uo,3,a(e.weapon.refinement,ia[2]),Da(Uo,2,a(e.weapon.refinement,ia[1]),a(e.weapon.refinement,ia[0]))),$a=es(la,3,a(e.weapon.refinement,ma[2]),Da(la,2,a(e.weapon.refinement,ma[1]),c(la,1,a(e.weapon.refinement,ma[0])))),df=r(ht,Qc,{premod:{charged_dmg_:Xc,atk_:Zc,moveSPD_:$a}}),rf={document:[{header:o(ht,n("base")),fields:[{node:Xc}]},{header:o(ht,n("stacks")),fields:[{node:Zc},{canShow:t=>t.get($a).value>0,node:$a}]}]},mf=new s(ht,rf,Qc,df),Fn="TheStringless",Yc=d.weapon.data[Fn],ed=[-1,.24,.3,.36,.42,.48],td=a(e.weapon.refinement,ed),nd=a(e.weapon.refinement,ed),lf=r(Fn,Yc,{premod:{skill_dmg_:td,burst_dmg_:nd}}),pf={document:[{header:o(Fn,n("base")),fields:[{node:td},{node:nd}]}]},$f=new s(Fn,pf,Yc,lf),Bt="TheViridescentHunt",ad=d.weapon.data[Bt],hf=[-1,.4,.5,.6,.7,.8],od=c(e.weapon.key,Bt,v(i(a(e.weapon.refinement,hf),e.total.atk),"elemental",{hit:{ele:g("physical")}})),uf=r(Bt,ad,void 0,{dmg:od}),_f={document:[{header:o(Bt,n("base")),fields:[{node:u(od,{name:n("dmg")})}]}]},ff=new s(Bt,_f,ad,uf),$e="ThunderingPulse",sd=d.weapon.data[$e],[,gf]=f("weapon",$e),wf=[-1,.2,.25,.3,.35,.4],kf=[-1,.12,.15,.18,.21,.24],vf=[-1,.24,.3,.36,.42,.48],yf=[-1,.4,.5,.6,.7,.8],[Pf,cd]=m($e,"RuleByThunder"),dd=a(e.weapon.refinement,wf),rd=h(cd,{1:a(e.weapon.refinement,kf),2:a(e.weapon.refinement,vf),3:a(e.weapon.refinement,yf)},_),Sf=r($e,sd,{premod:{atk_:dd,normal_dmg_:rd}}),bf={document:[{header:o($e,n("base")),fields:[{node:dd}]},{value:cd,path:Pf,header:o($e,n("stacks")),name:gf("condName"),states:$(p(1,3),t=>({name:n("stack",{count:t}),fields:[{node:rd}]}))}]},Of=new s($e,bf,sd,Sf),At="WindblumeOde",id=d.weapon.data[At],Bf=[-1,.16,.2,.24,.28,.32],[Af,md]=m(At,"WindblumeWish"),ld=c(md,"on",a(e.weapon.refinement,Bf)),Ef=r(At,id,{premod:{atk_:ld}}),xf={document:[{value:md,path:Af,name:n("afterUse.skill"),header:o(At,n("conditional")),states:{on:{fields:[{node:ld},{text:l("duration"),value:6,unit:"s"}]}}}]},Mf=new s(At,xf,id,Ef),Df={AlleyHunter:t1,AmosBow:d1,AquaSimulacra:h1,BlackcliffWarbow:w1,CompoundBow:b1,ElegyForTheEnd:T1,FadingTwilight:H1,FavoniusWarbow:L1,Hamayumi:J1,HuntersBow:Z1,HuntersPath:ou,IbisPiercer:iu,KingsSquire:uu,Messenger:wu,MitternachtsWaltz:Ou,MouunsMoon:Tu,PolarStar:Gu,Predator:Ju,PrototypeCrescent:e_,RangeGauge:r_,RavenBow:$_,RecurveBow:f_,RoyalBow:y_,Rust:O_,SacrificialBow:E_,ScionOfTheBlazingSun:I_,SeasonedHuntersBow:N_,SharpshootersOath:K_,SkywardHarp:U_,Slingshot:ef,SongOfStillness:sf,TheFirstGreatMagic:mf,TheStringless:$f,TheViridescentHunt:ff,ThunderingPulse:Of,EndOfTheLine:j1,WindblumeOde:Mf},Ce="AThousandFloatingDreams",pd=d.weapon.data[Ce],Tf=[-1,32,40,48,56,64],Rf=[-1,.1,.14,.18,.22,.26],Cf=[-1,40,42,44,46,48],$d=h(e.charEle,Object.fromEntries(k.map(t=>[t,u(y(A[t],-1),{asConst:!0})])),_),If=y(...k.map(t=>A[t])),hd=i($d,a(e.weapon.refinement,Tf)),ud=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(e.charEle,t,i(u(y(If,-1,i($d,-1)),{asConst:!0}),a(e.weapon.refinement,Rf,{unit:"%"})))])),_d=c(e.weapon.key,Ce,a(e.weapon.refinement,Cf),{path:"eleMas",isTeamBuff:!0}),jf=F(e.charKey,S.charKey,_d),Ff=r(Ce,pd,{premod:{eleMas:hd,...ud},teamBuff:{premod:{eleMas:jf}}}),Nf={document:[{header:o(Ce,n("base")),fields:[{node:hd},...Object.values(ud).map(t=>({node:t}))]},{header:o(Ce,n("teamBuff")),teamBuff:!0,fields:[{node:_d}]}]},Wf=new s(Ce,Nf,pd,Ff),Va="ApprenticesNotes",za=d.weapon.data[Va],Hf=r(Va,za),Gf={...za,document:[]},Kf=new s(Va,Gf,za,Hf),Et="BalladOfTheBoundlessBlue",fd=d.weapon.data[Et],Lf=[-1,.08,.1,.12,.14,.16],qf=[-1,.06,.075,.09,.105,.12],[Vf,Ua]=m(Et,"hits"),Ja=p(1,3),gd=h(Ua,$(Ja,t=>i(t,a(e.weapon.refinement,Lf,{unit:"%"}))),_),wd=h(Ua,$(Ja,t=>i(t,a(e.weapon.refinement,qf,{unit:"%"}))),_),zf=r(Et,fd,{premod:{normal_dmg_:gd,charged_dmg_:wd}}),Uf={document:[{value:Ua,path:Vf,teamBuff:!0,header:o(Et,n("stacks")),name:n("hitOp.normalOrCharged"),states:$(Ja,t=>({name:n("hits",{count:t}),fields:[{node:gd},{node:wd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Jf=new s(Et,Uf,fd,zf),xt="BlackcliffAgate",kd=d.weapon.data[xt],[Qf,vd]=m(xt,"PressTheAdvantage"),yd=p(1,3),Xf=[-1,.12,.15,.18,.21,.24],Pd=i(h(vd,$(yd,t=>g(t)),0),a(e.weapon.refinement,Xf)),Zf=r(xt,kd,{premod:{atk_:Pd}}),Yf={document:[{value:vd,path:Qf,header:o(xt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(yd.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Pd},{text:l("duration"),value:30,unit:"s"}]}]))}]},eg=new s(xt,Yf,kd,Zf),V="CashflowSupervision",Qa=d.weapon.data[V],Sd=Qa.refinementBonus.atk_;if(!Sd)throw new Error(`data_gen.refinementBonus.atk_ for ${V} was undefined`);const tg=[-1,.16,.2,.24,.28,.32],ng=[-1,.14,.175,.21,.245,.28],ag=[-1,.08,.1,.12,.14,.16],bd=c(e.weapon.key,V,a(e.weapon.refinement,Sd)),[og,Nn]=m(V,"hpChanges"),Xa=p(1,3),Od=h(Nn,$(Xa,t=>i(t,a(e.weapon.refinement,tg,{unit:"%"}))),_),Bd=h(Nn,$(Xa,t=>i(t,a(e.weapon.refinement,ng,{unit:"%"}))),_),Ad=c(Nn,"3",a(e.weapon.refinement,ag)),sg=r(V,Qa,{premod:{atk_:bd,normal_dmg_:Od,charged_dmg_:Bd,atkSPD_:Ad}}),cg={document:[{header:o(V,n("base")),fields:[{node:bd}]},{value:Nn,path:og,header:o(V,n("stacks")),name:n("hpChange"),states:$(Xa,t=>({name:n("times",{count:t}),fields:[{node:Od},{node:Bd},{node:Ad},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},dg=new s(V,cg,Qa,sg),Mt="CranesEchoingCall",Ed=d.weapon.data[Mt],rg=[-1,.28,.41,.54,.67,.8],[ig,xd]=m(Mt,"passive"),Md=c(xd,"on",a(e.weapon.refinement,rg,{unit:"%"})),mg=r(Mt,Ed,{teamBuff:{premod:{plunging_dmg_:Md}}}),lg={document:[{value:xd,path:ig,header:o(Mt,n("conditional")),name:n("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Md},{text:l("duration"),value:20,unit:"s"}]}}}]},pg=new s(Mt,lg,Ed,mg),he="DodocoTales",Dd=d.weapon.data[he],$g=[-1,.16,.2,.24,.28,.32],hg=[-1,.08,.1,.12,.14,.16],[ug,Td]=m(he,"DodoventureNormal"),[_g,Rd]=m(he,"DodoventureCharged"),Cd=c("on",Td,a(e.weapon.refinement,$g)),Id=c("on",Rd,a(e.weapon.refinement,hg)),fg=r(he,Dd,{premod:{charged_dmg_:Cd,atk_:Id}}),gg={document:[{value:Td,path:ug,name:n("hitOp.normal"),header:o(he,n("conditional")),states:{on:{fields:[{node:Cd},{text:l("duration"),value:6,unit:"s"}]}}},{value:Rd,path:_g,name:n("hitOp.charged"),header:o(he,n("conditional")),states:{on:{fields:[{node:Id},{text:l("duration"),value:6,unit:"s"}]}}}]},wg=new s(he,gg,Dd,fg),Dt="EmeraldOrb",jd=d.weapon.data[Dt],kg=[-1,.2,.25,.3,.35,.4],[vg,Fd]=m(Dt,"Rapids"),Nd=c("on",Fd,a(e.weapon.refinement,kg)),yg=r(Dt,jd,{premod:{atk_:Nd}}),Pg={document:[{value:Fd,path:vg,name:n("elementalReaction.hydro"),header:o(Dt,n("conditional")),states:{on:{fields:[{node:Nd},{text:l("duration"),value:12,unit:"s"}]}}}]},Sg=new s(Dt,Pg,jd,yg),Ae="EverlastingMoonglow",Za=d.weapon.data[Ae],bg=[-1,.01,.015,.02,.025,.03],[,Og]=f("weapon",Ae),ha=c(e.weapon.key,Ae,i(a(e.weapon.refinement,bg,{unit:"%"}),e.premod.hp)),Wd=Za.refinementBonus.heal_;if(!Wd)throw new Error(`data_gen.refinementBonus.heal_ for ${Ae} was undefined`);const Hd=a(e.weapon.refinement,Wd),Bg=r(Ae,Za,{premod:{normal_dmgInc:ha,heal_:Hd}},{normal_dmgInc:ha}),Ag={document:[{header:o(Ae,n("base")),fields:[{node:Hd},{text:Og("name"),node:ha}]}]},Eg=new s(Ae,Ag,Za,Bg),Tt="EyeOfPerception",Gd=d.weapon.data[Tt],xg=[-1,2.4,2.7,3,3.3,3.6],Kd=c(e.weapon.key,Tt,v(i(a(e.weapon.refinement,xg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),Mg=r(Tt,Gd,void 0,{dmg_:Kd}),Dg={document:[{header:o(Tt,n("base")),fields:[{node:u(Kd,{name:n("dmg")})}]}]},Tg=new s(Tt,Dg,Gd,Mg),Wn="FavoniusCodex",Ld=d.weapon.data[Wn],Rg=r(Wn,Ld),Cg={document:[{header:o(Wn),fields:[]}]},Ig=new s(Wn,Cg,Ld,Rg),R="FlowingPurity",qd=d.weapon.data[R],[,jg]=f("weapon",R),Fg=[-1,.08,.1,.12,.14,.16],Ng=[-1,.02,.025,.03,.035,.04],Wg=[-1,.12,.15,.18,.21,.24],[Hg,Vd]=m(R,"afterSkill"),Gg=c(Vd,"on",a(e.weapon.refinement,Fg)),Ya=k.map(t=>`${t}_dmg_`),zd=$(Ya,t=>u({...Gg},{path:t})),Kg=i(P(.24),e.total.hp),[Lg,Ud]=m(R,"bond"),qg=c(e.weapon.key,R,c(Ud,"on",te(i(a(e.weapon.refinement,Ng,{unit:"%"}),i(Kg,P(1/1e3))),a(e.weapon.refinement,Wg,{unit:"%"})))),ua=$(Ya,t=>u({...qg},{path:t})),Vg=r(R,qd,{premod:{...$(Ya,t=>y(zd[t],ua[t]))}},ua),zg={document:[{header:o(R,n("conditional")),path:Hg,value:Vd,name:n("hitOp.skill"),states:{on:{fields:[...Object.values(zd).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(R,n("conditional")),path:Lg,value:Ud,name:jg("bondCondName"),states:{on:{fields:[...Object.values(ua).map(t=>({node:t})),{text:l("duration"),value:15,unit:"s"}]}}}]},Ug=new s(R,zg,qd,Vg),G="Frostbearer",Jd=d.weapon.data[G],Jg=[-1,.8,.95,1.1,1.25,1.4],Qg=[-1,2,2.4,2.8,3.2,3.6],Qd=c(e.weapon.key,G,v(i(a(e.weapon.refinement,Jg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Xd=c(e.weapon.key,G,v(i(a(e.weapon.refinement,Qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Xg=r(G,Jd,void 0,{dmgAoe:Qd,dmgOnCryoOp:Xd}),Zg={document:[{header:o(G,n("base")),fields:[{node:u(Qd,{name:s.trm(G)("aoeDmg")})},{node:u(Xd,{name:s.trm(G)("cryoAffectedDmg")})}]}]},Yg=new s(G,Zg,Jd,Xg),ze="FruitOfFulfillment",Zd=d.weapon.data[ze],[,ew]=f("weapon",ze),tw=[-1,24,27,30,33,36],[nw,eo]=m(ze,"stacks"),to=p(1,5),Yd=h(eo,Object.fromEntries(to.map(t=>[t,i(a(e.weapon.refinement,tw),t)])),_),er=h(eo,Object.fromEntries(to.map(t=>[t,i(P(-.05),t)])),_),aw=r(ze,Zd,{premod:{eleMas:Yd,atk_:er}}),ow={document:[{teamBuff:!0,header:o(ze,n("stacks")),path:nw,value:eo,name:ew("stackName"),states:Object.fromEntries(to.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Yd},{node:er}]}]))}]},sw=new s(ze,ow,Zd,aw),Rt="HakushinRing",tr=d.weapon.data[Rt],cw=[-1,.1,.125,.15,.175,.2],[dw,ne]=m(Rt,"SakuraSaiguu"),Ee=a(e.weapon.refinement,cw),nr=c("anemo",ne,Ee),ar=c("cryo",ne,Ee),or=c("geo",ne,Ee),sr=c("hydro",ne,Ee),cr=c("pyro",ne,Ee),dr=c("dendro",ne,Ee),rw=c("anemo",S.charEle,nr),iw=c("cryo",S.charEle,ar),mw=c("geo",S.charEle,or),lw=c("hydro",S.charEle,sr),pw=c("pyro",S.charEle,cr),$w=c("dendro",S.charEle,dr),oe=F(ne,void 0,Ee),hw=c("electro",S.charEle,oe),uw=r(Rt,tr,{teamBuff:{premod:{anemo_dmg_:rw,cryo_dmg_:iw,electro_dmg_:hw,geo_dmg_:mw,hydro_dmg_:lw,pyro_dmg_:pw,dendro_dmg_:$w}}}),_w={document:[{value:ne,path:dw,name:n("elementalReaction.electro"),teamBuff:!0,header:o(Rt,n("conditional")),states:{anemo:{name:H(Te,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:u(nr,{path:"anemo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:H(Te,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:u(ar,{path:"cryo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:H(Te,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:u(or,{path:"geo_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:H(Te,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:u(cr,{path:"pyro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:H(Te,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:u(sr,{path:"hydro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:H(Te,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:u(dr,{path:"dendro_dmg_",isTeamBuff:!0})},{node:u(oe,{path:"electro_dmg_",isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},fw=new s(Rt,_w,tr,uw),xe="JadefallsSplendor",rr=d.weapon.data[xe],[,gw]=f("weapon",xe),[ww,ir]=m(xe,"condPassive"),kw=[-1,.003,.005,.007,.009,.011],vw=[-1,.12,.2,.28,.36,.44],yw=c(e.weapon.key,xe,c(ir,"on",te(a(e.weapon.refinement,vw,{unit:"%"}),i(a(e.weapon.refinement,kw,{unit:"%"}),e.total.hp,1/1e3)))),_a=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(t,e.charEle,yw)])),Pw=r(xe,rr,{premod:{..._a}},{..._a}),Sw={document:[{header:o(xe,n("conditional")),path:ww,value:ir,name:gw("condName"),states:{on:{fields:[...Object.values(_a).map(t=>({node:t})),{text:l("duration"),value:3,unit:"s"}]}}}]},bw=new s(xe,Sw,rr,Pw),Ct="KagurasVerity",mr=d.weapon.data[Ct],[Ow,no]=m(Ct,"KaguraDance"),lr=p(1,3),pr=[-1,.12,.15,.18,.21,.24],$r=lr.map(t=>c(no,t.toString(),a(e.weapon.refinement,pr.map(w=>w*t)),{path:"skill_dmg_"})),hr=Object.fromEntries(k.map(t=>[t,c(no,"3",a(e.weapon.refinement,pr))])),Bw=r(Ct,mr,{premod:{skill_dmg_:y(...$r),...Object.fromEntries(k.map(t=>[`${t}_dmg_`,hr[t]]))}}),Aw={document:[{value:no,path:Ow,header:o(Ct,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(lr.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:$r[t-1]},...k.map(w=>({node:hr[w]}))]}]))}]},Ew=new s(Ct,Aw,mr,Bw),Ie="LostPrayerToTheSacredWinds",ur=d.weapon.data[Ie],xw=[-1,.08,.1,.12,.14,.16],[Mw,_r]=m(Ie,"BoundlessBlessing"),fr=P(.1),Dw=a(e.weapon.refinement,xw,{unit:"%"}),gr=Object.fromEntries(k.map(t=>[t,h(_r,{...$(p(1,4),w=>i(Dw,w))},_)])),Tw=r(Ie,ur,{premod:{moveSPD_:fr,...Object.fromEntries(k.map(t=>[`${t}_dmg_`,gr[t]]))}}),Rw={document:[{header:o(Ie,n("base")),fields:[{node:fr}]},{value:_r,path:Mw,header:o(Ie,n("stacks")),name:n("timeOnField"),states:$(p(1,4),t=>({name:n("seconds",{count:t*4}),fields:k.map(w=>({node:gr[w]}))}))}]},Cw=new s(Ie,Rw,ur,Tw),It="MagicGuide",wr=d.weapon.data[It],Iw=[-1,.12,.15,.18,.21,.24],[jw,kr]=m(It,"BaneOfStormAndTide"),vr=c("on",kr,a(e.weapon.refinement,Iw)),Fw=r(It,wr,{premod:{all_dmg_:vr}}),Nw={document:[{value:kr,path:jw,name:n("enemyAffected.hydroOrElectro"),header:o(It,n("conditional")),states:{on:{fields:[{node:vr}]}}}]},Ww=new s(It,Nw,wr,Fw),jt="MappaMare",yr=d.weapon.data[jt],[Hw,Pr]=m(jt,"InfusionScroll"),Gw=[-1,.08,.1,.12,.14,.16],Kw=a(e.weapon.refinement,Gw),Sr=Kh(k,t=>[`${t}_dmg_`,h(Pr,{...$(p(1,2),w=>i(Kw,w))},_)]),Lw=r(jt,yr,{premod:Sr}),qw={document:[{value:Pr,path:Hw,header:o(jt,n("stacks")),name:n("afterReaction"),states:$(p(1,2),t=>({name:n("stack",{count:t}),fields:[...Object.values(Sr).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"}]}))}]},Vw=new s(jt,qw,yr,Lw),x="MemoryOfDust",br=d.weapon.data[x],[,zw]=f("weapon",x),Uw=[-1,.2,.25,.3,.35,.4],Jw=[-1,.04,.05,.06,.07,.08],[Qw,Or]=m(x,"GoldenMajesty"),Br=a(e.weapon.refinement,Uw),[Xw,Ar]=m(x,"WithShield"),Zw=a(e.weapon.refinement,Jw),Er=i(y(1,c(Ar,"protected",1)),h(Or,Object.fromEntries(p(1,5).map(t=>[t,i(Zw,t)])),_)),Yw=r(x,br,{premod:{shield_:Br,atk_:Er}}),ek={document:[{header:o(x,n("base")),fields:[{node:Br}]},{value:Or,path:Qw,header:o(x,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Er},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Ar,path:Xw,header:o(x,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:zw("atkEffInc"),value:100,unit:"%"}]}}}]},tk=new s(x,ek,br,Yw),Ft="OathswornEye",xr=d.weapon.data[Ft],nk=[-1,.24,.3,.36,.42,.48],[ak,Mr]=m(Ft,"faLight"),ok=a(e.weapon.refinement,nk),Dr=c("skillBurst",Mr,ok),sk=r(Ft,xr,{premod:{enerRech_:Dr}}),ck={document:[{value:Mr,path:ak,header:o(Ft,n("conditional")),name:n("afterUse.skill"),states:{skillBurst:{fields:[{node:Dr}]}}}]},dk=new s(Ft,ck,xr,sk),Nt="OtherworldlyStory",Tr=d.weapon.data[Nt],rk=[-1,.01,.0125,.015,.0175,.02],Rr=c(e.weapon.key,Nt,He(i(a(e.weapon.refinement,rk,{unit:"%"}),e.total.hp))),ik=r(Nt,Tr,void 0,{heal:Rr}),mk={document:[{header:o(Nt,n("base")),fields:[{node:u(Rr,{name:l("healing"),variant:"heal"})}]}]},lk=new s(Nt,mk,Tr,ik),ao="PocketGrimoire",Cr=d.weapon.data[ao],pk=r(ao,Cr),$k={document:[]},hk=new s(ao,$k,Cr,pk),Ue="PrototypeAmber",Ir=d.weapon.data[Ue],[uk,_k]=m(Ue,"Gliding"),fk=[-1,.04,.045,.05,.055,.06],jr=c(e.weapon.key,Ue,He(i(a(e.weapon.refinement,fk,{unit:"%"}),e.total.hp))),gk=r(Ue,Ir,void 0,{heal:jr}),wk={document:[{value:_k,path:uk,name:n("afterUse.burst"),header:o(Ue,n("conditional")),states:{on:{fields:[{node:u(jr,{name:l("healing"),variant:"heal"})}]}}}]},kk=new s(Ue,wk,Ir,gk),ue="QuantumCatalyst",Fr=d.weapon.data[ue],vk=[-1,.18,.225,.27,.315,.36],yk=[-1,.06,.075,.09,.105,.12],Pk=[-1,10,12,14,16,18],Nr=p(1,5),[Sk,Wr]=m(ue,"stacks"),Hr=a(e.weapon.refinement,vk),Bn=c(e.weapon.key,ue,i(a(e.weapon.refinement,yk,{unit:"%"}),e.total.eleMas)),fa={...Bn},Gr=h(Wr,$(Nr,t=>i(a(e.weapon.refinement,Pk),t)),_),bk=r(ue,Fr,{premod:{enerRech_:Hr,normal_dmgInc:Bn,charged_dmgInc:fa,eleMas:Gr}},{normal_dmgInc:Bn,charged_dmgInc:fa}),Ok={document:[{header:o(ue,n("base")),fields:[{node:Hr},{node:Bn},{node:fa}]},{value:Wr,path:Sk,teamBuff:!0,header:o(ue,n("stacks")),name:n("elementalReaction.electro"),states:$(Nr,t=>({name:n("stack",{count:t}),fields:[{node:Gr},{text:l("duration"),value:12,unit:"s"}]}))}]},Bk=new s(ue,Ok,Fr,bk),Wt="RoyalGrimoire",Kr=d.weapon.data[Wt],[Ak,Lr]=m(Wt,"stack"),Ek=[-1,.08,.1,.12,.14,.16],qr=h(Lr,$(p(1,5),t=>i(a(e.weapon.refinement,Ek,{unit:"%"}),t)),_),xk=r(Wt,Kr,{premod:{critRate_:qr}}),Mk={document:[{value:Lr,path:Ak,header:o(Wt,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:qr}]}]))}]},Dk=new s(Wt,Mk,Kr,xk),Hn="SacrificialFragments",Vr=d.weapon.data[Hn],Tk=r(Hn,Vr),Rk={document:[{header:o(Hn),fields:[]}]},Ck=new s(Hn,Rk,Vr,Tk),Je="SacrificialJade",zr=d.weapon.data[Je],[,Ik]=f("weapon",Je),jk=[-1,.32,.4,.48,.56,.64],Fk=[-1,40,50,60,70,80],[Nk,oo]=m(Je,"offField"),Ur=c(oo,"on",a(e.weapon.refinement,jk)),Jr=c(oo,"on",a(e.weapon.refinement,Fk)),Wk=r(Je,zr,{premod:{eleMas:Jr,hp_:Ur}}),Hk={document:[{teamBuff:!0,header:o(Je,n("conditional")),path:Nk,value:oo,name:Ik("condOffField"),states:{on:{fields:[{node:Ur},{node:Jr}]}}}]},Gk=new s(Je,Hk,zr,Wk),Ht="SkywardAtlas",Qr=d.weapon.data[Ht],Kk=[-1,.12,.15,.18,.21,.24],Xr=Object.fromEntries(k.map(t=>[t,a(e.weapon.refinement,Kk)])),Lk=[-1,1.6,2,2.4,2.8,3.2],Zr=c(e.weapon.key,Ht,v(i(a(e.weapon.refinement,Lk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),qk=r(Ht,Qr,{premod:{...Object.fromEntries(k.map(t=>[`${t}_dmg_`,Xr[t]]))}},{dmg:Zr}),Vk={document:[{header:o(Ht,n("base")),fields:[...k.map(t=>({node:Xr[t]})),{node:u(Zr,{name:n("dmg")})}]}]},zk=new s(Ht,Vk,Qr,qk),_e="SolarPearl",Yr=d.weapon.data[_e],Uk=[-1,.2,.25,.3,.35,.4],[Jk,ei]=m(_e,"solarShineNormal"),[Qk,ti]=m(_e,"solarShineSkillBurst"),ni=a(e.weapon.refinement,Uk),so=c("normal",ei,ni),ai={...so},oi=c("skillBurst",ti,ni),Xk=r(_e,Yr,{premod:{skill_dmg_:so,burst_dmg_:ai,normal_dmg_:oi}}),Zk={document:[{value:ei,path:Jk,header:o(_e,n("conditional")),name:n("hitOp.normal"),states:{normal:{fields:[{node:so},{node:ai}]}}},{value:ti,path:Qk,header:o(_e,n("conditional")),name:n("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:oi}]}}}]},Yk=new s(_e,Zk,Yr,Xk),Qe="TheWidsith",si=d.weapon.data[Qe],[e2,pa]=f("weapon",Qe),t2=[-1,.6,.75,.9,1.05,1.2],n2=[-1,.48,.6,.72,.84,.96],a2=[-1,240,300,360,420,480],[o2,Gn]=m(Qe,"Debut"),ci=c("recitative",Gn,a(e.weapon.refinement,t2)),di=Object.fromEntries(k.map(t=>[t,c("aria",Gn,a(e.weapon.refinement,n2))])),ri=c("interlude",Gn,a(e.weapon.refinement,a2)),s2=r(Qe,si,{premod:{atk_:ci,...Object.fromEntries(k.map(t=>[`${t}_dmg_`,di[t]])),eleMas:ri}}),c2={document:[{value:Gn,path:o2,teamBuff:!0,header:o(Qe,n("conditional")),name:e2("passiveName"),states:{aria:{name:pa("aria"),fields:[...k.map(t=>({node:di[t]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:pa("interlude"),fields:[{node:ri},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:pa("recitative"),fields:[{node:ci},{text:l("duration"),value:10,unit:"s"}]}}}]},d2=new s(Qe,c2,si,s2),Xe="ThrillingTalesOfDragonSlayers",ii=d.weapon.data[Xe],[,r2]=f("weapon",Xe),i2=[-1,.24,.3,.36,.42,.48],[m2,mi]=m(Xe,"Heritage"),li=c("on",mi,a(e.weapon.refinement,i2)),l2=F(e.activeCharKey,e.charKey,c(e.activeCharKey,S.charKey,li)),p2=r(Xe,ii,{teamBuff:{premod:{atk_:l2}}}),$2={document:[{value:mi,path:m2,name:r2("condName"),teamBuff:!0,header:o(Xe,n("conditional")),states:{on:{fields:[{node:u(li,{path:"atk_"})},{text:l("duration"),value:10,unit:"s"}]}}}]},h2=new s(Xe,$2,ii,p2),z="TomeOfTheEternalFlow",co=d.weapon.data[z],pi=co.refinementBonus.hp_;if(!pi)throw new Error(`data_gen.refinementBonus.hp_ for ${z} was undefined`);const u2=[-1,.14,.18,.22,.26,.3],$i=c(e.weapon.key,z,a(e.weapon.refinement,pi)),[_2,hi]=m(z,"hpChanges"),ui=p(1,3),_i=h(hi,$(ui,t=>i(t,a(e.weapon.refinement,u2,{unit:"%"}))),_),f2=r(z,co,{premod:{hp_:$i,charged_dmg_:_i}}),g2={document:[{header:o(z,n("base")),fields:[{node:$i}]},{value:hi,path:_2,header:o(z,n("stacks")),name:n("hpChange"),states:$(ui,t=>({name:n("times",{count:t}),fields:[{node:_i},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},w2=new s(z,g2,co,f2),b="TulaytullahsRemembrance",fi=d.weapon.data[b],k2=[-1,.1,.125,.15,.175,.2],v2=[-1,.048,.06,.072,.084,.096],gi=p(1,12),y2=[-1,.096,.12,.144,.168,.192],wi=p(1,5),P2=[-1,.48,.6,.72,.84,.96],ki=c(e.weapon.key,b,a(e.weapon.refinement,k2)),[S2,vi]=m(b,"timePassive"),b2=c(e.weapon.key,b,h(vi,Object.fromEntries(gi.map(t=>[t,i(t,a(e.weapon.refinement,v2,{unit:"%"}))])),_,{path:"normal_dmg_"})),[O2,yi]=m(b,"hitPassive"),B2=c(e.weapon.key,b,h(yi,Object.fromEntries(wi.map(t=>[t,i(t,a(e.weapon.refinement,y2,{unit:"%"}))])),_,{path:"normal_dmg_"})),Pi=te(a(e.weapon.refinement,P2,{unit:"%"}),y(b2,B2)),A2=r(b,fi,{premod:{atkSPD_:ki,normal_dmg_:Pi}}),E2={document:[{header:o(b,n("base")),fields:[{node:ki}]},{header:o(b,n("conditional")),fields:[{node:Pi}]},{value:vi,path:S2,header:o(b,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(gi.map(t=>[t,{name:n("seconds",{count:t}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:yi,path:O2,header:o(b,n("stacks")),name:n("hitOp.normal"),states:Object.fromEntries(wi.map(t=>[t,{name:n("stack",{count:t}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},x2=new s(b,E2,fi,A2),Gt="TwinNephrite",Si=d.weapon.data[Gt],bi=[-1,.12,.14,.16,.18,.2],[M2,ro]=m(Gt,"GuerillaTactics"),Oi=c("on",ro,a(e.weapon.refinement,bi)),Bi=c("on",ro,a(e.weapon.refinement,bi)),D2=r(Gt,Si,{premod:{atk_:Oi,moveSPD_:Bi}}),T2={document:[{value:ro,path:M2,name:n("afterDefeatEnemy"),header:o(Gt,n("conditional")),states:{on:{fields:[{node:Oi},{node:Bi},{text:l("duration"),value:15,unit:"s"}]}}}]},R2=new s(Gt,T2,Si,D2),fe="WanderingEvenstar",Ai=d.weapon.data[fe],C2=[-1,.24,.3,.36,.42,.48],An=c(e.weapon.key,fe,i(a(e.weapon.refinement,C2,{unit:"%"}),e.premod.eleMas)),io=c(e.weapon.key,fe,i(P(.3),An)),I2=F(e.activeCharKey,e.charKey,io),j2=r(fe,Ai,{total:{atk:An},teamBuff:{total:{atk:I2}}},{selfAtk:An,teamAtkDisp:io}),F2={document:[{header:o(fe,n("base")),fields:[{node:An}]},{header:o(fe,n("teamBuff")),teamBuff:!0,fields:[{node:u(io,{path:"atk",isTeamBuff:!0})}]}]},N2=new s(fe,F2,Ai,j2),Kt="WineAndSong",Ei=d.weapon.data[Kt],W2=[-1,.2,.25,.3,.35,.4],[H2,xi]=m(Kt,"EverChanging"),Mi=c("on",xi,a(e.weapon.refinement,W2)),G2=r(Kt,Ei,{premod:{atk_:Mi}}),K2={document:[{value:xi,path:H2,name:n("afterSprint"),header:o(Kt,n("conditional")),states:{on:{fields:[{node:Mi},{text:l("duration"),value:5,unit:"s"}]}}}]},L2=new s(Kt,K2,Ei,G2),q2={ApprenticesNotes:Kf,AThousandFloatingDreams:Wf,BalladOfTheBoundlessBlue:Jf,BlackcliffAgate:eg,CashflowSupervision:dg,CranesEchoingCall:pg,DodocoTales:wg,EmeraldOrb:Sg,EverlastingMoonglow:Eg,EyeOfPerception:Tg,FavoniusCodex:Ig,FlowingPurity:Ug,Frostbearer:Yg,FruitOfFulfillment:sw,HakushinRing:fw,JadefallsSplendor:bw,KagurasVerity:Ew,LostPrayerToTheSacredWinds:Cw,MagicGuide:Ww,MappaMare:Vw,MemoryOfDust:tk,OathswornEye:dk,OtherworldlyStory:lk,PocketGrimoire:hk,PrototypeAmber:kk,QuantumCatalyst:Bk,RoyalGrimoire:Dk,SacrificialFragments:Ck,SacrificialJade:Gk,SkywardAtlas:zk,SolarPearl:Yk,TheWidsith:d2,ThrillingTalesOfDragonSlayers:h2,TomeOfTheEternalFlow:w2,TulaytullahsRemembrance:x2,TwinNephrite:R2,WanderingEvenstar:N2,WineAndSong:L2},Ze="Akuoumaru",Di=d.weapon.data[Ze],[,V2]=f("weapon",Ze),[z2,Ti]=m(Ze,"WatatsumiWavewalker"),Ri=p(4,36).map(t=>t*10),U2=[-1,.0012,.0015,.0018,.0021,.0024],J2=[-1,.4,.5,.6,.7,.8],Ci=h(Ti,Object.fromEntries(Ri.map(t=>[t,te(i(a(e.weapon.refinement,U2,{unit:"%"}),t),a(e.weapon.refinement,J2,{unit:"%"}))])),_),Q2=r(Ze,Di,{premod:{burst_dmg_:Ci}}),X2={document:[{value:Ti,path:z2,header:o(Ze,n("stacks")),name:V2("party"),states:Object.fromEntries(Ri.map(t=>[t,{name:t.toString(),fields:[{node:Ci}]}]))}]},Z2=new s(Ze,X2,Di,Q2),O="BeaconOfTheReedSea",Ii=d.weapon.data[O],Y2=[-1,.2,.25,.3,.35,.4],[ev,ji]=m(O,"afterSkill"),Fi=c(e.weapon.key,O,c(ji,"on",a(e.weapon.refinement,Y2,{path:"atk_"}))),tv=[-1,.2,.25,.3,.35,.4],[nv,Ni]=m(O,"afterDmg"),Wi=c(e.weapon.key,O,c(Ni,"on",a(e.weapon.refinement,tv,{path:"atk_"}))),av=[-1,.32,.4,.48,.56,.64],[ov,Hi]=m(O,"noShield"),Gi=c(e.weapon.key,O,c(Hi,"on",a(e.weapon.refinement,av,{path:"hp_"}))),sv=r(O,Ii,{premod:{atk_:y(Fi,Wi),hp_:Gi}},{}),cv={document:[{header:o(O,n("conditional")),path:ev,value:ji,name:n("hitOp.skill"),states:{on:{fields:[{node:Fi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(O,n("conditional")),path:nv,value:Ni,name:n("takeDmg"),states:{on:{fields:[{node:Wi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(O,n("conditional")),path:ov,value:Hi,name:n("notProtectedByShield"),states:{on:{fields:[{node:Gi}]}}}]},dv=new s(O,cv,Ii,sv),Lt="BlackcliffSlasher",Ki=d.weapon.data[Lt],[rv,Li]=m(Lt,"PressTheAdvantage"),qi=p(1,3),iv=[-1,.12,.15,.18,.21,.24],Vi=i(h(Li,$(qi,t=>g(t)),0),a(e.weapon.refinement,iv)),mv=r(Lt,Ki,{premod:{atk_:Vi}}),lv={document:[{value:Li,path:rv,header:o(Lt,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(qi.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Vi},{text:l("duration"),value:30,unit:"s"}]}]))}]},pv=new s(Lt,lv,Ki,mv),qt="BloodtaintedGreatsword",zi=d.weapon.data[qt],$v=[-1,.12,.15,.18,.21,.24],[hv,Ui]=m(qt,"BaneOfFireAndThunder"),Ji=c("on",Ui,a(e.weapon.refinement,$v)),uv=r(qt,zi,{premod:{all_dmg_:Ji}}),_v={document:[{value:Ui,path:hv,name:n("enemyAffected.pyroOrElectro"),header:o(qt,n("conditional")),states:{on:{fields:[{node:Ji}]}}}]},fv=new s(qt,_v,zi,uv),Vt="DebateClub",Qi=d.weapon.data[Vt],gv=[-1,.6,.75,.9,1.05,1.2],Xi=c(e.weapon.key,Vt,v(i(a(e.weapon.refinement,gv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),wv=r(Vt,Qi,void 0,{dmg:Xi}),kv={document:[{header:o(Vt,n("base")),fields:[{node:u(Xi,{name:n("dmg")})}]}]},vv=new s(Vt,kv,Qi,wv),Kn="FavoniusGreatsword",Zi=d.weapon.data[Kn],yv=r(Kn,Zi),Pv={document:[{header:o(Kn),fields:[]}]},Sv=new s(Kn,Pv,Zi,yv),Ye="FerrousShadow",Yi=d.weapon.data[Ye],[,Jo]=f("weapon",Ye),bv=[-1,.3,.35,.4,.45,.5],[Ov,em]=m(Ye,"Unbending"),tm=c("on",em,a(e.weapon.refinement,bv)),Bv=r(Ye,Yi,{premod:{charged_dmg_:tm}}),Av={document:[{value:em,path:Ov,name:Jo("condName"),header:o(Ye,n("conditional")),states:{on:{fields:[{node:tm},{text:Jo("resistance")}]}}}]},Ev=new s(Ye,Av,Yi,Bv),et="ForestRegalia",nm=d.weapon.data[et],[,xv]=f("weapon",et),[Mv,am]=m(et,"passive"),Dv=[-1,60,75,90,105,120],om=c(am,"on",a(e.weapon.refinement,Dv)),Tv=c(e.activeCharKey,S.charKey,om),Rv=r(et,nm,{teamBuff:{premod:{eleMas:Tv}}}),Cv={document:[{value:am,path:Mv,teamBuff:!0,header:o(et,n("conditional")),name:xv("condName"),states:{on:{fields:[{node:u(om,{path:"eleMas"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},Iv=new s(et,Cv,nm,Rv),Ln="KatsuragikiriNagamasa",sm=d.weapon.data[Ln],jv=[-1,.06,.075,.09,.105,.12],cm=a(e.weapon.refinement,jv),Fv=r(Ln,sm,{premod:{skill_dmg_:cm}}),Nv={document:[{header:o(Ln,n("base")),fields:[{node:cm}]}]},Wv=new s(Ln,Nv,sm,Fv),qn="LithicBlade",dm=d.weapon.data[qn],Hv=[-1,.07,.08,.09,.1,.11],Gv=[-1,.03,.04,.05,.06,.07],rm=i(a(e.weapon.refinement,Hv,{unit:"%"}),A.liyue),im=i(a(e.weapon.refinement,Gv,{unit:"%"}),A.liyue),Kv=r(qn,dm,{premod:{atk_:rm,critRate_:im}}),Lv={document:[{header:o(qn,n("stacks")),fields:[{node:rm},{node:im}]}]},qv=new s(qn,Lv,dm,Kv),je="LuxuriousSeaLord",mm=d.weapon.data[je],Vv=[-1,.12,.15,.18,.21,.24],zv=[-1,1,1.25,1.5,1.75,2],lm=a(e.weapon.refinement,Vv),pm=c(e.weapon.key,je,v(i(a(e.weapon.refinement,zv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Uv=r(je,mm,{premod:{burst_dmg_:lm}},{dmg:pm}),Jv={document:[{header:o(je,n("base")),fields:[{node:lm}]},{header:o(je,n("conditional")),fields:[{node:u(pm,{name:n("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Qv=new s(je,Jv,mm,Uv),tt="MailedFlower",$m=d.weapon.data[tt],[,Xv]=f("weapon",tt),Zv=[-1,.12,.15,.18,.21,.24],Yv=[-1,48,60,72,84,96],[ey,mo]=m(tt,"passive"),hm=c(mo,"on",a(e.weapon.refinement,Zv,{unit:"%"})),um=c(mo,"on",a(e.weapon.refinement,Yv)),ty=r(tt,$m,{premod:{atk_:hm,eleMas:um}}),ny={document:[{value:mo,path:ey,name:Xv("condName"),header:o(tt,n("conditional")),states:{on:{fields:[{node:hm},{node:um},{text:l("duration"),value:8,unit:"s"}]}}}]},ay=new s(tt,ny,$m,ty),ge="MakhairaAquamarine",_m=d.weapon.data[ge],oy=[-1,.24,.3,.36,.42,.48],En=c(e.weapon.key,ge,i(a(e.weapon.refinement,oy,{unit:"%"}),e.premod.eleMas)),lo=c(e.weapon.key,ge,i(P(.3),En)),sy=F(e.activeCharKey,e.charKey,lo),cy=r(ge,_m,{total:{atk:En},teamBuff:{total:{atk:sy}}},{selfAtk:En,teamAtkDisp:lo}),dy={document:[{header:o(ge,n("base")),fields:[{node:En}]},{header:o(ge,n("teamBuff")),teamBuff:!0,fields:[{node:u(lo,{path:"atk",isTeamBuff:!0})}]}]},ry=new s(ge,dy,_m,cy),po="OldMercsPal",fm=d.weapon.data[po],iy=r(po,fm),my={document:[]},ly=new s(po,my,fm,iy),nt="PortablePowerSaw",gm=d.weapon.data[nt],[,py]=f("weapon",nt),$y=[-1,40,50,60,70,80],[hy,wm]=m(nt,"symbolsConsumed"),km=p(1,3),vm=h(wm,$(km,t=>i(t,a(e.weapon.refinement,$y,{unit:"%"}))),_),uy=r(nt,gm,{premod:{eleMas:vm}}),_y={document:[{value:wm,path:hy,teamBuff:!0,header:o(nt,n("stacks")),name:py("condName"),states:$(km,t=>({name:`${t}`,fields:[{node:vm},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},fy=new s(nt,_y,gm,uy),zt="PrototypeArchaic",ym=d.weapon.data[zt],gy=[-1,2.4,3,3.6,4.2,4.8],Pm=c(e.weapon.key,zt,v(i(a(e.weapon.refinement,gy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),wy=r(zt,ym,void 0,{dmg:Pm}),ky={document:[{header:o(zt,n("base")),fields:[{node:u(Pm,{name:n("dmg")})}]}]},vy=new s(zt,ky,ym,wy),Ut="Rainslasher",Sm=d.weapon.data[Ut],yy=[-1,.2,.24,.28,.32,.36],[Py,bm]=m(Ut,"BaneOfStormAndTide"),Om=c("on",bm,a(e.weapon.refinement,yy)),Sy=r(Ut,Sm,{premod:{all_dmg_:Om}}),by={document:[{value:bm,path:Py,name:n("enemyAffected.hydroOrElectro"),header:o(Ut,n("conditional")),states:{on:{fields:[{node:Om}]}}}]},Oy=new s(Ut,by,Sm,Sy),at="RedhornStonethresher",Bm=d.weapon.data[at],By=[-1,.28,.35,.42,.49,.56],Ay=[-1,.4,.5,.6,.7,.8],Ey=[-1,.4,.5,.6,.7,.8],Am=a(e.weapon.refinement,By),ga=c(e.weapon.key,at,i(a(e.weapon.refinement,Ay,{unit:"%"}),e.premod.def)),wa=c(e.weapon.key,at,i(a(e.weapon.refinement,Ey,{unit:"%"}),e.premod.def)),xy=r(at,Bm,{premod:{def_:Am,normal_dmgInc:ga,charged_dmgInc:wa}},{normal_dmgInc:ga,charged_dmgInc:wa}),My={document:[{header:o(at,n("base")),fields:[{node:Am},{node:ga},{node:wa}]}]},Dy=new s(at,My,Bm,xy),Jt="RoyalGreatsword",Em=d.weapon.data[Jt],[Ty,xm]=m(Jt,"stack"),Ry=[-1,.08,.1,.12,.14,.16],Mm=h(xm,$(p(1,5),t=>i(a(e.weapon.refinement,Ry,{unit:"%"}),t)),_),Cy=r(Jt,Em,{premod:{critRate_:Mm}}),Iy={document:[{value:xm,path:Ty,name:n("stacks"),header:o(Jt,n("stacks")),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Mm}]}]))}]},jy=new s(Jt,Iy,Em,Cy),Vn="SacrificialGreatsword",Dm=d.weapon.data[Vn],Fy=r(Vn,Dm),Ny={document:[{header:o(Vn),fields:[]}]},Wy=new s(Vn,Ny,Dm,Fy),ot="SerpentSpine",Tm=d.weapon.data[ot],[,Hy]=f("weapon",ot),Gy=[-1,.06,.07,.08,.09,.1],Ky=[-1,3,2.7,2.4,2.2,2],[Ly,Rm]=m(ot,"Wavesplitter"),qy=a(e.weapon.refinement,Gy,{unit:"%"}),Cm=h(Rm,{...$(p(1,5),t=>i(qy,t))},_),Vy=r(ot,Tm,{premod:{all_dmg_:Cm}}),zy={document:[{value:Rm,path:Ly,header:o(ot,n("stacks")),name:n("activeCharField"),states:{...$(p(1,5),t=>({name:n("seconds",{count:t*4}),fields:[{node:Cm},{text:Hy("takeMoreDmg"),value:w=>Ky[w.get(e.weapon.refinement).value]*t,unit:"%"}]}))}}]},Uy=new s(ot,zy,Tm,Vy),Qt="SkyriderGreatsword",Im=d.weapon.data[Qt],[Jy,jm]=m(Qt,"stack"),Qy=[-1,.06,.07,.08,.09,.1],Fm=h(jm,$(p(1,4),t=>i(a(e.weapon.refinement,Qy,{unit:"%"}),t)),_),Xy=r(Qt,Im,{premod:{atk_:Fm}}),Zy={document:[{value:jm,path:Jy,name:n("hitOp.normalOrCharged"),header:o(Qt,n("stacks")),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Fm},{text:l("duration"),value:6,unit:"s"}]}]))}]},Yy=new s(Qt,Zy,Im,Xy),Xt="SkywardPride",Nm=d.weapon.data[Xt],eP=[-1,.08,.1,.12,.14,.16],tP=[-1,.8,1,1.2,1.4,1.6],Wm=a(e.weapon.refinement,eP),Hm=c(e.weapon.key,Xt,v(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),nP=r(Xt,Nm,{premod:{all_dmg_:Wm}},{dmg:Hm}),aP={document:[{header:o(Xt,n("base")),fields:[{node:Wm},{node:u(Hm,{name:n("dmg")})}]}]},oP=new s(Xt,aP,Nm,nP),K="SnowTombedStarsilver",Gm=d.weapon.data[K],sP=[-1,.8,.95,1.1,1.25,1.4],cP=[-1,2,2.4,2.8,3.2,3.6],Km=c(e.weapon.key,K,v(i(a(e.weapon.refinement,sP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),Lm=c(e.weapon.key,K,v(i(a(e.weapon.refinement,cP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),dP=r(K,Gm,void 0,{dmgAoe:Km,dmgOnCryoOp:Lm}),rP={document:[{header:o(K,n("base")),fields:[{node:u(Km,{name:s.trm(K)("aoeDmg")})},{node:u(Lm,{name:s.trm(K)("cryoAffectedDmg")})}]}]},iP=new s(K,rP,Gm,dP),we="SongOfBrokenPines",qm=d.weapon.data[we],[,mP]=f("weapon",we),lP=[-1,.16,.2,.24,.28,.32],pP=[-1,.2,.25,.3,.35,.4],$P=[-1,.12,.15,.18,.21,.24],[hP,$o]=m(we,"RebelsBannerHymn"),Vm=a(e.weapon.refinement,lP,{unit:"%"}),zm=c("on",$o,a(e.weapon.refinement,pP,{path:"atk_"})),Um=c("on",$o,a(e.weapon.refinement,$P)),uP=r(we,qm,{premod:{atk_:Vm},teamBuff:{premod:{atk_:zm,atkSPD_:Um}}}),_P={document:[{header:o(we,n("base")),fields:[{node:Vm}]},{value:$o,path:hP,teamBuff:!0,header:o(we,n("conditional")),name:mP("name"),states:{on:{fields:[{node:zm},{node:Um},{text:l("duration"),value:12,unit:"s"}]}}}]},fP=new s(we,_P,qm,uP),U="TalkingStick",Jm=d.weapon.data[U],[,Qo]=f("weapon",U),gP=[-1,.16,.2,.24,.28,.32],wP=[-1,.12,.15,.18,.21,.24],[kP,Qm]=m(U,"affectedPyro"),Xm=c(Qm,"on",a(e.weapon.refinement,gP)),[vP,Zm]=m(U,"affectedOther"),yP=c(Zm,"on",a(e.weapon.refinement,wP)),Ym=$(k.map(t=>`${t}_dmg_`),()=>({...yP})),PP=r(U,Jm,{premod:{atk_:Xm,...Ym}}),SP={document:[{value:Qm,path:kP,header:o(U,n("conditional")),name:Qo("condName.atk_"),states:{on:{fields:[{node:Xm},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Zm,path:vP,header:o(U,n("conditional")),name:Qo("condName.dmg_"),states:{on:{fields:[...Object.values(Ym).map(t=>({node:t})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},bP=new s(U,SP,Jm,PP),J="TheBell",el=d.weapon.data[J],OP=[-1,.2,.23,.26,.29,.32],BP=[-1,.12,.15,.18,.21,.24],[AP,tl]=m(J,"RebelliousGuardian"),nl=c(e.weapon.key,J,c(tl,"on",Jh(i(a(e.weapon.refinement,OP,{unit:"%"}),e.total.hp)))),[EP,al]=m(J,"WithShield"),ol=c(al,"protected",a(e.weapon.refinement,BP,{unit:"%"})),xP=r(J,el,{premod:{all_dmg_:ol}},{shield:nl}),MP={document:[{value:tl,path:AP,header:o(J,n("conditional")),name:n("takeDmg"),states:{on:{fields:[{node:u(nl,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:al,path:EP,header:o(J,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{node:ol}]}}}]},DP=new s(J,MP,el,xP),M="TheUnforged",sl=d.weapon.data[M],[,TP]=f("weapon",M),RP=[-1,.2,.25,.3,.35,.4],CP=[-1,.04,.05,.06,.07,.08],[IP,cl]=m(M,"GoldenMajesty"),dl=a(e.weapon.refinement,RP),[jP,rl]=m(M,"WithShield"),FP=a(e.weapon.refinement,CP),il=i(y(1,c(rl,"protected",1)),h(cl,Object.fromEntries(p(1,5).map(t=>[t,i(FP,t)])),_)),NP=r(M,sl,{premod:{shield_:dl,atk_:il}}),WP={document:[{header:o(M,n("base")),fields:[{node:dl}]},{value:cl,path:IP,header:o(M,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:il},{text:l("duration"),value:8,unit:"s"}]}]))},{value:rl,path:jP,header:o(M,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:TP("atkEffInc"),value:100,unit:"%"}]}}}]},HP=new s(M,WP,sl,NP),Zt="TidalShadow",ml=d.weapon.data[Zt],GP=[-1,.24,.3,.36,.42,.48],[KP,ll]=m(Zt,"afterHeal"),pl=c(ll,"on",a(e.weapon.refinement,GP)),LP=r(Zt,ml,{premod:{atk_:pl}}),qP={document:[{header:o(Zt,n("conditional")),path:KP,value:ll,name:n("afterHeal"),states:{on:{fields:[{node:pl},{text:l("duration"),value:8,unit:"s"}]}}}]},VP=new s(Zt,qP,ml,LP),C="UltimateOverlordsMegaMagicSword",ho=d.weapon.data[C],[,zP]=f("weapon",C),$l=ho.refinementBonus.atk_;if(!$l)throw new Error(`data_gen.refinementBonus.atk_ for ${C} was undefined`);const UP=[-1,.01,.0125,.015,.0175,.02],hl=c(e.weapon.key,C,a(e.weapon.refinement,$l),{path:"atk_"}),[JP,ul]=m(C,"melusines"),_l=p(1,12),fl=h(ul,$(_l,t=>i(t,a(e.weapon.refinement,UP,{unit:"%"}))),_,{path:"atk_"}),QP=r(C,ho,{premod:{atk_:y(hl,fl)}}),XP={document:[{header:o(C,n("base")),fields:[{node:hl}]},{value:ul,path:JP,header:o(C,n("stacks")),name:zP("condName"),states:$(_l,t=>({name:`${t}`,fields:[{node:fl}]}))}]},ZP=new s(C,XP,ho,QP),I="Verdict",uo=d.weapon.data[I],[,YP]=f("weapon",I),gl=uo.refinementBonus.atk_;if(!gl)throw new Error(`data_gen.refinementBonus.atk_ for ${I} was undefined`);const eS=[-1,.18,.225,.27,.315,.36],wl=c(e.weapon.key,I,a(e.weapon.refinement,gl)),[tS,kl]=m(I,"seals"),vl=p(1,2),yl=h(kl,$(vl,t=>i(t,a(e.weapon.refinement,eS,{unit:"%"}))),_),nS=r(I,uo,{premod:{atk_:wl,skill_dmg_:yl}}),aS={document:[{header:o(I,n("base")),fields:[{node:wl}]},{value:kl,path:tS,header:o(I,n("stacks")),name:YP("condName"),states:$(vl,t=>({name:`${t}`,fields:[{node:yl}]}))}]},oS=new s(I,aS,uo,nS),_o="WasterGreatsword",fo=d.weapon.data[_o],sS=r(_o,fo),cS={...fo,document:[]},dS=new s(_o,cS,fo,sS),st="WhiteIronGreatsword",Pl=d.weapon.data[st],rS=[-1,.08,.1,.12,.14,.16],[iS,Sl]=m(st,"CullTheWeak"),bl=c(e.weapon.key,st,c(Sl,"on",He(i(a(e.weapon.refinement,rS,{unit:"%"}),e.total.hp)))),mS=r(st,Pl,void 0,{heal:bl}),lS={document:[{value:Sl,path:iS,name:n("afterDefeatEnemy"),header:o(st,n("conditional")),states:{on:{fields:[{node:u(bl,{name:l("healing"),variant:"heal"})}]}}}]},pS=new s(st,lS,Pl,mS),Yt="Whiteblind",Ol=d.weapon.data[Yt],[$S,go]=m(Yt,"stack"),Bl=[-1,.06,.075,.09,.105,.12],Al=h(go,$(p(1,4),t=>i(a(e.weapon.refinement,Bl,{unit:"%"}),t)),_),El=h(go,$(p(1,4),t=>i(a(e.weapon.refinement,Bl,{unit:"%"}),t)),_),hS=r(Yt,Ol,{premod:{atk_:Al,def_:El}}),uS={document:[{value:go,path:$S,name:n("hitOp.normalOrCharged"),header:o(Yt,n("stacks")),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Al},{node:El},{text:l("duration"),value:6,unit:"s"}]}]))}]},_S=new s(Yt,uS,Ol,hS),Fe="WolfsGravestone",xl=d.weapon.data[Fe],fS=[-1,.2,.25,.3,.35,.4],gS=[-1,.4,.5,.6,.7,.8],[wS,Ml]=m(Fe,"WolfishTracker"),Dl=a(e.weapon.refinement,fS),Tl=c("on",Ml,a(e.weapon.refinement,gS,{path:"atk_"})),kS=r(Fe,xl,{premod:{atk_:Dl},teamBuff:{premod:{atk_:Tl}}}),vS={document:[{header:o(Fe,n("base")),fields:[{node:Dl}]},{value:Ml,path:wS,teamBuff:!0,header:o(Fe,n("conditional")),name:n("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Tl},{text:l("duration"),value:12,unit:"s"}]}}}]},yS=new s(Fe,vS,xl,kS),PS={Akuoumaru:Z2,BeaconOfTheReedSea:dv,BlackcliffSlasher:pv,BloodtaintedGreatsword:fv,DebateClub:vv,FavoniusGreatsword:Sv,FerrousShadow:Ev,ForestRegalia:Iv,KatsuragikiriNagamasa:Wv,LithicBlade:qv,LuxuriousSeaLord:Qv,MailedFlower:ay,MakhairaAquamarine:ry,OldMercsPal:ly,PortablePowerSaw:fy,PrototypeArchaic:vy,Rainslasher:Oy,RedhornStonethresher:Dy,RoyalGreatsword:jy,SacrificialGreatsword:Wy,SerpentSpine:Uy,SkyriderGreatsword:Yy,SkywardPride:oP,SnowTombedStarsilver:iP,SongOfBrokenPines:fP,TalkingStick:bP,TheBell:DP,TheUnforged:HP,TidalShadow:VP,UltimateOverlordsMegaMagicSword:ZP,Verdict:oS,WasterGreatsword:dS,Whiteblind:_S,WhiteIronGreatsword:pS,WolfsGravestone:yS},zn="BalladOfTheFjords",Rl=d.weapon.data[zn],SS=[-1,120,150,180,210,240],ka=Yo(A.ele,3,a(e.weapon.refinement,SS)),bS=r(zn,Rl,{premod:{eleMas:ka}}),OS={document:[{header:o(zn,n("talents.passive")),canShow:F(ka,0,1),fields:[{node:ka}]}]},BS=new s(zn,OS,Rl,bS),wo="BeginnersProtector",ko=d.weapon.data[wo],AS=r(wo,ko),ES={...ko,document:[]},xS=new s(wo,ES,ko,AS),ct="BlackTassel",Cl=d.weapon.data[ct],[,MS]=f("weapon",ct),DS=[-1,.4,.5,.6,.7,.8],[TS,Il]=m(ct,"PressTheAdvantage"),jl=c("on",Il,a(e.weapon.refinement,DS)),RS=r(ct,Cl,{premod:{all_dmg_:jl}}),CS={document:[{value:Il,path:TS,header:o(ct,n("conditional")),name:MS("condName"),states:{on:{fields:[{node:jl}]}}}]},IS=new s(ct,CS,Cl,RS),en="BlackcliffPole",Fl=d.weapon.data[en],[jS,Nl]=m(en,"PressTheAdvantage"),Wl=p(1,3),FS=[-1,.12,.15,.18,.21,.24],Hl=i(h(Nl,$(Wl,t=>g(t)),0),a(e.weapon.refinement,FS)),NS=r(en,Fl,{premod:{atk_:Hl}}),WS={document:[{value:Nl,path:jS,teamBuff:!0,header:o(en,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(Wl.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Hl},{text:l("duration"),value:30,unit:"s"}]}]))}]},HS=new s(en,WS,Fl,NS),ke="CalamityQueller",Gl=d.weapon.data[ke],[,va]=f("weapon",ke),[GS,Kl]=m(ke,"stack"),KS=[-1,.12,.15,.18,.21,.24],LS=[-1,.032,.04,.048,.056,.064],Ll=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,KS)])),ql=i(Da(e.charKey,e.activeCharKey,u(g(1),{name:va("active")}),u(g(1),{name:va("inactive")})),h(Kl,$(p(1,6),t=>u(g(t),{name:n("stacks")})),0),a(e.weapon.refinement,LS)),qS=r(ke,Gl,{premod:{...Ll,atk_:ql}}),VS={document:[{header:o(ke,n("base")),fields:Object.values(Ll).map(t=>({node:t}))},{value:Kl,path:GS,teamBuff:!0,header:o(ke,n("stacks")),name:va("effectName"),states:Object.fromEntries(p(1,6).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ql}]}]))}]},zS=new s(ke,VS,Gl,qS),tn="CrescentPike",Vl=d.weapon.data[tn],US=[-1,.2,.25,.3,.35,.4],zl=c(e.weapon.key,tn,v(i(e.total.atk,a(e.weapon.refinement,US,{unit:"%"})),"elemental",{hit:{ele:g("physical")}})),JS=r(tn,Vl,void 0,{hit:zl}),QS={document:[{header:o(tn,n("talents.passive")),fields:[{node:u(zl,{name:n("dmg")})}]}]},XS=new s(tn,QS,Vl,JS),nn="CrimsonMoonsSemblance",Ul=d.weapon.data[nn],ZS=[-1,.12,.16,.2,.24,.28],YS=[-1,.24,.32,.4,.48,.56],[e4,vo]=m(nn,"bond"),Jl=F(vo,void 0,a(e.weapon.refinement,ZS),{path:"all_dmg_"}),t4=c(vo,"2",a(e.weapon.refinement,YS),{path:"all_dmg_"}),Ql=y(Jl,t4),n4=r(nn,Ul,{premod:{all_dmg_:Ql}}),a4={document:[{value:vo,path:e4,header:o(nn,n("conditional")),name:n("currentBond"),states:{1:{name:"< 20%",fields:[{node:Jl}]},2:{name:">= 20%",fields:[{node:Ql}]}}}]},o4=new s(nn,a4,Ul,n4),dt="Deathmatch",Xl=d.weapon.data[dt],[,s4]=f("weapon",dt),[c4,yo]=m(dt,"stack"),Zl=[-1,.16,.2,.24,.28,.32],d4=[-1,.24,.3,.36,.42,.48],ya=h(yo,{oneOrNone:a(e.weapon.refinement,d4,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Zl,{unit:"%"})},_),Pa=c(yo,"moreThanOne",a(e.weapon.refinement,Zl,{unit:"%"})),r4=r(dt,Xl,{premod:{atk_:ya,def_:Pa}}),i4={document:[{value:yo,path:c4,teamBuff:!0,header:o(dt,n("conditional")),name:s4("condName"),states:{oneOrNone:{name:"1",fields:[{node:ya},{node:Pa}]},moreThanOne:{name:"2",fields:[{node:ya},{node:Pa}]}}}]},m4=new s(dt,i4,Xl,r4),Un="DialoguesOfTheDesertSages",Yl=d.weapon.data[Un],l4=r(Un,Yl),p4={document:[{header:o(Un),fields:[]}]},$4=new s(Un,p4,Yl,l4),an="DragonsBane",e0=d.weapon.data[an],h4=[-1,.2,.24,.28,.32,.36],[u4,t0]=m(an,"BaneOfFlameAndWater"),n0=c("on",t0,a(e.weapon.refinement,h4)),_4=r(an,e0,{premod:{all_dmg_:n0}}),f4={document:[{value:t0,path:u4,header:o(an,n("conditional")),name:n("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:n0}]}}}]},g4=new s(an,f4,e0,_4),L="DragonspineSpear",a0=d.weapon.data[L],w4=[-1,.8,.95,1.1,1.25,1.4],k4=[-1,2,2.4,2.8,3.2,3.6],o0=c(e.weapon.key,L,v(i(a(e.weapon.refinement,w4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),s0=c(e.weapon.key,L,v(i(a(e.weapon.refinement,k4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),v4=r(L,a0,void 0,{dmgAoe:o0,dmgOnCryoOp:s0}),y4={document:[{header:o(L,n("base")),fields:[{node:u(o0,{name:s.trm(L)("aoeDmg")})},{node:u(s0,{name:s.trm(L)("cryoAffectedDmg")})}]}]},P4=new s(L,y4,a0,v4),ve="EngulfingLightning",c0=d.weapon.data[ve],S4=[-1,.28,.35,.42,.49,.56],b4=[-1,.8,.9,1,1.1,1.2],Sa=c(e.weapon.key,ve,te(i(a(e.weapon.refinement,S4),y(e.premod.enerRech_,P(-1))),a(e.weapon.refinement,b4))),O4=[-1,.3,.35,.4,.45,.5,.55],[B4,d0]=m(ve,"TimelessDream"),r0=c("on",d0,a(e.weapon.refinement,O4)),A4=r(ve,c0,{premod:{atk_:Sa,enerRech_:r0}},{atk_:Sa}),E4={document:[{header:o(ve,n("base")),fields:[{node:Sa}]},{teamBuff:!0,value:d0,path:B4,header:o(ve,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:r0},{text:l("duration"),value:12,unit:"s"}]}}}]},x4=new s(ve,E4,c0,A4),Jn="FavoniusLance",i0=d.weapon.data[Jn],M4=r(Jn,i0),D4={document:[{header:o(Jn),fields:[]}]},T4=new s(Jn,D4,i0,M4),on="Halberd",m0=d.weapon.data[on],R4=[-1,1.6,2,2.4,2.8,3.2],l0=c(e.weapon.key,on,v(i(a(e.weapon.refinement,R4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),C4=r(on,m0,void 0,{dmg:l0}),I4={document:[{header:o(on,n("base")),fields:[{node:u(l0,{name:n("dmg")})}]}]},j4=new s(on,I4,m0,C4),Po="IronPoint",So=d.weapon.data[Po],F4=r(Po,So),N4={...So,document:[]},W4=new s(Po,N4,So,F4),Qn="KitainCrossSpear",p0=d.weapon.data[Qn],H4=[-1,.06,.075,.09,.105,.12],$0=a(e.weapon.refinement,H4),G4=r(Qn,p0,{premod:{skill_dmg_:$0}}),K4={document:[{header:o(Qn,n("base")),fields:[{node:$0}]}]},L4=new s(Qn,K4,p0,G4),Xn="LithicSpear",h0=d.weapon.data[Xn],q4=[-1,.07,.08,.09,.1,.11],V4=[-1,.03,.04,.05,.06,.07],u0=i(a(e.weapon.refinement,q4,{unit:"%"}),A.liyue),_0=i(a(e.weapon.refinement,V4,{unit:"%"}),A.liyue),z4=r(Xn,h0,{premod:{atk_:u0,critRate_:_0}}),U4={document:[{header:o(Xn,n("stacks")),fields:[{node:u0},{node:_0}]}]},J4=new s(Xn,U4,h0,z4),sn="MissiveWindspear",f0=d.weapon.data[sn],[Q4,bo]=m(sn,"passive"),X4=[-1,.12,.15,.18,.21,.24],Z4=[-1,48,60,72,84,96],g0=c(bo,"on",a(e.weapon.refinement,X4,{unit:"%"})),w0=c(bo,"on",a(e.weapon.refinement,Z4)),Y4=r(sn,f0,{premod:{atk_:g0,eleMas:w0}}),e5={document:[{value:bo,path:Q4,teamBuff:!0,header:o(sn,n("conditional")),name:n("afterReaction"),states:{on:{fields:[{node:g0},{node:w0},{text:l("duration"),value:10,unit:"s"}]}}}]},t5=new s(sn,e5,f0,Y4),rt="Moonpiercer",k0=d.weapon.data[rt],[,n5]=f("weapon",rt),[a5,v0]=m(rt,"passive"),o5=[-1,.16,.2,.24,.28,.32],y0=c(v0,"on",a(e.weapon.refinement,o5,{unit:"%"})),s5=c(e.activeCharKey,S.charKey,y0),c5=r(rt,k0,{teamBuff:{premod:{atk_:s5}}}),d5={document:[{value:v0,path:a5,teamBuff:!0,header:o(rt,n("conditional")),name:n5("condName"),states:{on:{fields:[{node:u(y0,{path:"atk_"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},r5=new s(rt,d5,k0,c5),cn="PrimordialJadeWingedSpear",P0=d.weapon.data[cn],[i5,Oo]=m(cn,"stack"),m5=[-1,.032,.039,.046,.053,.06],l5=[-1,.12,.15,.18,.21,.24],S0=h(Oo,$(p(1,7),t=>i(a(e.weapon.refinement,m5,{unit:"%"}),t)),_),b0=c(Oo,"7",a(e.weapon.refinement,l5,{unit:"%"})),p5=r(cn,P0,{premod:{atk_:S0,all_dmg_:b0}}),$5={document:[{value:Oo,path:i5,teamBuff:!0,header:o(cn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,7).map(t=>[t,{name:n("hits",{count:t}),fields:[{node:S0},{node:b0}]}]))}]},h5=new s(cn,$5,P0,p5),it="ProspectorsDrill",O0=d.weapon.data[it],[,u5]=f("weapon",it),_5=[-1,.03,.04,.05,.06,.07],f5=[-1,.07,.085,.1,.115,.13],[g5,Bo]=m(it,"marksConsumed"),Ao=p(1,3),B0=h(Bo,$(Ao,t=>i(t,a(e.weapon.refinement,_5,{unit:"%"}))),_),w5=h(Bo,$(Ao,t=>i(t,a(e.weapon.refinement,f5,{unit:"%"}))),_),A0=$(k.map(t=>`${t}_dmg_`),()=>({...w5})),k5=r(it,O0,{premod:{atk_:B0,...A0}}),v5={document:[{value:Bo,path:g5,teamBuff:!0,header:o(it,n("stacks")),name:u5("condName"),states:$(Ao,t=>({name:`${t}`,fields:[{node:B0},...Object.values(A0).map(w=>({node:w})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},y5=new s(it,v5,O0,k5),dn="PrototypeStarglitter",E0=d.weapon.data[dn],[P5,Eo]=m(dn,"stack"),x0=[-1,.08,.1,.12,.14,.16],M0=h(Eo,$(p(1,2),t=>i(a(e.weapon.refinement,x0,{unit:"%"}),t)),_),D0=h(Eo,$(p(1,2),t=>i(a(e.weapon.refinement,x0,{unit:"%"}),t)),_),S5=r(dn,E0,{premod:{normal_dmg_:M0,charged_dmg_:D0}}),b5={document:[{value:Eo,path:P5,header:o(dn,n("stacks")),name:n("afterUse.skill"),states:Object.fromEntries(p(1,2).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:M0},{node:D0}]}]))}]},O5=new s(dn,b5,E0,S5),Zn="RightfulReward",T0=d.weapon.data[Zn],B5=r(Zn,T0),A5={document:[{header:o(Zn),fields:[]}]},E5=new s(Zn,A5,T0,B5),rn="RoyalSpear",R0=d.weapon.data[rn],[x5,C0]=m(rn,"stack"),M5=[-1,.08,.1,.12,.14,.16],I0=h(C0,$(p(1,5),t=>i(a(e.weapon.refinement,M5,{unit:"%"}),t)),_),D5=r(rn,R0,{premod:{critRate_:I0}}),T5={document:[{value:C0,path:x5,teamBuff:!0,header:o(rn,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:I0}]}]))}]},R5=new s(rn,T5,R0,D5),mn="SkywardSpine",j0=d.weapon.data[mn],C5=[-1,.08,.1,.12,.14,.16],I5=[-1,.4,.55,.7,.85,1],F0=P(.12),N0=a(e.weapon.refinement,C5),W0=c(e.weapon.key,mn,v(i(a(e.weapon.refinement,I5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),j5=r(mn,j0,{premod:{critRate_:N0,atkSPD_:F0}},{dmg:W0}),F5={document:[{header:o(mn,n("base")),fields:[{node:N0},{node:F0},{node:u(W0,{name:n("dmg")})}]}]},N5=new s(mn,F5,j0,j5),ye="StaffOfHoma",H0=d.weapon.data[ye],W5=[-1,.2,.25,.3,.35,.4],H5=[-1,.008,.01,.012,.014,.016],G5=[-1,.01,.012,.014,.016,.018],G0=a(e.weapon.refinement,W5,{unit:"%"}),[K5,K0]=m(ye,"RecklessCinnabar"),L0=i(a(e.weapon.refinement,H5,{unit:"%"}),e.premod.hp),ba=c(e.weapon.key,ye,c("on",K0,i(a(e.weapon.refinement,G5,{unit:"%"}),e.premod.hp),{path:"atk"})),L5=r(ye,H0,{premod:{hp_:G0},total:{atk:y(L0,ba)}},{atk2_:ba}),q5={document:[{header:o(ye,n("base")),fields:[{node:G0},{node:u(L0,{path:"atk"})}]},{value:K0,path:K5,teamBuff:!0,header:o(ye),name:n("lessPercentHP",{percent:50}),states:{on:{fields:[{node:u(ba,{path:"atk"})}]}}}]},V5=new s(ye,q5,H0,L5),Q="StaffOfTheScarletSands",q0=d.weapon.data[Q],[z5,V0]=m(Q,"stacks"),U5=[-1,.52,.65,.78,.91,1.04],J5=[-1,.28,.35,.42,.49,.56],z0=p(1,3),U0=c(e.weapon.key,Q,i(a(e.weapon.refinement,U5,{unit:"%"}),e.premod.eleMas),{path:"atk"}),J0=h(V0,Object.fromEntries(z0.map(t=>[t,i(t,a(e.weapon.refinement,J5,{unit:"%"}),e.premod.eleMas)])),_,{path:"atk"}),Xo=c(e.weapon.key,Q,y(U0,J0)),Q5=r(Q,q0,{total:{atk:Xo}},{atk:Xo}),X5={document:[{header:o(Q,n("base")),fields:[{node:U0}]},{value:V0,path:z5,header:o(Q,n("stacks")),name:n("hitOp.skill"),states:Object.fromEntries(z0.map(t=>[t,{name:n("hits",{count:t}),fields:[{node:J0},{text:l("duration"),value:10,unit:"s"}]}]))}]},Z5=new s(Q,X5,q0,Q5),Yn="TheCatch",Q0=d.weapon.data[Yn],Y5=[-1,.16,.2,.24,.28,.32],eb=[-1,.06,.075,.09,.105,.12],X0=a(e.weapon.refinement,Y5),Z0=a(e.weapon.refinement,eb),tb=r(Yn,Q0,{premod:{burst_dmg_:X0,burst_critRate_:Z0}}),nb={document:[{header:o(Yn,n("base")),fields:[{node:X0},{node:Z0}]}]},ab=new s(Yn,nb,Q0,tb),D="VortexVanquisher",Y0=d.weapon.data[D],[,ob]=f("weapon",D),sb=[-1,.2,.25,.3,.35,.4],cb=[-1,.04,.05,.06,.07,.08],[db,ep]=m(D,"GoldenMajesty"),tp=a(e.weapon.refinement,sb),[rb,np]=m(D,"WithShield"),ib=a(e.weapon.refinement,cb),ap=i(y(1,c(np,"protected",1)),h(ep,Object.fromEntries(p(1,5).map(t=>[t,i(ib,t)])),_)),mb=r(D,Y0,{premod:{shield_:tp,atk_:ap}}),lb={document:[{header:o(D,n("base")),fields:[{node:tp}]},{value:ep,path:db,teamBuff:!0,header:o(D,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:ap},{text:l("duration"),value:8,unit:"s"}]}]))},{value:np,path:rb,header:o(D,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:ob("atkEffInc"),value:100,unit:"%"}]}}}]},pb=new s(D,lb,Y0,mb),mt="WavebreakersFin",op=d.weapon.data[mt],[,$b]=f("weapon",mt),[hb,sp]=m(mt,"WatatsumiWavewalker"),cp=p(4,36).map(t=>t*10),ub=[-1,.0012,.0015,.0018,.0021,.0024],_b=[-1,.4,.5,.6,.7,.8],dp=h(sp,Object.fromEntries(cp.map(t=>[t,te(i(a(e.weapon.refinement,ub,{unit:"%"}),t),a(e.weapon.refinement,_b,{unit:"%"}))])),_),fb=r(mt,op,{premod:{burst_dmg_:dp}}),gb={document:[{value:sp,path:hb,header:o(mt),name:$b("party"),states:Object.fromEntries(cp.map(t=>[t,{name:t.toString(),fields:[{node:dp}]}]))}]},wb=new s(mt,gb,op,fb),ea="WhiteTassel",rp=d.weapon.data[ea],kb=[-1,.24,.3,.36,.42,.48],ip=a(e.weapon.refinement,kb),vb=r(ea,rp,{premod:{normal_dmg_:ip}}),yb={document:[{header:o(ea,n("base")),fields:[{node:ip}]}]},Pb=new s(ea,yb,rp,vb),Sb={BalladOfTheFjords:BS,BeginnersProtector:xS,BlackcliffPole:HS,BlackTassel:IS,CalamityQueller:zS,CrescentPike:XS,CrimsonMoonsSemblance:o4,Deathmatch:m4,DialoguesOfTheDesertSages:$4,DragonsBane:g4,DragonspineSpear:P4,EngulfingLightning:x4,FavoniusLance:T4,Halberd:j4,IronPoint:W4,KitainCrossSpear:L4,LithicSpear:J4,MissiveWindspear:t5,Moonpiercer:r5,PrimordialJadeWingedSpear:h5,ProspectorsDrill:y5,PrototypeStarglitter:O5,RightfulReward:E5,RoyalSpear:R5,SkywardSpine:N5,StaffOfHoma:V5,StaffOfTheScarletSands:Z5,TheCatch:ab,VortexVanquisher:pb,WavebreakersFin:wb,WhiteTassel:Pb},ta="AmenomaKageuchi",mp=d.weapon.data[ta],bb=r(ta,mp),Ob={document:[{header:o(ta),fields:[]}]},Bb=new s(ta,Ob,mp,bb),X="AquilaFavonia",xo=d.weapon.data[X],Ab=[-1,2,2.3,2.6,2.9,3.2],Eb=[-1,1,1.15,1.3,1.45,1.6],lp=xo.refinementBonus.atk_;if(!lp)throw new Error(`data_gen.refinementBonus.atk_ for ${X} was undefined`);const pp=a(e.weapon.refinement,lp),$p=c(e.weapon.key,X,i(a(e.weapon.refinement,Eb,{unit:"%"}),e.premod.atk)),hp=c(e.weapon.key,X,v(i(a(e.weapon.refinement,Ab,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),xb=r(X,xo,{premod:{atk_:pp}},{heal:$p,dmg:hp}),Mb={document:[{header:o(X,n("base")),fields:[{node:pp}]},{header:o(X,n("base")),fields:[{node:u($p,{name:l("healing"),variant:"heal"})},{node:u(hp,{name:n("dmg")})}]}]},Db=new s(X,Mb,xo,xb),ln="BlackcliffLongsword",up=d.weapon.data[ln],[Tb,_p]=m(ln,"PressTheAdvantage"),fp=p(1,3),Rb=[-1,.12,.15,.18,.21,.24],gp=i(h(_p,$(fp,t=>g(t)),0),a(e.weapon.refinement,Rb)),Cb=r(ln,up,{premod:{atk_:gp}}),Ib={document:[{value:_p,path:Tb,header:o(ln,n("stacks")),name:n("afterDefeatEnemy"),states:Object.fromEntries(fp.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:gp},{text:l("duration"),value:30,unit:"s"}]}]))}]},jb=new s(ln,Ib,up,Cb),Me="CinnabarSpindle",wp=d.weapon.data[Me],[,Fb]=f("weapon",Me),Nb=[-1,.4,.5,.6,.7,.8],[Wb,kp]=m(Me,"SpotlessHeart"),Oa=c(e.weapon.key,Me,c("on",kp,i(a(e.weapon.refinement,Nb,{unit:"%"}),e.premod.def))),Hb=r(Me,wp,{premod:{skill_dmgInc:Oa}},{skill_dmgInc:Oa}),Gb={document:[{value:kp,path:Wb,header:o(Me,n("conditional")),name:Fb("name"),states:{on:{fields:[{node:Oa}]}}}]},Kb=new s(Me,Gb,wp,Hb),pn="CoolSteel",vp=d.weapon.data[pn],Lb=[-1,.12,.15,.18,.21,.24],[qb,yp]=m(pn,"BaneOfWaterAndIce"),Pp=c("on",yp,a(e.weapon.refinement,Lb)),Vb=r(pn,vp,{premod:{all_dmg_:Pp}}),zb={document:[{value:yp,path:qb,name:n("enemyAffected.hydroOrCryo"),header:o(pn,n("conditional")),states:{on:{fields:[{node:Pp}]}}}]},Ub=new s(pn,zb,vp,Vb),$n="DarkIronSword",Sp=d.weapon.data[$n],Jb=[-1,.2,.25,.3,.35,.5],[Qb,bp]=m($n,"Overloaded"),Op=c("on",bp,a(e.weapon.refinement,Jb,{unit:"%"})),Xb=r($n,Sp,{premod:{atk_:Op}}),Zb={document:[{value:bp,path:Qb,name:n("elementalReaction.electro"),header:o($n,n("conditional")),states:{on:{fields:[{node:Op},{text:l("duration"),value:12,unit:"s"}]}}}]},Yb=new s($n,Zb,Sp,Xb),Mo="DullBlade",Do=d.weapon.data[Mo],e3=r(Mo,Do),t3={...Do,document:[]},n3=new s(Mo,t3,Do,e3),na="FavoniusSword",Bp=d.weapon.data[na],a3=r(na,Bp),o3={document:[{header:o(na),fields:[]}]},s3=new s(na,o3,Bp,a3),aa="FesteringDesire",Ap=d.weapon.data[aa],c3=[-1,.16,.2,.24,.28,.32],d3=[-1,.06,.075,.09,.105,.12],Ep=a(e.weapon.refinement,c3,{unit:"%"}),xp=a(e.weapon.refinement,d3,{unit:"%"}),r3=r(aa,Ap,{premod:{skill_dmg_:Ep,skill_critRate_:xp}}),i3={document:[{header:o(aa,n("base")),fields:[{node:Ep},{node:xp}]}]},m3=new s(aa,i3,Ap,r3),hn="FilletBlade",Mp=d.weapon.data[hn],l3=[-1,2.4,2.8,3.2,3.6,4],p3=[-1,15,14,13,12,11],Dp=c(e.weapon.key,hn,v(i(a(e.weapon.refinement,l3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),$3=r(hn,Mp,void 0,{dmg_:Dp}),h3={document:[{header:o(hn,n("base")),fields:[{node:u(Dp,{name:n("dmg")})},{text:l("cd"),value:t=>p3[t.get(e.weapon.refinement).value],unit:"s"}]}]},u3=new s(hn,h3,Mp,$3),j="FinaleOfTheDeep",Tp=d.weapon.data[j],[,_3]=f("weapon",j),f3=[-1,.12,.15,.18,.21,.24],g3=[-1,.024,.03,.036,.042,.048],w3=[-1,150,187.5,225,262.5,300],[k3,Rp]=m(j,"afterSkill"),Cp=c(Rp,"on",a(e.weapon.refinement,f3)),v3=i(P(.25),e.total.hp),[y3,Ip]=m(j,"bond"),Ba=c(e.weapon.key,j,c(Ip,"on",te(i(v3,a(e.weapon.refinement,g3,{unit:"%"})),a(e.weapon.refinement,w3,{unit:"%"})))),P3=r(j,Tp,{premod:{atk_:Cp,atk:Ba}},{bond_atk:Ba}),S3={document:[{header:o(j,n("conditional")),path:k3,value:Rp,name:n("hitOp.skill"),states:{on:{fields:[{node:Cp},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(j,n("conditional")),path:y3,value:Ip,name:_3("bondCondName"),states:{on:{fields:[{node:Ba},{text:l("duration"),value:15,unit:"s"}]}}}]},b3=new s(j,S3,Tp,P3),Ne="FleuveCendreFerryman",jp=d.weapon.data[Ne],O3=[-1,.08,.1,.12,.14,.16],B3=[-1,.16,.2,.24,.28,.32],Fp=a(e.weapon.refinement,O3),[A3,Np]=m(Ne,"afterSkill"),Wp=c(Np,"on",a(e.weapon.refinement,B3)),E3=r(Ne,jp,{premod:{skill_critRate_:Fp,enerRech_:Wp}}),x3={document:[{header:o(Ne,n("base")),fields:[{node:Fp}]},{header:o(Ne,n("conditional")),value:Np,path:A3,name:n("afterUse.skill"),states:{on:{fields:[{node:Wp},{text:l("duration"),value:5,unit:"s"}]}}}]},M3=new s(Ne,x3,jp,E3),Z="FreedomSworn",To=d.weapon.data[Z],[,D3]=f("weapon",Z),[T3,Ro]=m(Z,"MillennialMovement"),R3=[-1,.16,.2,.24,.28,.32],C3=[-1,.2,.25,.3,.35,.4],Hp=To.refinementBonus.dmg_;if(!Hp)throw new Error(`data_gen.refinementBonus.dmg_ for ${Z} was undefined`);const Gp=a(e.weapon.refinement,Hp),Kp=c("on",Ro,a(e.weapon.refinement,C3)),oa=c("on",Ro,a(e.weapon.refinement,R3)),Lp={...oa},qp={...oa},I3=r(Z,To,{premod:{all_dmg_:Gp},teamBuff:{premod:{atk_:Kp,normal_dmg_:oa,charged_dmg_:Lp,plunging_dmg_:qp}}}),j3={document:[{header:o(Z,n("base")),fields:[{node:Gp}]},{value:Ro,path:T3,teamBuff:!0,header:o(Z,n("conditional")),name:D3("sigilsConsumed"),states:{on:{fields:[{node:Kp},{node:oa},{node:Lp},{node:qp},{text:l("duration"),value:12,unit:"s"}]}}}]},F3=new s(Z,j3,To,I3),Pe="HaranGeppakuFutsu",Vp=d.weapon.data[Pe],[,N3]=f("weapon",Pe),W3=[-1,.12,.15,.18,.21,.24],H3=[-1,.2,.25,.3,.35,.4],[G3,zp]=m(Pe,"HonedFlow"),Up=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,W3,{path:`${t}_dmg_`})])),Jp=h(zp,$(p(1,2),t=>i(t,a(e.weapon.refinement,H3))),_),K3=r(Pe,Vp,{premod:{...Up,normal_dmg_:Jp}}),L3={document:[{header:o(Pe,n("base")),fields:[...k.map(t=>({node:Up[`${t}_dmg_`]}))]},{value:zp,path:G3,name:N3("consumed"),header:o(Pe,n("conditional")),states:$(p(1,2),t=>({name:n("stack",{count:t}),fields:[{node:Jp}]}))}]},q3=new s(Pe,L3,Vp,K3),un="HarbingerOfDawn",Qp=d.weapon.data[un],[V3,Xp]=m(un,"SkyPiercingMight"),z3=[-1,.14,.175,.21,.245,.28],Zp=c("on",Xp,a(e.weapon.refinement,z3)),U3=r(un,Qp,{premod:{critRate_:Zp}}),J3={document:[{value:Xp,path:V3,header:o(un,n("conditional")),name:n("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:Zp}]}}}]},Q3=new s(un,J3,Qp,U3),_n="IronSting",Yp=d.weapon.data[_n],[X3,e$]=m(_n,"InfusionStinger"),t$=p(1,2),Z3=[-1,.06,.075,.09,.105,.12],n$=i(h(e$,$(t$,t=>g(t)),_),a(e.weapon.refinement,Z3)),Y3=r(_n,Yp,{premod:{all_dmg_:n$}}),e6={document:[{value:e$,path:X3,header:o(_n,n("stacks")),name:n("hitOp.ele"),states:Object.fromEntries(t$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:n$},{text:l("duration"),value:6,unit:"s"}]}]))}]},t6=new s(_n,e6,Yp,Y3),Se="KagotsurubeIsshin",a$=d.weapon.data[Se],[n6,o$]=m(Se,"passive"),s$=c(o$,"on",P(.15)),c$=c(e.weapon.key,Se,v(i(P(1.8),e.total.atk),"elemental",{hit:{ele:g("physical")}})),a6=r(Se,a$,{premod:{atk_:s$}},{dmg:c$}),o6={document:[{header:o(Se,n("base")),fields:[{node:u(c$,{name:n("dmg")})}]},{header:o(Se,n("conditional")),value:o$,path:n6,name:n("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:s$},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},s6=new s(Se,o6,a$,a6),B="KeyOfKhajNisut",d$=d.weapon.data[B],c6=[-1,.0012,.0015,.0018,.0021,.0024],d6=[-1,.002,.0025,.003,.0035,.004],r$=p(1,3),r6=[-1,.2,.25,.3,.35,.4],i$=c(e.weapon.key,B,a(e.weapon.refinement,r6,{unit:"%"})),[i6,xn]=m(B,"afterSkill"),Aa=c(e.weapon.key,B,h(xn,Object.fromEntries(r$.map(t=>[t,i(t,a(e.weapon.refinement,c6,{unit:"%",fixed:2}),e.total.hp)])),_)),Ea=c(e.weapon.key,B,c(xn,"3",i(a(e.weapon.refinement,d6,{unit:"%",fixed:2}),e.total.hp))),m6=r(B,d$,{premod:{hp_:i$},total:{eleMas:Aa},teamBuff:{total:{eleMas:Ea}}},{selfEleMas:Aa,teamEleMas:Ea}),l6={document:[{header:o(B,n("base")),fields:[{node:i$}]},{header:o(B,n("stacks")),teamBuff:!0,path:i6,value:xn,name:n("hitOp.skill"),states:Object.fromEntries(r$.map(t=>[t,{name:n("stack",{count:t}),fields:[{node:Aa},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(B,n("teamBuff")),canShow:c(xn,"3",1),teamBuff:!0,fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]},p6=new s(B,l6,d$,m6),Y="LightOfFoliarIncision",m$=d.weapon.data[Y],$6=[-1,.04,.05,.06,.07,.08],l$=c(e.weapon.key,Y,a(e.weapon.refinement,$6)),[h6,p$]=m(Y,"afterNormalEle"),u6=[-1,1.2,1.5,1.8,2.1,2.4],Mn=c(e.weapon.key,Y,c(p$,"on",i(a(e.weapon.refinement,u6,{unit:"%"}),e.total.eleMas))),xa={...Mn},_6=r(Y,m$,{premod:{normal_dmgInc:Mn,skill_dmgInc:xa,critRate_:l$}},{normal_dmgInc:Mn,skill_dmgInc:xa}),f6={document:[{header:o(Y,n("base")),fields:[{node:l$}]},{header:o(Y,n("conditional")),path:h6,value:p$,name:n("hitOp.normalEle"),states:{on:{fields:[{node:Mn},{node:xa},{text:n("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},g6=new s(Y,f6,m$,_6),fn="LionsRoar",$$=d.weapon.data[fn],[w6,h$]=m(fn,"BaneOfFireAndThunder"),k6=[-1,.2,.24,.28,.32,.36],u$=c("on",h$,a(e.weapon.refinement,k6)),v6=r(fn,$$,{premod:{all_dmg_:u$}}),y6={document:[{value:h$,path:w6,header:o(fn,n("conditional")),name:n("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:u$}]}}}]},P6=new s(fn,y6,$$,v6),be="MistsplitterReforged",_$=d.weapon.data[be],[,S6]=f("weapon",be),f$=["1","2","3"],b6=[-1,.12,.15,.18,.21,.24],O6={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[B6,g$]=m(be,"MistsplittersEmblem"),w$=Object.fromEntries(k.map(t=>[`${t}_dmg_`,a(e.weapon.refinement,b6,{path:`${t}_dmg_`})])),k$=Object.fromEntries(k.map(t=>[`${t}_dmg_`,c(e.charEle,t,h(g$,$(f$,w=>a(e.weapon.refinement,O6[w])),_,{path:`${t}_dmg_`}))])),A6=Object.fromEntries(k.map(t=>[`${t}_dmg_`,y(w$[`${t}_dmg_`],k$[`${t}_dmg_`])])),E6=r(be,_$,{premod:{...A6}}),x6={document:[{header:o(be,n("base")),fields:k.map(t=>({node:w$[`${t}_dmg_`]}))},{value:g$,path:B6,name:S6("emblem"),teamBuff:!0,header:o(be,n("stacks")),states:Object.fromEntries(f$.map(t=>[t,{name:n("stack",{count:parseInt(t)}),fields:k.map(w=>({node:k$[`${w}_dmg_`]}))}]))}]},M6=new s(be,x6,_$,E6),gn="PrimordialJadeCutter",v$=d.weapon.data[gn],D6=[-1,.2,.25,.3,.35,.4],T6=[-1,.012,.015,.018,.021,.024],y$=a(e.weapon.refinement,D6),Ma=c(e.weapon.key,gn,i(a(e.weapon.refinement,T6,{unit:"%"}),e.premod.hp)),R6=r(gn,v$,{premod:{hp_:y$},total:{atk:Ma}},{atk:Ma}),C6={document:[{header:o(gn,n("base")),fields:[{node:y$},{node:Ma}]}]},I6=new s(gn,C6,v$,R6),wn="PrototypeRancour",P$=d.weapon.data[wn],[j6,Co]=m(wn,"stack"),S$=[-1,.04,.05,.06,.07,.08],b$=h(Co,$(p(1,4),t=>i(a(e.weapon.refinement,S$,{unit:"%"}),t)),_),O$=h(Co,$(p(1,4),t=>i(a(e.weapon.refinement,S$,{unit:"%"}),t)),_),F6=r(wn,P$,{premod:{atk_:b$,def_:O$}}),N6={document:[{value:Co,path:j6,header:o(wn,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,4).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:b$},{node:O$},{text:l("duration"),value:6,unit:"s"}]}]))}]},W6=new s(wn,N6,P$,F6),kn="RoyalLongsword",B$=d.weapon.data[kn],[H6,A$]=m(kn,"stack"),G6=[-1,.08,.1,.12,.14,.16],E$=h(A$,$(p(1,5),t=>i(a(e.weapon.refinement,G6,{unit:"%"}),t)),_),K6=r(kn,B$,{premod:{critRate_:E$}}),L6={document:[{value:A$,path:H6,header:o(kn,n("stacks")),name:n("stacks"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:E$}]}]))}]},q6=new s(kn,L6,B$,K6),sa="SacrificialSword",x$=d.weapon.data[sa],V6=r(sa,x$),z6={document:[{header:o(sa),fields:[]}]},U6=new s(sa,z6,x$,V6),lt="SapwoodBlade",M$=d.weapon.data[lt],[,J6]=f("weapon",lt),[Q6,D$]=m(lt,"passive"),X6=[-1,60,75,90,105,120],T$=c(D$,"on",a(e.weapon.refinement,X6)),Z6=c(e.activeCharKey,S.charKey,T$),Y6=r(lt,M$,{teamBuff:{premod:{eleMas:Z6}}}),eO={document:[{value:D$,path:Q6,teamBuff:!0,header:o(lt,n("conditional")),name:J6("condName"),states:{on:{fields:[{node:u(T$,{path:"eleMas"})},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},tO=new s(lt,eO,M$,Y6),Io="SilverSword",jo=d.weapon.data[Io],nO=r(Io,jo),aO={...jo,document:[]},oO=new s(Io,aO,jo,nO),vn="SkyriderSword",R$=d.weapon.data[vn],[sO,Fo]=m(vn,"Determination"),C$=[-1,.12,.15,.18,.21,.24],I$=c(Fo,"on",a(e.weapon.refinement,C$,{unit:"%"})),j$=c(Fo,"on",a(e.weapon.refinement,C$,{unit:"%"})),cO=r(vn,R$,{premod:{atk_:I$,moveSPD_:j$}}),dO={document:[{value:Fo,path:sO,header:o(vn,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:I$},{node:j$},{text:l("duration"),value:15,unit:"s"}]}}}]},rO=new s(vn,dO,R$,cO),ee="SkywardBlade",No=d.weapon.data[ee],[iO,ca]=m(ee,"SkyPiercingMight"),mO=[-1,.2,.25,.3,.35,.4],F$=c("on",ca,P(.1)),N$=c("on",ca,P(.1)),W$=c(e.weapon.key,ee,c("on",ca,v(i(a(e.weapon.refinement,mO,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:g("physical")}}))),H$=No.refinementBonus.critRate_;if(!H$)throw new Error(`data_gen.refinementBonus.critRate_ for ${ee} was undefined`);const G$=a(e.weapon.refinement,H$),lO=r(ee,No,{premod:{critRate_:G$,moveSPD_:F$,atkSPD_:N$}},{dmg:W$}),pO={document:[{header:o(ee,n("base")),fields:[{node:G$}]},{value:ca,path:iO,header:o(ee,n("conditional")),name:n("afterUse.burst"),states:{on:{fields:[{node:F$},{node:N$},{node:u(W$,{name:n("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},$O=new s(ee,pO,No,lO),Oe="SplendorOfTranquilWaters",K$=d.weapon.data[Oe],hO=[-1,.08,.1,.12,.14,.16],uO=[-1,.14,.175,.21,.245,.28],[_O,L$]=m(Oe,"selfHpChange"),q$=p(1,3),V$=h(L$,$(q$,t=>i(t,a(e.weapon.refinement,hO,{unit:"%"}))),_),[fO,z$]=m(Oe,"teamHpChange"),U$=p(1,2),J$=h(z$,$(U$,t=>i(t,a(e.weapon.refinement,uO,{unit:"%"}))),_),gO=r(Oe,K$,{premod:{hp_:J$,skill_dmg_:V$}}),wO={document:[{value:L$,path:_O,header:o(Oe,n("stacks")),name:n("hpChange"),states:$(q$,t=>({name:n("times",{count:t}),fields:[{node:V$},{text:l("duration"),value:6,unit:"s"}]}))},{value:z$,path:fO,header:o(Oe,n("stacks")),name:n("otherHpChange"),states:$(U$,t=>({name:n("times",{count:t}),fields:[{node:J$},{text:l("duration"),value:6,unit:"s"}]}))}]},kO=new s(Oe,wO,K$,gO),T="SummitShaper",Q$=d.weapon.data[T],[,vO]=f("weapon",T),[yO,X$]=m(T,"GoldenMajesty"),[PO,Z$]=m(T,"WithShield"),SO=[-1,.2,.25,.3,.35,.4],bO=[-1,.04,.05,.06,.07,.08],Y$=a(e.weapon.refinement,SO),OO=a(e.weapon.refinement,bO),eh=i(y(1,c(Z$,"protected",1)),h(X$,Object.fromEntries(p(1,5).map(t=>[t,i(OO,t)])),_)),BO=r(T,Q$,{premod:{shield_:Y$,atk_:eh}}),AO={document:[{header:o(T,n("base")),fields:[{node:Y$}]},{value:X$,path:yO,header:o(T,n("stacks")),name:n("hitOp.none"),states:Object.fromEntries(p(1,5).map(t=>[t,{name:n("stack",{count:t}),fields:[{node:eh},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Z$,path:PO,header:o(T,n("conditional")),name:n("protectedByShield"),states:{protected:{fields:[{text:vO("atkEffInc"),value:100,unit:"%"}]}}}]},EO=new s(T,AO,Q$,BO),yn="SwordOfDescension",th=d.weapon.data[yn],nh=h(e.charKey,$(Lh,t=>g(66)),_),ah=c(e.weapon.key,yn,v(i(P(2),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),xO=r(yn,th,{premod:{atk:nh}},{dmg_:ah}),MO={document:[{header:o(yn,n("base")),fields:[{node:nh},{node:u(ah,{name:n("dmg")})}]}]},DO=new s(yn,MO,th,xO),Pn="SwordOfNarzissenkreuz",oh=d.weapon.data[Pn],TO=[-1,1.6,2,2.4,2.8,3.2],sh=c(e.weapon.key,Pn,v(i(a(e.weapon.refinement,TO,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:g("physical")}})),RO=r(Pn,oh,void 0,{dmg:sh}),CO={document:[{header:o(Pn,n("dmg")),fields:[{node:u(sh,{name:n("dmg")})}]}]},IO=new s(Pn,CO,oh,RO),pt="TheAlleyFlash",ch=d.weapon.data[pt],[,jO]=f("weapon",pt),[FO,dh]=m(pt,"ItinerantHero"),NO=[-1,.12,.15,.18,.21,.24],rh=c(dh,"on",a(e.weapon.refinement,NO,{unit:"%"})),WO=r(pt,ch,{premod:{all_dmg_:rh}}),HO={document:[{value:dh,path:FO,header:o(pt,n("conditional")),name:jO("condName"),states:{on:{fields:[{node:rh}]}}}]},GO=new s(pt,HO,ch,WO),Sn="TheBlackSword",ih=d.weapon.data[Sn],mh=[-1,.2,.25,.3,.35,.4],KO=[-1,.6,.7,.8,.9,1],lh=a(e.weapon.refinement,mh),ph=a(e.weapon.refinement,mh),$h=c(e.weapon.key,Sn,He(i(a(e.weapon.refinement,KO,{unit:"%"}),e.total.atk))),LO=r(Sn,ih,{premod:{normal_dmg_:lh,charged_dmg_:ph}},{heal:$h}),qO={document:[{header:o(Sn,n("base")),fields:[{node:lh},{node:ph},{node:u($h,{name:l("healing"),variant:"heal"})}]}]},VO=new s(Sn,qO,ih,LO),$t="TheDockhandsAssistant",hh=d.weapon.data[$t],[,zO]=f("weapon",$t),UO=[-1,40,50,60,70,80],[JO,uh]=m($t,"symbolsConsumed"),_h=p(1,3),fh=h(uh,$(_h,t=>i(t,a(e.weapon.refinement,UO,{unit:"%"}))),_),QO=r($t,hh,{premod:{eleMas:fh}}),XO={document:[{value:uh,path:JO,teamBuff:!0,header:o($t,n("stacks")),name:zO("condName"),states:$(_h,t=>({name:`${t}`,fields:[{node:fh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},ZO=new s($t,XO,hh,QO),bn="TheFlute",gh=d.weapon.data[bn],wh=c(e.weapon.key,bn,v(i(P(2),e.premod.atk),"elemental",{hit:{ele:g("physical")}})),YO=r(bn,gh,void 0,{dmg_:wh}),e8={document:[{header:o(bn,n("base")),fields:[{node:u(wh,{name:n("dmg")})}]}]},t8=new s(bn,e8,gh,YO),De="ToukabouShigure",kh=d.weapon.data[De],[,n8]=f("weapon",De),[a8,vh]=m(De,"passive"),o8=[-1,.16,.2,.24,.28,.32],yh=c(e.weapon.key,De,c(vh,"on",a(e.weapon.refinement,o8,{unit:"%"}))),s8=r(De,kh,{premod:{all_dmg_:yh}}),c8={document:[{value:vh,path:a8,header:o(De,n("stacks")),name:n8("condName"),states:{on:{fields:[{node:yh},{text:l("duration"),value:10,unit:"s"}]}}}]},d8=new s(De,c8,kh,s8),On="TravelersHandySword",Ph=d.weapon.data[On],r8=[-1,.01,.0125,.015,.0175,.02],Sh=c(e.weapon.key,On,He(i(a(e.weapon.refinement,r8,{unit:"%"}),e.total.hp))),i8=r(On,Ph,void 0,{heal:Sh}),m8={document:[{header:o(On,n("base")),fields:[{node:u(Sh,{name:l("healing"),variant:"heal"})}]}]},l8=new s(On,m8,Ph,i8),We="UrakuMisugiri",bh=d.weapon.data[We],p8=[-1,.16,.2,.24,.28,.32],$8=[-1,.24,.3,.36,.42,.48],h8=[-1,.2,.25,.3,.35,.4],Wo=a(e.weapon.refinement,p8),Ho=a(e.weapon.refinement,$8),[u8,Go]=m(We,"teamGeo"),Oh=1,Bh=c(Go,"on",i(P(Oh),Wo)),Ah=c(Go,"on",i(P(Oh),Ho)),Eh=a(e.weapon.refinement,h8),_8=r(We,bh,{premod:{normal_dmg_:y(Wo,Bh),skill_dmg_:y(Ho,Ah),def_:Eh}}),f8={document:[{header:o(We,n("base")),fields:[{node:Eh},{node:u(Wo,{path:"normal_dmg_"})},{node:u(Ho,{path:"skill_dmg_"})}]},{value:Go,path:u8,header:o(We,n("conditional")),name:n("teamHitOp.geo"),states:{on:{fields:[{node:u(Bh,{path:"normal_dmg_"})},{node:u(Ah,{path:"skill_dmg_"})},{text:l("duration"),value:15,unit:"s"}]}}}]},g8=new s(We,f8,bh,_8),q="WolfFang",xh=d.weapon.data[q],w8=[-1,.16,.2,.24,.28,.32],Mh=[-1,.02,.025,.03,.035,.04],Dn=p(1,4),Ko=a(e.weapon.refinement,w8),Dh={...Ko},[k8,Th]=m(q,"skillStacks"),Rh=i(a(e.weapon.refinement,Mh),h(Th,$(Dn,t=>g(t)),_)),[v8,Ch]=m(q,"burstStacks"),Ih=i(a(e.weapon.refinement,Mh),h(Ch,$(Dn,t=>g(t)),_)),y8=r(q,xh,{premod:{skill_dmg_:Ko,burst_dmg_:Dh,skill_critRate_:Rh,burst_critRate_:Ih}}),P8={document:[{header:o(q,n("base")),fields:[{node:Ko},{node:Dh}]},{header:o(q,n("conditional")),value:Th,path:k8,name:n("hitOp.skill"),states:$(Dn,t=>({name:n("stack",{count:t}),fields:[{node:Rh},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(q,n("conditional")),value:Ch,path:v8,name:n("hitOp.burst"),states:$(Dn,t=>({name:n("stack",{count:t}),fields:[{node:Ih},{text:l("duration"),value:10,unit:"s"}]}))}]},S8=new s(q,P8,xh,y8),Be="XiphosMoonlight",jh=d.weapon.data[Be],b8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Tn=c(e.weapon.key,Be,i(a(e.weapon.refinement,b8,{unit:"%",fixed:3}),e.premod.eleMas)),Lo=c(e.weapon.key,Be,i(P(.3),Tn)),O8=F(e.charKey,S.charKey,Lo),B8=r(Be,jh,{total:{enerRech_:Tn},teamBuff:{total:{enerRech_:O8}}},{selfEnerRech_:Tn,teamEnerRech_disp:Lo}),A8={document:[{header:o(Be,n("base")),fields:[{node:Tn}]},{header:o(Be,n("teamBuff")),teamBuff:!0,fields:[{node:u(Lo,{path:"enerRech_",isTeamBuff:!0})}]}]},E8=new s(Be,A8,jh,B8),x8={AmenomaKageuchi:Bb,AquilaFavonia:Db,BlackcliffLongsword:jb,CinnabarSpindle:Kb,CoolSteel:Ub,DarkIronSword:Yb,DullBlade:n3,FavoniusSword:s3,FesteringDesire:m3,FilletBlade:u3,FinaleOfTheDeep:b3,FleuveCendreFerryman:M3,FreedomSworn:F3,HaranGeppakuFutsu:q3,HarbingerOfDawn:Q3,IronSting:t6,KagotsurubeIsshin:s6,KeyOfKhajNisut:p6,LightOfFoliarIncision:g6,LionsRoar:P6,MistsplitterReforged:M6,PrimordialJadeCutter:I6,PrototypeRancour:W6,RoyalLongsword:q6,SacrificialSword:U6,SapwoodBlade:tO,SilverSword:oO,SkyriderSword:rO,SkywardBlade:$O,SplendorOfTranquilWaters:kO,SummitShaper:EO,SwordOfDescension:DO,SwordOfNarzissenkreuz:IO,TheAlleyFlash:GO,TheBlackSword:VO,TheDockhandsAssistant:ZO,TheFlute:t8,ToukabouShigure:d8,TravelersHandySword:l8,UrakuMisugiri:g8,WolfFang:S8,XiphosMoonlight:E8},Fh={...x8,...PS,...Sb,...Df,...q2},M8=Object.fromEntries(qh.map(t=>[t,Zo(Object.values(Fh).filter(w=>w.weaponType===t).map(w=>({display:w.data.display})))]));function C8(t){return Fh[t]}export{s as W,C8 as g};
