import{f as ko,k as b,bv as P,cR as $s,d as B,br as w,o as $,cB as _s,b7 as gs,J as vo,bA as Ot,bP as Eo}from"./index-cfc9ffd6.js";import{d as bt,p as t,T as Ne,X as c,S as Oo,v as ys,V as bo,O as s,z as k,P as a,W as Q,Y as f,$ as d,a0 as D,R as i,a1 as v,N as l,s as _,a2 as u,a3 as g,L as U,k as wo,i as E,a4 as Ho,a5 as Po,a6 as ps,Q as Bo}from"./index-982d1366.js";import{I as Do,C as Ss}from"./ColoredText-3a235c37.js";class n{constructor(m,h,p){this.getSlotName=y=>this.tr(`pieces.${y}.name`),this.getSlotDesc=y=>this.tr(`pieces.${y}.desc`),this.setEffectDesc=y=>this.tr(`setEffects.${y}`),this.setEffectDocument=y=>{var S;return(S=this.sheet.setEffects[y])==null?void 0:S.document},this.hasEnough=(y,S)=>(S.get(t.artSet[this.key]).value??0)>=y,this.sheet=h,this.key=m,this.data=p}get tr(){return n.tr(this.key)}get name(){return this.tr("setName")}get setName(){return this.tr("setName")}get nameRaw(){return this.sheet.name}get rarity(){return this.sheet.rarity}get slots(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return[...ko]}}get setEffects(){return this.sheet.setEffects}static trm(m){return h=>b(Ne,{ns:`artifact_${m}`,key18:h})}static tr(m){return h=>b(Ne,{ns:`artifact_${m}_gen`,key18:h})}static get(m){return Ei[m]}}const o=e=>{const m=h=>b(Ne,{ns:`artifact_${e}_gen`,key18:h});return h=>({title:m("setName"),icon:b(Do,{size:2,src:Ao(e)}),action:b(Oo,{color:"success",children:c(`${h}set`)}),description:m(`setEffects.${h}`)})};function Ao(e){return bt(e,"flower")||bt(e,"circlet")}function r(e,m={},h={}){return ys([bo(m,e),{display:{[`artifact:${e}`]:h}}])}const We="Adventurer",wt=o(We),ks=s(t.artSet.Adventurer,2,1e3),vs=s(t.artSet.Adventurer,4,k(a(.3),t.total.hp)),To=r(We,{premod:{hp:ks}},{heal:vs}),Mo={name:"Adventurer",rarity:[3],setEffects:{2:{document:[{header:wt(2),fields:[{node:ks}]}]},4:{document:[{header:wt(4),fields:[{node:Q(vs,{name:f("healing"),variant:"heal"})}]}]}}},Fo=new n(We,Mo,To),A="ArchaicPetra",Ht=o(A),[,No]=v("artifact",A),Es=s(t.artSet.ArchaicPetra,2,a(.15)),[Co,Os]=d(A,"element"),bs=Object.fromEntries(D.map(e=>[`${e}_dmg_`,s(t.artSet.ArchaicPetra,4,i(e,Os,a(.35)))])),Ro=r(A,{premod:{geo_dmg_:Es},teamBuff:{premod:bs}}),xo={name:"Archaic Petra",rarity:[4,5],setEffects:{2:{document:[{header:Ht(2),fields:[{node:Es}]}]},4:{document:[{header:Ht(4),path:Co,value:Os,teamBuff:!0,name:No("condName"),states:Object.fromEntries(D.map(e=>[e,{name:b(Ss,{color:e,children:f(`element.${e}`)}),fields:[{node:bs[`${e}_dmg_`]},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},jo=new n(A,xo,Ro),X="Berserker",Pt=o(X),ws=l.info("critRate_"),Hs=s(t.artSet.Berserker,2,a(.12),ws),[Wo,Ps]=d(X,"hp"),Bs=s(t.artSet.Berserker,4,i("70",Ps,a(.24)),ws),Go=r(X,{premod:{critRate_:_(Hs,Bs)}}),Io={name:"Berserker",rarity:[3,4],setEffects:{2:{document:[{header:Pt(2),fields:[{node:Hs}]}]},4:{document:[{header:Pt(4),path:Wo,value:Ps,teamBuff:!0,name:c("lessPercentHP",{percent:70}),states:{70:{fields:[{node:Bs}]}}}]}}},Vo=new n(X,Io,Go),T="BlizzardStrayer",Bt=o(T),[,we]=v("artifact",T),[zo,Ds]=d(T,"state"),As=s(t.artSet.BlizzardStrayer,2,a(.15)),Ce=s(t.artSet.BlizzardStrayer,4,u(Ds,{cryo:a(.2),frozen:a(.4)},g)),Lo=r(T,{premod:{cryo_dmg_:As},total:{critRate_:Ce}}),Uo={name:"Blizzard Strayer",rarity:[4,5],setEffects:{2:{document:[{header:Bt(2),fields:[{node:As}]}]},4:{document:[{header:Bt(4),value:Ds,path:zo,name:we("condName"),states:{cryo:{name:we("condCryo"),fields:[{node:Ce}]},frozen:{name:we("condFrozen"),fields:[{node:Ce}]}}}]}}},qo=new n(T,Uo,Lo),Y="BloodstainedChivalry",Dt=o(Y),Ts=s(t.artSet.BloodstainedChivalry,2,a(.25)),[Ko,Ge]=d(Y,"defeat"),Ms=s(t.artSet.BloodstainedChivalry,4,i("hit",Ge,a(.5))),Fs=s(t.artSet.BloodstainedChivalry,4,i("hit",Ge,a(1))),Jo=r(Y,{premod:{physical_dmg_:Ts,charged_dmg_:Ms,staminaChargedDec_:Fs}}),Qo={name:"Bloodstained Chivalry",rarity:[4,5],setEffects:{2:{document:[{header:Dt(2),fields:[{node:Ts}]}]},4:{document:[{header:Dt(4),path:Ko,value:Ge,name:c("afterDefeatEnemy",{percent:70}),states:{hit:{fields:[{node:Ms},{node:Fs},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Xo=new n(Y,Qo,Jo),Z="BraveHeart",At=o(Z),Ns=s(t.artSet.BraveHeart,2,a(.18)),[Yo,Cs]=d(Z,"hp"),Rs=s(t.artSet.BraveHeart,4,i("50",Cs,a(.3))),Zo=r(Z,{premod:{atk_:Ns,all_dmg_:Rs}}),er={name:"Brave Heart",rarity:[3,4],setEffects:{2:{document:[{header:At(2),fields:[{node:Ns}]}]},4:{document:[{header:At(4),path:Yo,value:Cs,name:c("enemyGreaterPercentHP",{percent:50}),states:{50:{fields:[{node:Rs}]}}}]}}},tr=new n(Z,er,Zo),ee="CrimsonWitchOfFlames",He=o(ee),[sr,xs]=d(ee,"stack"),js=l.info("pyro_dmg_"),Ws=s(t.artSet.CrimsonWitchOfFlames,2,a(.15),js),te=s(t.artSet.CrimsonWitchOfFlames,4,a(.4)),Gs={...te},Is={...te},Ie=s(t.artSet.CrimsonWitchOfFlames,4,a(.15)),Vs={...Ie},zs=P(1,3),Ls=s(t.artSet.CrimsonWitchOfFlames,4,u(xs,Object.fromEntries(zs.map(e=>[e,a(.15*e/2)])),g),js),ar=r(ee,{premod:{pyro_dmg_:_(Ws,Ls),overloaded_dmg_:te,burning_dmg_:Gs,vaporize_dmg_:Ie,melt_dmg_:Vs,burgeon_dmg_:Is}}),nr={name:"Crimson Witch of Flames",rarity:[4,5],setEffects:{2:{document:[{header:He(2),fields:[{node:Ws}]}]},4:{document:[{header:He(4),fields:[{node:te},{node:Gs},{node:Is},{node:Ie},{node:Vs}]},{header:He(4),value:xs,path:sr,name:c("afterUse.skill"),states:Object.fromEntries(zs.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Ls},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},or=new n(ee,nr,ar),se="DeepwoodMemories",Tt=o(se),Us=s(t.artSet.DeepwoodMemories,2,.15),[rr,qs]=d(se,"set4"),Ks=s(t.artSet.DeepwoodMemories,4,i(qs,"on",-.3)),cr=r(se,{premod:{dendro_dmg_:Us},teamBuff:{premod:{dendro_enemyRes_:Ks}}}),dr={name:"Deepwood memories",rarity:[4,5],setEffects:{2:{document:[{header:Tt(2),fields:[{node:Us}]}]},4:{document:[{header:Tt(4),path:rr,value:qs,teamBuff:!0,name:c("hitOp.skillOrBurst"),states:{on:{fields:[{node:Ks},{text:f("duration"),value:8,unit:"s"}]}}}]}}},ir=new n(se,dr,cr),Ve="DefendersWill",Mt=o(Ve),Js=s(t.artSet.DefendersWill,2,a(.3)),Qs=$s(B,e=>[`${e}_res_`,s(t.artSet.DefendersWill,4,s(U[e],1,a(.3)))]),mr=r(Ve,{premod:{def_:Js,...Qs}}),lr={name:"Defender's Will",rarity:[3,4],setEffects:{2:{document:[{header:Mt(2),fields:[{node:Js}]}]},4:{document:[{header:Mt(4),fields:Object.values(Qs).map(e=>({node:e}))}]}}},fr=new n(Ve,lr,mr),ae="DesertPavilionChronicle",Ft=o(ae),Xs=s(t.artSet.DesertPavilionChronicle,2,.15),[hr,ze]=d(ae,"set4"),Ys=s(t.artSet.DesertPavilionChronicle,4,i(ze,"on",a(.1))),ne=s(t.artSet.DesertPavilionChronicle,4,i(ze,"on",a(.4))),Zs={...ne},ea={...ne},ur=r(ae,{premod:{anemo_dmg_:Xs,atkSPD_:Ys,normal_dmg_:ne,charged_dmg_:Zs,plunging_dmg_:ea}}),$r={name:"Desert Pavilion Chronicle",rarity:[4,5],setEffects:{2:{document:[{header:Ft(2),fields:[{node:Xs}]}]},4:{document:[{header:Ft(4),path:hr,value:ze,teamBuff:!0,name:c("hitOp.charged"),states:{on:{fields:[{node:Ys},{node:ne},{node:Zs},{node:ea},{text:f("duration"),value:15,unit:"s"}]}}}]}}},_r=new n(ae,$r,ur),M="EchoesOfAnOffering",Nt=o(M),[,Pe]=v("artifact",M),ta=s(t.artSet.EchoesOfAnOffering,2,a(.18)),[gr,sa]=d(M,"mode"),Re=s(t.artSet.EchoesOfAnOffering,4,k(u(sa,{on:a(.7),avg:a(.7*.50204)},g),t.total.atk)),yr=r(M,{premod:{atk_:ta,normal_dmgInc:Re}}),pr={name:"Echoes of an Offering",rarity:[4,5],setEffects:{2:{document:[{header:Nt(2),fields:[{node:ta}]}]},4:{document:[{header:Nt(4),value:sa,path:gr,name:Pe("mode"),states:{on:{name:Pe("always"),fields:[{node:Re}]},avg:{name:Pe("avg"),fields:[{node:Re}]}}}]}}},Sr=new n(M,pr,yr),Le="EmblemOfSeveredFate",Ct=o(Le),aa=s(t.artSet.EmblemOfSeveredFate,2,a(.2)),xe=s(t.artSet.EmblemOfSeveredFate,4,wo(a(.75),k(a(.25),t.premod.enerRech_))),kr=r(Le,{premod:{enerRech_:aa,burst_dmg_:xe}},{burstBonus:xe}),vr={name:"Emblem of Severed Fate",rarity:[4,5],setEffects:{2:{document:[{header:Ct(2),fields:[{node:aa}]}]},4:{document:[{header:Ct(4),fields:[{node:xe}]}]}}},Er=new n(Le,vr,kr),F="FlowerOfParadiseLost",[,Or]=v("artifact",F),Be=o(F),na=s(t.artSet.FlowerOfParadiseLost,2,80),oe=s(t.artSet.FlowerOfParadiseLost,4,a(.4),l.info("bloom_dmg_")),oa={...oe,info:l.info("hyperbloom_dmg_")},ra={...oe,info:l.info("burgeon_dmg_")},[br,ca]=d(F,"stacks"),da=P(1,4),re=s(t.artSet.FlowerOfParadiseLost,4,u(ca,Object.fromEntries(da.map(e=>[e,k(e,a(.1))])),g,l.info("bloom_dmg_"))),ia={...re,info:l.info("hyperbloom_dmg_")},ma={...re,info:l.info("burgeon_dmg_")},wr=r(F,{premod:{eleMas:na,bloom_dmg_:_(oe,re),hyperbloom_dmg_:_(oa,ia),burgeon_dmg_:_(ra,ma)}}),Hr={name:"Flower of Paradise Lost",rarity:[4,5],setEffects:{2:{document:[{header:Be(2),fields:[{node:na}]}]},4:{document:[{header:Be(4),fields:[{node:oe},{node:oa},{node:ra}]},{header:Be(4),path:br,value:ca,name:Or("condName"),states:Object.fromEntries(da.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:re},{node:ia},{node:ma},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Pr=new n(F,Hr,wr),N="FragmentOfHarmonicWhimsy",Rt=o(N),[,Br]=v("artifact",N),la=s(t.artSet.FragmentOfHarmonicWhimsy,2,.18),fa=w(1,3),[Dr,ha]=d(N,"stacks"),ua=k(a(.18),u(ha,$(fa,e=>E(e)),g)),Ar=r(N,{premod:{atk_:la,all_dmg_:ua}}),Tr={name:"Fragment of Harmonic Whimsy",rarity:[4,5],setEffects:{2:{document:[{header:Rt(2),fields:[{node:la}]}]},4:{document:[{header:Rt(4),value:ha,path:Dr,name:Br("cond"),states:$(fa,e=>({name:c("times",{count:e}),fields:[{node:ua},{text:f("duration"),value:6,unit:"s"}]}))}]}}},Mr=new n(N,Tr,Ar),Ue="Gambler",xt=o(Ue),$a=s(t.artSet.Gambler,2,a(.2)),Fr=r(Ue,{premod:{skill_dmg_:$a}}),Nr={name:"Gambler",rarity:[3,4],setEffects:{2:{document:[{header:xt(2),fields:[{node:$a}]}]},4:{document:[{header:xt(4),fields:[]}]}}},Cr=new n(Ue,Nr,Fr),H="GildedDreams",L=o(H),[,jt]=v("artifact",H),_a=s(t.artSet.GildedDreams,2,80,l.info("eleMas")),[Rr,qe]=d(H,"passive"),Wt=u(t.charEle,U,Po),xr=s(Wt,2,_(Wt,-1)),jr=_(...B.map(e=>s(U[e],1,Ho(e,t.charEle,U[e])))),[Wr,ga]=d(H,"overrideOther"),q=w(0,3),Gt=u(ga,$(q,e=>E(e)),-1),[Gr,ya]=d(H,"overrideSame"),It=u(ya,$(q,e=>E(e)),-1),pa=s(t.artSet.GildedDreams,4,i(qe,"on",k(a(.14),ps(It,-1,xr,It)))),Sa=s(t.artSet.GildedDreams,4,i(qe,"on",k(50,ps(Gt,-1,jr,Gt)),l.info("eleMas"))),Ir=r(H,{premod:{eleMas:_(_a,Sa),atk_:pa}}),Vr={name:"Gilded Dreams",rarity:[4,5],setEffects:{2:{document:[{header:L(2),fields:[{node:_a}]}]},4:{document:[{header:L(4),teamBuff:!0,path:Rr,value:qe,name:c("afterReaction"),states:{on:{fields:[{node:pa},{node:Sa},{text:f("duration"),value:8,unit:"s"},{text:f("cd"),value:8,unit:"s"}]}}},{header:L(4),teamBuff:!0,path:Gr,value:ya,name:jt("overrideSameCond"),states:$(q,e=>({name:c("members",{count:e}),fields:[]}))},{header:L(4),teamBuff:!0,path:Wr,value:ga,name:jt("overrideOtherCond"),states:$(q,e=>({name:c("members",{count:e}),fields:[]}))}]}}},zr=new n(H,Vr,Ir),Ke="GladiatorsFinale",Vt=o(Ke),ka=s(t.artSet.GladiatorsFinale,2,a(.18)),va=s(t.artSet.GladiatorsFinale,4,u(t.weaponType,{sword:a(.35),polearm:a(.35),claymore:a(.35)},g)),Lr=r(Ke,{premod:{atk_:ka,normal_dmg_:va}}),Ur={name:"Gladiator's Finale",rarity:[4,5],setEffects:{2:{document:[{header:Vt(2),fields:[{node:ka}]}]},4:{document:[{header:Vt(4),fields:[{node:va}]}]}}},qr=new n(Ke,Ur,Lr),ce="GoldenTroupe",De=o(ce),Ea=s(t.artSet.GoldenTroupe,2,.2,l.info("skill_dmg_")),Oa=s(t.artSet.GoldenTroupe,4,.25,l.info("skill_dmg_")),[Kr,ba]=d(ce,"set4"),wa=s(t.artSet.GoldenTroupe,4,i(ba,"on",.25,l.info("skill_dmg_"))),Jr=r(ce,{premod:{skill_dmg_:_(Ea,Oa,wa)}}),Qr={name:"Golden Troupe",rarity:[4,5],setEffects:{2:{document:[{header:De(2),fields:[{node:Ea}]}]},4:{document:[{header:De(4),fields:[{node:Oa}]},{header:De(4),path:Kr,value:ba,name:c("charOffField"),states:{on:{fields:[{node:wa}]}}}]}}},Xr=new n(ce,Qr,Jr),de="HeartOfDepth",zt=o(de),Ha=s(t.artSet.HeartOfDepth,2,a(.15)),[Yr,Pa]=d(de,"skill"),Je=s(t.artSet.HeartOfDepth,4,i("cast",Pa,a(.3))),Ba={...Je},Zr=r(de,{premod:{hydro_dmg_:Ha,normal_dmg_:Je,charged_dmg_:Ba}}),ec={name:"Heart of Depth",rarity:[4,5],setEffects:{2:{document:[{header:zt(2),fields:[{node:Ha}]}]},4:{document:[{header:zt(4),path:Yr,value:Pa,name:c("afterUse.skill"),states:{cast:{fields:[{node:Je},{node:Ba},{text:f("duration"),value:15,unit:"s"}]}}}]}}},tc=new n(de,ec,Zr),C="HuskOfOpulentDreams",Lt=o(C),[,sc]=v("artifact",C),[ac,Qe]=d(C,"stack"),Da=l.info("def_"),Aa=s(t.artSet.HuskOfOpulentDreams,2,a(.3),Da),Xe=P(1,4),Ta=s(t.artSet.HuskOfOpulentDreams,4,u(Qe,Object.fromEntries(Xe.map(e=>[e,a(.06*e)])),g),Da),Ma=s(t.artSet.HuskOfOpulentDreams,4,u(Qe,Object.fromEntries(Xe.map(e=>[e,a(.06*e)])),g)),nc=r(C,{premod:{def_:_(Aa,Ta),geo_dmg_:Ma}}),oc={name:"Husk of Opulent Dreams",rarity:[4,5],setEffects:{2:{document:[{header:Lt(2),fields:[{node:Aa}]}]},4:{document:[{header:Lt(4),value:Qe,path:ac,teamBuff:!0,name:sc("condName"),states:Object.fromEntries(Xe.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Ta},{node:Ma}]}]))}]}}},rc=new n(C,oc,nc),ie="Instructor",Ut=o(ie),[cc,Fa]=d(ie,"set4"),Na=s(t.artSet.Instructor,2,80),Ca=s(t.artSet.Instructor,4,i("on",Fa,120)),dc=r(ie,{premod:{eleMas:Na},teamBuff:{premod:{eleMas:Ca}}}),ic={name:"Instructor",rarity:[3,4],setEffects:{2:{document:[{header:Ut(2),fields:[{node:Na}]}]},4:{document:[{header:Ut(4),teamBuff:!0,value:Fa,path:cc,name:c("afterReaction"),states:{on:{fields:[{node:Ca},{text:f("duration"),value:8,unit:"s"}]}}}]}}},mc=new n(ie,ic,dc),me="Lavawalker",qt=o(me),[lc,Ra]=d(me,"state"),xa=s(t.artSet.Lavawalker,2,a(.4)),ja=s(t.artSet.Lavawalker,4,i("on",Ra,a(.35))),fc=r(me,{premod:{pyro_res_:xa,all_dmg_:ja}}),hc={name:"Lavawalker",rarity:[4,5],setEffects:{2:{document:[{header:qt(2),fields:[{node:xa}]}]},4:{document:[{header:qt(4),value:Ra,path:lc,name:c("enemyAffected.burningOrPyro"),states:{on:{fields:[{node:ja}]}}}]}}},uc=new n(me,hc,fc),Ye="LuckyDog",Kt=o(Ye),Wa=s(t.artSet.LuckyDog,2,100),Ga=s(t.artSet.LuckyDog,4,300),$c=r(Ye,{premod:{def:Wa}},{heal:Ga}),_c={name:"Lucky Dog",rarity:[3],setEffects:{2:{document:[{header:Kt(2),fields:[{node:Wa}]}]},4:{document:[{header:Kt(4),fields:[{node:Q(Ga,{name:f("healing"),variant:"heal"})}]}]}}},gc=new n(Ye,_c,$c),le="MaidenBeloved",Jt=o(le),[yc,Ia]=d(le,"state"),Va=s(t.artSet.MaidenBeloved,2,a(.15)),za=s(t.artSet.MaidenBeloved,4,i("on",Ia,a(.2))),pc=r(le,{premod:{heal_:Va},teamBuff:{premod:{incHeal_:za}}}),Sc={name:"Maiden Beloved",rarity:[4,5],setEffects:{2:{document:[{header:Jt(2),fields:[{node:Va}]}]},4:{document:[{header:Jt(4),teamBuff:!0,value:Ia,path:yc,name:c("afterUse.skillOrBurst"),states:{on:{fields:[{node:za},{text:f("duration"),value:10,unit:"s"}]}}}]}}},kc=new n(le,Sc,pc),fe="MarechausseeHunter",Qt=o(fe),Ze=s(t.artSet.MarechausseeHunter,2,.15),La={...Ze},[vc,Ua]=d(fe,"set4"),qa=w(1,3),Ka=s(t.artSet.MarechausseeHunter,4,u(Ua,$(qa,e=>E(e*.12)),g)),Ec=r(fe,{premod:{normal_dmg_:Ze,charged_dmg_:La,critRate_:Ka}}),Oc={name:"Marechaussee Hunter",rarity:[4,5],setEffects:{2:{document:[{header:Qt(2),fields:[{node:Ze},{node:La}]}]},4:{document:[{header:Qt(4),path:vc,value:Ua,name:c("hpChange"),states:$(qa,e=>({name:c("stack",{count:e}),fields:[{node:Ka},{text:f("duration"),value:5,unit:"s"}]}))}]}}},bc=new n(fe,Oc,Ec),he="MartialArtist",Xt=o(he),[wc,et]=d(he,"state"),Ja=s(t.artSet.MartialArtist,2,a(.15),l.info("normal_dmg_")),Qa=s(t.artSet.MartialArtist,2,a(.15),l.info("charged_dmg_")),Xa=s(t.artSet.MartialArtist,4,i("on",et,a(.25),l.info("normal_dmg_"))),Ya=s(t.artSet.MartialArtist,4,i("on",et,a(.25),l.info("charged_dmg_"))),Hc=r(he,{premod:{normal_dmg_:_(Ja,Xa),charged_dmg_:_(Qa,Ya)}}),Pc={name:"Martial Artist",rarity:[3,4],setEffects:{2:{document:[{header:Xt(2),fields:[{node:Ja},{node:Qa}]}]},4:{document:[{header:Xt(4),value:et,path:wc,name:c("afterUse.skill"),states:{on:{fields:[{node:Xa},{node:Ya},{text:f("duration"),value:8,unit:"s"}]}}}]}}},Bc=new n(he,Pc,Hc),R="NighttimeWhispersInTheEchoingWoods",Ae=o(R),Za=s(t.artSet.NighttimeWhispersInTheEchoingWoods,2,.18),[Dc,K]=d(R,"afterSkill"),en=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(K,"on",.2,l.info("geo_dmg_"))),[Ac,tn]=d(R,"crystallize"),sn=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(K,"on",i(tn,"on",.2*1.5,l.info("geo_dmg_")))),Tc=r(R,{premod:{atk_:Za,geo_dmg_:_(en,sn)}}),Mc={name:"Nighttime Whispers In The Echoing Woods",rarity:[4,5],setEffects:{2:{document:[{header:Ae(2),fields:[{node:Za}]}]},4:{document:[{header:Ae(4),value:K,path:Dc,name:c("hitOp.skill"),states:{on:{fields:[{node:en}]}}},{header:Ae(4),value:tn,path:Ac,canShow:i(K,"on",1),name:c("protectedByShieldCrystal"),states:{on:{fields:[{node:sn}]}}}]}}},Fc=new n(R,Mc,Tc),ue="NoblesseOblige",Yt=o(ue),an=s(t.artSet.NoblesseOblige,2,a(.2)),[Nc,nn]=d(ue,"set4"),on=s(t.artSet.NoblesseOblige,4,i(nn,"on",a(.2))),Cc=r(ue,{premod:{burst_dmg_:an},teamBuff:{premod:{atk_:on}}}),Rc={name:"Noblesse Oblige",rarity:[4,5],setEffects:{2:{document:[{header:Yt(2),fields:[{node:an}]}]},4:{document:[{header:Yt(4),teamBuff:!0,value:nn,path:Nc,name:c("afterUse.burst"),states:{on:{fields:[{node:on},{text:f("duration"),value:12,unit:"s"}]}}}]}}},xc=new n(ue,Rc,Cc),x="NymphsDream",Zt=o(x),[,jc]=v("artifact",x),rn=s(t.artSet.NymphsDream,2,.15,l.info("hydro_dmg_")),[Wc,tt]=d(x,"set4"),st=w(1,3),Gc=[.07,.16,.25],Ic=[.04,.09,.15],cn=s(t.artSet.NymphsDream,4,u(tt,$(st,e=>E(Gc[e-1])),g)),dn=s(t.artSet.NymphsDream,4,u(tt,$(st,e=>E(Ic[e-1])),g),l.info("hydro_dmg_")),Vc=r(x,{premod:{hydro_dmg_:_(rn,dn),atk_:cn}}),zc={name:"Nymph's Dream",rarity:[4,5],setEffects:{2:{document:[{header:Zt(2),fields:[{node:rn}]}]},4:{document:[{header:Zt(4),path:Wc,value:tt,teamBuff:!0,name:jc("condName"),states:$(st,e=>({name:c("stack",{count:e}),fields:[{node:cn},{node:dn},{text:f("duration"),value:8,unit:"s"}]}))}]}}},Lc=new n(x,zc,Vc),$e="OceanHuedClam",es=o($e),mn=s(t.artSet.OceanHuedClam,2,a(.15)),ln=s(t.artSet.OceanHuedClam,4,k(k(a(.9),3e4),t.enemy.physical_resMulti_)),Uc=r($e,{premod:{heal_:mn}},{heal:ln}),qc={name:"Ocean-Hued Clam",rarity:[4,5],setEffects:{2:{document:[{header:es(2),fields:[{node:mn}]}]},4:{document:[{header:es(4),fields:[{node:Q(ln,{name:n.trm($e)("condName"),variant:"physical"})}]}]}}},Kc=new n($e,qc,Uc),_e="PaleFlame",ts=o(_e),[Jc,at]=d(_e,"stacks"),fn=l.info("physical_dmg_"),hn=s(t.artSet.PaleFlame,2,a(.25),fn),nt=P(1,2),un=s(t.artSet.PaleFlame,4,u(at,Object.fromEntries(nt.map(e=>[e,a(.09*e)])),g)),$n=s(t.artSet.PaleFlame,4,u(at,Object.fromEntries(nt.map(e=>[e,i(e,2,a(.25))])),g),fn),Qc=r(_e,{premod:{physical_dmg_:_(hn,$n),atk_:un}}),Xc={name:"Pale Flame",rarity:[4,5],setEffects:{2:{document:[{header:ts(2),fields:[{node:hn}]}]},4:{document:[{header:ts(4),value:at,path:Jc,teamBuff:!0,name:c("hitOp.skill"),states:Object.fromEntries(nt.map(e=>[e,{name:e.toString(),fields:[{node:un},{node:$n},{text:f("duration"),value:7,unit:"s"}]}]))}]}}},Yc=new n(_e,Xc,Qc),ot="PrayersForDestiny",Zc=o(ot),ed=r(ot),td={name:"Prayers for Destiny",rarity:[3,4],setEffects:{1:{document:[{header:Zc(1),fields:[]}]}}},sd=new n(ot,td,ed),rt="PrayersForIllumination",ad=o(rt),nd=r(rt),od={name:"Prayers for Illumination",rarity:[3,4],setEffects:{1:{document:[{header:ad(1),fields:[]}]}}},rd=new n(rt,od,nd),ct="PrayersForWisdom",cd=o(ct),dd=r(ct),id={name:"Prayers for Wisdom",rarity:[3,4],setEffects:{1:{document:[{header:cd(1),fields:[]}]}}},md=new n(ct,id,dd),dt="PrayersToSpringtime",ld=o(dt),fd=r(dt),hd={name:"Prayers to Springtime",rarity:[3,4],setEffects:{1:{document:[{header:ld(1),fields:[]}]}}},ud=new n(dt,hd,fd),it="ResolutionOfSojourner",ss=o(it),_n=s(t.artSet.ResolutionOfSojourner,2,a(.18)),gn=s(t.artSet.ResolutionOfSojourner,4,a(.3)),$d=r(it,{premod:{atk_:_n,charged_critRate_:gn}}),_d={name:"Resolution of Sojourner",rarity:[3,4],setEffects:{2:{document:[{header:ss(2),fields:[{node:_n}]}]},4:{document:[{header:ss(4),fields:[{node:gn}]}]}}},gd=new n(it,_d,$d),ge="RetracingBolide",as=o(ge),[yd,mt]=d(ge,"state"),yn=s(t.artSet.RetracingBolide,2,a(.35)),pn=s(t.artSet.RetracingBolide,4,i("on",mt,a(.4))),Sn=s(t.artSet.RetracingBolide,4,i("on",mt,a(.4))),pd=r(ge,{premod:{shield_:yn,normal_dmg_:pn,charged_dmg_:Sn}}),Sd={name:"Retracing Bolide",rarity:[4,5],setEffects:{2:{document:[{header:as(2),fields:[{node:yn}]}]},4:{document:[{header:as(4),value:mt,path:yd,name:c("protectedByShield"),states:{on:{fields:[{node:pn},{node:Sn}]}}}]}}},kd=new n(ge,Sd,pd),lt="Scholar",ns=o(lt),kn=s(t.artSet.Scholar,2,a(.2)),vd=r(lt,{premod:{enerRech_:kn}}),Ed={name:"Scholar",rarity:[3,4],setEffects:{2:{document:[{header:ns(2),fields:[{node:kn}]}]},4:{document:[{header:ns(4),fields:[]}]}}},Od=new n(lt,Ed,vd),j="ShimenawasReminiscence",os=o(j),[,bd]=v("artifact",j),[wd,vn]=d(j,"usedEnergy"),En=s(t.artSet.ShimenawasReminiscence,2,a(.18)),ye=s(t.artSet.ShimenawasReminiscence,4,i("used",vn,a(.5))),On={...ye},bn={...ye},Hd=r(j,{premod:{atk_:En,normal_dmg_:ye,charged_dmg_:On,plunging_dmg_:bn}}),Pd={name:"Shimenawa's Reminiscence",rarity:[4,5],setEffects:{2:{document:[{header:os(2),fields:[{node:En}]}]},4:{document:[{header:os(4),value:vn,path:wd,name:bd("afterUseEnergy"),states:{used:{fields:[{node:ye},{node:On},{node:bn},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Bd=new n(j,Pd,Hd),W="SongOfDaysPast",rs=o(W),[,Dd]=v("artifact",W),wn=s(t.artSet.SongOfDaysPast,2,.15),Hn=w(1e3,15e3,1e3),[Ad,Pn]=d(W,"healing"),G=s(t.artSet.SongOfDaysPast,4,u(Pn,$(Hn,e=>E(e*.08)),g)),Bn={...G},Dn={...G},An={...G},Tn={...G},Mn={...G},Td=r(W,{premod:{heal_:wn},teamBuff:{premod:{normal_dmgInc:Bn,charged_dmgInc:Dn,plunging_dmgInc:An,skill_dmgInc:Tn,burst_dmgInc:Mn}}}),Md={name:"Song of Days Past",rarity:[4,5],setEffects:{2:{document:[{header:rs(2),fields:[{node:wn}]}]},4:{document:[{header:rs(4),value:Pn,path:Ad,name:Dd("condName"),teamBuff:!0,states:$(Hn,e=>({name:`${e}`,fields:[{node:Bn},{node:Dn},{node:An},{node:Tn},{node:Mn},{text:c("triggerQuota"),value:5},{text:f("duration"),value:10,unit:"s"}]}))}]}}},Fd=new n(W,Md,Td),pe="TenacityOfTheMillelith",cs=o(pe),Fn=s(t.artSet.TenacityOfTheMillelith,2,a(.2)),[Nd,ft]=d(pe,"skill"),Nn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",ft,a(.2))),Cn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",ft,a(.3))),Cd=r(pe,{premod:{hp_:Fn},teamBuff:{premod:{atk_:Nn,shield_:Cn}}}),Rd={name:"Tenacity of the Millelith",rarity:[4,5],setEffects:{2:{document:[{header:cs(2),fields:[{node:Fn}]}]},4:{document:[{header:cs(4),teamBuff:!0,path:Nd,value:ft,name:c("hitOp.skill"),states:{cast:{fields:[{node:Nn},{node:Cn},{text:f("duration"),value:3,unit:"s"}]}}}]}}},xd=new n(pe,Rd,Cd),ht="TheExile",ds=o(ht),Rn=s(t.artSet.TheExile,2,a(.2)),jd=r(ht,{premod:{enerRech_:Rn}}),Wd={name:"The Exile",rarity:[3,4],setEffects:{2:{document:[{header:ds(2),fields:[{node:Rn}]}]},4:{document:[{header:ds(4),fields:[]}]}}},Gd=new n(ht,Wd,jd),ut="ThunderingFury",is=o(ut),xn=s(t.artSet.ThunderingFury,2,a(.15)),I=s(t.artSet.ThunderingFury,4,a(.4)),jn={...I},Wn={...I},Gn={...I},In=s(t.artSet.ThunderingFury,4,a(.2)),Id=r(ut,{premod:{electro_dmg_:xn,overloaded_dmg_:I,electrocharged_dmg_:jn,superconduct_dmg_:Wn,hyperbloom_dmg_:Gn,aggravate_dmg_:In}}),Vd={name:"Thundering Fury",rarity:[4,5],setEffects:{2:{document:[{header:is(2),fields:[{node:xn}]}]},4:{document:[{header:is(4),fields:[{node:I},{node:jn},{node:Wn},{node:Gn},{node:In}]}]}}},zd=new n(ut,Vd,Id),Se="Thundersoother",ms=o(Se),[Ld,Vn]=d(Se,"state"),zn=s(t.artSet.Thundersoother,2,a(.4)),Ln=s(t.artSet.Thundersoother,4,i("on",Vn,a(.35))),Ud=r(Se,{premod:{electro_res_:zn,all_dmg_:Ln}}),qd={name:"Thundersoother",rarity:[4,5],setEffects:{2:{document:[{header:ms(2),fields:[{node:zn}]}]},4:{document:[{header:ms(4),value:Vn,path:Ld,name:c("enemyAffected.electro"),states:{on:{fields:[{node:Ln}]}}}]}}},Kd=new n(Se,qd,Ud),V="TinyMiracle",ls=o(V),[,Jd]=v("artifact",V),[Qd,Un]=d(V,"element"),qn=Object.fromEntries(B.map(e=>[e,s(t.artSet.TinyMiracle,2,a(.2),l.info(`${e}_res_`))])),Kn=Object.fromEntries(B.map(e=>[e,s(t.artSet.TinyMiracle,4,i(Un,e,a(.3)),l.info(`${e}_res_`))])),Xd=r(V,{premod:Object.fromEntries(B.map(e=>[`${e}_res_`,_(qn[e],Kn[e])]))}),Yd={name:"Tiny Miracle",rarity:[3,4],setEffects:{2:{document:[{header:ls(2),fields:Object.values(qn).map(e=>({node:e}))}]},4:{document:[{header:ls(4),path:Qd,value:Un,teamBuff:!0,name:Jd("condName"),states:Object.fromEntries(B.map(e=>[e,{name:b(Ss,{color:e,children:f(`element.${e}`)}),fields:[...Object.values(Kn).map(m=>({node:m})),{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Zd=new n(V,Yd,Xd),$t="TravelingDoctor",fs=o($t),Jn=s(t.artSet.TravelingDoctor,2,a(.2)),Qn=s(t.artSet.TravelingDoctor,4,k(a(.2),t.total.hp)),ei=r($t,{premod:{incHeal_:Jn}},{heal:Qn}),ti={name:"Traveling Doctor",rarity:[3],setEffects:{2:{document:[{header:fs(2),fields:[{node:Jn}]}]},4:{document:[{header:fs(4),fields:[{node:Q(Qn,{name:f("healing"),variant:"heal"})}]}]}}},si=new n($t,ti,ei),ke="UnfinishedReverie",hs=o(ke),Xn=s(t.artSet.UnfinishedReverie,2,.18),Yn=w(1,5),[ai,Zn]=d(ke,"stacks"),eo=k(a(.1),u(Zn,$(Yn,e=>E(e)),g)),ni=r(ke,{premod:{atk_:Xn,all_dmg_:eo}}),oi={name:"Unfinished Reverie",rarity:[4,5],setEffects:{2:{document:[{header:hs(2),fields:[{node:Xn}]}]},4:{document:[{header:hs(4),value:Zn,path:ai,name:c("stacks"),states:$(Yn,e=>({name:`${e}`,fields:[{node:eo}]}))}]}}},ri=new n(ke,oi,ni),z="VermillionHereafter",Te=o(z),to=s(t.artSet.VermillionHereafter,2,a(.18),l.info("atk_")),[ci,J]=d(z,"afterBurst"),so=s(t.artSet.VermillionHereafter,4,i(J,"on",a(.08)),l.info("atk_")),[di,ao]=d(z,"stacks"),no=s(t.artSet.VermillionHereafter,4,i(J,"on",u(ao,Object.fromEntries(P(1,4).map(e=>[e,a(.1*e)])),g),l.info("atk_"))),ii=r(z,{premod:{atk_:_(to,so,no)}}),mi={name:"Vermillion Hereafter",rarity:[4,5],setEffects:{2:{document:[{header:Te(2),fields:[{node:to}]}]},4:{document:[{header:Te(4),value:J,path:ci,teamBuff:!0,name:c("afterUse.burst"),states:{on:{fields:[{node:so}]}}},{header:Te(4),value:ao,path:di,teamBuff:!0,name:c("stacks"),canShow:i(J,"on",1),states:Object.fromEntries(P(1,4).map(e=>[e,{name:c("stack",{count:e}),fields:[{node:no}]}]))}]}}},li=new n(z,mi,ii),ve="ViridescentVenerer",Me=o(ve),oo=s(t.artSet.ViridescentVenerer,2,a(.15)),ro=s(t.artSet.ViridescentVenerer,4,a(.6)),co=$(D,e=>[ve,`swirl${e}`]),io=$(D,e=>Bo(co[e])),mo=$s(D,e=>[`${e}_enemyRes_`,s(t.artSet.ViridescentVenerer,4,i(e,io[e],a(-.4)))]),fi=r(ve,{premod:{anemo_dmg_:oo,swirl_dmg_:ro},teamBuff:{premod:{...mo}}}),hi={name:"Viridescent Venerer",rarity:[4,5],setEffects:{2:{document:[{header:Me(2),fields:[{node:oo}]}]},4:{document:[{header:Me(4),fields:[{node:ro}]},{header:Me(4),teamBuff:!0,states:Object.fromEntries(D.map(e=>[e,{value:io[e],path:co[e],name:c(`swirlReaction.${e}`),fields:[{node:mo[`${e}_enemyRes_`]},{text:c(`effectDuration.${e}`),value:10,unit:"s"}]}]))}]}}},ui=new n(ve,hi,fi),Ee="VourukashasGlow",Fe=o(Ee),lo=s(t.artSet.VourukashasGlow,2,.2),fo=s(t.artSet.VourukashasGlow,4,.1,l.info("skill_dmg_")),ho=s(t.artSet.VourukashasGlow,4,.1,l.info("burst_dmg_")),[$i,_t]=d(Ee,"set4"),gt=w(1,5),uo=s(t.artSet.VourukashasGlow,4,u(_t,$(gt,e=>E(e*.08)),g),l.info("skill_dmg_")),$o=s(t.artSet.VourukashasGlow,4,u(_t,$(gt,e=>E(e*.08)),g),l.info("burst_dmg_")),_i=r(Ee,{premod:{hp_:lo,skill_dmg_:_(fo,uo),burst_dmg_:_(ho,$o)}}),gi={name:"Vourukasha's Glow",rarity:[4,5],setEffects:{2:{document:[{header:Fe(2),fields:[{node:lo}]}]},4:{document:[{header:Fe(4),fields:[{node:fo},{node:ho}]},{header:Fe(4),path:$i,value:_t,name:c("takeDmg"),states:$(gt,e=>({name:c("stack",{count:e}),fields:[{node:uo},{node:$o},{text:f("duration"),value:5,unit:"s"}]}))}]}}},yi=new n(Ee,gi,_i),yt="WanderersTroupe",us=o(yt),_o=s(t.artSet.WanderersTroupe,2,80),go=s(t.artSet.WanderersTroupe,4,u(t.weaponType,{catalyst:a(.35),bow:a(.35)},g)),pi=r(yt,{premod:{eleMas:_o,charged_dmg_:go}}),Si={name:"Wanderer's Troupe",rarity:[4,5],setEffects:{2:{document:[{header:us(2),fields:[{node:_o}]}]},4:{document:[{header:us(4),fields:[{node:go}]}]}}},ki=new n(yt,Si,pi),pt={Adventurer:Fo,ArchaicPetra:jo,Berserker:Vo,BlizzardStrayer:qo,BloodstainedChivalry:Xo,BraveHeart:tr,CrimsonWitchOfFlames:or,DeepwoodMemories:ir,DefendersWill:fr,DesertPavilionChronicle:_r,EchoesOfAnOffering:Sr,EmblemOfSeveredFate:Er,FlowerOfParadiseLost:Pr,FragmentOfHarmonicWhimsy:Mr,Gambler:Cr,GildedDreams:zr,GladiatorsFinale:qr,GoldenTroupe:Xr,HeartOfDepth:tc,HuskOfOpulentDreams:rc,Instructor:mc,Lavawalker:uc,LuckyDog:gc,MaidenBeloved:kc,MarechausseeHunter:bc,MartialArtist:Bc,NighttimeWhispersInTheEchoingWoods:Fc,NoblesseOblige:xc,NymphsDream:Lc,OceanHuedClam:Kc,PaleFlame:Yc,PrayersForDestiny:sd,PrayersForIllumination:rd,PrayersForWisdom:md,PrayersToSpringtime:ud,ResolutionOfSojourner:gd,RetracingBolide:kd,Scholar:Od,ShimenawasReminiscence:Bd,SongOfDaysPast:Fd,TenacityOfTheMillelith:xd,TheExile:Gd,ThunderingFury:zd,Thundersoother:Kd,TinyMiracle:Zd,TravelingDoctor:si,UnfinishedReverie:ri,VermillionHereafter:li,ViridescentVenerer:ui,VourukashasGlow:yi,WanderersTroupe:ki};function yo(e){return pt[e]}const vi=Object.fromEntries(_s.map(e=>[e,[]]));gs.forEach(e=>{const m=yo(e),h=Math.max(...m.rarity);vi[h].push(e)});const Bi=ys(Object.values(pt).map(e=>e.data));function Di(e){const m={};return gs.forEach(h=>{const p=yo(h),y=Object.keys(p.setEffects).map(S=>parseInt(S)).filter(S=>p.hasEnough(S,e));y.length&&(m[h]=y)}),m}const Ei=pt,Oi=5,bi=["hp_","def_","atk_"];function Ai(e){return bi.includes(e)?"%":""}const je=class{constructor(){if(this instanceof je)throw Error("A static class cannot be instantiated.")}static getArtifactEfficiency(e,m){const{substats:h,rarity:p,level:y}=e,S=h.filter(({key:O})=>O&&m.has(O)).reduce((O,{efficiency:So})=>O+(So??0),0),po=Eo(y,p),Oe=h.filter(O=>!O.key).length,kt=h.filter(O=>O.key&&m.has(O.key)).length,vt=m.size-kt-(m.has(e.mainStatKey)?1:0);let be=S;const Et=je.maxSubstatRollEfficiency[p];return be+=Et*Math.min(Oe,vt),(kt||Oe&&vt)&&(be+=Et*(po-Oe)),{currentEfficiency:S,maxEfficiency:be}}};let St=je;St.maxSubstatRollEfficiency=$(_s,e=>100*Math.max(...vo.map(m=>Ot(m,e)/Ot(m,Oi))));St.setToSlots=e=>{const m={};return Object.entries(e).forEach(([h,p])=>{p&&(m[p.setKey]?m[p.setKey].push(h):m[p.setKey]=[h])}),m};St.levelVariant=e=>"roll"+(Math.floor(Math.max(e,0)/4)+1);export{St as A,Ao as a,Ai as b,Bi as c,Di as d,yo as g,vi as s};
