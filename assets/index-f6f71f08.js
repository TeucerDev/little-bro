import{c5 as Gh,k as G,co as d,o as p,bo as $,d as v,cL as Kh,cw as Lh,e as qh}from"./index-c6225add.js";import{y as zh,p as e,S as Vh,a2 as g,i as w,X as u,N as f,s as P,a8 as a,z as i,v as Zo,Z as Uh,a0 as m,a3 as h,W as t,a4 as _,R as c,Y as l,a9 as y,k as te,P as S,aa as Ge,O as es,a5 as N,L as E,t as ns,a7 as Ta,V as b,ab as Jh}from"./index-c6848864.js";import{I as Qh,C as Re}from"./ColoredText-0d6b1724.js";const ts=class{constructor(n,k,W,x){this.passiveDescription=ra=>this.hasRefinement?this.tr(`passiveDescription.${ra}`):"",this.rarity=W.rarity,this.weaponType=W.weaponType,this.key=n,this.sheet=k,this.data=x}static trm(n){return g("weapon",n)[1]}static tr(n){return g("weapon",n)[0]}static getAllDataOfType(n){return D8[n]}get tr(){return ts.tr(this.key)}get name(){return this.tr("name")}get hasRefinement(){return this.rarity>2}get passiveName(){return this.hasRefinement?this.tr("passiveName"):""}get description(){return this.tr("description")}get document(){return this.sheet.document}};let s=ts;s.getWeaponsOfType=(n,k)=>Object.fromEntries(Object.entries(n).filter(([W,x])=>x.weaponType===k));s.getLevelString=n=>Gh(n.level,n.ascension);function o(n,k){const W=s.tr(n);return{title:W("passiveName"),icon:x=>G(Qh,{size:2,src:zh(n,x.get(e.weapon.asc).value>=2)}),action:k&&G(Vh,{color:"success",children:k}),description:x=>W(`passiveDescription.${x.get(e.weapon.refinement).value-1}`)}}function r(n,k,W={},x={}){const ra={base:{},premod:{},total:{},weapon:{key:w(n),type:w(k.weaponType)},display:{[`weapon:${n}`]:x}},{mainStat:oe,subStat:H}=k,ia=[ra];if(oe.type!=="atk"&&oe.type!=="def"&&oe.type!=="hp")throw new Error("Main stat type must be `atk`");const Wh=u(P(i(oe.base,a(e.weapon.lvl,d.weapon.expCurve[oe.curve])),a(e.weapon.asc,k.ascensionBonus.atk??[])),f.info(oe.type));if(ia.push({base:{[oe.type]:e.weapon.main},weapon:{main:Wh}}),H){if(H.type==="atk"||H.type==="def"||H.type==="hp")throw new Error("SubStat cannot be `atk`, `def`, or `hp`");const Hh=u(i(H.base,a(e.weapon.lvl,d.weapon.expCurve[H.curve])),f.info(H.type));ia.push({premod:{[H.type]:e.weapon.sub},weapon:{sub:Hh}})}return Zo([...ia,Uh(W,n)])}const Ke="AlleyHunter",as=d.weapon.data[Ke],[,Xh]=g("weapon",Ke),Yh=[-1,.02,.025,.03,.035,.04],[Zh,os]=m(Ke,"OppidanAmbush"),ss=h(os,{...p($(1,10),n=>i(a(e.weapon.refinement,Yh),n))},_),e1=r(Ke,as,{premod:{all_dmg_:ss}}),n1={document:[{value:os,path:Zh,header:o(Ke,t("conditional")),name:Xh("condName"),states:Object.fromEntries($(1,10).map(n=>[n,{name:t("seconds",{count:n}),fields:[{node:ss}]}]))}]},t1=new s(Ke,n1,as,e1),ce="AmosBow",cs=d.weapon.data[ce],[,a1]=g("weapon",ce),ds=[-1,.12,.15,.18,.21,.24],o1=[-1,.08,.1,.12,.14,.16],[s1,Ra]=m(ce,"StrongWilled"),rs=a(e.weapon.refinement,ds,f.info("normal_dmg_")),is=a(e.weapon.refinement,ds,f.info("charged_dmg_")),ms=a(e.weapon.refinement,o1),ls=h(Ra,{...p($(1,5),n=>i(ms,n))},_,f.info("normal_dmg_")),$s=h(Ra,{...p($(1,5),n=>i(ms,n))},_,f.info("charged_dmg_")),c1=r(ce,cs,{premod:{normal_dmg_:P(rs,ls),charged_dmg_:P(is,$s)}}),d1={document:[{header:o(ce,t("base")),fields:[{node:rs},{node:is}]},{value:Ra,path:s1,header:o(ce,t("stacks")),name:a1("condName"),states:p($(1,5),n=>({name:t("seconds",{count:n/10}),fields:[{node:ls},{node:$s}]}))}]},r1=new s(ce,d1,cs,c1),de="AquaSimulacra",ps=d.weapon.data[de],[,i1]=g("weapon",de),m1=[-1,.16,.2,.24,.28,.32],l1=[-1,.2,.25,.3,.35,.4],[$1,hs]=m(de,"passive"),us=a(e.weapon.refinement,m1),_s=c(hs,"on",a(e.weapon.refinement,l1)),p1=r(de,ps,{premod:{hp_:us,all_dmg_:_s}}),h1={document:[{header:o(de,t("base")),fields:[{node:us}]},{value:hs,path:$1,header:o(de,t("conditional")),name:i1("condName"),states:{on:{fields:[{node:_s}]}}}]},u1=new s(de,h1,ps,p1),fn="BlackcliffWarbow",fs=d.weapon.data[fn],_1=[-1,.12,.15,.18,.21,.24],[f1,gs]=m(fn,"PressTheAdvantage"),ws=h(gs,{...p($(1,3),n=>i(a(e.weapon.refinement,_1),n))},_),g1=r(fn,fs,{premod:{atk_:ws}}),w1={document:[{value:gs,path:f1,header:o(fn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries($(1,3).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ws},{text:l("duration"),value:30,unit:"s"}]}]))}]},k1=new s(fn,w1,fs,g1),gn="CompoundBow",ks=d.weapon.data[gn],v1=[-1,.04,.05,.06,.07,.08],y1=[-1,.012,.015,.018,.021,.024],[P1,Ca]=m(gn,"InfusionArrow"),vs=h(Ca,{...p($(1,4),n=>i(a(e.weapon.refinement,v1),n))},_),ys=h(Ca,{...p($(1,4),n=>i(a(e.weapon.refinement,y1),n))},_),S1=r(gn,ks,{premod:{atk_:vs,atkSPD_:ys}}),b1={document:[{value:Ca,path:P1,header:o(gn,t("stacks")),name:t("hitOp.normalOrCharged"),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:vs},{node:ys}]}]))}]},O1=new s(gn,b1,ks,S1),re="ElegyForTheEnd",[,B1]=g("weapon",re),Ps=d.weapon.data[re],A1=[-1,60,75,90,105,120],E1=[-1,100,125,150,175,200],x1=[-1,.2,.25,.3,.35,.4],[M1,Ia]=m(re,"ThePartingRefrain"),Ss=a(e.weapon.refinement,A1,f.info("eleMas")),bs=c(Ia,"on",a(e.weapon.refinement,E1,f.info("eleMas"))),Os=c(Ia,"on",a(e.weapon.refinement,x1)),D1=r(re,Ps,{premod:{eleMas:Ss},teamBuff:{premod:{atk_:Os,eleMas:bs}}}),T1={document:[{header:o(re,t("base")),fields:[{node:Ss}]},{value:Ia,path:M1,teamBuff:!0,header:o(re,t("conditional")),name:B1("condName"),states:{on:{fields:[{node:bs},{node:Os},{text:l("duration"),value:12,unit:"s"}]}}}]},R1=new s(re,T1,Ps,D1),wn="EndOfTheLine",Bs=d.weapon.data[wn],C1=[-1,.8,1,1.2,1.4,1.6],As=c(e.weapon.key,wn,y(i(a(e.weapon.refinement,C1,{unit:"%"}),e.total.atk),"elemental")),I1=r(wn,Bs,void 0,{dmg:As}),j1={document:[{header:o(wn,t("base")),fields:[{node:u(As,{name:t("dmg")})}]}]},F1=new s(wn,j1,Bs,I1),Le="FadingTwilight",Es=d.weapon.data[Le],[,zo]=g("weapon",Le),[N1,xs]=m(Le,"state"),Ms={evengleam:a(e.weapon.refinement,[-1,.06,.075,.09,.105,.12]),afterglow:a(e.weapon.refinement,[-1,.1,.125,.15,.175,.2]),dawnblaze:a(e.weapon.refinement,[-1,.14,.175,.21,.245,.28])},Ds=h(xs,Ms,_),W1=r(Le,Es,{premod:{all_dmg_:Ds}}),H1={document:[{value:xs,path:N1,header:o(Le,t("conditional")),name:zo("condName"),states:Object.fromEntries(Object.keys(Ms).map(n=>[n,{name:zo(`states.${n}`),fields:[{node:Ds}]}]))}]},G1=new s(Le,H1,Es,W1),Ct="FavoniusWarbow",Ts=d.weapon.data[Ct],K1=r(Ct,Ts),L1={document:[{header:o(Ct),fields:[]}]},q1=new s(Ct,L1,Ts,K1),ie="Hamayumi",Rs=d.weapon.data[ie],[,z1]=g("weapon",ie),Cs=[-1,.16,.2,.24,.28,.32],Is=[-1,.12,.15,.18,.21,.24],js=a(e.weapon.refinement,Cs,f.info("normal_dmg_")),Fs=a(e.weapon.refinement,Is,f.info("charged_dmg_")),[V1,ja]=m(ie,"FullDraw"),Ns=c(ja,"on",a(e.weapon.refinement,Cs,f.info("normal_dmg_"))),Ws=c(ja,"on",a(e.weapon.refinement,Is,f.info("charged_dmg_"))),U1=r(ie,Rs,{premod:{normal_dmg_:P(js,Ns),charged_dmg_:P(Fs,Ws)}}),J1={document:[{header:o(ie,t("base")),fields:[{node:js},{node:Fs}]},{value:ja,path:V1,name:z1("condName"),header:o(ie,t("conditional")),states:{on:{fields:[{node:Ns},{node:Ws}]}}}]},Q1=new s(ie,J1,Rs,U1),Fa="HuntersBow",Na=d.weapon.data[Fa],X1=r(Fa,Na),Y1={...Na,document:[]},Z1=new s(Fa,Y1,Na,X1),Ce="HuntersPath",Hs=d.weapon.data[Ce],eu=[-1,.12,.15,.18,.21,.24],Gs=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,eu,{unit:"%"})])),nu=[-1,1.6,2,2.4,2.8,3.2],[tu,Ks]=m(Ce,"passive"),Ls=c(Ks,"on",i(a(e.weapon.refinement,nu,{unit:"%"}),e.total.eleMas)),au=r(Ce,Hs,{premod:{...Gs,charged_dmgInc:Ls}}),ou={document:[{header:o(Ce,t("base")),fields:Object.values(Gs).map(n=>({node:n}))},{value:Ks,path:tu,header:o(Ce,t("conditional")),name:t("hitOp.charged"),states:{on:{fields:[{node:Ls},{text:l("duration"),value:10,unit:"s"},{text:t("charges"),value:12},{text:l("cd"),value:12,unit:"s"}]}}}]},su=new s(Ce,ou,Hs,au),kn="IbisPiercer",qs=d.weapon.data[kn],zs=$(1,2),cu=[-1,40,50,60,70,80],[du,Vs]=m(kn,"passiveStacks"),Us=h(Vs,p(zs,n=>i(a(e.weapon.refinement,cu),n)),_),ru=r(kn,qs,{premod:{eleMas:Us}}),iu={document:[{value:Vs,path:du,header:o(kn,t("stacks")),name:t("hitOp.charged"),states:Object.fromEntries(zs.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Us},{text:l("duration"),value:6,unit:"s"}]}]))}]},mu=new s(kn,iu,qs,ru),me="KingsSquire",Js=d.weapon.data[me],[lu,Qs]=m(me,"passive"),$u=[-1,60,80,100,120,140],Xs=c(Qs,"on",a(e.weapon.refinement,$u)),pu=[-1,1,1.2,1.4,1.6,1.8],Ys=c(e.weapon.key,me,y(i(a(e.weapon.refinement,pu,{unit:"%"}),e.total.atk),"elemental")),hu=r(me,Js,{premod:{eleMas:Xs}},{dmg:Ys}),uu={document:[{header:o(me,t("base")),fields:[{node:u(Ys,{name:t("dmg")})}]},{value:Qs,path:lu,header:o(me,t("conditional")),name:t("afterUse.skillOrBurst"),states:{on:{fields:[{node:Xs},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},_u=new s(me,uu,Js,hu),vn="Messenger",Zs=d.weapon.data[vn],fu=[-1,1,1.25,1.5,1.75,2],ec=c(e.weapon.key,vn,y(i(a(e.weapon.refinement,fu),e.total.atk),"elemental",{hit:{ele:w("physical")}})),gu=r(vn,Zs,void 0,{dmg:ec}),wu={document:[{header:o(vn,t("base")),fields:[{node:u(ec,{name:t("dmg")})}]}]},ku=new s(vn,wu,Zs,gu),le="MitternachtsWaltz",nc=d.weapon.data[le],vu=[-1,.2,.25,.3,.35,.4],yu=[-1,.2,.25,.3,.35,.4],[Pu,tc]=m(le,"EvernightDuetSkill"),[Su,ac]=m(le,"EvernightDuetNormal"),oc=c(tc,"on",a(e.weapon.refinement,vu)),sc=c(ac,"on",a(e.weapon.refinement,yu)),bu=r(le,nc,{premod:{skill_dmg_:oc,normal_dmg_:sc}}),Ou={document:[{value:ac,path:Su,header:o(le,t("conditional")),name:t("hitOp.skill"),states:{on:{fields:[{node:sc},{text:l("duration"),value:5,unit:"s"}]}}},{value:tc,path:Pu,header:o(le,t("conditional")),name:t("hitOp.normal"),states:{on:{fields:[{node:oc},{text:l("duration"),value:5,unit:"s"}]}}}]},Bu=new s(le,Ou,nc,bu),qe="MouunsMoon",cc=d.weapon.data[qe],[,Au]=g("weapon",qe),[Eu,dc]=m(qe,"WatatsumiWavewalker"),rc=$(4,36).map(n=>n*10),xu=[-1,.0012,.0015,.0018,.0021,.0024],Mu=[-1,.4,.5,.6,.7,.8],ic=h(dc,Object.fromEntries(rc.map(n=>[n,te(i(a(e.weapon.refinement,xu,{unit:"%"}),n),a(e.weapon.refinement,Mu,{unit:"%"}))])),_),Du=r(qe,cc,{premod:{burst_dmg_:ic}}),Tu={document:[{value:dc,path:Eu,header:o(qe,t("conditional")),name:Au("party"),states:Object.fromEntries(rc.map(n=>[n,{name:n.toString(),fields:[{node:ic}]}]))}]},Ru=new s(qe,Tu,cc,Du),$e="PolarStar",mc=d.weapon.data[$e],[,Cu]=g("weapon",$e),lc=[-1,.12,.15,.18,.21,.24],Iu=[-1,.1,.125,.15,.175,.2],ju=[-1,.2,.25,.3,.35,.4],Fu=[-1,.3,.375,.45,.528,.6],Nu=[-1,.48,.6,.72,.84,.96],[Wu,$c]=m($e,"GoldenMajesty"),pc=a(e.weapon.refinement,lc),hc=a(e.weapon.refinement,lc),uc=h($c,{1:a(e.weapon.refinement,Iu),2:a(e.weapon.refinement,ju),3:a(e.weapon.refinement,Fu),4:a(e.weapon.refinement,Nu)},_),Hu=r($e,mc,{premod:{skill_dmg_:pc,burst_dmg_:hc,atk_:uc}}),Gu={document:[{header:o($e,t("base")),fields:[{node:pc},{node:hc}]},{value:$c,path:Wu,header:o($e,t("stacks")),name:Cu("condName"),states:p($(1,4),n=>({name:t("stack",{count:n}),fields:[{node:uc}]}))}]},Ku=new s($e,Gu,mc,Hu),yn="Predator",_c=d.weapon.data[yn],Lu=S(.1),qu=S(.1),[zu,Wa]=m(yn,"PressTheAdvantage"),fc=h(Wa,{...p($(1,2),n=>i(Lu,n))},_),gc=h(Wa,{...p($(1,2),n=>i(qu,n))},_),Vu=c(e.activeCharKey,"Aloy",66),Uu=r(yn,_c,{premod:{normal_dmg_:fc,charged_dmg_:gc,atk:Vu}}),Ju={document:[{value:Wa,path:zu,header:o(yn,t("stacks")),name:t("hitOp.cryo"),states:Object.fromEntries($(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:fc},{node:gc},{text:l("duration"),value:6,unit:"s"}]}]))}]},Qu=new s(yn,Ju,_c,Uu),Pn="PrototypeCrescent",wc=d.weapon.data[Pn],Xu=[-1,.36,.45,.54,.63,.72],[Yu,Ha]=m(Pn,"Unreturning"),kc=c(Ha,"on",a(e.weapon.refinement,Xu)),vc=c(Ha,"on",S(.1)),Zu=r(Pn,wc,{premod:{atk_:kc,moveSPD_:vc}}),e_={document:[{value:Ha,path:Yu,header:o(Pn,t("conditional")),name:t("hitOp.weakSpot"),states:{on:{fields:[{node:kc},{node:vc},{text:l("duration"),value:10,unit:"s"}]}}}]},n_=new s(Pn,e_,wc,Zu),ze="RangeGauge",yc=d.weapon.data[ze],[,t_]=g("weapon",ze),a_=[-1,.03,.04,.05,.06,.07],o_=[-1,.07,.085,.1,.115,.13],[s_,Ga]=m(ze,"marksConsumed"),Ka=$(1,3),Pc=h(Ga,p(Ka,n=>i(n,a(e.weapon.refinement,a_,{unit:"%"}))),_),c_=h(Ga,p(Ka,n=>i(n,a(e.weapon.refinement,o_,{unit:"%"}))),_),Sc=p(v.map(n=>`${n}_dmg_`),()=>({...c_})),d_=r(ze,yc,{premod:{atk_:Pc,...Sc}}),r_={document:[{value:Ga,path:s_,teamBuff:!0,header:o(ze,t("stacks")),name:t_("condName"),states:p(Ka,n=>({name:`${n}`,fields:[{node:Pc},...Object.values(Sc).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},i_=new s(ze,r_,yc,d_),Sn="RavenBow",bc=d.weapon.data[Sn],m_=[-1,.12,.15,.18,.21,.24],[l_,Oc]=m(Sn,"BaneOfFlameAndWater"),Bc=c(Oc,"on",a(e.weapon.refinement,m_)),$_=r(Sn,bc,{premod:{all_dmg_:Bc}}),p_={document:[{value:Oc,path:l_,name:t("enemyAffected.hydroOrPyro"),header:o(Sn,t("conditional")),states:{on:{fields:[{node:Bc}]}}}]},h_=new s(Sn,p_,bc,$_),bn="RecurveBow",Ac=d.weapon.data[bn],u_=[-1,.08,.1,.12,.14,.16],Ec=c(e.weapon.key,bn,Ge(i(e.total.hp,a(e.weapon.refinement,u_)))),__=r(bn,Ac,void 0,{healing:Ec}),f_={document:[{header:o(bn,t("base")),fields:[{node:u(Ec,{name:l("healing"),variant:"heal"})}]}]},g_=new s(bn,f_,Ac,__),On="RoyalBow",xc=d.weapon.data[On],w_=[-1,.08,.1,.12,.14,.16],[k_,Mc]=m(On,"Focus"),Dc=h(Mc,{...p($(1,5),n=>i(a(e.weapon.refinement,w_),n))},_),v_=r(On,xc,{premod:{critRate_:Dc}}),y_={document:[{value:Mc,path:k_,header:o(On,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Dc}]}]))}]},P_=new s(On,y_,xc,v_),It="Rust",Tc=d.weapon.data[It],S_=[-1,.4,.5,.6,.7,.8],Rc=a(e.weapon.refinement,S_),Cc=w(-.1),b_=r(It,Tc,{premod:{normal_dmg_:Rc,charged_dmg_:Cc}}),O_={document:[{header:o(It,t("base")),fields:[{node:Rc},{node:Cc}]}]},B_=new s(It,O_,Tc,b_),jt="SacrificialBow",Ic=d.weapon.data[jt],A_=r(jt,Ic),E_={document:[{header:o(jt),fields:[]}]},x_=new s(jt,E_,Ic,A_),pe="ScionOfTheBlazingSun",jc=d.weapon.data[pe],[,Vo]=g("weapon",pe),M_=[-1,.6,.75,.9,1.05,1.2],D_=[-1,.28,.35,.42,.49,.56],T_=y(i(a(e.weapon.refinement,M_,{unit:"%"}),e.total.atk),"elemental"),[R_,Fc]=m(pe,"afterHit"),Nc=c(Fc,"on",a(e.weapon.refinement,D_)),C_=r(pe,jc,{premod:{charged_dmg_:Nc}}),I_={document:[{header:o(pe,t("dmg")),fields:[{node:u(T_,{name:Vo("dmg")})}]},{header:o(pe,t("conditional")),path:R_,value:Fc,name:Vo("condName"),states:{on:{fields:[{node:Nc},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}}]},j_=new s(pe,I_,jc,C_),La="SeasonedHuntersBow",qa=d.weapon.data[La],F_=r(La,qa),N_={...qa,document:[]},W_=new s(La,N_,qa,F_),Ft="SharpshootersOath",Wc=d.weapon.data[Ft],H_=[-1,.24,.3,.36,.42,.48],Hc=a(e.weapon.refinement,H_),G_=r(Ft,Wc,{premod:{weakspotDMG_:Hc}}),K_={document:[{header:o(Ft,t("base")),fields:[{node:Hc}]}]},L_=new s(Ft,K_,Wc,G_),Bn="SkywardHarp",Gc=d.weapon.data[Bn],q_=[-1,.2,.25,.3,.35,.4],z_=S(1.25),Kc=a(e.weapon.refinement,q_),Lc=c(e.weapon.key,Bn,y(i(z_,e.total.atk),"elemental",{hit:{ele:w("physical")}})),V_=r(Bn,Gc,{premod:{critDMG_:Kc}},{dmg:Lc}),U_={document:[{header:o(Bn,t("base")),fields:[{node:Kc},{node:u(Lc,{name:t("dmg")})}]}]},J_=new s(Bn,U_,Gc,V_),Ve="Slingshot",qc=d.weapon.data[Ve],[,Uo]=g("weapon",Ve),Q_=[-1,.36,.42,.48,.54,.6],[X_,zc]=m(Ve,"Slingshot"),Y_=["less","more"],za=h(zc,{less:a(e.weapon.refinement,Q_,f.info("normal_dmg_")),more:S(-.1,f.info("normal_dmg_"))},_),Vc={...za},Z_=r(Ve,qc,{premod:{normal_dmg_:za,charged_dmg_:Vc}}),ef={document:[{value:zc,path:X_,header:o(Ve,t("conditional")),name:Uo("condName"),states:p(Y_,n=>({name:Uo(n),fields:[{node:za},{node:Vc}]}))}]},nf=new s(Ve,ef,qc,Z_),An="SongOfStillness",Uc=d.weapon.data[An],tf=[-1,.16,.2,.24,.28,.32],[af,Jc]=m(An,"afterHeal"),Qc=c(Jc,"on",a(e.weapon.refinement,tf)),of=r(An,Uc,{premod:{all_dmg_:Qc}}),sf={document:[{header:o(An,t("conditional")),path:af,value:Jc,name:t("afterHeal"),states:{on:{fields:[{node:Qc},{text:l("duration"),value:8,unit:"s"}]}}}]},cf=new s(An,sf,Uc,of),_n="TheFirstGreatMagic",Xc=d.weapon.data[_n],df=[-1,.16,.2,.24,.28,.32],ma=[[-1,.16,.2,.24,.28,.32],[-1,.32,.4,.48,.56,.64],[-1,.48,.6,.72,.84,.96]],la=[[-1,.04,.06,.08,.1,.12],[-1,.07,.09,.11,.13,.15],[-1,.1,.12,.14,.16,.18]],Jo=h(e.charEle,E,_),$a=P(...v.map(n=>es(E[n],1,N(n,e.charEle,E[n])))),Yc=a(e.weapon.refinement,df),Zc=ns(Jo,3,a(e.weapon.refinement,ma[2]),Ta(Jo,2,a(e.weapon.refinement,ma[1]),a(e.weapon.refinement,ma[0]))),ha=ns($a,3,a(e.weapon.refinement,la[2]),Ta($a,2,a(e.weapon.refinement,la[1]),c($a,1,a(e.weapon.refinement,la[0])))),rf=r(_n,Xc,{premod:{charged_dmg_:Yc,atk_:Zc,moveSPD_:ha}}),mf={document:[{header:o(_n,t("base")),fields:[{node:Yc}]},{header:o(_n,t("stacks")),fields:[{node:Zc},{canShow:n=>n.get(ha).value>0,node:ha}]}]},lf=new s(_n,mf,Xc,rf),Nt="TheStringless",ed=d.weapon.data[Nt],nd=[-1,.24,.3,.36,.42,.48],td=a(e.weapon.refinement,nd),ad=a(e.weapon.refinement,nd),$f=r(Nt,ed,{premod:{skill_dmg_:td,burst_dmg_:ad}}),pf={document:[{header:o(Nt,t("base")),fields:[{node:td},{node:ad}]}]},hf=new s(Nt,pf,ed,$f),En="TheViridescentHunt",od=d.weapon.data[En],uf=[-1,.4,.5,.6,.7,.8],sd=c(e.weapon.key,En,y(i(a(e.weapon.refinement,uf),e.total.atk),"elemental",{hit:{ele:w("physical")}})),_f=r(En,od,void 0,{dmg:sd}),ff={document:[{header:o(En,t("base")),fields:[{node:u(sd,{name:t("dmg")})}]}]},gf=new s(En,ff,od,_f),he="ThunderingPulse",cd=d.weapon.data[he],[,wf]=g("weapon",he),kf=[-1,.2,.25,.3,.35,.4],vf=[-1,.12,.15,.18,.21,.24],yf=[-1,.24,.3,.36,.42,.48],Pf=[-1,.4,.5,.6,.7,.8],[Sf,dd]=m(he,"RuleByThunder"),rd=a(e.weapon.refinement,kf),id=h(dd,{1:a(e.weapon.refinement,vf),2:a(e.weapon.refinement,yf),3:a(e.weapon.refinement,Pf)},_),bf=r(he,cd,{premod:{atk_:rd,normal_dmg_:id}}),Of={document:[{header:o(he,t("base")),fields:[{node:rd}]},{value:dd,path:Sf,header:o(he,t("stacks")),name:wf("condName"),states:p($(1,3),n=>({name:t("stack",{count:n}),fields:[{node:id}]}))}]},Bf=new s(he,Of,cd,bf),xn="WindblumeOde",md=d.weapon.data[xn],Af=[-1,.16,.2,.24,.28,.32],[Ef,ld]=m(xn,"WindblumeWish"),$d=c(ld,"on",a(e.weapon.refinement,Af)),xf=r(xn,md,{premod:{atk_:$d}}),Mf={document:[{value:ld,path:Ef,name:t("afterUse.skill"),header:o(xn,t("conditional")),states:{on:{fields:[{node:$d},{text:l("duration"),value:6,unit:"s"}]}}}]},Df=new s(xn,Mf,md,xf),Tf={AlleyHunter:t1,AmosBow:r1,AquaSimulacra:u1,BlackcliffWarbow:k1,CompoundBow:O1,ElegyForTheEnd:R1,FadingTwilight:G1,FavoniusWarbow:q1,Hamayumi:Q1,HuntersBow:Z1,HuntersPath:su,IbisPiercer:mu,KingsSquire:_u,Messenger:ku,MitternachtsWaltz:Bu,MouunsMoon:Ru,PolarStar:Ku,Predator:Qu,PrototypeCrescent:n_,RangeGauge:i_,RavenBow:h_,RecurveBow:g_,RoyalBow:P_,Rust:B_,SacrificialBow:x_,ScionOfTheBlazingSun:j_,SeasonedHuntersBow:W_,SharpshootersOath:L_,SkywardHarp:J_,Slingshot:nf,SongOfStillness:cf,TheFirstGreatMagic:lf,TheStringless:hf,TheViridescentHunt:gf,ThunderingPulse:Bf,EndOfTheLine:F1,WindblumeOde:Df},Ie="AThousandFloatingDreams",pd=d.weapon.data[Ie],Rf=[-1,32,40,48,56,64],Cf=[-1,.1,.14,.18,.22,.26],If=[-1,40,42,44,46,48],hd=h(e.charEle,Object.fromEntries(v.map(n=>[n,u(P(E[n],-1),{asConst:!0})])),_),jf=P(...v.map(n=>E[n])),ud=i(hd,a(e.weapon.refinement,Rf)),_d=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,i(u(P(jf,-1,i(hd,-1)),{asConst:!0}),a(e.weapon.refinement,Cf,{unit:"%"})))])),fd=c(e.weapon.key,Ie,a(e.weapon.refinement,If),{...f.info("eleMas"),isTeamBuff:!0}),Ff=N(e.charKey,b.charKey,fd),Nf=r(Ie,pd,{premod:{eleMas:ud,..._d},teamBuff:{premod:{eleMas:Ff}}}),Wf={document:[{header:o(Ie,t("base")),fields:[{node:ud},...Object.values(_d).map(n=>({node:n}))]},{header:o(Ie,t("teamBuff")),teamBuff:!0,fields:[{node:fd}]}]},Hf=new s(Ie,Wf,pd,Nf),Va="ApprenticesNotes",Ua=d.weapon.data[Va],Gf=r(Va,Ua),Kf={...Ua,document:[]},Lf=new s(Va,Kf,Ua,Gf),Mn="BalladOfTheBoundlessBlue",gd=d.weapon.data[Mn],qf=[-1,.08,.1,.12,.14,.16],zf=[-1,.06,.075,.09,.105,.12],[Vf,Ja]=m(Mn,"hits"),Qa=$(1,3),wd=h(Ja,p(Qa,n=>i(n,a(e.weapon.refinement,qf,{unit:"%"}))),_),kd=h(Ja,p(Qa,n=>i(n,a(e.weapon.refinement,zf,{unit:"%"}))),_),Uf=r(Mn,gd,{premod:{normal_dmg_:wd,charged_dmg_:kd}}),Jf={document:[{value:Ja,path:Vf,teamBuff:!0,header:o(Mn,t("stacks")),name:t("hitOp.normalOrCharged"),states:p(Qa,n=>({name:t("hits",{count:n}),fields:[{node:wd},{node:kd},{text:l("duration"),value:6,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},Qf=new s(Mn,Jf,gd,Uf),Dn="BlackcliffAgate",vd=d.weapon.data[Dn],[Xf,yd]=m(Dn,"PressTheAdvantage"),Pd=$(1,3),Yf=[-1,.12,.15,.18,.21,.24],Sd=i(h(yd,p(Pd,n=>w(n)),0),a(e.weapon.refinement,Yf)),Zf=r(Dn,vd,{premod:{atk_:Sd}}),eg={document:[{value:yd,path:Xf,header:o(Dn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Pd.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Sd},{text:l("duration"),value:30,unit:"s"}]}]))}]},ng=new s(Dn,eg,vd,Zf),V="CashflowSupervision",Xa=d.weapon.data[V],bd=Xa.refinementBonus.atk_;if(!bd)throw new Error(`data_gen.refinementBonus.atk_ for ${V} was undefined`);const tg=[-1,.16,.2,.24,.28,.32],ag=[-1,.14,.175,.21,.245,.28],og=[-1,.08,.1,.12,.14,.16],Od=c(e.weapon.key,V,a(e.weapon.refinement,bd)),[sg,Wt]=m(V,"hpChanges"),Ya=$(1,3),Bd=h(Wt,p(Ya,n=>i(n,a(e.weapon.refinement,tg,{unit:"%"}))),_),Ad=h(Wt,p(Ya,n=>i(n,a(e.weapon.refinement,ag,{unit:"%"}))),_),Ed=c(Wt,"3",a(e.weapon.refinement,og)),cg=r(V,Xa,{premod:{atk_:Od,normal_dmg_:Bd,charged_dmg_:Ad,atkSPD_:Ed}}),dg={document:[{header:o(V,t("base")),fields:[{node:Od}]},{value:Wt,path:sg,header:o(V,t("stacks")),name:t("hpChange"),states:p(Ya,n=>({name:t("times",{count:n}),fields:[{node:Bd},{node:Ad},{node:Ed},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},rg=new s(V,dg,Xa,cg),Tn="CranesEchoingCall",xd=d.weapon.data[Tn],ig=[-1,.28,.41,.54,.67,.8],[mg,Md]=m(Tn,"passive"),Dd=c(Md,"on",a(e.weapon.refinement,ig,{unit:"%"})),lg=r(Tn,xd,{teamBuff:{premod:{plunging_dmg_:Dd}}}),$g={document:[{value:Md,path:mg,header:o(Tn,t("conditional")),name:t("hitOp.plunging"),teamBuff:!0,states:{on:{fields:[{node:Dd},{text:l("duration"),value:20,unit:"s"}]}}}]},pg=new s(Tn,$g,xd,lg),ue="DodocoTales",Td=d.weapon.data[ue],hg=[-1,.16,.2,.24,.28,.32],ug=[-1,.08,.1,.12,.14,.16],[_g,Rd]=m(ue,"DodoventureNormal"),[fg,Cd]=m(ue,"DodoventureCharged"),Id=c("on",Rd,a(e.weapon.refinement,hg)),jd=c("on",Cd,a(e.weapon.refinement,ug)),gg=r(ue,Td,{premod:{charged_dmg_:Id,atk_:jd}}),wg={document:[{value:Rd,path:_g,name:t("hitOp.normal"),header:o(ue,t("conditional")),states:{on:{fields:[{node:Id},{text:l("duration"),value:6,unit:"s"}]}}},{value:Cd,path:fg,name:t("hitOp.charged"),header:o(ue,t("conditional")),states:{on:{fields:[{node:jd},{text:l("duration"),value:6,unit:"s"}]}}}]},kg=new s(ue,wg,Td,gg),Rn="EmeraldOrb",Fd=d.weapon.data[Rn],vg=[-1,.2,.25,.3,.35,.4],[yg,Nd]=m(Rn,"Rapids"),Wd=c("on",Nd,a(e.weapon.refinement,vg)),Pg=r(Rn,Fd,{premod:{atk_:Wd}}),Sg={document:[{value:Nd,path:yg,name:t("elementalReaction.hydro"),header:o(Rn,t("conditional")),states:{on:{fields:[{node:Wd},{text:l("duration"),value:12,unit:"s"}]}}}]},bg=new s(Rn,Sg,Fd,Pg),Ee="EverlastingMoonglow",Za=d.weapon.data[Ee],Og=[-1,.01,.015,.02,.025,.03],[,Bg]=g("weapon",Ee),ua=c(e.weapon.key,Ee,i(a(e.weapon.refinement,Og,{unit:"%"}),e.premod.hp)),Hd=Za.refinementBonus.heal_;if(!Hd)throw new Error(`data_gen.refinementBonus.heal_ for ${Ee} was undefined`);const Gd=a(e.weapon.refinement,Hd),Ag=r(Ee,Za,{premod:{normal_dmgInc:ua,heal_:Gd}},{normal_dmgInc:ua}),Eg={document:[{header:o(Ee,t("base")),fields:[{node:Gd},{text:Bg("name"),node:ua}]}]},xg=new s(Ee,Eg,Za,Ag),Cn="EyeOfPerception",Kd=d.weapon.data[Cn],Mg=[-1,2.4,2.7,3,3.3,3.6],Ld=c(e.weapon.key,Cn,y(i(a(e.weapon.refinement,Mg,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Dg=r(Cn,Kd,void 0,{dmg_:Ld}),Tg={document:[{header:o(Cn,t("base")),fields:[{node:u(Ld,{name:t("dmg")})}]}]},Rg=new s(Cn,Tg,Kd,Dg),Ht="FavoniusCodex",qd=d.weapon.data[Ht],Cg=r(Ht,qd),Ig={document:[{header:o(Ht),fields:[]}]},jg=new s(Ht,Ig,qd,Cg),C="FlowingPurity",zd=d.weapon.data[C],[,Fg]=g("weapon",C),Ng=[-1,.08,.1,.12,.14,.16],Wg=[-1,.02,.025,.03,.035,.04],Hg=[-1,.12,.15,.18,.21,.24],[Gg,Vd]=m(C,"afterSkill"),Kg=c(Vd,"on",a(e.weapon.refinement,Ng)),eo=v.map(n=>`${n}_dmg_`),Ud=p(eo,n=>u({...Kg},f.info(n))),Lg=i(S(.24),e.total.hp),[qg,Jd]=m(C,"bond"),zg=c(e.weapon.key,C,c(Jd,"on",te(i(a(e.weapon.refinement,Wg,{unit:"%"}),i(Lg,S(1/1e3))),a(e.weapon.refinement,Hg,{unit:"%"})))),_a=p(eo,n=>u({...zg},f.info(n))),Vg=r(C,zd,{premod:{...p(eo,n=>P(Ud[n],_a[n]))}},_a),Ug={document:[{header:o(C,t("conditional")),path:Gg,value:Vd,name:t("hitOp.skill"),states:{on:{fields:[...Object.values(Ud).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(C,t("conditional")),path:qg,value:Jd,name:Fg("bondCondName"),states:{on:{fields:[...Object.values(_a).map(n=>({node:n})),{text:l("duration"),value:15,unit:"s"}]}}}]},Jg=new s(C,Ug,zd,Vg),K="Frostbearer",Qd=d.weapon.data[K],Qg=[-1,.8,.95,1.1,1.25,1.4],Xg=[-1,2,2.4,2.8,3.2,3.6],Xd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,Qg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yd=c(e.weapon.key,K,y(i(a(e.weapon.refinement,Xg,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Yg=r(K,Qd,void 0,{dmgAoe:Xd,dmgOnCryoOp:Yd}),Zg={document:[{header:o(K,t("base")),fields:[{node:u(Xd,{name:s.trm(K)("aoeDmg")})},{node:u(Yd,{name:s.trm(K)("cryoAffectedDmg")})}]}]},ew=new s(K,Zg,Qd,Yg),Ue="FruitOfFulfillment",Zd=d.weapon.data[Ue],[,nw]=g("weapon",Ue),tw=[-1,24,27,30,33,36],[aw,no]=m(Ue,"stacks"),to=$(1,5),er=h(no,Object.fromEntries(to.map(n=>[n,i(a(e.weapon.refinement,tw),n)])),_),nr=h(no,Object.fromEntries(to.map(n=>[n,i(S(-.05),n)])),_),ow=r(Ue,Zd,{premod:{eleMas:er,atk_:nr}}),sw={document:[{teamBuff:!0,header:o(Ue,t("stacks")),path:aw,value:no,name:nw("stackName"),states:Object.fromEntries(to.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:er},{node:nr}]}]))}]},cw=new s(Ue,sw,Zd,ow),In="HakushinRing",tr=d.weapon.data[In],dw=[-1,.1,.125,.15,.175,.2],[rw,ae]=m(In,"SakuraSaiguu"),xe=a(e.weapon.refinement,dw),ar=c("anemo",ae,xe),or=c("cryo",ae,xe),sr=c("geo",ae,xe),cr=c("hydro",ae,xe),dr=c("pyro",ae,xe),rr=c("dendro",ae,xe),iw=c("anemo",b.charEle,ar),mw=c("cryo",b.charEle,or),lw=c("geo",b.charEle,sr),$w=c("hydro",b.charEle,cr),pw=c("pyro",b.charEle,dr),hw=c("dendro",b.charEle,rr),se=N(ae,void 0,xe),uw=c("electro",b.charEle,se),_w=r(In,tr,{teamBuff:{premod:{anemo_dmg_:iw,cryo_dmg_:mw,electro_dmg_:uw,geo_dmg_:lw,hydro_dmg_:$w,pyro_dmg_:pw,dendro_dmg_:hw}}}),fw={document:[{value:ae,path:rw,name:t("elementalReaction.electro"),teamBuff:!0,header:o(In,t("conditional")),states:{anemo:{name:G(Re,{color:"swirl",children:l("reaction.swirl")}),fields:[{node:u(ar,{...f.info("anemo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},cryo:{name:G(Re,{color:"superconduct",children:l("reaction.superconduct")}),fields:[{node:u(or,{...f.info("cryo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},geo:{name:G(Re,{color:"crystallize",children:l("reaction.crystallize")}),fields:[{node:u(sr,{...f.info("geo_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},pyro:{name:G(Re,{color:"overloaded",children:l("reaction.overloaded")}),fields:[{node:u(dr,{...f.info("pyro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},hydro:{name:G(Re,{color:"electrocharged",children:l("reaction.electrocharged")}),fields:[{node:u(cr,{...f.info("hydro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]},dendro:{name:G(Re,{color:"aggravate",children:l("reaction.aggravate")}),fields:[{node:u(rr,{...f.info("dendro_dmg_"),isTeamBuff:!0})},{node:u(se,{...f.info("electro_dmg_"),isTeamBuff:!0})},{text:l("duration"),value:6,unit:"s"}]}}}]},gw=new s(In,fw,tr,_w),Me="JadefallsSplendor",ir=d.weapon.data[Me],[,ww]=g("weapon",Me),[kw,mr]=m(Me,"condPassive"),vw=[-1,.003,.005,.007,.009,.011],yw=[-1,.12,.2,.28,.36,.44],Pw=c(e.weapon.key,Me,c(mr,"on",te(a(e.weapon.refinement,yw,{unit:"%"}),i(a(e.weapon.refinement,vw,{unit:"%"}),e.total.hp,1/1e3)))),fa=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(n,e.charEle,Pw)])),Sw=r(Me,ir,{premod:{...fa}},{...fa}),bw={document:[{header:o(Me,t("conditional")),path:kw,value:mr,name:ww("condName"),states:{on:{fields:[...Object.values(fa).map(n=>({node:n})),{text:l("duration"),value:3,unit:"s"}]}}}]},Ow=new s(Me,bw,ir,Sw),jn="KagurasVerity",lr=d.weapon.data[jn],[Bw,ao]=m(jn,"KaguraDance"),$r=$(1,3),pr=[-1,.12,.15,.18,.21,.24],hr=$r.map(n=>c(ao,n.toString(),a(e.weapon.refinement,pr.map(k=>k*n)),f.info("skill_dmg_"))),ur=Object.fromEntries(v.map(n=>[n,c(ao,"3",a(e.weapon.refinement,pr))])),Aw=r(jn,lr,{premod:{skill_dmg_:P(...hr),...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ur[n]]))}}),Ew={document:[{value:ao,path:Bw,header:o(jn,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries($r.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:hr[n-1]},...v.map(k=>({node:ur[k]}))]}]))}]},xw=new s(jn,Ew,lr,Aw),je="LostPrayerToTheSacredWinds",_r=d.weapon.data[je],Mw=[-1,.08,.1,.12,.14,.16],[Dw,fr]=m(je,"BoundlessBlessing"),gr=S(.1),Tw=a(e.weapon.refinement,Mw,{unit:"%"}),wr=Object.fromEntries(v.map(n=>[n,h(fr,{...p($(1,4),k=>i(Tw,k))},_)])),Rw=r(je,_r,{premod:{moveSPD_:gr,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,wr[n]]))}}),Cw={document:[{header:o(je,t("base")),fields:[{node:gr}]},{value:fr,path:Dw,header:o(je,t("stacks")),name:t("timeOnField"),states:p($(1,4),n=>({name:t("seconds",{count:n*4}),fields:v.map(k=>({node:wr[k]}))}))}]},Iw=new s(je,Cw,_r,Rw),Fn="MagicGuide",kr=d.weapon.data[Fn],jw=[-1,.12,.15,.18,.21,.24],[Fw,vr]=m(Fn,"BaneOfStormAndTide"),yr=c("on",vr,a(e.weapon.refinement,jw)),Nw=r(Fn,kr,{premod:{all_dmg_:yr}}),Ww={document:[{value:vr,path:Fw,name:t("enemyAffected.hydroOrElectro"),header:o(Fn,t("conditional")),states:{on:{fields:[{node:yr}]}}}]},Hw=new s(Fn,Ww,kr,Nw),Nn="MappaMare",Pr=d.weapon.data[Nn],[Gw,Sr]=m(Nn,"InfusionScroll"),Kw=[-1,.08,.1,.12,.14,.16],Lw=a(e.weapon.refinement,Kw),br=Kh(v,n=>[`${n}_dmg_`,h(Sr,{...p($(1,2),k=>i(Lw,k))},_)]),qw=r(Nn,Pr,{premod:br}),zw={document:[{value:Sr,path:Gw,header:o(Nn,t("stacks")),name:t("afterReaction"),states:p($(1,2),n=>({name:t("stack",{count:n}),fields:[...Object.values(br).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"}]}))}]},Vw=new s(Nn,zw,Pr,qw),M="MemoryOfDust",Or=d.weapon.data[M],[,Uw]=g("weapon",M),Jw=[-1,.2,.25,.3,.35,.4],Qw=[-1,.04,.05,.06,.07,.08],[Xw,Br]=m(M,"GoldenMajesty"),Ar=a(e.weapon.refinement,Jw),[Yw,Er]=m(M,"WithShield"),Zw=a(e.weapon.refinement,Qw),xr=i(P(1,c(Er,"protected",1)),h(Br,Object.fromEntries($(1,5).map(n=>[n,i(Zw,n)])),_)),ek=r(M,Or,{premod:{shield_:Ar,atk_:xr}}),nk={document:[{header:o(M,t("base")),fields:[{node:Ar}]},{value:Br,path:Xw,header:o(M,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xr},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Er,path:Yw,header:o(M,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:Uw("atkEffInc"),value:100,unit:"%"}]}}}]},tk=new s(M,nk,Or,ek),Wn="OathswornEye",Mr=d.weapon.data[Wn],ak=[-1,.24,.3,.36,.42,.48],[ok,Dr]=m(Wn,"faLight"),sk=a(e.weapon.refinement,ak),Tr=c("skillBurst",Dr,sk),ck=r(Wn,Mr,{premod:{enerRech_:Tr}}),dk={document:[{value:Dr,path:ok,header:o(Wn,t("conditional")),name:t("afterUse.skill"),states:{skillBurst:{fields:[{node:Tr}]}}}]},rk=new s(Wn,dk,Mr,ck),Hn="OtherworldlyStory",Rr=d.weapon.data[Hn],ik=[-1,.01,.0125,.015,.0175,.02],Cr=c(e.weapon.key,Hn,Ge(i(a(e.weapon.refinement,ik,{unit:"%"}),e.total.hp))),mk=r(Hn,Rr,void 0,{heal:Cr}),lk={document:[{header:o(Hn,t("base")),fields:[{node:u(Cr,{name:l("healing"),variant:"heal"})}]}]},$k=new s(Hn,lk,Rr,mk),oo="PocketGrimoire",Ir=d.weapon.data[oo],pk=r(oo,Ir),hk={document:[]},uk=new s(oo,hk,Ir,pk),Je="PrototypeAmber",jr=d.weapon.data[Je],[_k,fk]=m(Je,"Gliding"),gk=[-1,.04,.045,.05,.055,.06],Fr=c(e.weapon.key,Je,Ge(i(a(e.weapon.refinement,gk,{unit:"%"}),e.total.hp))),wk=r(Je,jr,void 0,{heal:Fr}),kk={document:[{value:fk,path:_k,name:t("afterUse.burst"),header:o(Je,t("conditional")),states:{on:{fields:[{node:u(Fr,{name:l("healing"),variant:"heal"})}]}}}]},vk=new s(Je,kk,jr,wk),_e="QuantumCatalyst",Nr=d.weapon.data[_e],yk=[-1,.18,.225,.27,.315,.36],Pk=[-1,.06,.075,.09,.105,.12],Sk=[-1,10,12,14,16,18],Wr=$(1,5),[bk,Hr]=m(_e,"stacks"),Gr=a(e.weapon.refinement,yk),At=c(e.weapon.key,_e,i(a(e.weapon.refinement,Pk,{unit:"%"}),e.total.eleMas)),ga={...At},Kr=h(Hr,p(Wr,n=>i(a(e.weapon.refinement,Sk),n)),_),Ok=r(_e,Nr,{premod:{enerRech_:Gr,normal_dmgInc:At,charged_dmgInc:ga,eleMas:Kr}},{normal_dmgInc:At,charged_dmgInc:ga}),Bk={document:[{header:o(_e,t("base")),fields:[{node:Gr},{node:At},{node:ga}]},{value:Hr,path:bk,teamBuff:!0,header:o(_e,t("stacks")),name:t("elementalReaction.electro"),states:p(Wr,n=>({name:t("stack",{count:n}),fields:[{node:Kr},{text:l("duration"),value:12,unit:"s"}]}))}]},Ak=new s(_e,Bk,Nr,Ok),Gn="RoyalGrimoire",Lr=d.weapon.data[Gn],[Ek,qr]=m(Gn,"stack"),xk=[-1,.08,.1,.12,.14,.16],zr=h(qr,p($(1,5),n=>i(a(e.weapon.refinement,xk,{unit:"%"}),n)),_),Mk=r(Gn,Lr,{premod:{critRate_:zr}}),Dk={document:[{value:qr,path:Ek,header:o(Gn,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zr}]}]))}]},Tk=new s(Gn,Dk,Lr,Mk),Gt="SacrificialFragments",Vr=d.weapon.data[Gt],Rk=r(Gt,Vr),Ck={document:[{header:o(Gt),fields:[]}]},Ik=new s(Gt,Ck,Vr,Rk),Qe="SacrificialJade",Ur=d.weapon.data[Qe],[,jk]=g("weapon",Qe),Fk=[-1,.32,.4,.48,.56,.64],Nk=[-1,40,50,60,70,80],[Wk,so]=m(Qe,"offField"),Jr=c(so,"on",a(e.weapon.refinement,Fk)),Qr=c(so,"on",a(e.weapon.refinement,Nk)),Hk=r(Qe,Ur,{premod:{eleMas:Qr,hp_:Jr}}),Gk={document:[{teamBuff:!0,header:o(Qe,t("conditional")),path:Wk,value:so,name:jk("condOffField"),states:{on:{fields:[{node:Jr},{node:Qr}]}}}]},Kk=new s(Qe,Gk,Ur,Hk),Kn="SkywardAtlas",Xr=d.weapon.data[Kn],Lk=[-1,.12,.15,.18,.21,.24],Yr=Object.fromEntries(v.map(n=>[n,a(e.weapon.refinement,Lk)])),qk=[-1,1.6,2,2.4,2.8,3.2],Zr=c(e.weapon.key,Kn,y(i(a(e.weapon.refinement,qk,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),zk=r(Kn,Xr,{premod:{...Object.fromEntries(v.map(n=>[`${n}_dmg_`,Yr[n]]))}},{dmg:Zr}),Vk={document:[{header:o(Kn,t("base")),fields:[...v.map(n=>({node:Yr[n]})),{node:u(Zr,{name:t("dmg")})}]}]},Uk=new s(Kn,Vk,Xr,zk),fe="SolarPearl",ei=d.weapon.data[fe],Jk=[-1,.2,.25,.3,.35,.4],[Qk,ni]=m(fe,"solarShineNormal"),[Xk,ti]=m(fe,"solarShineSkillBurst"),ai=a(e.weapon.refinement,Jk),co=c("normal",ni,ai),oi={...co},si=c("skillBurst",ti,ai),Yk=r(fe,ei,{premod:{skill_dmg_:co,burst_dmg_:oi,normal_dmg_:si}}),Zk={document:[{value:ni,path:Qk,header:o(fe,t("conditional")),name:t("hitOp.normal"),states:{normal:{fields:[{node:co},{node:oi}]}}},{value:ti,path:Xk,header:o(fe,t("conditional")),name:t("hitOp.skillOrBurst"),states:{skillBurst:{fields:[{node:si}]}}}]},e2=new s(fe,Zk,ei,Yk),Xe="TheWidsith",ci=d.weapon.data[Xe],[n2,pa]=g("weapon",Xe),t2=[-1,.6,.75,.9,1.05,1.2],a2=[-1,.48,.6,.72,.84,.96],o2=[-1,240,300,360,420,480],[s2,Kt]=m(Xe,"Debut"),di=c("recitative",Kt,a(e.weapon.refinement,t2)),ri=Object.fromEntries(v.map(n=>[n,c("aria",Kt,a(e.weapon.refinement,a2))])),ii=c("interlude",Kt,a(e.weapon.refinement,o2)),c2=r(Xe,ci,{premod:{atk_:di,...Object.fromEntries(v.map(n=>[`${n}_dmg_`,ri[n]])),eleMas:ii}}),d2={document:[{value:Kt,path:s2,teamBuff:!0,header:o(Xe,t("conditional")),name:n2("passiveName"),states:{aria:{name:pa("aria"),fields:[...v.map(n=>({node:ri[n]})),{text:l("duration"),value:10,unit:"s"}]},interlude:{name:pa("interlude"),fields:[{node:ii},{text:l("duration"),value:10,unit:"s"}]},recitative:{name:pa("recitative"),fields:[{node:di},{text:l("duration"),value:10,unit:"s"}]}}}]},r2=new s(Xe,d2,ci,c2),Ye="ThrillingTalesOfDragonSlayers",mi=d.weapon.data[Ye],[,i2]=g("weapon",Ye),m2=[-1,.24,.3,.36,.42,.48],[l2,li]=m(Ye,"Heritage"),$i=c("on",li,a(e.weapon.refinement,m2)),$2=N(e.activeCharKey,e.charKey,c(e.activeCharKey,b.charKey,$i)),p2=r(Ye,mi,{teamBuff:{premod:{atk_:$2}}}),h2={document:[{value:li,path:l2,name:i2("condName"),teamBuff:!0,header:o(Ye,t("conditional")),states:{on:{fields:[{node:u($i,f.info("atk_"))},{text:l("duration"),value:10,unit:"s"}]}}}]},u2=new s(Ye,h2,mi,p2),U="TomeOfTheEternalFlow",ro=d.weapon.data[U],pi=ro.refinementBonus.hp_;if(!pi)throw new Error(`data_gen.refinementBonus.hp_ for ${U} was undefined`);const _2=[-1,.14,.18,.22,.26,.3],hi=c(e.weapon.key,U,a(e.weapon.refinement,pi)),[f2,ui]=m(U,"hpChanges"),_i=$(1,3),fi=h(ui,p(_i,n=>i(n,a(e.weapon.refinement,_2,{unit:"%"}))),_),g2=r(U,ro,{premod:{hp_:hi,charged_dmg_:fi}}),w2={document:[{header:o(U,t("base")),fields:[{node:hi}]},{value:ui,path:f2,header:o(U,t("stacks")),name:t("hpChange"),states:p(_i,n=>({name:t("times",{count:n}),fields:[{node:fi},{text:l("duration"),value:4,unit:"s"},{text:l("cd"),value:.3,fixed:1,unit:"s"}]}))}]},k2=new s(U,w2,ro,g2),O="TulaytullahsRemembrance",gi=d.weapon.data[O],v2=[-1,.1,.125,.15,.175,.2],y2=[-1,.048,.06,.072,.084,.096],wi=$(1,12),P2=[-1,.096,.12,.144,.168,.192],ki=$(1,5),S2=[-1,.48,.6,.72,.84,.96],vi=c(e.weapon.key,O,a(e.weapon.refinement,v2)),[b2,yi]=m(O,"timePassive"),O2=c(e.weapon.key,O,h(yi,Object.fromEntries(wi.map(n=>[n,i(n,a(e.weapon.refinement,y2,{unit:"%"}))])),_,f.info("normal_dmg_"))),[B2,Pi]=m(O,"hitPassive"),A2=c(e.weapon.key,O,h(Pi,Object.fromEntries(ki.map(n=>[n,i(n,a(e.weapon.refinement,P2,{unit:"%"}))])),_,f.info("normal_dmg_"))),Si=te(a(e.weapon.refinement,S2,{unit:"%"}),P(O2,A2)),E2=r(O,gi,{premod:{atkSPD_:vi,normal_dmg_:Si}}),x2={document:[{header:o(O,t("base")),fields:[{node:vi}]},{header:o(O,t("conditional")),fields:[{node:Si}]},{value:yi,path:b2,header:o(O,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries(wi.map(n=>[n,{name:t("seconds",{count:n}),fields:[{text:l("duration"),value:14,unit:"s"}]}]))},{value:Pi,path:B2,header:o(O,t("stacks")),name:t("hitOp.normal"),states:Object.fromEntries(ki.map(n=>[n,{name:t("stack",{count:n}),fields:[{text:l("cd"),value:.3,unit:"s",fixed:1}]}]))}]},M2=new s(O,x2,gi,E2),Ln="TwinNephrite",bi=d.weapon.data[Ln],Oi=[-1,.12,.14,.16,.18,.2],[D2,io]=m(Ln,"GuerillaTactics"),Bi=c("on",io,a(e.weapon.refinement,Oi)),Ai=c("on",io,a(e.weapon.refinement,Oi)),T2=r(Ln,bi,{premod:{atk_:Bi,moveSPD_:Ai}}),R2={document:[{value:io,path:D2,name:t("afterDefeatEnemy"),header:o(Ln,t("conditional")),states:{on:{fields:[{node:Bi},{node:Ai},{text:l("duration"),value:15,unit:"s"}]}}}]},C2=new s(Ln,R2,bi,T2),ge="WanderingEvenstar",Ei=d.weapon.data[ge],I2=[-1,.24,.3,.36,.42,.48],Et=c(e.weapon.key,ge,i(a(e.weapon.refinement,I2,{unit:"%"}),e.premod.eleMas)),mo=c(e.weapon.key,ge,i(S(.3),Et)),j2=N(e.activeCharKey,e.charKey,mo),F2=r(ge,Ei,{total:{atk:Et},teamBuff:{total:{atk:j2}}},{selfAtk:Et,teamAtkDisp:mo}),N2={document:[{header:o(ge,t("base")),fields:[{node:Et}]},{header:o(ge,t("teamBuff")),teamBuff:!0,fields:[{node:u(mo,{...f.info("atk"),isTeamBuff:!0})}]}]},W2=new s(ge,N2,Ei,F2),qn="WineAndSong",xi=d.weapon.data[qn],H2=[-1,.2,.25,.3,.35,.4],[G2,Mi]=m(qn,"EverChanging"),Di=c("on",Mi,a(e.weapon.refinement,H2)),K2=r(qn,xi,{premod:{atk_:Di}}),L2={document:[{value:Mi,path:G2,name:t("afterSprint"),header:o(qn,t("conditional")),states:{on:{fields:[{node:Di},{text:l("duration"),value:5,unit:"s"}]}}}]},q2=new s(qn,L2,xi,K2),z2={ApprenticesNotes:Lf,AThousandFloatingDreams:Hf,BalladOfTheBoundlessBlue:Qf,BlackcliffAgate:ng,CashflowSupervision:rg,CranesEchoingCall:pg,DodocoTales:kg,EmeraldOrb:bg,EverlastingMoonglow:xg,EyeOfPerception:Rg,FavoniusCodex:jg,FlowingPurity:Jg,Frostbearer:ew,FruitOfFulfillment:cw,HakushinRing:gw,JadefallsSplendor:Ow,KagurasVerity:xw,LostPrayerToTheSacredWinds:Iw,MagicGuide:Hw,MappaMare:Vw,MemoryOfDust:tk,OathswornEye:rk,OtherworldlyStory:$k,PocketGrimoire:uk,PrototypeAmber:vk,QuantumCatalyst:Ak,RoyalGrimoire:Tk,SacrificialFragments:Ik,SacrificialJade:Kk,SkywardAtlas:Uk,SolarPearl:e2,TheWidsith:r2,ThrillingTalesOfDragonSlayers:u2,TomeOfTheEternalFlow:k2,TulaytullahsRemembrance:M2,TwinNephrite:C2,WanderingEvenstar:W2,WineAndSong:q2},Ze="Akuoumaru",Ti=d.weapon.data[Ze],[,V2]=g("weapon",Ze),[U2,Ri]=m(Ze,"WatatsumiWavewalker"),Ci=$(4,36).map(n=>n*10),J2=[-1,.0012,.0015,.0018,.0021,.0024],Q2=[-1,.4,.5,.6,.7,.8],Ii=h(Ri,Object.fromEntries(Ci.map(n=>[n,te(i(a(e.weapon.refinement,J2,{unit:"%"}),n),a(e.weapon.refinement,Q2,{unit:"%"}))])),_),X2=r(Ze,Ti,{premod:{burst_dmg_:Ii}}),Y2={document:[{value:Ri,path:U2,header:o(Ze,t("stacks")),name:V2("party"),states:Object.fromEntries(Ci.map(n=>[n,{name:n.toString(),fields:[{node:Ii}]}]))}]},Z2=new s(Ze,Y2,Ti,X2),B="BeaconOfTheReedSea",ji=d.weapon.data[B],ev=[-1,.2,.25,.3,.35,.4],[nv,Fi]=m(B,"afterSkill"),Ni=c(e.weapon.key,B,c(Fi,"on",a(e.weapon.refinement,ev,{...f.info("atk_")}))),tv=[-1,.2,.25,.3,.35,.4],[av,Wi]=m(B,"afterDmg"),Hi=c(e.weapon.key,B,c(Wi,"on",a(e.weapon.refinement,tv,{...f.info("atk_")}))),ov=[-1,.32,.4,.48,.56,.64],[sv,Gi]=m(B,"noShield"),Ki=c(e.weapon.key,B,c(Gi,"on",a(e.weapon.refinement,ov,{...f.info("hp_")}))),cv=r(B,ji,{premod:{atk_:P(Ni,Hi),hp_:Ki}},{}),dv={document:[{header:o(B,t("conditional")),path:nv,value:Fi,name:t("hitOp.skill"),states:{on:{fields:[{node:Ni},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:av,value:Wi,name:t("takeDmg"),states:{on:{fields:[{node:Hi},{text:l("duration"),value:8,unit:"s"}]}}},{header:o(B,t("conditional")),path:sv,value:Gi,name:t("notProtectedByShield"),states:{on:{fields:[{node:Ki}]}}}]},rv=new s(B,dv,ji,cv),zn="BlackcliffSlasher",Li=d.weapon.data[zn],[iv,qi]=m(zn,"PressTheAdvantage"),zi=$(1,3),mv=[-1,.12,.15,.18,.21,.24],Vi=i(h(qi,p(zi,n=>w(n)),0),a(e.weapon.refinement,mv)),lv=r(zn,Li,{premod:{atk_:Vi}}),$v={document:[{value:qi,path:iv,header:o(zn,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(zi.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Vi},{text:l("duration"),value:30,unit:"s"}]}]))}]},pv=new s(zn,$v,Li,lv),Vn="BloodtaintedGreatsword",Ui=d.weapon.data[Vn],hv=[-1,.12,.15,.18,.21,.24],[uv,Ji]=m(Vn,"BaneOfFireAndThunder"),Qi=c("on",Ji,a(e.weapon.refinement,hv)),_v=r(Vn,Ui,{premod:{all_dmg_:Qi}}),fv={document:[{value:Ji,path:uv,name:t("enemyAffected.pyroOrElectro"),header:o(Vn,t("conditional")),states:{on:{fields:[{node:Qi}]}}}]},gv=new s(Vn,fv,Ui,_v),Un="DebateClub",Xi=d.weapon.data[Un],wv=[-1,.6,.75,.9,1.05,1.2],Yi=c(e.weapon.key,Un,y(i(a(e.weapon.refinement,wv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),kv=r(Un,Xi,void 0,{dmg:Yi}),vv={document:[{header:o(Un,t("base")),fields:[{node:u(Yi,{name:t("dmg")})}]}]},yv=new s(Un,vv,Xi,kv),Lt="FavoniusGreatsword",Zi=d.weapon.data[Lt],Pv=r(Lt,Zi),Sv={document:[{header:o(Lt),fields:[]}]},bv=new s(Lt,Sv,Zi,Pv),en="FerrousShadow",em=d.weapon.data[en],[,Qo]=g("weapon",en),Ov=[-1,.3,.35,.4,.45,.5],[Bv,nm]=m(en,"Unbending"),tm=c("on",nm,a(e.weapon.refinement,Ov)),Av=r(en,em,{premod:{charged_dmg_:tm}}),Ev={document:[{value:nm,path:Bv,name:Qo("condName"),header:o(en,t("conditional")),states:{on:{fields:[{node:tm},{text:Qo("resistance")}]}}}]},xv=new s(en,Ev,em,Av),nn="ForestRegalia",am=d.weapon.data[nn],[,Mv]=g("weapon",nn),[Dv,om]=m(nn,"passive"),Tv=[-1,60,75,90,105,120],sm=c(om,"on",a(e.weapon.refinement,Tv)),Rv=c(e.activeCharKey,b.charKey,sm),Cv=r(nn,am,{teamBuff:{premod:{eleMas:Rv}}}),Iv={document:[{value:om,path:Dv,teamBuff:!0,header:o(nn,t("conditional")),name:Mv("condName"),states:{on:{fields:[{node:u(sm,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},jv=new s(nn,Iv,am,Cv),qt="KatsuragikiriNagamasa",cm=d.weapon.data[qt],Fv=[-1,.06,.075,.09,.105,.12],dm=a(e.weapon.refinement,Fv),Nv=r(qt,cm,{premod:{skill_dmg_:dm}}),Wv={document:[{header:o(qt,t("base")),fields:[{node:dm}]}]},Hv=new s(qt,Wv,cm,Nv),zt="LithicBlade",rm=d.weapon.data[zt],Gv=[-1,.07,.08,.09,.1,.11],Kv=[-1,.03,.04,.05,.06,.07],im=i(a(e.weapon.refinement,Gv,{unit:"%"}),E.liyue),mm=i(a(e.weapon.refinement,Kv,{unit:"%"}),E.liyue),Lv=r(zt,rm,{premod:{atk_:im,critRate_:mm}}),qv={document:[{header:o(zt,t("stacks")),fields:[{node:im},{node:mm}]}]},zv=new s(zt,qv,rm,Lv),Fe="LuxuriousSeaLord",lm=d.weapon.data[Fe],Vv=[-1,.12,.15,.18,.21,.24],Uv=[-1,1,1.25,1.5,1.75,2],$m=a(e.weapon.refinement,Vv),pm=c(e.weapon.key,Fe,y(i(a(e.weapon.refinement,Uv,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),Jv=r(Fe,lm,{premod:{burst_dmg_:$m}},{dmg:pm}),Qv={document:[{header:o(Fe,t("base")),fields:[{node:$m}]},{header:o(Fe,t("conditional")),fields:[{node:u(pm,{name:t("dmg")})},{text:l("cd"),value:15,unit:"s"}]}]},Xv=new s(Fe,Qv,lm,Jv),tn="MailedFlower",hm=d.weapon.data[tn],[,Yv]=g("weapon",tn),Zv=[-1,.12,.15,.18,.21,.24],ey=[-1,48,60,72,84,96],[ny,lo]=m(tn,"passive"),um=c(lo,"on",a(e.weapon.refinement,Zv,{unit:"%"})),_m=c(lo,"on",a(e.weapon.refinement,ey)),ty=r(tn,hm,{premod:{atk_:um,eleMas:_m}}),ay={document:[{value:lo,path:ny,name:Yv("condName"),header:o(tn,t("conditional")),states:{on:{fields:[{node:um},{node:_m},{text:l("duration"),value:8,unit:"s"}]}}}]},oy=new s(tn,ay,hm,ty),we="MakhairaAquamarine",fm=d.weapon.data[we],sy=[-1,.24,.3,.36,.42,.48],xt=c(e.weapon.key,we,i(a(e.weapon.refinement,sy,{unit:"%"}),e.premod.eleMas)),$o=c(e.weapon.key,we,i(S(.3),xt)),cy=N(e.activeCharKey,e.charKey,$o),dy=r(we,fm,{total:{atk:xt},teamBuff:{total:{atk:cy}}},{selfAtk:xt,teamAtkDisp:$o}),ry={document:[{header:o(we,t("base")),fields:[{node:xt}]},{header:o(we,t("teamBuff")),teamBuff:!0,fields:[{node:u($o,{...f.info("atk"),isTeamBuff:!0})}]}]},iy=new s(we,ry,fm,dy),po="OldMercsPal",gm=d.weapon.data[po],my=r(po,gm),ly={document:[]},$y=new s(po,ly,gm,my),an="PortablePowerSaw",wm=d.weapon.data[an],[,py]=g("weapon",an),hy=[-1,40,50,60,70,80],[uy,km]=m(an,"symbolsConsumed"),vm=$(1,3),ym=h(km,p(vm,n=>i(n,a(e.weapon.refinement,hy,{unit:"%"}))),_),_y=r(an,wm,{premod:{eleMas:ym}}),fy={document:[{value:km,path:uy,teamBuff:!0,header:o(an,t("stacks")),name:py("condName"),states:p(vm,n=>({name:`${n}`,fields:[{node:ym},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},gy=new s(an,fy,wm,_y),Jn="PrototypeArchaic",Pm=d.weapon.data[Jn],wy=[-1,2.4,3,3.6,4.2,4.8],Sm=c(e.weapon.key,Jn,y(i(a(e.weapon.refinement,wy,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),ky=r(Jn,Pm,void 0,{dmg:Sm}),vy={document:[{header:o(Jn,t("base")),fields:[{node:u(Sm,{name:t("dmg")})}]}]},yy=new s(Jn,vy,Pm,ky),Qn="Rainslasher",bm=d.weapon.data[Qn],Py=[-1,.2,.24,.28,.32,.36],[Sy,Om]=m(Qn,"BaneOfStormAndTide"),Bm=c("on",Om,a(e.weapon.refinement,Py)),by=r(Qn,bm,{premod:{all_dmg_:Bm}}),Oy={document:[{value:Om,path:Sy,name:t("enemyAffected.hydroOrElectro"),header:o(Qn,t("conditional")),states:{on:{fields:[{node:Bm}]}}}]},By=new s(Qn,Oy,bm,by),on="RedhornStonethresher",Am=d.weapon.data[on],Ay=[-1,.28,.35,.42,.49,.56],Ey=[-1,.4,.5,.6,.7,.8],xy=[-1,.4,.5,.6,.7,.8],Em=a(e.weapon.refinement,Ay),wa=c(e.weapon.key,on,i(a(e.weapon.refinement,Ey,{unit:"%"}),e.premod.def)),ka=c(e.weapon.key,on,i(a(e.weapon.refinement,xy,{unit:"%"}),e.premod.def)),My=r(on,Am,{premod:{def_:Em,normal_dmgInc:wa,charged_dmgInc:ka}},{normal_dmgInc:wa,charged_dmgInc:ka}),Dy={document:[{header:o(on,t("base")),fields:[{node:Em},{node:wa},{node:ka}]}]},Ty=new s(on,Dy,Am,My),Xn="RoyalGreatsword",xm=d.weapon.data[Xn],[Ry,Mm]=m(Xn,"stack"),Cy=[-1,.08,.1,.12,.14,.16],Dm=h(Mm,p($(1,5),n=>i(a(e.weapon.refinement,Cy,{unit:"%"}),n)),_),Iy=r(Xn,xm,{premod:{critRate_:Dm}}),jy={document:[{value:Mm,path:Ry,name:t("stacks"),header:o(Xn,t("stacks")),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Dm}]}]))}]},Fy=new s(Xn,jy,xm,Iy),Vt="SacrificialGreatsword",Tm=d.weapon.data[Vt],Ny=r(Vt,Tm),Wy={document:[{header:o(Vt),fields:[]}]},Hy=new s(Vt,Wy,Tm,Ny),sn="SerpentSpine",Rm=d.weapon.data[sn],[,Gy]=g("weapon",sn),Ky=[-1,.06,.07,.08,.09,.1],Ly=[-1,3,2.7,2.4,2.2,2],[qy,Cm]=m(sn,"Wavesplitter"),zy=a(e.weapon.refinement,Ky,{unit:"%"}),Im=h(Cm,{...p($(1,5),n=>i(zy,n))},_),Vy=r(sn,Rm,{premod:{all_dmg_:Im}}),Uy={document:[{value:Cm,path:qy,header:o(sn,t("stacks")),name:t("activeCharField"),states:{...p($(1,5),n=>({name:t("seconds",{count:n*4}),fields:[{node:Im},{text:Gy("takeMoreDmg"),value:k=>Ly[k.get(e.weapon.refinement).value]*n,unit:"%"}]}))}}]},Jy=new s(sn,Uy,Rm,Vy),Yn="SkyriderGreatsword",jm=d.weapon.data[Yn],[Qy,Fm]=m(Yn,"stack"),Xy=[-1,.06,.07,.08,.09,.1],Nm=h(Fm,p($(1,4),n=>i(a(e.weapon.refinement,Xy,{unit:"%"}),n)),_),Yy=r(Yn,jm,{premod:{atk_:Nm}}),Zy={document:[{value:Fm,path:Qy,name:t("hitOp.normalOrCharged"),header:o(Yn,t("stacks")),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Nm},{text:l("duration"),value:6,unit:"s"}]}]))}]},eP=new s(Yn,Zy,jm,Yy),Zn="SkywardPride",Wm=d.weapon.data[Zn],nP=[-1,.08,.1,.12,.14,.16],tP=[-1,.8,1,1.2,1.4,1.6],Hm=a(e.weapon.refinement,nP),Gm=c(e.weapon.key,Zn,y(i(a(e.weapon.refinement,tP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),aP=r(Zn,Wm,{premod:{all_dmg_:Hm}},{dmg:Gm}),oP={document:[{header:o(Zn,t("base")),fields:[{node:Hm},{node:u(Gm,{name:t("dmg")})}]}]},sP=new s(Zn,oP,Wm,aP),L="SnowTombedStarsilver",Km=d.weapon.data[L],cP=[-1,.8,.95,1.1,1.25,1.4],dP=[-1,2,2.4,2.8,3.2,3.6],Lm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,cP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),qm=c(e.weapon.key,L,y(i(a(e.weapon.refinement,dP,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),rP=r(L,Km,void 0,{dmgAoe:Lm,dmgOnCryoOp:qm}),iP={document:[{header:o(L,t("base")),fields:[{node:u(Lm,{name:s.trm(L)("aoeDmg")})},{node:u(qm,{name:s.trm(L)("cryoAffectedDmg")})}]}]},mP=new s(L,iP,Km,rP),ke="SongOfBrokenPines",zm=d.weapon.data[ke],[,lP]=g("weapon",ke),$P=[-1,.16,.2,.24,.28,.32],pP=[-1,.2,.25,.3,.35,.4],hP=[-1,.12,.15,.18,.21,.24],[uP,ho]=m(ke,"RebelsBannerHymn"),Vm=a(e.weapon.refinement,$P,{unit:"%"}),Um=c("on",ho,a(e.weapon.refinement,pP,f.info("atk_"))),Jm=c("on",ho,a(e.weapon.refinement,hP)),_P=r(ke,zm,{premod:{atk_:Vm},teamBuff:{premod:{atk_:Um,atkSPD_:Jm}}}),fP={document:[{header:o(ke,t("base")),fields:[{node:Vm}]},{value:ho,path:uP,teamBuff:!0,header:o(ke,t("conditional")),name:lP("name"),states:{on:{fields:[{node:Um},{node:Jm},{text:l("duration"),value:12,unit:"s"}]}}}]},gP=new s(ke,fP,zm,_P),J="TalkingStick",Qm=d.weapon.data[J],[,Xo]=g("weapon",J),wP=[-1,.16,.2,.24,.28,.32],kP=[-1,.12,.15,.18,.21,.24],[vP,Xm]=m(J,"affectedPyro"),Ym=c(Xm,"on",a(e.weapon.refinement,wP)),[yP,Zm]=m(J,"affectedOther"),PP=c(Zm,"on",a(e.weapon.refinement,kP)),el=p(v.map(n=>`${n}_dmg_`),()=>({...PP})),SP=r(J,Qm,{premod:{atk_:Ym,...el}}),bP={document:[{value:Xm,path:vP,header:o(J,t("conditional")),name:Xo("condName.atk_"),states:{on:{fields:[{node:Ym},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}},{value:Zm,path:yP,header:o(J,t("conditional")),name:Xo("condName.dmg_"),states:{on:{fields:[...Object.values(el).map(n=>({node:n})),{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},OP=new s(J,bP,Qm,SP),Q="TheBell",nl=d.weapon.data[Q],BP=[-1,.2,.23,.26,.29,.32],AP=[-1,.12,.15,.18,.21,.24],[EP,tl]=m(Q,"RebelliousGuardian"),al=c(e.weapon.key,Q,c(tl,"on",Jh(i(a(e.weapon.refinement,BP,{unit:"%"}),e.total.hp)))),[xP,ol]=m(Q,"WithShield"),sl=c(ol,"protected",a(e.weapon.refinement,AP,{unit:"%"})),MP=r(Q,nl,{premod:{all_dmg_:sl}},{shield:al}),DP={document:[{value:tl,path:EP,header:o(Q,t("conditional")),name:t("takeDmg"),states:{on:{fields:[{node:u(al,{name:l("dmgAbsorption")})},{text:l("cd"),value:45,unit:"s"}]}}},{value:ol,path:xP,header:o(Q,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{node:sl}]}}}]},TP=new s(Q,DP,nl,MP),D="TheUnforged",cl=d.weapon.data[D],[,RP]=g("weapon",D),CP=[-1,.2,.25,.3,.35,.4],IP=[-1,.04,.05,.06,.07,.08],[jP,dl]=m(D,"GoldenMajesty"),rl=a(e.weapon.refinement,CP),[FP,il]=m(D,"WithShield"),NP=a(e.weapon.refinement,IP),ml=i(P(1,c(il,"protected",1)),h(dl,Object.fromEntries($(1,5).map(n=>[n,i(NP,n)])),_)),WP=r(D,cl,{premod:{shield_:rl,atk_:ml}}),HP={document:[{header:o(D,t("base")),fields:[{node:rl}]},{value:dl,path:jP,header:o(D,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ml},{text:l("duration"),value:8,unit:"s"}]}]))},{value:il,path:FP,header:o(D,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:RP("atkEffInc"),value:100,unit:"%"}]}}}]},GP=new s(D,HP,cl,WP),et="TidalShadow",ll=d.weapon.data[et],KP=[-1,.24,.3,.36,.42,.48],[LP,$l]=m(et,"afterHeal"),pl=c($l,"on",a(e.weapon.refinement,KP)),qP=r(et,ll,{premod:{atk_:pl}}),zP={document:[{header:o(et,t("conditional")),path:LP,value:$l,name:t("afterHeal"),states:{on:{fields:[{node:pl},{text:l("duration"),value:8,unit:"s"}]}}}]},VP=new s(et,zP,ll,qP),I="UltimateOverlordsMegaMagicSword",uo=d.weapon.data[I],[,UP]=g("weapon",I),hl=uo.refinementBonus.atk_;if(!hl)throw new Error(`data_gen.refinementBonus.atk_ for ${I} was undefined`);const JP=[-1,.01,.0125,.015,.0175,.02],ul=c(e.weapon.key,I,a(e.weapon.refinement,hl),f.info("atk_")),[QP,_l]=m(I,"melusines"),fl=$(1,12),gl=h(_l,p(fl,n=>i(n,a(e.weapon.refinement,JP,{unit:"%"}))),_,f.info("atk_")),XP=r(I,uo,{premod:{atk_:P(ul,gl)}}),YP={document:[{header:o(I,t("base")),fields:[{node:ul}]},{value:_l,path:QP,header:o(I,t("stacks")),name:UP("condName"),states:p(fl,n=>({name:`${n}`,fields:[{node:gl}]}))}]},ZP=new s(I,YP,uo,XP),j="Verdict",_o=d.weapon.data[j],[,eS]=g("weapon",j),wl=_o.refinementBonus.atk_;if(!wl)throw new Error(`data_gen.refinementBonus.atk_ for ${j} was undefined`);const nS=[-1,.18,.225,.27,.315,.36],kl=c(e.weapon.key,j,a(e.weapon.refinement,wl)),[tS,vl]=m(j,"seals"),yl=$(1,2),Pl=h(vl,p(yl,n=>i(n,a(e.weapon.refinement,nS,{unit:"%"}))),_),aS=r(j,_o,{premod:{atk_:kl,skill_dmg_:Pl}}),oS={document:[{header:o(j,t("base")),fields:[{node:kl}]},{value:vl,path:tS,header:o(j,t("stacks")),name:eS("condName"),states:p(yl,n=>({name:`${n}`,fields:[{node:Pl}]}))}]},sS=new s(j,oS,_o,aS),fo="WasterGreatsword",go=d.weapon.data[fo],cS=r(fo,go),dS={...go,document:[]},rS=new s(fo,dS,go,cS),cn="WhiteIronGreatsword",Sl=d.weapon.data[cn],iS=[-1,.08,.1,.12,.14,.16],[mS,bl]=m(cn,"CullTheWeak"),Ol=c(e.weapon.key,cn,c(bl,"on",Ge(i(a(e.weapon.refinement,iS,{unit:"%"}),e.total.hp)))),lS=r(cn,Sl,void 0,{heal:Ol}),$S={document:[{value:bl,path:mS,name:t("afterDefeatEnemy"),header:o(cn,t("conditional")),states:{on:{fields:[{node:u(Ol,{name:l("healing"),variant:"heal"})}]}}}]},pS=new s(cn,$S,Sl,lS),nt="Whiteblind",Bl=d.weapon.data[nt],[hS,wo]=m(nt,"stack"),Al=[-1,.06,.075,.09,.105,.12],El=h(wo,p($(1,4),n=>i(a(e.weapon.refinement,Al,{unit:"%"}),n)),_),xl=h(wo,p($(1,4),n=>i(a(e.weapon.refinement,Al,{unit:"%"}),n)),_),uS=r(nt,Bl,{premod:{atk_:El,def_:xl}}),_S={document:[{value:wo,path:hS,name:t("hitOp.normalOrCharged"),header:o(nt,t("stacks")),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:El},{node:xl},{text:l("duration"),value:6,unit:"s"}]}]))}]},fS=new s(nt,_S,Bl,uS),Ne="WolfsGravestone",Ml=d.weapon.data[Ne],gS=[-1,.2,.25,.3,.35,.4],wS=[-1,.4,.5,.6,.7,.8],[kS,Dl]=m(Ne,"WolfishTracker"),Tl=a(e.weapon.refinement,gS),Rl=c("on",Dl,a(e.weapon.refinement,wS,f.info("atk_"))),vS=r(Ne,Ml,{premod:{atk_:Tl},teamBuff:{premod:{atk_:Rl}}}),yS={document:[{header:o(Ne,t("base")),fields:[{node:Tl}]},{value:Dl,path:kS,teamBuff:!0,header:o(Ne,t("conditional")),name:t("enemyLessPercentHP",{percent:30}),states:{on:{fields:[{node:Rl},{text:l("duration"),value:12,unit:"s"}]}}}]},PS=new s(Ne,yS,Ml,vS),SS={Akuoumaru:Z2,BeaconOfTheReedSea:rv,BlackcliffSlasher:pv,BloodtaintedGreatsword:gv,DebateClub:yv,FavoniusGreatsword:bv,FerrousShadow:xv,ForestRegalia:jv,KatsuragikiriNagamasa:Hv,LithicBlade:zv,LuxuriousSeaLord:Xv,MailedFlower:oy,MakhairaAquamarine:iy,OldMercsPal:$y,PortablePowerSaw:gy,PrototypeArchaic:yy,Rainslasher:By,RedhornStonethresher:Ty,RoyalGreatsword:Fy,SacrificialGreatsword:Hy,SerpentSpine:Jy,SkyriderGreatsword:eP,SkywardPride:sP,SnowTombedStarsilver:mP,SongOfBrokenPines:gP,TalkingStick:OP,TheBell:TP,TheUnforged:GP,TidalShadow:VP,UltimateOverlordsMegaMagicSword:ZP,Verdict:sS,WasterGreatsword:rS,Whiteblind:fS,WhiteIronGreatsword:pS,WolfsGravestone:PS},Ut="BalladOfTheFjords",Cl=d.weapon.data[Ut],bS=[-1,120,150,180,210,240],va=es(E.ele,3,a(e.weapon.refinement,bS)),OS=r(Ut,Cl,{premod:{eleMas:va}}),BS={document:[{header:o(Ut,t("talents.passive")),canShow:N(va,0,1),fields:[{node:va}]}]},AS=new s(Ut,BS,Cl,OS),ko="BeginnersProtector",vo=d.weapon.data[ko],ES=r(ko,vo),xS={...vo,document:[]},MS=new s(ko,xS,vo,ES),dn="BlackTassel",Il=d.weapon.data[dn],[,DS]=g("weapon",dn),TS=[-1,.4,.5,.6,.7,.8],[RS,jl]=m(dn,"PressTheAdvantage"),Fl=c("on",jl,a(e.weapon.refinement,TS)),CS=r(dn,Il,{premod:{all_dmg_:Fl}}),IS={document:[{value:jl,path:RS,header:o(dn,t("conditional")),name:DS("condName"),states:{on:{fields:[{node:Fl}]}}}]},jS=new s(dn,IS,Il,CS),tt="BlackcliffPole",Nl=d.weapon.data[tt],[FS,Wl]=m(tt,"PressTheAdvantage"),Hl=$(1,3),NS=[-1,.12,.15,.18,.21,.24],Gl=i(h(Wl,p(Hl,n=>w(n)),0),a(e.weapon.refinement,NS)),WS=r(tt,Nl,{premod:{atk_:Gl}}),HS={document:[{value:Wl,path:FS,teamBuff:!0,header:o(tt,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(Hl.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Gl},{text:l("duration"),value:30,unit:"s"}]}]))}]},GS=new s(tt,HS,Nl,WS),ve="CalamityQueller",Kl=d.weapon.data[ve],[,ya]=g("weapon",ve),[KS,Ll]=m(ve,"stack"),LS=[-1,.12,.15,.18,.21,.24],qS=[-1,.032,.04,.048,.056,.064],ql=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,LS)])),zl=i(Ta(e.charKey,e.activeCharKey,w(1,{name:ya("active")}),w(2,{name:ya("inactive")})),h(Ll,p($(1,6),n=>w(n,{name:t("stacks")})),0),a(e.weapon.refinement,qS)),zS=r(ve,Kl,{premod:{...ql,atk_:zl}}),VS={document:[{header:o(ve,t("base")),fields:Object.values(ql).map(n=>({node:n}))},{value:Ll,path:KS,teamBuff:!0,header:o(ve,t("stacks")),name:ya("effectName"),states:Object.fromEntries($(1,6).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:zl}]}]))}]},US=new s(ve,VS,Kl,zS),at="CrescentPike",Vl=d.weapon.data[at],JS=[-1,.2,.25,.3,.35,.4],Ul=c(e.weapon.key,at,y(i(e.total.atk,a(e.weapon.refinement,JS,{unit:"%"})),"elemental",{hit:{ele:w("physical")}})),QS=r(at,Vl,void 0,{hit:Ul}),XS={document:[{header:o(at,t("talents.passive")),fields:[{node:u(Ul,{name:t("dmg")})}]}]},YS=new s(at,XS,Vl,QS),ot="CrimsonMoonsSemblance",Jl=d.weapon.data[ot],ZS=[-1,.12,.16,.2,.24,.28],e4=[-1,.2,.28,.36,.44,.52],[n4,yo]=m(ot,"bond"),Ql=N(yo,void 0,a(e.weapon.refinement,ZS),f.info("all_dmg_")),t4=c(yo,"2",a(e.weapon.refinement,e4),f.info("all_dmg_")),Xl=P(Ql,t4),a4=r(ot,Jl,{premod:{all_dmg_:Xl}}),o4={document:[{value:yo,path:n4,header:o(ot,t("conditional")),name:t("currentBond"),states:{1:{name:"< 30%",fields:[{node:Ql}]},2:{name:">= 30%",fields:[{node:Xl}]}}}]},s4=new s(ot,o4,Jl,a4),rn="Deathmatch",Yl=d.weapon.data[rn],[,c4]=g("weapon",rn),[d4,Po]=m(rn,"stack"),Zl=[-1,.16,.2,.24,.28,.32],r4=[-1,.24,.3,.36,.42,.48],Pa=h(Po,{oneOrNone:a(e.weapon.refinement,r4,{unit:"%"}),moreThanOne:a(e.weapon.refinement,Zl,{unit:"%"})},_),Sa=c(Po,"moreThanOne",a(e.weapon.refinement,Zl,{unit:"%"})),i4=r(rn,Yl,{premod:{atk_:Pa,def_:Sa}}),m4={document:[{value:Po,path:d4,teamBuff:!0,header:o(rn,t("conditional")),name:c4("condName"),states:{oneOrNone:{name:"≤1",fields:[{node:Pa},{node:Sa}]},moreThanOne:{name:"≥2",fields:[{node:Pa},{node:Sa}]}}}]},l4=new s(rn,m4,Yl,i4),Jt="DialoguesOfTheDesertSages",e0=d.weapon.data[Jt],$4=r(Jt,e0),p4={document:[{header:o(Jt),fields:[]}]},h4=new s(Jt,p4,e0,$4),st="DragonsBane",n0=d.weapon.data[st],u4=[-1,.2,.24,.28,.32,.36],[_4,t0]=m(st,"BaneOfFlameAndWater"),a0=c("on",t0,a(e.weapon.refinement,u4)),f4=r(st,n0,{premod:{all_dmg_:a0}}),g4={document:[{value:t0,path:_4,header:o(st,t("conditional")),name:t("enemyAffected.hydroOrPyro"),states:{on:{fields:[{node:a0}]}}}]},w4=new s(st,g4,n0,f4),q="DragonspineSpear",o0=d.weapon.data[q],k4=[-1,.8,.95,1.1,1.25,1.4],v4=[-1,2,2.4,2.8,3.2,3.6],s0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,k4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),c0=c(e.weapon.key,q,y(i(a(e.weapon.refinement,v4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),y4=r(q,o0,void 0,{dmgAoe:s0,dmgOnCryoOp:c0}),P4={document:[{header:o(q,t("base")),fields:[{node:u(s0,{name:s.trm(q)("aoeDmg")})},{node:u(c0,{name:s.trm(q)("cryoAffectedDmg")})}]}]},S4=new s(q,P4,o0,y4),ye="EngulfingLightning",d0=d.weapon.data[ye],b4=[-1,.28,.35,.42,.49,.56],O4=[-1,.8,.9,1,1.1,1.2],ba=c(e.weapon.key,ye,te(i(a(e.weapon.refinement,b4),P(e.premod.enerRech_,S(-1))),a(e.weapon.refinement,O4))),B4=[-1,.3,.35,.4,.45,.5,.55],[A4,r0]=m(ye,"TimelessDream"),i0=c("on",r0,a(e.weapon.refinement,B4)),E4=r(ye,d0,{premod:{atk_:ba,enerRech_:i0}},{atk_:ba}),x4={document:[{header:o(ye,t("base")),fields:[{node:ba}]},{teamBuff:!0,value:r0,path:A4,header:o(ye,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:i0},{text:l("duration"),value:12,unit:"s"}]}}}]},M4=new s(ye,x4,d0,E4),Qt="FavoniusLance",m0=d.weapon.data[Qt],D4=r(Qt,m0),T4={document:[{header:o(Qt),fields:[]}]},R4=new s(Qt,T4,m0,D4),ct="Halberd",l0=d.weapon.data[ct],C4=[-1,1.6,2,2.4,2.8,3.2],$0=c(e.weapon.key,ct,y(i(a(e.weapon.refinement,C4,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),I4=r(ct,l0,void 0,{dmg:$0}),j4={document:[{header:o(ct,t("base")),fields:[{node:u($0,{name:t("dmg")})}]}]},F4=new s(ct,j4,l0,I4),So="IronPoint",bo=d.weapon.data[So],N4=r(So,bo),W4={...bo,document:[]},H4=new s(So,W4,bo,N4),Xt="KitainCrossSpear",p0=d.weapon.data[Xt],G4=[-1,.06,.075,.09,.105,.12],h0=a(e.weapon.refinement,G4),K4=r(Xt,p0,{premod:{skill_dmg_:h0}}),L4={document:[{header:o(Xt,t("base")),fields:[{node:h0}]}]},q4=new s(Xt,L4,p0,K4),Yt="LithicSpear",u0=d.weapon.data[Yt],z4=[-1,.07,.08,.09,.1,.11],V4=[-1,.03,.04,.05,.06,.07],_0=i(a(e.weapon.refinement,z4,{unit:"%"}),E.liyue),f0=i(a(e.weapon.refinement,V4,{unit:"%"}),E.liyue),U4=r(Yt,u0,{premod:{atk_:_0,critRate_:f0}}),J4={document:[{header:o(Yt,t("stacks")),fields:[{node:_0},{node:f0}]}]},Q4=new s(Yt,J4,u0,U4),dt="MissiveWindspear",g0=d.weapon.data[dt],[X4,Oo]=m(dt,"passive"),Y4=[-1,.12,.15,.18,.21,.24],Z4=[-1,48,60,72,84,96],w0=c(Oo,"on",a(e.weapon.refinement,Y4,{unit:"%"})),k0=c(Oo,"on",a(e.weapon.refinement,Z4)),e5=r(dt,g0,{premod:{atk_:w0,eleMas:k0}}),n5={document:[{value:Oo,path:X4,teamBuff:!0,header:o(dt,t("conditional")),name:t("afterReaction"),states:{on:{fields:[{node:w0},{node:k0},{text:l("duration"),value:10,unit:"s"}]}}}]},t5=new s(dt,n5,g0,e5),mn="Moonpiercer",v0=d.weapon.data[mn],[,a5]=g("weapon",mn),[o5,y0]=m(mn,"passive"),s5=[-1,.16,.2,.24,.28,.32],P0=c(y0,"on",a(e.weapon.refinement,s5,{unit:"%"})),c5=c(e.activeCharKey,b.charKey,P0),d5=r(mn,v0,{teamBuff:{premod:{atk_:c5}}}),r5={document:[{value:y0,path:o5,teamBuff:!0,header:o(mn,t("conditional")),name:a5("condName"),states:{on:{fields:[{node:u(P0,f.info("atk_"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},i5=new s(mn,r5,v0,d5),rt="PrimordialJadeWingedSpear",S0=d.weapon.data[rt],[m5,Bo]=m(rt,"stack"),l5=[-1,.032,.039,.046,.053,.06],$5=[-1,.12,.15,.18,.21,.24],b0=h(Bo,p($(1,7),n=>i(a(e.weapon.refinement,l5,{unit:"%"}),n)),_),O0=c(Bo,"7",a(e.weapon.refinement,$5,{unit:"%"})),p5=r(rt,S0,{premod:{atk_:b0,all_dmg_:O0}}),h5={document:[{value:Bo,path:m5,teamBuff:!0,header:o(rt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,7).map(n=>[n,{name:t("hits",{count:n}),fields:[{node:b0},{node:O0}]}]))}]},u5=new s(rt,h5,S0,p5),ln="ProspectorsDrill",B0=d.weapon.data[ln],[,_5]=g("weapon",ln),f5=[-1,.03,.04,.05,.06,.07],g5=[-1,.07,.085,.1,.115,.13],[w5,Ao]=m(ln,"marksConsumed"),Eo=$(1,3),A0=h(Ao,p(Eo,n=>i(n,a(e.weapon.refinement,f5,{unit:"%"}))),_),k5=h(Ao,p(Eo,n=>i(n,a(e.weapon.refinement,g5,{unit:"%"}))),_),E0=p(v.map(n=>`${n}_dmg_`),()=>({...k5})),v5=r(ln,B0,{premod:{atk_:A0,...E0}}),y5={document:[{value:Ao,path:w5,teamBuff:!0,header:o(ln,t("stacks")),name:_5("condName"),states:p(Eo,n=>({name:`${n}`,fields:[{node:A0},...Object.values(E0).map(k=>({node:k})),{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},P5=new s(ln,y5,B0,v5),it="PrototypeStarglitter",x0=d.weapon.data[it],[S5,xo]=m(it,"stack"),M0=[-1,.08,.1,.12,.14,.16],D0=h(xo,p($(1,2),n=>i(a(e.weapon.refinement,M0,{unit:"%"}),n)),_),T0=h(xo,p($(1,2),n=>i(a(e.weapon.refinement,M0,{unit:"%"}),n)),_),b5=r(it,x0,{premod:{normal_dmg_:D0,charged_dmg_:T0}}),O5={document:[{value:xo,path:S5,header:o(it,t("stacks")),name:t("afterUse.skill"),states:Object.fromEntries($(1,2).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:D0},{node:T0}]}]))}]},B5=new s(it,O5,x0,b5),Zt="RightfulReward",R0=d.weapon.data[Zt],A5=r(Zt,R0),E5={document:[{header:o(Zt),fields:[]}]},x5=new s(Zt,E5,R0,A5),mt="RoyalSpear",C0=d.weapon.data[mt],[M5,I0]=m(mt,"stack"),D5=[-1,.08,.1,.12,.14,.16],j0=h(I0,p($(1,5),n=>i(a(e.weapon.refinement,D5,{unit:"%"}),n)),_),T5=r(mt,C0,{premod:{critRate_:j0}}),R5={document:[{value:I0,path:M5,teamBuff:!0,header:o(mt,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:j0}]}]))}]},C5=new s(mt,R5,C0,T5),lt="SkywardSpine",F0=d.weapon.data[lt],I5=[-1,.08,.1,.12,.14,.16],j5=[-1,.4,.55,.7,.85,1],N0=S(.12),W0=a(e.weapon.refinement,I5),H0=c(e.weapon.key,lt,y(i(a(e.weapon.refinement,j5,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),F5=r(lt,F0,{premod:{critRate_:W0,atkSPD_:N0}},{dmg:H0}),N5={document:[{header:o(lt,t("base")),fields:[{node:W0},{node:N0},{node:u(H0,{name:t("dmg")})}]}]},W5=new s(lt,N5,F0,F5),Pe="StaffOfHoma",G0=d.weapon.data[Pe],H5=[-1,.2,.25,.3,.35,.4],G5=[-1,.008,.01,.012,.014,.016],K5=[-1,.01,.012,.014,.016,.018],K0=a(e.weapon.refinement,H5,{unit:"%"}),[L5,L0]=m(Pe,"RecklessCinnabar"),q0=i(a(e.weapon.refinement,G5,{unit:"%"}),e.premod.hp),Oa=c(e.weapon.key,Pe,c("on",L0,i(a(e.weapon.refinement,K5,{unit:"%"}),e.premod.hp),f.info("atk"))),q5=r(Pe,G0,{premod:{hp_:K0},total:{atk:P(q0,Oa)}},{atk2_:Oa}),z5={document:[{header:o(Pe,t("base")),fields:[{node:K0},{node:u(q0,f.info("atk"))}]},{value:L0,path:L5,teamBuff:!0,header:o(Pe),name:t("lessPercentHP",{percent:50}),states:{on:{fields:[{node:u(Oa,f.info("atk"))}]}}}]},V5=new s(Pe,z5,G0,q5),X="StaffOfTheScarletSands",z0=d.weapon.data[X],[U5,V0]=m(X,"stacks"),J5=[-1,.52,.65,.78,.91,1.04],Q5=[-1,.28,.35,.42,.49,.56],U0=$(1,3),J0=c(e.weapon.key,X,i(a(e.weapon.refinement,J5,{unit:"%"}),e.premod.eleMas),f.info("atk")),Q0=h(V0,Object.fromEntries(U0.map(n=>[n,i(n,a(e.weapon.refinement,Q5,{unit:"%"}),e.premod.eleMas)])),_,f.info("atk")),Yo=c(e.weapon.key,X,P(J0,Q0)),X5=r(X,z0,{total:{atk:Yo}},{atk:Yo}),Y5={document:[{header:o(X,t("base")),fields:[{node:J0}]},{value:V0,path:U5,header:o(X,t("stacks")),name:t("hitOp.skill"),states:Object.fromEntries(U0.map(n=>[n,{name:t("hits",{count:n}),fields:[{node:Q0},{text:l("duration"),value:10,unit:"s"}]}]))}]},Z5=new s(X,Y5,z0,X5),ea="TheCatch",X0=d.weapon.data[ea],eb=[-1,.16,.2,.24,.28,.32],nb=[-1,.06,.075,.09,.105,.12],Y0=a(e.weapon.refinement,eb),Z0=a(e.weapon.refinement,nb),tb=r(ea,X0,{premod:{burst_dmg_:Y0,burst_critRate_:Z0}}),ab={document:[{header:o(ea,t("base")),fields:[{node:Y0},{node:Z0}]}]},ob=new s(ea,ab,X0,tb),T="VortexVanquisher",e$=d.weapon.data[T],[,sb]=g("weapon",T),cb=[-1,.2,.25,.3,.35,.4],db=[-1,.04,.05,.06,.07,.08],[rb,n$]=m(T,"GoldenMajesty"),t$=a(e.weapon.refinement,cb),[ib,a$]=m(T,"WithShield"),mb=a(e.weapon.refinement,db),o$=i(P(1,c(a$,"protected",1)),h(n$,Object.fromEntries($(1,5).map(n=>[n,i(mb,n)])),_)),lb=r(T,e$,{premod:{shield_:t$,atk_:o$}}),$b={document:[{header:o(T,t("base")),fields:[{node:t$}]},{value:n$,path:rb,teamBuff:!0,header:o(T,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:o$},{text:l("duration"),value:8,unit:"s"}]}]))},{value:a$,path:ib,header:o(T,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:sb("atkEffInc"),value:100,unit:"%"}]}}}]},pb=new s(T,$b,e$,lb),$n="WavebreakersFin",s$=d.weapon.data[$n],[,hb]=g("weapon",$n),[ub,c$]=m($n,"WatatsumiWavewalker"),d$=$(4,36).map(n=>n*10),_b=[-1,.0012,.0015,.0018,.0021,.0024],fb=[-1,.4,.5,.6,.7,.8],r$=h(c$,Object.fromEntries(d$.map(n=>[n,te(i(a(e.weapon.refinement,_b,{unit:"%"}),n),a(e.weapon.refinement,fb,{unit:"%"}))])),_),gb=r($n,s$,{premod:{burst_dmg_:r$}}),wb={document:[{value:c$,path:ub,header:o($n),name:hb("party"),states:Object.fromEntries(d$.map(n=>[n,{name:n.toString(),fields:[{node:r$}]}]))}]},kb=new s($n,wb,s$,gb),na="WhiteTassel",i$=d.weapon.data[na],vb=[-1,.24,.3,.36,.42,.48],m$=a(e.weapon.refinement,vb),yb=r(na,i$,{premod:{normal_dmg_:m$}}),Pb={document:[{header:o(na,t("base")),fields:[{node:m$}]}]},Sb=new s(na,Pb,i$,yb),bb={BalladOfTheFjords:AS,BeginnersProtector:MS,BlackcliffPole:GS,BlackTassel:jS,CalamityQueller:US,CrescentPike:YS,CrimsonMoonsSemblance:s4,Deathmatch:l4,DialoguesOfTheDesertSages:h4,DragonsBane:w4,DragonspineSpear:S4,EngulfingLightning:M4,FavoniusLance:R4,Halberd:F4,IronPoint:H4,KitainCrossSpear:q4,LithicSpear:Q4,MissiveWindspear:t5,Moonpiercer:i5,PrimordialJadeWingedSpear:u5,ProspectorsDrill:P5,PrototypeStarglitter:B5,RightfulReward:x5,RoyalSpear:C5,SkywardSpine:W5,StaffOfHoma:V5,StaffOfTheScarletSands:Z5,TheCatch:ob,VortexVanquisher:pb,WavebreakersFin:kb,WhiteTassel:Sb},ta="AmenomaKageuchi",l$=d.weapon.data[ta],Ob=r(ta,l$),Bb={document:[{header:o(ta),fields:[]}]},Ab=new s(ta,Bb,l$,Ob),Y="AquilaFavonia",Mo=d.weapon.data[Y],Eb=[-1,2,2.3,2.6,2.9,3.2],xb=[-1,1,1.15,1.3,1.45,1.6],$$=Mo.refinementBonus.atk_;if(!$$)throw new Error(`data_gen.refinementBonus.atk_ for ${Y} was undefined`);const p$=a(e.weapon.refinement,$$),h$=c(e.weapon.key,Y,i(a(e.weapon.refinement,xb,{unit:"%"}),e.premod.atk)),u$=c(e.weapon.key,Y,y(i(a(e.weapon.refinement,Eb,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),Mb=r(Y,Mo,{premod:{atk_:p$}},{heal:h$,dmg:u$}),Db={document:[{header:o(Y,t("base")),fields:[{node:p$}]},{header:o(Y,t("base")),fields:[{node:u(h$,{name:l("healing"),variant:"heal"})},{node:u(u$,{name:t("dmg")})}]}]},Tb=new s(Y,Db,Mo,Mb),$t="BlackcliffLongsword",_$=d.weapon.data[$t],[Rb,f$]=m($t,"PressTheAdvantage"),g$=$(1,3),Cb=[-1,.12,.15,.18,.21,.24],w$=i(h(f$,p(g$,n=>w(n)),0),a(e.weapon.refinement,Cb)),Ib=r($t,_$,{premod:{atk_:w$}}),jb={document:[{value:f$,path:Rb,header:o($t,t("stacks")),name:t("afterDefeatEnemy"),states:Object.fromEntries(g$.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:w$},{text:l("duration"),value:30,unit:"s"}]}]))}]},Fb=new s($t,jb,_$,Ib),De="CinnabarSpindle",k$=d.weapon.data[De],[,Nb]=g("weapon",De),Wb=[-1,.4,.5,.6,.7,.8],[Hb,v$]=m(De,"SpotlessHeart"),Ba=c(e.weapon.key,De,c("on",v$,i(a(e.weapon.refinement,Wb,{unit:"%"}),e.premod.def))),Gb=r(De,k$,{premod:{skill_dmgInc:Ba}},{skill_dmgInc:Ba}),Kb={document:[{value:v$,path:Hb,header:o(De,t("conditional")),name:Nb("name"),states:{on:{fields:[{node:Ba}]}}}]},Lb=new s(De,Kb,k$,Gb),pt="CoolSteel",y$=d.weapon.data[pt],qb=[-1,.12,.15,.18,.21,.24],[zb,P$]=m(pt,"BaneOfWaterAndIce"),S$=c("on",P$,a(e.weapon.refinement,qb)),Vb=r(pt,y$,{premod:{all_dmg_:S$}}),Ub={document:[{value:P$,path:zb,name:t("enemyAffected.hydroOrCryo"),header:o(pt,t("conditional")),states:{on:{fields:[{node:S$}]}}}]},Jb=new s(pt,Ub,y$,Vb),ht="DarkIronSword",b$=d.weapon.data[ht],Qb=[-1,.2,.25,.3,.35,.5],[Xb,O$]=m(ht,"Overloaded"),B$=c("on",O$,a(e.weapon.refinement,Qb,{unit:"%"})),Yb=r(ht,b$,{premod:{atk_:B$}}),Zb={document:[{value:O$,path:Xb,name:t("elementalReaction.electro"),header:o(ht,t("conditional")),states:{on:{fields:[{node:B$},{text:l("duration"),value:12,unit:"s"}]}}}]},e3=new s(ht,Zb,b$,Yb),Do="DullBlade",To=d.weapon.data[Do],n3=r(Do,To),t3={...To,document:[]},a3=new s(Do,t3,To,n3),aa="FavoniusSword",A$=d.weapon.data[aa],o3=r(aa,A$),s3={document:[{header:o(aa),fields:[]}]},c3=new s(aa,s3,A$,o3),oa="FesteringDesire",E$=d.weapon.data[oa],d3=[-1,.16,.2,.24,.28,.32],r3=[-1,.06,.075,.09,.105,.12],x$=a(e.weapon.refinement,d3,{unit:"%"}),M$=a(e.weapon.refinement,r3,{unit:"%"}),i3=r(oa,E$,{premod:{skill_dmg_:x$,skill_critRate_:M$}}),m3={document:[{header:o(oa,t("base")),fields:[{node:x$},{node:M$}]}]},l3=new s(oa,m3,E$,i3),ut="FilletBlade",D$=d.weapon.data[ut],$3=[-1,2.4,2.8,3.2,3.6,4],p3=[-1,15,14,13,12,11],T$=c(e.weapon.key,ut,y(i(a(e.weapon.refinement,$3,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),h3=r(ut,D$,void 0,{dmg_:T$}),u3={document:[{header:o(ut,t("base")),fields:[{node:u(T$,{name:t("dmg")})},{text:l("cd"),value:n=>p3[n.get(e.weapon.refinement).value],unit:"s"}]}]},_3=new s(ut,u3,D$,h3),F="FinaleOfTheDeep",R$=d.weapon.data[F],[,f3]=g("weapon",F),g3=[-1,.12,.15,.18,.21,.24],w3=[-1,.024,.03,.036,.042,.048],k3=[-1,150,187.5,225,262.5,300],[v3,C$]=m(F,"afterSkill"),I$=c(C$,"on",a(e.weapon.refinement,g3)),y3=i(S(.25),e.total.hp),[P3,j$]=m(F,"bond"),Aa=c(e.weapon.key,F,c(j$,"on",te(i(y3,a(e.weapon.refinement,w3,{unit:"%"})),a(e.weapon.refinement,k3,{unit:"%"})))),S3=r(F,R$,{premod:{atk_:I$,atk:Aa}},{bond_atk:Aa}),b3={document:[{header:o(F,t("conditional")),path:v3,value:C$,name:t("hitOp.skill"),states:{on:{fields:[{node:I$},{text:l("duration"),value:15,unit:"s"},{text:l("cd"),value:10,unit:"s"}]}}},{header:o(F,t("conditional")),path:P3,value:j$,name:f3("bondCondName"),states:{on:{fields:[{node:Aa},{text:l("duration"),value:15,unit:"s"}]}}}]},O3=new s(F,b3,R$,S3),We="FleuveCendreFerryman",F$=d.weapon.data[We],B3=[-1,.08,.1,.12,.14,.16],A3=[-1,.16,.2,.24,.28,.32],N$=a(e.weapon.refinement,B3),[E3,W$]=m(We,"afterSkill"),H$=c(W$,"on",a(e.weapon.refinement,A3)),x3=r(We,F$,{premod:{skill_critRate_:N$,enerRech_:H$}}),M3={document:[{header:o(We,t("base")),fields:[{node:N$}]},{header:o(We,t("conditional")),value:W$,path:E3,name:t("afterUse.skill"),states:{on:{fields:[{node:H$},{text:l("duration"),value:5,unit:"s"}]}}}]},D3=new s(We,M3,F$,x3),Z="FreedomSworn",Ro=d.weapon.data[Z],[,T3]=g("weapon",Z),[R3,Co]=m(Z,"MillennialMovement"),C3=[-1,.16,.2,.24,.28,.32],I3=[-1,.2,.25,.3,.35,.4],G$=Ro.refinementBonus.dmg_;if(!G$)throw new Error(`data_gen.refinementBonus.dmg_ for ${Z} was undefined`);const K$=a(e.weapon.refinement,G$),L$=c("on",Co,a(e.weapon.refinement,I3)),sa=c("on",Co,a(e.weapon.refinement,C3)),q$={...sa},z$={...sa},j3=r(Z,Ro,{premod:{all_dmg_:K$},teamBuff:{premod:{atk_:L$,normal_dmg_:sa,charged_dmg_:q$,plunging_dmg_:z$}}}),F3={document:[{header:o(Z,t("base")),fields:[{node:K$}]},{value:Co,path:R3,teamBuff:!0,header:o(Z,t("conditional")),name:T3("sigilsConsumed"),states:{on:{fields:[{node:L$},{node:sa},{node:q$},{node:z$},{text:l("duration"),value:12,unit:"s"}]}}}]},N3=new s(Z,F3,Ro,j3),Se="HaranGeppakuFutsu",V$=d.weapon.data[Se],[,W3]=g("weapon",Se),H3=[-1,.12,.15,.18,.21,.24],G3=[-1,.2,.25,.3,.35,.4],[K3,U$]=m(Se,"HonedFlow"),J$=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,H3,f.info(`${n}_dmg_`))])),Q$=h(U$,p($(1,2),n=>i(n,a(e.weapon.refinement,G3))),_),L3=r(Se,V$,{premod:{...J$,normal_dmg_:Q$}}),q3={document:[{header:o(Se,t("base")),fields:[...v.map(n=>({node:J$[`${n}_dmg_`]}))]},{value:U$,path:K3,name:W3("consumed"),header:o(Se,t("conditional")),states:p($(1,2),n=>({name:t("stack",{count:n}),fields:[{node:Q$}]}))}]},z3=new s(Se,q3,V$,L3),_t="HarbingerOfDawn",X$=d.weapon.data[_t],[V3,Y$]=m(_t,"SkyPiercingMight"),U3=[-1,.14,.175,.21,.245,.28],Z$=c("on",Y$,a(e.weapon.refinement,U3)),J3=r(_t,X$,{premod:{critRate_:Z$}}),Q3={document:[{value:Y$,path:V3,header:o(_t,t("conditional")),name:t("greaterPercentHP",{percent:90}),states:{on:{fields:[{node:Z$}]}}}]},X3=new s(_t,Q3,X$,J3),ft="IronSting",ep=d.weapon.data[ft],[Y3,np]=m(ft,"InfusionStinger"),tp=$(1,2),Z3=[-1,.06,.075,.09,.105,.12],ap=i(h(np,p(tp,n=>w(n)),_),a(e.weapon.refinement,Z3)),eO=r(ft,ep,{premod:{all_dmg_:ap}}),nO={document:[{value:np,path:Y3,header:o(ft,t("stacks")),name:t("hitOp.ele"),states:Object.fromEntries(tp.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:ap},{text:l("duration"),value:6,unit:"s"}]}]))}]},tO=new s(ft,nO,ep,eO),be="KagotsurubeIsshin",op=d.weapon.data[be],[aO,sp]=m(be,"passive"),cp=c(sp,"on",S(.15)),dp=c(e.weapon.key,be,y(i(S(1.8),e.total.atk),"elemental",{hit:{ele:w("physical")}})),oO=r(be,op,{premod:{atk_:cp}},{dmg:dp}),sO={document:[{header:o(be,t("base")),fields:[{node:u(dp,{name:t("dmg")})}]},{header:o(be,t("conditional")),value:sp,path:aO,name:t("hitOp.normalChargedOrPlunging"),states:{on:{fields:[{node:cp},{text:l("duration"),value:8,unit:"s"},{text:l("cd"),value:8,unit:"s"}]}}}]},cO=new s(be,sO,op,oO),A="KeyOfKhajNisut",rp=d.weapon.data[A],dO=[-1,.0012,.0015,.0018,.0021,.0024],rO=[-1,.002,.0025,.003,.0035,.004],ip=$(1,3),iO=[-1,.2,.25,.3,.35,.4],mp=c(e.weapon.key,A,a(e.weapon.refinement,iO,{unit:"%"})),[mO,Mt]=m(A,"afterSkill"),Ea=c(e.weapon.key,A,h(Mt,Object.fromEntries(ip.map(n=>[n,i(n,a(e.weapon.refinement,dO,{unit:"%",fixed:2}),e.total.hp)])),_)),xa=c(e.weapon.key,A,c(Mt,"3",i(a(e.weapon.refinement,rO,{unit:"%",fixed:2}),e.total.hp))),lO=r(A,rp,{premod:{hp_:mp},total:{eleMas:Ea},teamBuff:{total:{eleMas:xa}}},{selfEleMas:Ea,teamEleMas:xa}),$O={document:[{header:o(A,t("base")),fields:[{node:mp}]},{header:o(A,t("stacks")),teamBuff:!0,path:mO,value:Mt,name:t("hitOp.skill"),states:Object.fromEntries(ip.map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Ea},{text:l("duration"),value:20,unit:"s"}]}]))},{header:o(A,t("teamBuff")),canShow:c(Mt,"3",1),teamBuff:!0,fields:[{node:xa},{text:l("duration"),value:20,unit:"s"}]}]},pO=new s(A,$O,rp,lO),ee="LightOfFoliarIncision",lp=d.weapon.data[ee],hO=[-1,.04,.05,.06,.07,.08],$p=c(e.weapon.key,ee,a(e.weapon.refinement,hO)),[uO,pp]=m(ee,"afterNormalEle"),_O=[-1,1.2,1.5,1.8,2.1,2.4],Dt=c(e.weapon.key,ee,c(pp,"on",i(a(e.weapon.refinement,_O,{unit:"%"}),e.total.eleMas))),Ma={...Dt},fO=r(ee,lp,{premod:{normal_dmgInc:Dt,skill_dmgInc:Ma,critRate_:$p}},{normal_dmgInc:Dt,skill_dmgInc:Ma}),gO={document:[{header:o(ee,t("base")),fields:[{node:$p}]},{header:o(ee,t("conditional")),path:uO,value:pp,name:t("hitOp.normalEle"),states:{on:{fields:[{node:Dt},{node:Ma},{text:t("triggerQuota"),value:28},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:12,unit:"s"}]}}}]},wO=new s(ee,gO,lp,fO),gt="LionsRoar",hp=d.weapon.data[gt],[kO,up]=m(gt,"BaneOfFireAndThunder"),vO=[-1,.2,.24,.28,.32,.36],_p=c("on",up,a(e.weapon.refinement,vO)),yO=r(gt,hp,{premod:{all_dmg_:_p}}),PO={document:[{value:up,path:kO,header:o(gt,t("conditional")),name:t("enemyAffected.pyroOrElectro"),states:{on:{fields:[{node:_p}]}}}]},SO=new s(gt,PO,hp,yO),Oe="MistsplitterReforged",fp=d.weapon.data[Oe],[,bO]=g("weapon",Oe),gp=["1","2","3"],OO=[-1,.12,.15,.18,.21,.24],BO={1:[-1,.08,.1,.12,.14,.16],2:[-1,.16,.2,.24,.28,.32],3:[-1,.28,.35,.42,.49,.56]},[AO,wp]=m(Oe,"MistsplittersEmblem"),kp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,a(e.weapon.refinement,OO,f.info(`${n}_dmg_`))])),vp=Object.fromEntries(v.map(n=>[`${n}_dmg_`,c(e.charEle,n,h(wp,p(gp,k=>a(e.weapon.refinement,BO[k])),_,f.info(`${n}_dmg_`)))])),EO=Object.fromEntries(v.map(n=>[`${n}_dmg_`,P(kp[`${n}_dmg_`],vp[`${n}_dmg_`])])),xO=r(Oe,fp,{premod:{...EO}}),MO={document:[{header:o(Oe,t("base")),fields:v.map(n=>({node:kp[`${n}_dmg_`]}))},{value:wp,path:AO,name:bO("emblem"),teamBuff:!0,header:o(Oe,t("stacks")),states:Object.fromEntries(gp.map(n=>[n,{name:t("stack",{count:parseInt(n)}),fields:v.map(k=>({node:vp[`${k}_dmg_`]}))}]))}]},DO=new s(Oe,MO,fp,xO),wt="PrimordialJadeCutter",yp=d.weapon.data[wt],TO=[-1,.2,.25,.3,.35,.4],RO=[-1,.012,.015,.018,.021,.024],Pp=a(e.weapon.refinement,TO),Da=c(e.weapon.key,wt,i(a(e.weapon.refinement,RO,{unit:"%"}),e.premod.hp)),CO=r(wt,yp,{premod:{hp_:Pp},total:{atk:Da}},{atk:Da}),IO={document:[{header:o(wt,t("base")),fields:[{node:Pp},{node:Da}]}]},jO=new s(wt,IO,yp,CO),kt="PrototypeRancour",Sp=d.weapon.data[kt],[FO,Io]=m(kt,"stack"),bp=[-1,.04,.05,.06,.07,.08],Op=h(Io,p($(1,4),n=>i(a(e.weapon.refinement,bp,{unit:"%"}),n)),_),Bp=h(Io,p($(1,4),n=>i(a(e.weapon.refinement,bp,{unit:"%"}),n)),_),NO=r(kt,Sp,{premod:{atk_:Op,def_:Bp}}),WO={document:[{value:Io,path:FO,header:o(kt,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,4).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:Op},{node:Bp},{text:l("duration"),value:6,unit:"s"}]}]))}]},HO=new s(kt,WO,Sp,NO),vt="RoyalLongsword",Ap=d.weapon.data[vt],[GO,Ep]=m(vt,"stack"),KO=[-1,.08,.1,.12,.14,.16],xp=h(Ep,p($(1,5),n=>i(a(e.weapon.refinement,KO,{unit:"%"}),n)),_),LO=r(vt,Ap,{premod:{critRate_:xp}}),qO={document:[{value:Ep,path:GO,header:o(vt,t("stacks")),name:t("stacks"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:xp}]}]))}]},zO=new s(vt,qO,Ap,LO),ca="SacrificialSword",Mp=d.weapon.data[ca],VO=r(ca,Mp),UO={document:[{header:o(ca),fields:[]}]},JO=new s(ca,UO,Mp,VO),pn="SapwoodBlade",Dp=d.weapon.data[pn],[,QO]=g("weapon",pn),[XO,Tp]=m(pn,"passive"),YO=[-1,60,75,90,105,120],Rp=c(Tp,"on",a(e.weapon.refinement,YO)),ZO=c(e.activeCharKey,b.charKey,Rp),e6=r(pn,Dp,{teamBuff:{premod:{eleMas:ZO}}}),n6={document:[{value:Tp,path:XO,teamBuff:!0,header:o(pn,t("conditional")),name:QO("condName"),states:{on:{fields:[{node:u(Rp,f.info("eleMas"))},{text:l("duration"),value:12,unit:"s"},{text:l("cd"),value:20,unit:"s"}]}}}]},t6=new s(pn,n6,Dp,e6),jo="SilverSword",Fo=d.weapon.data[jo],a6=r(jo,Fo),o6={...Fo,document:[]},s6=new s(jo,o6,Fo,a6),yt="SkyriderSword",Cp=d.weapon.data[yt],[c6,No]=m(yt,"Determination"),Ip=[-1,.12,.15,.18,.21,.24],jp=c(No,"on",a(e.weapon.refinement,Ip,{unit:"%"})),Fp=c(No,"on",a(e.weapon.refinement,Ip,{unit:"%"})),d6=r(yt,Cp,{premod:{atk_:jp,moveSPD_:Fp}}),r6={document:[{value:No,path:c6,header:o(yt,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:jp},{node:Fp},{text:l("duration"),value:15,unit:"s"}]}}}]},i6=new s(yt,r6,Cp,d6),ne="SkywardBlade",Wo=d.weapon.data[ne],[m6,da]=m(ne,"SkyPiercingMight"),l6=[-1,.2,.25,.3,.35,.4],Np=c("on",da,S(.1)),Wp=c("on",da,S(.1)),Hp=c(e.weapon.key,ne,c("on",da,y(i(a(e.weapon.refinement,l6,{unit:"%"}),e.premod.atk),"elemental",{hit:{ele:w("physical")}}))),Gp=Wo.refinementBonus.critRate_;if(!Gp)throw new Error(`data_gen.refinementBonus.critRate_ for ${ne} was undefined`);const Kp=a(e.weapon.refinement,Gp),$6=r(ne,Wo,{premod:{critRate_:Kp,moveSPD_:Np,atkSPD_:Wp}},{dmg:Hp}),p6={document:[{header:o(ne,t("base")),fields:[{node:Kp}]},{value:da,path:m6,header:o(ne,t("conditional")),name:t("afterUse.burst"),states:{on:{fields:[{node:Np},{node:Wp},{node:u(Hp,{name:t("dmg")})},{text:l("duration"),value:12,unit:"s"}]}}}]},h6=new s(ne,p6,Wo,$6),Be="SplendorOfTranquilWaters",Lp=d.weapon.data[Be],u6=[-1,.08,.1,.12,.14,.16],_6=[-1,.14,.175,.21,.245,.28],[f6,qp]=m(Be,"selfHpChange"),zp=$(1,3),Vp=h(qp,p(zp,n=>i(n,a(e.weapon.refinement,u6,{unit:"%"}))),_),[g6,Up]=m(Be,"teamHpChange"),Jp=$(1,2),Qp=h(Up,p(Jp,n=>i(n,a(e.weapon.refinement,_6,{unit:"%"}))),_),w6=r(Be,Lp,{premod:{hp_:Qp,skill_dmg_:Vp}}),k6={document:[{value:qp,path:f6,header:o(Be,t("stacks")),name:t("hpChange"),states:p(zp,n=>({name:t("times",{count:n}),fields:[{node:Vp},{text:l("duration"),value:6,unit:"s"}]}))},{value:Up,path:g6,header:o(Be,t("stacks")),name:t("otherHpChange"),states:p(Jp,n=>({name:t("times",{count:n}),fields:[{node:Qp},{text:l("duration"),value:6,unit:"s"}]}))}]},v6=new s(Be,k6,Lp,w6),R="SummitShaper",Xp=d.weapon.data[R],[,y6]=g("weapon",R),[P6,Yp]=m(R,"GoldenMajesty"),[S6,Zp]=m(R,"WithShield"),b6=[-1,.2,.25,.3,.35,.4],O6=[-1,.04,.05,.06,.07,.08],eh=a(e.weapon.refinement,b6),B6=a(e.weapon.refinement,O6),nh=i(P(1,c(Zp,"protected",1)),h(Yp,Object.fromEntries($(1,5).map(n=>[n,i(B6,n)])),_)),A6=r(R,Xp,{premod:{shield_:eh,atk_:nh}}),E6={document:[{header:o(R,t("base")),fields:[{node:eh}]},{value:Yp,path:P6,header:o(R,t("stacks")),name:t("hitOp.none"),states:Object.fromEntries($(1,5).map(n=>[n,{name:t("stack",{count:n}),fields:[{node:nh},{text:l("duration"),value:8,unit:"s"}]}]))},{value:Zp,path:S6,header:o(R,t("conditional")),name:t("protectedByShield"),states:{protected:{fields:[{text:y6("atkEffInc"),value:100,unit:"%"}]}}}]},x6=new s(R,E6,Xp,A6),Pt="SwordOfDescension",th=d.weapon.data[Pt],ah=h(e.charKey,p(Lh,n=>w(66)),_),oh=c(e.weapon.key,Pt,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),M6=r(Pt,th,{premod:{atk:ah}},{dmg_:oh}),D6={document:[{header:o(Pt,t("base")),fields:[{node:ah},{node:u(oh,{name:t("dmg")})}]}]},T6=new s(Pt,D6,th,M6),St="SwordOfNarzissenkreuz",sh=d.weapon.data[St],R6=[-1,1.6,2,2.4,2.8,3.2],ch=c(e.weapon.key,St,y(i(a(e.weapon.refinement,R6,{unit:"%"}),e.total.atk),"elemental",{hit:{ele:w("physical")}})),C6=r(St,sh,void 0,{dmg:ch}),I6={document:[{header:o(St,t("dmg")),fields:[{node:u(ch,{name:t("dmg")})}]}]},j6=new s(St,I6,sh,C6),hn="TheAlleyFlash",dh=d.weapon.data[hn],[,F6]=g("weapon",hn),[N6,rh]=m(hn,"ItinerantHero"),W6=[-1,.12,.15,.18,.21,.24],ih=c(rh,"on",a(e.weapon.refinement,W6,{unit:"%"})),H6=r(hn,dh,{premod:{all_dmg_:ih}}),G6={document:[{value:rh,path:N6,header:o(hn,t("conditional")),name:F6("condName"),states:{on:{fields:[{node:ih}]}}}]},K6=new s(hn,G6,dh,H6),bt="TheBlackSword",mh=d.weapon.data[bt],lh=[-1,.2,.25,.3,.35,.4],L6=[-1,.6,.7,.8,.9,1],$h=a(e.weapon.refinement,lh),ph=a(e.weapon.refinement,lh),hh=c(e.weapon.key,bt,Ge(i(a(e.weapon.refinement,L6,{unit:"%"}),e.total.atk))),q6=r(bt,mh,{premod:{normal_dmg_:$h,charged_dmg_:ph}},{heal:hh}),z6={document:[{header:o(bt,t("base")),fields:[{node:$h},{node:ph},{node:u(hh,{name:l("healing"),variant:"heal"})}]}]},V6=new s(bt,z6,mh,q6),un="TheDockhandsAssistant",uh=d.weapon.data[un],[,U6]=g("weapon",un),J6=[-1,40,50,60,70,80],[Q6,_h]=m(un,"symbolsConsumed"),fh=$(1,3),gh=h(_h,p(fh,n=>i(n,a(e.weapon.refinement,J6,{unit:"%"}))),_),X6=r(un,uh,{premod:{eleMas:gh}}),Y6={document:[{value:_h,path:Q6,teamBuff:!0,header:o(un,t("stacks")),name:U6("condName"),states:p(fh,n=>({name:`${n}`,fields:[{node:gh},{text:l("duration"),value:10,unit:"s"},{text:l("cd"),value:15,unit:"s"}]}))}]},Z6=new s(un,Y6,uh,X6),Ot="TheFlute",wh=d.weapon.data[Ot],kh=c(e.weapon.key,Ot,y(i(S(2),e.premod.atk),"elemental",{hit:{ele:w("physical")}})),e8=r(Ot,wh,void 0,{dmg_:kh}),n8={document:[{header:o(Ot,t("base")),fields:[{node:u(kh,{name:t("dmg")})}]}]},t8=new s(Ot,n8,wh,e8),Te="ToukabouShigure",vh=d.weapon.data[Te],[,a8]=g("weapon",Te),[o8,yh]=m(Te,"passive"),s8=[-1,.16,.2,.24,.28,.32],Ph=c(e.weapon.key,Te,c(yh,"on",a(e.weapon.refinement,s8,{unit:"%"}))),c8=r(Te,vh,{premod:{all_dmg_:Ph}}),d8={document:[{value:yh,path:o8,header:o(Te,t("stacks")),name:a8("condName"),states:{on:{fields:[{node:Ph},{text:l("duration"),value:10,unit:"s"}]}}}]},r8=new s(Te,d8,vh,c8),Bt="TravelersHandySword",Sh=d.weapon.data[Bt],i8=[-1,.01,.0125,.015,.0175,.02],bh=c(e.weapon.key,Bt,Ge(i(a(e.weapon.refinement,i8,{unit:"%"}),e.total.hp))),m8=r(Bt,Sh,void 0,{heal:bh}),l8={document:[{header:o(Bt,t("base")),fields:[{node:u(bh,{name:l("healing"),variant:"heal"})}]}]},$8=new s(Bt,l8,Sh,m8),He="UrakuMisugiri",Oh=d.weapon.data[He],p8=[-1,.16,.2,.24,.28,.32],h8=[-1,.24,.3,.36,.42,.48],u8=[-1,.2,.25,.3,.35,.4],Ho=a(e.weapon.refinement,p8),Go=a(e.weapon.refinement,h8),[_8,Ko]=m(He,"teamGeo"),Bh=1,Ah=c(Ko,"on",i(S(Bh),Ho)),Eh=c(Ko,"on",i(S(Bh),Go)),xh=a(e.weapon.refinement,u8),f8=r(He,Oh,{premod:{normal_dmg_:P(Ho,Ah),skill_dmg_:P(Go,Eh),def_:xh}}),g8={document:[{header:o(He,t("base")),fields:[{node:xh},{node:u(Ho,f.info("normal_dmg_"))},{node:u(Go,f.info("skill_dmg_"))}]},{value:Ko,path:_8,header:o(He,t("conditional")),name:t("teamHitOp.geo"),states:{on:{fields:[{node:u(Ah,f.info("normal_dmg_"))},{node:u(Eh,f.info("skill_dmg_"))},{text:l("duration"),value:15,unit:"s"}]}}}]},w8=new s(He,g8,Oh,f8),z="WolfFang",Mh=d.weapon.data[z],k8=[-1,.16,.2,.24,.28,.32],Dh=[-1,.02,.025,.03,.035,.04],Tt=$(1,4),Lo=a(e.weapon.refinement,k8),Th={...Lo},[v8,Rh]=m(z,"skillStacks"),Ch=i(a(e.weapon.refinement,Dh),h(Rh,p(Tt,n=>w(n)),_)),[y8,Ih]=m(z,"burstStacks"),jh=i(a(e.weapon.refinement,Dh),h(Ih,p(Tt,n=>w(n)),_)),P8=r(z,Mh,{premod:{skill_dmg_:Lo,burst_dmg_:Th,skill_critRate_:Ch,burst_critRate_:jh}}),S8={document:[{header:o(z,t("base")),fields:[{node:Lo},{node:Th}]},{header:o(z,t("conditional")),value:Rh,path:v8,name:t("hitOp.skill"),states:p(Tt,n=>({name:t("stack",{count:n}),fields:[{node:Ch},{text:l("duration"),value:10,unit:"s"}]}))},{header:o(z,t("conditional")),value:Ih,path:y8,name:t("hitOp.burst"),states:p(Tt,n=>({name:t("stack",{count:n}),fields:[{node:jh},{text:l("duration"),value:10,unit:"s"}]}))}]},b8=new s(z,S8,Mh,P8),Ae="XiphosMoonlight",Fh=d.weapon.data[Ae],O8=[-1,36e-5,45e-5,54e-5,63e-5,72e-5],Rt=c(e.weapon.key,Ae,i(a(e.weapon.refinement,O8,{unit:"%",fixed:3}),e.premod.eleMas)),qo=c(e.weapon.key,Ae,i(S(.3),Rt)),B8=N(e.charKey,b.charKey,qo),A8=r(Ae,Fh,{total:{enerRech_:Rt},teamBuff:{total:{enerRech_:B8}}},{selfEnerRech_:Rt,teamEnerRech_disp:qo}),E8={document:[{header:o(Ae,t("base")),fields:[{node:Rt}]},{header:o(Ae,t("teamBuff")),teamBuff:!0,fields:[{node:u(qo,{...f.info("enerRech_"),isTeamBuff:!0})}]}]},x8=new s(Ae,E8,Fh,A8),M8={AmenomaKageuchi:Ab,AquilaFavonia:Tb,BlackcliffLongsword:Fb,CinnabarSpindle:Lb,CoolSteel:Jb,DarkIronSword:e3,DullBlade:a3,FavoniusSword:c3,FesteringDesire:l3,FilletBlade:_3,FinaleOfTheDeep:O3,FleuveCendreFerryman:D3,FreedomSworn:N3,HaranGeppakuFutsu:z3,HarbingerOfDawn:X3,IronSting:tO,KagotsurubeIsshin:cO,KeyOfKhajNisut:pO,LightOfFoliarIncision:wO,LionsRoar:SO,MistsplitterReforged:DO,PrimordialJadeCutter:jO,PrototypeRancour:HO,RoyalLongsword:zO,SacrificialSword:JO,SapwoodBlade:t6,SilverSword:s6,SkyriderSword:i6,SkywardBlade:h6,SplendorOfTranquilWaters:v6,SummitShaper:x6,SwordOfDescension:T6,SwordOfNarzissenkreuz:j6,TheAlleyFlash:K6,TheBlackSword:V6,TheDockhandsAssistant:Z6,TheFlute:t8,ToukabouShigure:r8,TravelersHandySword:$8,UrakuMisugiri:w8,WolfFang:b8,XiphosMoonlight:x8},Nh={...M8,...SS,...bb,...Tf,...z2},D8=Object.fromEntries(qh.map(n=>[n,Zo(Object.values(Nh).filter(k=>k.weaponType===n).map(k=>({display:k.data.display})))]));function I8(n){return Nh[n]}export{s as W,I8 as g};
