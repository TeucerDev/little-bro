import{aj as l3,ai as n3,ak as jf,aw as s3,r as Rp,am as o3,ap as i3,j as Mk,al as c3,ar as jv,as as r3,c as d3,ac as m3,k as D,cm as u3,cO as g3,co as h3,cP as p3,cl as k3,ck as f3,cn as b3,cQ as v3,cE as _3,cF as y3,cG as T3,cH as $3,cI as x3,cJ as P3,cK as D3,cL as C3,cM as S3,cN as w3,bm as A3,bk as B3,bo as So,bw as Jp,u as K1,y as Cu,v as I3,T as N1,o as C,da as O1,cR as Nm,db as F1,dc as R3,cz as Fc,f as M3,b7 as j1,dd as Hk,a6 as G1,bI as H3,de as E3,bO as z1,aG as K3,bh as W1,aO as Qs,cA as $r,b4 as Gg,i as br,aH as qg,df as N3,bG as O3,bH as F3,cj as j3,dg as G3,dh as Ju,di as z3,c0 as W3,ct as _,bv as rl,br as At,b3 as U3,aa as Mp,d as Gf,cC as L3}from"./index-9c4f648f.js";import{c as Gv,a as zv,w as Wv,C as yt,i as q3,I as V3}from"./ColoredText-d1deb99d.js";function J3(t){return n3("MuiCardActionArea",t)}const Q3=l3("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Qp=Q3,X3=["children","className","focusVisibleClassName"],Y3=t=>{const{classes:l}=t;return r3({root:["root"],focusHighlight:["focusHighlight"]},J3,l)},Z3=jf(s3,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,l)=>l.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Qp.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Qp.focusVisible} .${Qp.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),tA=jf("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,l)=>l.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),eA=Rp.forwardRef(function(l,r){const u=o3({props:l,name:"MuiCardActionArea"}),{children:v,className:g,focusVisibleClassName:b}=u,k=i3(u,X3),T=u,x=Y3(T);return Mk.jsxs(Z3,c3({className:jv(x.root,g),focusVisibleClassName:jv(b,x.focusVisible),ref:r,ownerState:T},k,{children:[v,Mk.jsx(tA,{className:x.focusHighlight,ownerState:T})]}))}),Gj=eA,zj=d3(Mk.jsx("path",{d:"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"}),"BusinessCenter");function aA(t,l,r="F"){switch(l){case"icon":case"iconSide":return Gv[m3(t,r)][l]??"";default:return Gv[t][l]??""}}function Wj(t,l){return t==="PrayersForDestiny"||t==="PrayersForIllumination"||t==="PrayersForWisdom"||t==="PrayersToSpringtime"?zv[t].circlet:zv[t][l]??""}function Uj(t,l=!0){return Wv[t][l?"awakenIcon":"icon"]??Wv[t].icon??""}function lA({statKey:t,iconProps:l={}}){switch(t){case"hp":case"hp_":case"base_hp":return D(B3,{...l});case"atk":case"atk_":case"base_atk":return D(A3,{...l});case"def":case"def_":case"base_def":return D(w3,{...l});case"eleMas":return D(S3,{...l});case"critRate_":return D(C3,{...l});case"critDMG_":return D(D3,{...l});case"enerRech_":return D(P3,{...l});case"incHeal_":return D(x3,{...l});case"heal_":return D($3,{...l});case"cdRed_":return D(T3,{...l});case"shield_":return D(y3,{...l});case"stamina":return D(_3,{...l})}const r=t.split("_")[0];return So.includes(r)?D(nA,{ele:r,iconProps:l}):null}function nA({ele:t,iconProps:l={}}){switch(t){case"anemo":return D(v3,{...l});case"cryo":return D(b3,{...l});case"dendro":return D(f3,{...l});case"electro":return D(k3,{...l});case"geo":return D(p3,{...l});case"hydro":return D(h3,{...l});case"physical":return D(g3,{...l});case"pyro":return D(u3,{...l})}}class y{constructor(){if(this instanceof y)throw Error("A static class cannot be instantiated.")}static info(l){const r={};r.name=Jp.get(l),r.unit=Jp.unit(l);const u=Jp.getVariant(l);return r.variant=u,r.icon=D(lA,{statKey:l,iconProps:{fontSize:"inherit",color:u}}),r}}const sA=jf("span",{name:"SqBadge",slot:"Root"})(({theme:t,color:l="primary"})=>{var r,u;return{display:"inline-block",padding:".25em .4em",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em",backgroundColor:(r=t.palette[l])==null?void 0:r.main,color:(u=t.palette[l])==null?void 0:u.contrastText}}),Hn=sA,Vg={anemo:D(yt,{color:"anemo"}),geo:D(yt,{color:"geo"}),cryo:D(yt,{color:"cryo"}),hydro:D(yt,{color:"hydro"}),pyro:D(yt,{color:"pyro"}),electro:D(yt,{color:"electro"}),dendro:D(yt,{color:"dendro"}),heal:D(yt,{color:"heal"}),vaporize:D(yt,{color:"vaporize"}),spread:D(yt,{color:"spread"}),aggravate:D(yt,{color:"aggravate"}),overloaded:D(yt,{color:"overloaded"}),superconduct:D(yt,{color:"superconduct"}),electrocharged:D(yt,{color:"electrocharged"}),shattered:D(yt,{color:"shattered"}),bloom:D(yt,{color:"bloom"}),burgeon:D(yt,{color:"burgeon"}),hyperbloom:D(yt,{color:"hyperbloom"})},Jg={anemo:D(Hn,{color:"anemo"}),geo:D(Hn,{color:"geo"}),cryo:D(Hn,{color:"cryo"}),hydro:D(Hn,{color:"hydro"}),pyro:D(Hn,{color:"pyro"}),electro:D(Hn,{color:"electro"}),dendro:D(Hn,{color:"dendro"}),heal:D(Hn,{color:"heal"}),vaporize:D(Hn,{color:"vaporize"}),spread:D(Hn,{color:"spread"}),aggravate:D(Hn,{color:"aggravate"}),overloaded:D(Hn,{color:"overloaded"}),superconduct:D(Hn,{color:"superconduct"}),electrocharged:D(Hn,{color:"electrocharged"}),shattered:D(Hn,{color:"shattered"}),bloom:D(Hn,{color:"bloom"}),burgeon:D(Hn,{color:"burgeon"}),hyperbloom:D(Hn,{color:"hyperbloom"})};function jc({ns:t,key18:l,values:r,children:u,useBadge:v}){const{t:g}=K1(t),b=`${t}:${l}`,k=r?g(b,r,{returnObjects:!0}):g(b,{returnObjects:!0});return typeof k=="string"?D("span",{children:u?D(Cu,{i18nKey:b,t:g,components:v?Jg:Vg,values:r,children:u}):r?D(Cu,{i18nKey:b,t:g,values:r}):D(Cu,{i18nKey:b,t:g,components:v?Jg:Vg})}):D(Rp.Suspense,{fallback:D(I3,{children:u}),children:D(Ek,{key18:b,obj:k,t:g,values:r,useBadge:v})})}function Uv({children:t}){return D(N1,{gutterBottom:!0,children:t})}function Ek({key18:t,obj:l,li:r,t:u,values:v,useBadge:g}){return typeof l=="string"?D(Cu,{i18nKey:t,components:g?Jg:Vg,parent:Uv,t:u,values:v}):Array.isArray(l)?D(N1,{component:"div",children:D("ul",{children:D(Ek,{key18:t,obj:{...l},li:!0,t:u,values:v,useBadge:g})})}):Object.entries(l).map(([b,k])=>{if(k==="<br/>")return null;if(typeof k=="object")return D(Ek,{key18:`${t}.${b}`,obj:k,t:u,values:v,useBadge:g},b);if(typeof k=="string"){const T=D(Cu,{i18nKey:`${t}.${b}`,components:g?Jg:Vg,parent:Uv,t:u,values:v},b);return r?D("li",{children:T},b):T}return null})}function oA(t){return D(jc,{ns:"artifactNames_gen",key18:t})}const St=c(1),O=c(0),Lj=p(0),Kk=p("none");function p(t,l){return typeof t=="number"?{operation:"const",operands:[],type:"number",value:t,info:l}:{operation:"const",operands:[],type:"string",value:t,info:l}}function c(t,l){return t>=Number.MAX_VALUE/100&&(t=1/0),t<=-Number.MAX_VALUE/100&&(t=-1/0),p(t,{unit:"%",...l})}function e(t,l){return l&&(t.info={...t.info,...l}),t}function w(t,l,r,u){return{operation:"lookup",operands:r!=="none"?[ua(t),ua(r)]:[ua(t)],table:l,info:u}}function Il(...t){return{operation:"min",operands:Kd(t)}}function zm(...t){return{operation:"max",operands:Kd(t)}}function P(...t){return{operation:"add",operands:Kd(t)}}function m(...t){return{operation:"mul",operands:Kd(t)}}function Om(t,l){return{operation:"sum_frac",operands:Kd([t,l])}}function iA(t){return{operation:"res",operands:Kd([t])}}function wo(t,l,r,u,v){return{operation:"match",operands:[ua(t),ua(l),ua(r),ua(u)],info:v}}function i(t,l,r,u){return{operation:"match",operands:[ua(t),ua(l),Nd(r,u),ua(0)],emptyOn:"unmatch"}}function dn(t,l,r,u){return{operation:"match",operands:[ua(t),ua(l),Nd(r,u),ua(void 0)],emptyOn:"unmatch"}}function j(t,l,r,u){return{operation:"match",operands:[ua(t),ua(l),ua(0),Nd(r,u)],emptyOn:"match"}}function cA(t,l,r,u){return{operation:"match",operands:[ua(t),ua(l),ua(void 0),Nd(r,u)],emptyOn:"match"}}function n(t,l,r,u){return{operation:"threshold",operands:[ua(t),ua(l),Nd(r,u),ua(0)],emptyOn:"l"}}function wr(t,l,r,u){return{operation:"threshold",operands:[ua(t),ua(l),Nd(r,u),ua(void 0)],emptyOn:"l"}}function rA(t,l,r,u){return{operation:"threshold",operands:[ua(t),ua(l),ua(0),Nd(r,u)],emptyOn:"ge"}}function vr(t,l,r,u,v){return{operation:"threshold",operands:[ua(t),ua(l),ua(r),ua(u)],info:v}}function Fu(t,l=[]){if(t.operation){if(t.operation!=="read")throw new Error(`Found ${t.operation} node while making reader`);return{...t,path:l}}else return C(Object.keys(t),r=>Fu(t[r],[...l,r]))}function Fm(t,l){return{operation:"data",operands:[t],data:l}}function Lv(t,l,r){return{operation:"data",operands:[t],data:l,reset:!0,info:r}}function qj(t,l="add",r){return{operation:"read",operands:[],path:["dyn",t],accu:l,type:"number",info:r}}function dA(t,l){return{operation:"read",operands:[],path:t,info:l,type:"number"}}function mA(t){return{operation:"read",operands:[],path:t,type:"string"}}function ba(t,l){return{operation:"read",operands:[],path:[],accu:t,info:l,type:"number"}}function ns(t){return{operation:"read",operands:[],path:[],accu:t,type:"string"}}function U1(...t){return{operation:"prio",operands:Kd(t)}}function $(t,l,r){return{operation:"subscript",operands:[t],list:l,info:r}}function Kd(t){return t.map(l=>typeof l=="object"?l:p(l))}function ua(t){return typeof t!="object"?p(t):t}function Nd(t,l){return l?typeof t!="object"?p(t,l):e({...t},l):ua(t)}function ju(t){const l=new Map;function r(u){if(typeof u!="object")return u;const v=l.get(u);if(v)return v;const g=Array.isArray(u)?u.map(b=>r(b)):Object.fromEntries(Object.entries(u).map(([b,k])=>[b,b==="info"?k:r(k)]));return l.set(u,g),g}return r(t)}function L1(t,l,r){const u=new Set,v=new Set;function g(b){if(!v.has(b)){if(u.has(b)){console.error("Found cyclical dependency during formula traversal");return}u.add(b),l(b),b.operands.forEach(g),r(b),u.delete(b),v.add(b)}}t.forEach(g)}function q1(t,l,r){const u=new Set,v=new Map,g=new Map;function b(x){let f=v.get(x);if(f)return f;f=l(x);let H=g.get(f);return H||(u.has(f)?(console.error("Found cyclical dependency during formula mapping"),p(NaN)):(u.add(f),H=r(k(f),x),u.delete(f),v.set(x,H),g.set(f,H),H))}function k(x){const f=x.operands.map(b);return qv(f,x.operands)?x:{...x,operands:f}}const T=t.map(b);return qv(T,t)?t:T}function uA(t,l,r){const u=new Map;function v(g,b){let k=u.get(b);k||u.set(b,k=[new Set,new Map]);const[T,x]=k,f=x.get(g);if(f)return f;if(T.has(g))throw new Error("Found cyclical dependency during formula mapping");T.add(g);const H=r(g,b,v);return x.set(g,H),T.delete(g),H}return t.map(g=>v(g,l))}function qv(t,l){return t===void 0?l===void 0:l===void 0?!1:t.length===l.length&&t.every((r,u)=>r===l[u])}const Vv=!0,Yi=!0,gi=So,Bm=["auto","skill","burst"],wm=["normal","charged","plunging_collision","plunging_impact","skill","burst","elemental"],V1=["hp","hp_","atk","atk_","def","def_","eleMas","enerRech_","critRate_","critDMG_","electro_dmg_","hydro_dmg_","pyro_dmg_","cryo_dmg_","physical_dmg_","anemo_dmg_","geo_dmg_","dendro_dmg_","heal_"],J1=["overloaded","shattered","electrocharged","superconduct","swirl","burning","bloom","burgeon","hyperbloom"],Q1=["vaporize","melt"],X1=["spread","aggravate"],gA=["stamina","staminaDec_","staminaSprintDec_","staminaGlidingDec_","staminaChargedDec_","incHeal_","shield_","cdRed_","moveSPD_","atkSPD_","weakspotDMG_","dmgRed_","healInc"],hA=["base_atk","base_hp","base_def"],Ru=[...V1,...["all",...J1,...Q1,...X1,...wm,"plunging","normalEle"].map(t=>`${t}_dmg_`)],Qg=[...gi.flatMap(t=>[`${t}_dmgInc`,`${t}_critDMG_`,`${t}_res_`]),...Bm.map(t=>`${t}Boost`),...[...wm,"plunging"].flatMap(t=>[`${t}_dmgInc`,`${t}_critDMG_`,`${t}_critRate_`]),...O1.flatMap(t=>[`${t}_critRate_`,`${t}_critDMG_`]),"all_dmgInc",...R3,"enemyDefRed_","enemyDefIgn_",...gA,...hA],Vj=[...Ru,...Qg],Jv=C(Bm,t=>ba()),bd=C(Ru,t=>ba(void 0,y.info(t))),hi=C(Qg,t=>ba(void 0,y.info(t)));for(const t of gi)hi[`${t}_res_`].info.variant=t,hi[`${t}_enemyRes_`].info.variant=t,hi[`${t}_critDMG_`].info.variant=t,hi[`${t}_dmgInc`].info.variant=t,bd[`${t}_dmg_`].info.variant=t;for(const t of[...J1,...Q1,...X1])bd[`${t}_dmg_`].info.variant=t;O1.forEach(t=>{hi[`${t}_critRate_`].info.variant=t,hi[`${t}_critDMG_`].info.variant=t});hi.healInc.info.variant="heal";hi.incHeal_.info.variant="heal";bd.heal_.info.variant="heal";function Qu(t,l){return l=ju(l),Fc(l,[],r=>r.operation,r=>r.info={...t,...r.info}),l}function pA(t,l){Fc(l,[],r=>r.operation,r=>{r.operation==="read"&&r.type==="number"&&(r.accu=t)})}const kA={activeCharKey:ns(),charKey:ns(),charEle:ns(),weaponType:ns(),lvl:ba(void 0,{...y.info("level"),prefix:"char"}),constellation:ba(),asc:ba(),special:ba(),infusion:{overridableSelf:ns("small"),nonOverridableSelf:ns("small"),team:ns("small")},base:C(["atk","hp","def"],t=>ba("add",y.info(t))),customBonus:Qu({prefix:"custom",pivot:Yi},{...bd,...hi}),premod:{...Jv,...bd,...hi},total:Qu({prefix:"total",pivot:Yi},{...Jv,...Nm(Bm,t=>[`${t}Index`,ba()]),...bd,...hi,cappedCritRate:ba(void 0,y.info("critRate_"))}),art:Qu({prefix:"art",asConst:Vv},{...C(V1,t=>bd[t]),...C(M3,t=>({id:ns(),set:ns()}))}),artSet:C(j1,t=>ba("add",{name:oA(t)})),weapon:Qu({prefix:"weapon",asConst:Vv},{id:ns(),key:ns(),type:ns(),lvl:ba(),asc:ba(),refinement:ba(),main:ba(),sub:ba(),sub2:ba()}),enemy:{def:ba("add",{...y.info("enemyDef_multi_"),pivot:Yi}),transDef:ba("add",{...y.info("enemyDef_multi_"),pivot:Yi}),...C(gi.map(t=>`${t}_resMulti_`),t=>ba()),level:ba(void 0,y.info("enemyLevel")),...Nm(gi,t=>[`${t}_res_`,ba(void 0,{prefix:"base",...y.info(`${t}_enemyRes_`)})]),defRed:ba(void 0),defIgn:ba("add",{...y.info("enemyDefIgn_"),pivot:Yi})},hit:{reaction:ns(),ele:ns(),move:ns(),hitMode:ns(),base:ba("add",y.info("base")),ampMulti:ba(),addTerm:ba(void 0,{pivot:Yi}),dmgBonus:ba("add",{...y.info("dmg_"),pivot:Yi}),dmgInc:ba("add",y.info("dmgInc")),dmg:ba()}},a=Fu(ju(kA)),{base:Y1,customBonus:zg,premod:Os,total:ll,art:Z1,hit:gn,enemy:mc}=a;pA("add",{customBonus:zg,premod:Os,art:Z1,total:C(Ru,t=>ll[t])});Y1.atk.info={...y.info("atk"),prefix:"base",pivot:Yi};delete ll.critRate_.info.pivot;ll.critRate_.info.prefix="uncapped";const Xu=e(P(St,m(25/9,Om(ll.eleMas,1400))),{...y.info("base_amplifying_multi_"),pivot:Yi}),Qv=P(St,m(5,Om(ll.eleMas,1200))),Jj={base:C(["atk","def","hp"],t=>a.customBonus[`base_${t}`]),premod:{...C(Bm,t=>Os[`${t}Boost`]),...C(Qg,t=>{const l=[];t.endsWith("_enemyRes_")&&l.push(mc[t.replace(/_enemyRes_$/,"_res_")]);const r=[...l,zg[t]].filter(u=>u);return r.length===1?r[0]:P(...r)}),...C(Ru,t=>{const l=[],r=y.info(t);switch(t){case"atk":case"def":case"hp":l.push(m(Y1[t],P(St,Os[`${t}_`])));break;case"critRate_":l.push(c(.05,{...r,prefix:"default"}),w(gn.move,C(wm,v=>v.includes("plunging")?P(Os[`${v}_critRate_`],Os.plunging_critRate_):Os[`${v}_critRate_`]),0));break;case"critDMG_":l.push(c(.5,{...r,prefix:"default"}),w(gn.ele,C(gi,v=>Os[`${v}_critDMG_`]),0),w(gn.move,C(wm,v=>v.includes("plunging")?P(Os[`${v}_critDMG_`],Os.plunging_critDMG_):Os[`${v}_critDMG_`]),0));break;case"enerRech_":l.push(c(1,{...r,prefix:"default"}));break}const u=[...l,Z1[t],zg[t]].filter(v=>v);return u.length===1?u[0]:P(...u)})},total:{...C(Bm,t=>Os[t]),...C(Ru,t=>Os[t]),...C(Qg,t=>Os[t]),...Nm(Bm,t=>[`${t}Index`,P(ll[t],-1)]),stamina:P(p(100,{...y.info("stamina"),prefix:"default"}),zg.stamina),cappedCritRate:zm(Il(ll.critRate_,St),O)},hit:{dmgBonus:P(ll.all_dmg_,w(gn.move,C(wm,t=>t.includes("plunging")?P(ll[`${t}_dmg_`],ll.plunging_dmg_):ll[`${t}_dmg_`]),O),w(gn.ele,C(gi,t=>ll[`${t}_dmg_`]),O),i(gn.move,"normal",j(gn.ele,"physical",ll.normalEle_dmg_))),dmgInc:P(e(P(ll.all_dmgInc,w(gn.ele,C(gi,t=>ll[`${t}_dmgInc`]),NaN),w(gn.move,C(wm,t=>t.includes("plunging")?P(ll[`${t}_dmgInc`],ll.plunging_dmgInc):ll[`${t}_dmgInc`]),NaN)),{...y.info("dmgInc"),pivot:Yi}),gn.addTerm),addTerm:w(gn.reaction,{spread:i(gn.ele,"dendro",m($(a.lvl,Hk),1.25,P(Qv,ll.spread_dmg_)),y.info("spread_dmgInc")),aggravate:i(gn.ele,"electro",m($(a.lvl,Hk),1.15,P(Qv,ll.aggravate_dmg_)),y.info("aggravate_dmgInc"))},O),dmg:m(P(gn.base,gn.dmgInc),P(St,gn.dmgBonus),w(gn.hitMode,{hit:St,critHit:P(St,ll.critDMG_),avgHit:P(St,m(ll.cappedCritRate,ll.critDMG_))},NaN),mc.def,w(gn.ele,C(gi,t=>mc[`${t}_resMulti_`]),NaN),gn.ampMulti),ampMulti:w(gn.reaction,{vaporize:w(gn.ele,{hydro:m(p(2,y.info("vaporize_multi_")),P(Xu,ll.vaporize_dmg_)),pyro:m(p(1.5,y.info("vaporize_multi_")),P(Xu,ll.vaporize_dmg_))},St),melt:w(gn.ele,{pyro:m(p(2,y.info("melt_multi_")),P(Xu,ll.melt_dmg_)),cryo:m(p(1.5,y.info("melt_multi_")),P(Xu,ll.melt_dmg_))},St)},St)},enemy:{def:Om(P(a.lvl,100),m(P(mc.level,100),P(St,m(-1,mc.defRed)),P(St,m(-1,mc.defIgn)))),transDef:Om(99999999,m(P(m(5,mc.level),500),P(St,m(-1,mc.defRed)),P(St,m(-1,mc.defIgn)))),defRed:ll.enemyDefRed_,...Nm(gi,t=>[`${t}_resMulti_`,iA(ll[`${t}_enemyRes_`])])}},G=Fu(ju(a),["target"]),Xv=Fu({...C([...gi,...F1],t=>ba("add")),maxEleMas:ba("max")},["tally"]),mn={...Xv,ele:P(...gi.map(t=>Il(Xv[t],1)))},fA=a,Co=U1(a.infusion.nonOverridableSelf,cA(a.infusion.team,Kk,a.infusion.team),a.infusion.overridableSelf),d=(t,l)=>D(jc,{ns:"sheet",key18:t,values:l}),s=t=>D(jc,{ns:"sheet_gen",key18:t}),zf=t=>mA(["conditional",...t]);function h(t,l){const r=[t,l],u=zf(r);return[r,u]}function Od(t,l){const r=t==="char"&&l==="Somnia"||t==="weapon"&&l==="QuantumCatalyst";return[u=>D(jc,{ns:r?`${t}_${l}`:`${t}_${l}_gen`,key18:u}),(u,v)=>D(jc,{ns:`${t}_${l}`,key18:u,values:v})]}function Wf(t,l){return D(bA,{cKey:t,chg:l})}function bA({cKey:t,chg:l}){const{silly:r}=Rp.useContext(G1),{i18n:u}=K1("sillyWisher_charNames");return r&&u.exists(`sillyWisher_charNames:${t}`)?D(jc,{ns:"sillyWisher_charNames",key18:t}):l("name")}function Qj(t,l,r){return[e(l,{...r,isTeamBuff:!0}),i(a.activeCharKey,t,l)]}class R{constructor(l,r){this.isMelee=()=>{const u=this.sheet.weaponTypeKey;return u==="sword"||u==="polearm"||u==="claymore"},this.getTalentOfKey=u=>this.talent[u],this.sheet=l,this.data=r}get name(){return this.sheet.name}get rarity(){return this.sheet.rarity}get elementKey(){return this.sheet.elementKey}get weaponTypeKey(){return this.sheet.weaponTypeKey}get constellationName(){return this.sheet.constellationName}get isTraveler(){return"talents"in this.sheet}get talent(){return this.sheet.talent}}R.get=()=>null;R.getLevelString=(t,l)=>`${t}/${H3[l]}`;const t2=["TravelerAnemoF","TravelerGeoF","TravelerElectroF","TravelerDendroF","TravelerHydroF"],e2=["TravelerAnemoM","TravelerGeoM","TravelerElectroM","TravelerDendroM","TravelerHydroM"],vA=[...E3,...t2,...e2],il=["hydro","pyro","cryo","electro"],Xj={pyro:["vaporize","melt"],hydro:["vaporize"],cryo:["melt"],anemo:["vaporize","melt"]},Yj={dendro:["spread"],electro:["aggravate"],anemo:["aggravate"]},Yv={passive1:n(a.asc,1,1),passive2:n(a.asc,4,1),constellation1:n(a.constellation,1,1),constellation2:n(a.constellation,2,1),constellation3:n(a.constellation,3,1),constellation4:n(a.constellation,4,1),constellation5:n(a.constellation,5,1),constellation6:n(a.constellation,6,1)},A=(t,l)=>{const[r,u]=Od("char",t),v=g=>g==="auto"?q3.weaponTypes[l]:aA(yA(t),g,"F");return{chg:r,ch:u,talentTem:(g,b)=>_A(g,r,v(g),b),headerTem:(g,b)=>TA(g,r,v(g),b),fieldsTem:(g,b)=>$A(g,b),condTem:(g,b)=>xA(g,b,r,v(g)),name:Wf(t,r)}},_A=(t,l,r,u)=>({name:l(`${t}.name`),img:r,sections:[...t!=="auto"?[{text:l(`${t}.description`)}]:[],...u||[]]}),a2=(t,l,r)=>({title:l(`${t}.name`),icon:D(V3,{size:2,src:r}),action:D(Hn,{color:"success",children:d(`talents.${t}`)}),description:l(`${t}.description`)});function yA(t){return t2.includes(t)||e2.includes(t)?t.slice(0,-1):t}const TA=(t,l,r,u)=>({...u,header:a2(t,l,r),canShow:Uf(t,u.canShow)}),$A=(t,l)=>({...l,canShow:Uf(t,l.canShow)}),xA=(t,l,r,u)=>({...l,header:{...a2(t,r,u),...l.header},canShow:Uf(t,l.canShow)});function Uf(t,l){if(!Yv[t])return l;let r,u;return["passive1","passive2"].includes(t)?(r=a.asc,u=+t.slice(-1)==1?1:4):(r=a.constellation,u=+t.slice(-1)),l?n(r,u,l||1):Yv[t]}const l2={min:t=>Math.min(...t),max:t=>Math.max(...t),add:t=>t.reduce((l,r)=>l+r,0),mul:t=>t.reduce((l,r)=>l*r,1)},Su={...l2,res:([t])=>t<0?1-t/2:t>=.75?1/(t*4+1):1-t,sum_frac:t=>t[0]/t.reduce((l,r)=>l+r),threshold:([t,l,r,u])=>t>=l?r:u},PA=new Set(Object.keys(l2));function Zj(t,l,r=u=>!1){let u=Zv(t,l,r);return u=DA(u),u=Zv(u,{}),CA(u)}function tG(t,l,r,u){let v=`
"use strict";
function res(res) {
  if (res < 0) return 1 - res / 2
  else if (res >= 0.75) return 1 / (res * 4 + 1)
  return 1 - res
}
const x0=0`,g=1;const b=new Map;return L1(t,k=>{},k=>{const{operation:T,operands:x}=k,f=`x${g++}`,H=x.map(M=>b.get(M));switch(b.set(k,f),T){case"read":{const M=r(k);let S=u?new Array(u).fill(null).map((I,K)=>`(b[${K}].values["${M}"] ?? 0)`):["0"];l[M]&&l[M]!==0&&(S=[l[M].toString(),...S]),v+=`,${f}=${S.join("+")}
`;break}case"const":b.set(k,`(${k.value})`);break;case"add":case"mul":v+=`,${f}=${H.join(T==="add"?"+":"*")}
`;break;case"min":case"max":v+=`,${f}=Math.${T}(${H})
`;break;case"threshold":{const[M,S,I,K]=H;v+=`,${f}=(${M}>=${S})?${I}:${K}
`;break}case"res":v+=`,${f}=res(${H[0]})
`;break;case"sum_frac":v+=`,${f}=${H[0]}/(${H[0]}+${H[1]})
`;break;default:z1(T)}}),v+=`;
return [${t.map(k=>b.get(k))}]`,new Function("b",v)}function DA(t){return q1(t,l=>l,l=>{let r=l;if(PA.has(l.operation)){const u=l,{operation:v}=u;let g=!1;const b=u.operands.flatMap(k=>k.operation===v?(g=!0,k.operands):[k]);r=g?{...u,operands:b}:u}return r})}function Xp(t,l,r){if(t.length!==l.length)return t.length-l.length;for(let u=0;u<t.length;u++){const v=r(t[u],l[u]);if(v!==0)return v}return 0}function CA(t){const l=new Map,r=[[]];L1(t,k=>{},k=>{switch(k.operation){case"const":case"read":r[0].push(k),l.set(k,0);break;default:{const T=Math.max(...k.operands.map(x=>l.get(x)))+1;r.length<=T&&r.push([]),r[T].push(k),l.set(k,T);break}}});function u(k,T){const x=l.get(k),f=l.get(T);if(x!==f)return x-f;const H=k.operation,M=T.operation;if(H!==M)return H.localeCompare(M);switch(H){case"const":if(H!==M)throw Error("ily jslint");return k.value-T.value;case"read":if(H!==M)throw Error("ily jslint");return Xp(k.path,T.path,(S,I)=>S.localeCompare(I));case"res":case"threshold":case"sum_frac":{if(H!==M)throw Error("ily jslint");const S=k.operands.map(K=>g.get(K)),I=T.operands.map(K=>g.get(K));return Xp(S,I,(K,Bt)=>K-Bt)}case"add":case"mul":case"min":case"max":{if(H!==M)throw Error("ily jslint");const S=k.operands.map(K=>g.get(K)),I=T.operands.map(K=>g.get(K));return S.sort((K,Bt)=>K-Bt),I.sort((K,Bt)=>K-Bt),Xp(S,I,(K,Bt)=>K-Bt)}}}let v=0;const g=new Map,b=[];return r.forEach(k=>{k.sort(u),b.push(k[0]),g.set(k[0],v++);for(let T=1;T<k.length;T++)u(k[T-1],k[T])===0?g.set(k[T],g.get(k[T-1])):(b.push(k[T]),g.set(k[T],v++))}),b.forEach((k,T)=>{switch(k.operation){case"add":case"mul":case"min":case"max":b[T]={...k,operands:[...k.operands].sort((x,f)=>g.get(x)-g.get(f))}}}),q1(t,k=>b[g.get(k)],k=>k)}function Zv(t,l,r=u=>!1){const u={data:[],processed:new Map},v=new Map([[u,new Map]]),g={data:[l],processed:new Map};return v.set(g,new Map),v.get(u).set(l,g),uA(t,g,(b,k,T)=>{const{operation:x}=b,f=(S,I)=>T(S,I),H=(S,I)=>T(S,I);let M;switch(x){case"const":M=b;break;case"add":case"mul":case"max":case"min":{const S=Su[x],I=[],K=b.operands.filter(dl=>{const en=f(dl,k);return en.operation==="const"?(I.push(en.value),!1):!0}).map(dl=>f(dl,k)),Bt=S(I);if(isFinite(Bt)){if(x==="mul"&&Bt===0){M=p(Bt);break}}else if(x!=="mul"&&(x!=="max"||Bt>0)&&(x!=="min"||Bt<0)){M=p(Bt);break}Bt!==S([])&&K.push(p(Bt)),K.length<=1?M=K[0]??p(S([])):M={operation:x,operands:K};break}case"res":case"sum_frac":{const S=b.operands.map(K=>f(K,k)),I=Su[x];S.every(K=>K.operation==="const")?M=p(I(S.map(K=>K.value))):M={...b,operands:S};break}case"lookup":{const S=H(b.operands[0],k);if(S.operation==="const"){const I=b.table[S.value]??b.operands[1];if(I){M=T(I,k);break}}throw new Error(`Unsupported ${x} node while folding`)}case"prio":{const S=b.operands.find(I=>{const K=H(I,k);if(K.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);return K.value!==void 0});M=S?H(S,k):p(void 0);break}case"small":{let S;for(const I of b.operands){const K=H(I,k);if(K.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);((S==null?void 0:S.value)===void 0||K.value!==void 0&&K.value<S.value)&&(S=K)}M=S??p(void 0);break}case"match":{const[S,I,K,Bt]=b.operands.map(dl=>T(dl,k));if(S.operation!=="const"||I.operation!=="const")throw new Error(`Unsupported ${x} node while folding`);M=S.value===I.value?K:Bt;break}case"threshold":{const[S,I,K,Bt]=b.operands.map(dl=>T(dl,k));K.operation==="const"&&Bt.operation==="const"&&K.value===Bt.value?M=K:S.operation==="const"&&I.operation==="const"?M=S.value>=I.value?K:Bt:M={...b,operands:[S,I,K,Bt]};break}case"subscript":{const S=f(b.operands[0],k);if(S.operation!=="const")throw new Error("Found non-constant subscript node while folding");M=p(b.list[S.value]);break}case"read":{const S=k.data.map(I=>K3(I,b.path)).filter(I=>I);if(S.length===0)if(r(b)){const{accu:I}=b;I===void 0||I==="small"?M=b.type==="string"?p(void 0):p(NaN):M=p(Su[I]([]))}else M=b;else b.accu===void 0||S.length===1?M=T(S[S.length-1],k):M=T({operation:b.accu,operands:S},k);break}case"data":{b.reset&&(k=u);const S=v.get(k);let I=S.get(b.data);I||(I={data:[...k.data,b.data],processed:new Map},v.set(I,new Map),S.set(b.data,I)),M=T(b.operands[0],I);break}default:z1(x)}return M.info&&(M={...M},delete M.info),M})}const Yu=!0;function eG(t){return W1(t.value,t.info.unit,t.info.fixed)}class _d{constructor(l,r){this.children=new Map,this.nodes=new Map,this.processed=new Map,this.display=void 0,this.teamBuff=void 0,l===void 0?(this.data=[],this.origin=this):(r||(r=new _d(void 0,void 0)),this.data=[l,...r.data],this.origin=r.origin)}getDisplay(){return this.display||(this.display=this.getAll(["display"])),this.display}getTeamBuff(){if(!this.teamBuff){const l=this.getAll(["teamBuff"]),r={};Fc(fA,[],u=>u.operation,(u,v)=>{const g=Qs(l,u.path);g&&$r(r,v,g)}),this.teamBuff=r}return this.teamBuff}getAll(l){const r={};for(const u of this.data)Fc(Qs(u,l)??{},[],v=>v.operation,(v,g)=>$r(r,g,this.get(v)));return r}get(l){if(l===void 0)return console.trace("Please report this bug with this trace"),{info:{},operation:!0,value:void 0,isEmpty:!0,formulas:[]};const r=this.processed.get(l);if(r)return r;const u=wA(this.computeNode(l));return this.processed.set(l,u),u}computeNode(l){const r=this.nodes.get(l);if(r)return r;const{operation:u,info:v}=l;let g;switch(u){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":g=this._compute(l);break;case"threshold":g=this._threshold(l);break;case"const":g=this._constant(l.value);break;case"subscript":g=this._subscript(l);break;case"read":g=this._read(l);break;case"data":g=this._data(l);break;case"match":g=this._match(l);break;case"lookup":g=this._lookup(l);break;case"prio":g=this._prio(l.operands);break;case"small":g=this._small(l.operands);break;default:Gg(u)}if(v){const{asConst:b}=v;g={...g},g.info=HA(g.info,v),b&&(delete g.formula,delete g.assignment,g.dependencies=new Set),(g.info.pivot||!g.formula)&&(g.mayNeedWrapping=!1)}return BA(g),this.nodes.set(l,g),g}prereadAll(l){return this.data.map(r=>Qs(r,l)).filter(r=>r)}readFirst(l){const r=this.data.map(u=>Qs(u,l)).find(u=>u);return r&&this.computeNode(r)}_prio(l){const r=l.find(u=>this.computeNode(u).value!==void 0);return r?this.computeNode(r):Yp}_small(l){let r;for(const u of l){const v=this.computeNode(u);((r==null?void 0:r.value)===void 0||v.value&&v.value<r.value)&&(r=v)}return r??Yp}_read(l){const{path:r}=l;if(l.accu===void 0)return this.readFirst(r)??(l.type==="string"?Yp:EA);{const u=this.prereadAll(r);return u.length===1?this.computeNode(u[0]):l.accu==="small"?this._small(u):this._accumulate(l.accu,u.map(v=>this.computeNode(v)))}}_lookup(l){const r=this.computeNode(l.operands[0]).value,u=l.table[r]??l.operands[1];if(!u)throw new Error(`Lookup Fail with key ${r}`);return this.computeNode(u)}_match(l){const[r,u,v,g]=l.operands,b=this.computeNode(r),k=this.computeNode(u),T=b.value===k.value,x=this.computeNode(T?v:g);return T&&l.emptyOn==="match"||!T&&l.emptyOn==="unmatch"?Zp(x.value):x}_threshold(l){const[r,u,v,g]=l.operands,b=this.computeNode(r),k=this.computeNode(u),T=b.value>=k.value?this.computeNode(v):this.computeNode(g);return b.value>=k.value?l.emptyOn==="ge"?Zp(T.value):T:l.emptyOn==="l"?Zp(T.value):T}_data(l){let r=this.children.get(l.data);return r||(r=new _d(l.data,l.reset?this.origin:this),this.children.set(l.data,r)),r.computeNode(l.operands[0])}_compute(l){const{operation:r,operands:u}=l;return this._accumulate(r,u.map(v=>this.computeNode(v)))}_subscript(l){const r=this.computeNode(l.operands[0]),u=l.list[r.value]??NaN;return this._constant(u)}_constant(l){return{info:{},value:l,empty:!1,mayNeedWrapping:!1,dependencies:new Set}}_accumulate(l,r){var x;let u;switch(l){case"add":case"mul":case"min":case"max":case"res":case"sum_frac":u=SA(r);break;default:Gg(l)}switch(l){case"add":case"mul":case"min":case"max":{const f=Su[l]([]);if(r=r.filter(H=>H.value!==f),!r.length)return Object.values(u).some(H=>H)?{...this._constant(f),info:u}:this._constant(f)}}let v,g=!1;switch(l){case"max":v=Zc`Max( ${{operands:r}} )`;break;case"min":v=Zc`Min( ${{operands:r}} )`;break;case"add":v=Zc`${{operands:r,separator:" + "}}`;break;case"mul":v=Zc`${{operands:r,separator:" * ",shouldWrap:r.length>1}}`;break;case"sum_frac":v=Zc`${{operands:[r[0]],shouldWrap:Yu}} / ( ${{operands:r,separator:" + "}} )`;break;case"res":{const f=r[0].value;f<0?(v=Zc`100% - ${{operands:r,shouldWrap:Yu}} / 2`,g=!0):f>=.75?v=Zc`100% / ( ${{operands:r,shouldWrap:Yu}} * 4 + 100% )`:(v=Zc`100% - ${{operands:r,shouldWrap:Yu}}`,g=!0);break}default:Gg(l)}switch(l){case"add":case"mul":r.length<=1?g=((x=r[0])==null?void 0:x.mayNeedWrapping)??!0:l==="add"&&(g=!0)}const b=Su[l](r.map(f=>f.value)),k=new Set([...r.flatMap(f=>f.info.pivot&&f.assignment?[f.assignment,...f.dependencies]:[...f.dependencies])]);return{info:u,formula:v.display,empty:r.every(f=>f.empty),value:b,mayNeedWrapping:g,dependencies:k}}}function Zc(t,...l){const r=new Set,u=[];return t.forEach((v,g)=>{u.push(v);const b=l[g];if(b){const{operands:k,shouldWrap:T,separator:x=", "}=b;k.forEach((f,H,M)=>{let S;!f.info.pivot&&f.formula?S=f.formula:S=RA(f),T&&f.mayNeedWrapping?(u.push("( "),u.push(S),u.push(" )")):u.push(S),H+1<M.length&&u.push(x),f.dependencies.forEach(I=>r.add(I))})}}),{display:MA(u),dependencies:[...r]}}function SA(t){function l(g){switch(g){case"overloaded":case"shattered":case"electrocharged":case"superconduct":case"burning":case"bloom":case"burgeon":case"hyperbloom":case"vaporize":case"melt":case"spread":case"aggravate":return 2;case"anemo":case"cryo":case"hydro":case"pyro":case"electro":case"geo":case"dendro":return 1;case"swirl":case"heal":return .5;case"physical":return 0;case"invalid":return-1;default:Gg(g)}}const r=new Set(t.flatMap(g=>[g.info.variant,g.info.subVariant]));r.delete(void 0);const u=[...r].sort((g,b)=>l(g)-l(b)),v={};return u.length&&(v.variant=u.pop()),u.length?v.subVariant=u.pop():v.subVariant=v.variant,v}function wA(t){const{info:l,dependencies:r,value:u,formula:v,assignment:g,empty:b}=t;return{operation:!0,info:l,value:u,isEmpty:b,formula:v,formulas:[...g?[g]:[],...r]}}const AA={default:"Default",base:"Base",total:"Total",uncapped:"Uncapped",custom:"Custom",char:"Char.",art:"Art.",weapon:"Weapon",teamBuff:"Team"};function BA(t){const{info:{name:l,prefix:r,source:u,variant:v,fixed:g,unit:b},value:k,formula:T}=t;if(typeof k=="number"&&(t.valueDisplay=D(yt,{color:"info",children:W1(k,b,g)}),l)){const x=r&&!u?br(qg,{children:[AA[r]," "]}):null,f=D(IA,{source:u});t.name=br(qg,{children:[br(yt,{color:v,children:[x,l]}),f]}),T&&(t.assignment=br("div",{className:"formula",children:[t.name," ",t.valueDisplay," = ",T]}))}}function IA({source:t}){const{silly:l}=Rp.useContext(G1);return t?j1.includes(t)?br(yt,{color:"secondary",children:[" ","(",D(jc,{ns:"artifactNames_gen",key18:t}),")"]}):N3.includes(t)?br(yt,{color:"secondary",children:[" ","(",D(jc,{ns:"weaponNames_gen",key18:t}),")"]}):vA.includes(t)?br(yt,{color:"secondary",children:[" ","(",D(jc,{ns:l?"sillyWisher_charNames":"charNames_gen",key18:t}),")"]}):null:null}function RA(t){const{name:l,valueDisplay:r}=t;return l?br(qg,{children:[D("span",{style:{fontSize:"85%"},children:l})," ",r]}):r}function MA(t){return D(qg,{children:t.map((l,r)=>D("span",{children:l},r))})}function HA(t,l){const r={...t};for(const[u,v]of Object.entries(l))v&&(r[u]=v);return r}const EA={info:{pivot:!0},value:NaN,empty:!1,dependencies:new Set,mayNeedWrapping:!1},Yp={info:{pivot:!0},value:void 0,empty:!1,dependencies:new Set,mayNeedWrapping:!1};function Zp(t){return{info:{},value:t,empty:!0,dependencies:new Set,mayNeedWrapping:!1}}const KA=!0,NA=!0;function OA(t,l){return Fc(t,[],r=>r.operation,(r,u)=>{u[0]==="teamBuff"&&(u=u.slice(1),r.info||(r.info={}),r.info.isTeamBuff=!0);const v=Qs(a,u);v?r.info={...r.info,...v.info,prefix:void 0,source:l}:u[0]!=="tally"&&console.error(`Detect ${l} buff into non-existant key path ${u}`)}),t}function aG(t,l=0){const r=O3(t.mainStatKey,t.rarity,Math.max(Math.min(l,t.rarity*4),t.level)),u=[];return u.push([t.mainStatKey,r]),t.substats.forEach(({key:v,accurateValue:g})=>v&&u.push([v,F3(g,v)])),{art:{...Object.fromEntries(u.map(([v,g])=>[v,v.endsWith("_")?c(g):p(g)])),[t.slotKey]:{id:p(t.id),set:p(t.setKey)}},artSet:{[t.setKey]:p(1)}}}function lG(t){return{lvl:p(t.level),constellation:p(t.constellation),asc:p(t.ascension),infusion:{team:void 0},premod:{auto:p(t.talent.auto),skill:p(t.talent.skill),burst:p(t.talent.burst)},enemy:{...C(So.map(r=>`${r}_res_`),()=>c(.1)),level:p(100)},hit:{hitMode:p("avgHit")},customBonus:{}}}function nG({level:t,constellation:l,ascension:r,talent:u,infusionAura:v,customMultiTargets:g,conditional:b,bonusStats:k,enemyOverride:T,hitMode:x,reaction:f},H){const M={lvl:p(t),constellation:p(l),asc:p(r),infusion:{team:v?p(v):void 0},premod:{auto:p(u.auto),skill:p(u.skill),burst:p(u.burst)},enemy:{...C(So.map(S=>`${S}_res_`),S=>c((T[`${S.slice(0,-5)}_enemyRes_`]??10)/100)),level:p(T.enemyLevel??t)},hit:{hitMode:p(x),reaction:p(f)},customBonus:{}};for(const[S,I]of Object.entries(k))M.customBonus[S]=S.endsWith("_")?c(I/100):p(I);return T.enemyDefRed_&&(M.premod.enemyDefRed_=c(T.enemyDefRed_/100)),T.enemyDefIgn_&&(M.enemy.defIgn=c(T.enemyDefIgn_/100)),Fc(b,["conditional"],S=>typeof S=="string",(S,I)=>$r(M,I,p(S))),H!=null&&H.display&&(H.display.custom={},g.forEach(({name:S,targets:I},K)=>{const Bt=I.map(({weight:en,path:fs,hitMode:Re,reaction:ml,infusionAura:ls,bonusStats:xn})=>{const vi=Qs(H.display,fs);return vi?(Re==="global"&&(Re=x),m(p(en),e(Fm(vi,{premod:j3(xn,(In,un)=>un.endsWith("_")?c(In/100):p(In)),hit:{hitMode:p(Re),reaction:ml?p(ml):Kk},infusion:{team:ls?p(ls):Kk}}),{pivot:!0}))):p(0)}),dl=e(P(...Bt),{name:S,variant:"invalid"});H.display.custom[K]=dl})),M}function sG(t){return{weapon:{id:p(t.id),lvl:p(t.level),asc:p(t.ascension),refinement:p(t.refinement)}}}const t_=Fu(ju(a),["teamBuff"]);function oG(t,l,r){const u=Object.entries(t).map(([T,x])=>[T,{...Im(x)}]),v=Object.fromEntries(u.map(([T])=>[T,{targetRef:{},buffs:[],calcs:{}}])),g={};function b(T){var M;const x=T[0]==="teamBuff"?Qs(t_,T.slice(1)):Qs(a,T);if(x)return x;const f=Qs(g,T);if(f)return f;const H=dA(T);return T[0]==="teamBuff"&&T[1]==="tally"&&(H.accu=(M=Qs(mn,T.slice(2)))==null?void 0:M.accu),$r(g,T,H),H}Object.values(v).forEach(({targetRef:T,buffs:x,calcs:f})=>u.forEach(([H,M])=>{const S=H.includes("Traveler")?`${H}${l}`:H,I=M.teamBuff,K={},Bt=ju({teamBuff:I});x.push(K),f[H]=Bt,Fc(I,[],dl=>dl.operation,(dl,en)=>{const fs={...Qs(a,en),source:S,prefix:void 0,asConst:KA};$r(K,en,Lv(b(["teamBuff",...en]),Bt,fs)),Fc(dl,[],Re=>(Re==null?void 0:Re.operation)==="read",Re=>{if(Re.path[0]==="targetBuff")return;let ml,ls;Re.path[0]==="target"?(ml=b(Re.path.slice(1)),ls=T):(ml=Re,ls=v[H].targetRef),$r(Bt,Re.path,Lv(ml,ls))})})})),u.forEach(([T,x])=>{delete x.teamBuff;const{targetRef:f,buffs:H}=v[T],M=Im(H);Fc(M??{},[],S=>S.operation,(S,I)=>{var K;S.info={...(K=Qs(t_,I))==null?void 0:K.info,prefix:"teamBuff",pivot:NA}}),Object.assign(f,Im([x,M,{teamBuff:M,activeCharKey:p(r)}])),f.target=f});const k=new _d(void 0,void 0);return Object.fromEntries(Object.entries(v).map(([T,x])=>[T,{target:new _d(x.targetRef,k),buffs:Object.fromEntries(Object.entries(x.calcs).map(([f,H])=>[f,new _d(H,k)]))}]))}function Im(t){function l(r,u){if(r.length<=1)return r[0];if(r[0].operation){u[0]==="teamBuff"&&(u=u.slice(1));const v=u[0]==="tally"?(u=u.slice(1),mn):a;let{accu:g,type:b}=Qs(v,u)??{};if(g===void 0){const T=`Multiple entries when merging \`unique\` for key ${u}`;console.error(T),g=b==="number"?"max":"small"}return{operation:g,operands:r}}else return Object.fromEntries([...new Set(r.flatMap(v=>Object.keys(v)))].map(v=>[v,l(r.map(g=>g[v]).filter(g=>g),[...u,v])]))}return t.length?l(t,[]):{}}function iG(t){return new _d(Im(t),void 0)}const FA=$(a.lvl,G3,y.info("crystallize_level_multi_")),jA=m(40/9,Om(a.total.eleMas,1400)),e_=e(m(e(P(St,jA),{pivot:!0,...y.info("base_crystallize_multi_")}),FA),y.info("crystallize")),a_=$(a.lvl,Hk,y.info("transformative_level_multi")),l_=m(16,Om(a.total.eleMas,2e3)),Ae={...C(Object.keys(Ju),t=>{const{multi:l,resist:r,canCrit:u}=Ju[t];return e(m(m(p(l,y.info(`${t}_multi_`)),a_),P(e(P(St,l_),{pivot:!0,...y.info("base_transformative_multi_")}),a.total[`${t}_dmg_`]),w(a.hit.hitMode,{hit:St,critHit:u?P(St,a.total[`${t}_critDMG_`]):St,avgHit:u?P(St,m(e(zm(Il(a.total[`${t}_critRate_`],P(St,St)),O),{...a.total[`${t}_critRate_`].info,pivot:!0}),a.total[`${t}_critDMG_`])):St},NaN),a.enemy.transDef,a.enemy[`${r}_resMulti_`]),y.info(`${t}_hit`))}),swirl:C(Ju.swirl.variants,t=>{const l=m(m(p(Ju.swirl.multi,y.info("swirl_multi_")),a_),P(e(P(St,l_),{pivot:!0,...y.info("base_transformative_multi_")}),a.total.swirl_dmg_)),r=a.enemy[`${t}_resMulti_`];return e(["pyro","hydro","cryo","electro"].includes(t)?t==="electro"?Fm(m(P(l,a.hit.addTerm),r),{hit:{ele:p(t)}}):Fm(m(l,r,a.hit.ampMulti),{hit:{ele:p(t)}}):m(l,r),y.info(`${t}_swirl_hit`))})},Ma={overloaded:e(n(P(i(Co,"pyro",1),i(Co,"electro",1)),1,Ae.overloaded),y.info("overloaded_hit")),electrocharged:e(n(P(i(Co,"hydro",1),i(Co,"electro",1)),1,Ae.electrocharged),y.info("electrocharged_hit")),superconduct:e(i(Co,"cryo",Ae.superconduct),y.info("superconduct_hit")),burning:e(i(Co,"pyro",Ae.burning),y.info("burning_hit")),bloom:e(i(Co,"hydro",Ae.bloom),y.info("bloom_hit")),burgeon:e(i(Co,"pyro",Ae.burgeon),y.info("burgeon_hit")),hyperbloom:e(i(Co,"electro",Ae.hyperbloom),y.info("hyperbloom_hit"))},GA={anemo:{electroSwirl:Ae.swirl.electro,pyroSwirl:Ae.swirl.pyro,cryoSwirl:Ae.swirl.cryo,hydroSwirl:Ae.swirl.hydro,overloaded:Ae.overloaded,electrocharged:Ae.electrocharged,superconduct:Ae.superconduct,shattered:Ae.shattered,burning:Ae.burning,bloom:Ae.bloom,burgeon:Ae.burgeon,hyperbloom:Ae.hyperbloom},geo:{crystallize:e_,...Object.fromEntries(il.map(t=>[`${t}Crystallize`,e(m(c(2.5),e_),y.info(`${t}_crystallize`))])),shattered:Ae.shattered,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},electro:{overloaded:Ae.overloaded,electrocharged:Ae.electrocharged,superconduct:Ae.superconduct,shattered:Ae.shattered,hyperbloom:Ae.hyperbloom,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon},hydro:{electrocharged:Ae.electrocharged,shattered:Ae.shattered,bloom:Ae.bloom,overloaded:Ma.overloaded,superconduct:Ma.superconduct,burning:Ma.burning,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},pyro:{overloaded:Ae.overloaded,shattered:Ae.shattered,burning:Ae.burning,burgeon:Ae.burgeon,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,bloom:Ma.bloom,hyperbloom:Ma.hyperbloom},cryo:{superconduct:Ae.superconduct,shattered:Ae.shattered,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,burning:Ma.burning,bloom:Ma.bloom,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom},dendro:{shattered:Ae.shattered,burning:Ae.burning,bloom:Ae.bloom,overloaded:Ma.overloaded,electrocharged:Ma.electrocharged,superconduct:Ma.superconduct,burgeon:Ma.burgeon,hyperbloom:Ma.hyperbloom}},zA=C(["hp","atk","def","eleMas","enerRech_","critRate_","critDMG_","heal_"],t=>a.total[t]),WA=U1(w(a.hit.move,{skill:a.charEle,burst:a.charEle},void 0),w(a.weaponType,{sword:Co,claymore:Co,polearm:Co,catalyst:a.charEle},void 0),"physical");function Hp(t){switch(t){case"normal":case"charged":case"plunging_collision":case"plunging_impact":return"auto";case"skill":return"skill";case"burst":return"burst"}}function N(t,l,r={}){var u;return Fm(a.hit.dmg,Im([{hit:{base:t,move:p(l),ele:(u=r==null?void 0:r.hit)!=null&&u.ele?void 0:WA}},r]))}function Xg(t,l){const r=m(t,P(St,a.total.shield_));return l?Fm(r,l):r}function zn(t,l){const r=a.total.healInc,u=m(P(t,r),P(St,a.total.heal_,a.total.incHeal_));return l?Fm(u,l):u}function o(t,l,r,u={},v){const g=Hp(r);return N(m($(a.total[`${g}Index`],l,{unit:"%"}),a.total[t],...v?[e(v,{unit:"%"})]:[]),r,u)}function Zi(t,l,r,u={},v){const g=Hp(r);return N(P(...t.map((b,k)=>m($(a.total[`${g}Index`],l[k],{unit:"%"}),a.total[b],...v?[e(v,{unit:"%"})]:[]))),r,u)}const UA=["dmg","low","high"];function E(t,l,r={},u){const v=Object.fromEntries(Object.entries(l).map(([g,b])=>[g,o(t,b,g==="dmg"?"plunging_collision":"plunging_impact",r,u)]));return z3(v,UA),v}function Mu(t,l,r,u){return Xg(P(m(l,a.total[t]),r),u)}function Wn(t,l,r,u){return zn(P(m(l,a.total[t]),r),u)}function Sn(t,l,r,u,v,g){const b=Hp(u),k=a.total[`${b}Index`];return Xg(P(m($(k,l,{unit:"%"}),a.total[t],...g?[g]:[]),$(k,r)),v)}function tn(t,l){return e(m(c(t==="geo"?1.5:2.5),l),{variant:t})}function cl(t,l,r,u,v,g){const b=Hp(u),k=a.total[`${b}Index`];return zn(P(m($(k,l,{unit:"%"}),a.total[t],...g?[g]:[]),m($(k,r),...g?[g]:[])),v)}function B(t,l,r,u,v,g={}){function b(x,f){return m(x,$(a.lvl,_.char.expCurve[f]))}v.basic={...zA};const k={charKey:p(t),base:{},weaponType:p(u.weaponType),premod:{},display:v};l&&(k.charEle=p(l),k.teamBuff={tally:{[l]:p(1)}},k.display.basic[`${l}_dmg_`]=a.total[`${l}_dmg_`],k.display.reaction=GA[l]),r&&$r(k,["teamBuff","tally",r],p(1)),$r(k,["teamBuff","tally","maxEleMas"],a.premod.eleMas),u.weaponType!=="catalyst"&&(k.display.basic||(k.display.basic={}),k.display.basic.physical_dmg_=a.total.physical_dmg_);let T;for(const x of[...W3,"def"]){const f=[],H=u.lvlCurves.find(I=>I.key===x);H&&f.push(b(H.base,H.curve));const M=u.ascensionBonus[x];if(M&&f.push($(a.asc,M)),!f.length)continue;const S=e(f.length===1?f[0]:P(...f),{...y.info(x),prefix:"char",asConst:!0});if(x.endsWith("_dmg_")&&(S.info.variant=x.slice(0,-5)),x==="atk"||x==="def"||x==="hp")k.base[x]=S;else{if(T)throw new Error("Duplicated Char Special");T=!0,k.special=S,k.premod[x]=a.special}}return Im([k,OA(g)])}const ec="Albedo",n2="geo",Yg=_.char.data[ec],hn=_.char.skillParam[ec],ve=A(ec,Yg.weaponType);let Bo=0,Zu=0,tg=0;const Nl={normal:{hitArr:[hn.auto[Bo++],hn.auto[Bo++],hn.auto[Bo++],hn.auto[Bo++],hn.auto[Bo++]]},charged:{dmg1:hn.auto[Bo++],dmg2:hn.auto[Bo++],stamina:hn.auto[Bo++][0]},plunging:{dmg:hn.auto[Bo++],low:hn.auto[Bo++],high:hn.auto[Bo++]},skill:{skillDmg:hn.skill[Zu++],blossomDmg:hn.skill[Zu++],duration:hn.skill[Zu++][0],cd:hn.skill[Zu++][0],blossomCd:2},burst:{burstDmg:hn.burst[tg++],blossomDmg:hn.burst[tg++],blossomAmt:7,cd:hn.burst[tg++][0],enerCost:hn.burst[tg++][0]},passive1:{blossomDmgInc:.25,hpThresh:50},passive2:{eleMasInc:hn.passive2[0][0],duration:hn.passive2[1][0]},constellation1:{blossomEner:hn.constellation1[0]},constellation2:{blossomDmgInc:.3,maxStacks:4,stackDuration:30},constellation4:{plunging_dmg_:.3},constellation6:{bonus_dmg_:.17}},[LA,s2]=h(ec,"burstUsed"),o2=i(s2,"burstUsed",n(a.asc,4,Nl.passive2.eleMasInc)),[qA,i2]=h(ec,"p1EnemyHp"),c2=n(a.asc,1,i(i2,"belowHp",Nl.passive1.blossomDmgInc)),[VA,r2]=h(ec,"c2Stacks"),d2=n(a.constellation,2,m(w(r2,Object.fromEntries(rl(1,Nl.constellation2.maxStacks).map(t=>[t,m(t,Nl.constellation2.blossomDmgInc)])),O),a.total.def)),[JA,Zg]=h(ec,"skillInField"),m2=n(a.constellation,4,i(Zg,"skillInField",Nl.constellation4.plunging_dmg_)),QA=i(a.activeCharKey,G.charKey,m2),[XA,u2]=h(ec,"c6Crystallize"),g2=n(a.constellation,6,i(Zg,"skillInField",i(u2,"c6Crystallize",Nl.constellation6.bonus_dmg_))),YA=i(a.activeCharKey,G.charKey,g2),ti={normal:Object.fromEntries(Nl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Nl.charged.dmg1,"charged"),dmg2:o("atk",Nl.charged.dmg2,"charged")},plunging:E("atk",Nl.plunging),skill:{dmg:o("atk",Nl.skill.skillDmg,"skill"),blossom:o("def",Nl.skill.blossomDmg,"skill",{total:{skill_dmg_:c2}})},burst:{dmg:o("atk",Nl.burst.burstDmg,"burst"),blossom:o("atk",Nl.burst.blossomDmg,"burst")}},h2=n(a.constellation,3,3),p2=n(a.constellation,5,3),ZA=B(ec,n2,"mondstadt",Yg,ti,{teamBuff:{premod:{eleMas:o2,plunging_dmg_:QA,all_dmg_:YA}},premod:{skillBoost:h2,burstBoost:p2,burst_dmgInc:d2}}),tB={key:ec,name:ve.name,rarity:Yg.rarity,elementKey:n2,weaponTypeKey:Yg.weaponType,gender:"M",constellationName:ve.chg("constellationName"),title:ve.chg("title"),talent:{auto:ve.talentTem("auto",[{text:ve.chg("auto.fields.normal")},{fields:Nl.normal.hitArr.map((t,l)=>({node:e(ti.normal[l],{name:ve.chg(`auto.skillParams.${l}`)})}))},{text:ve.chg("auto.fields.charged")},{fields:[{node:e(ti.charged.dmg1,{name:ve.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(ti.charged.dmg2,{name:ve.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ve.chg("auto.skillParams.6"),value:Nl.charged.stamina}]},{text:ve.chg("auto.fields.plunging")},{fields:[{node:e(ti.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ti.plunging.low,{name:s("plunging.low")})},{node:e(ti.plunging.high,{name:s("plunging.high")})}]}]),skill:ve.talentTem("skill",[{fields:[{node:e(ti.skill.dmg,{name:ve.chg("skill.skillParams.0")})},{node:e(ti.skill.blossom,{name:ve.chg("skill.skillParams.1")})},{text:ve.ch("blossomCD"),value:Nl.skill.blossomCd,unit:"s"},{text:ve.chg("skill.skillParams.2"),value:Nl.skill.duration,unit:"s"},{text:s("cd"),value:Nl.skill.cd,unit:"s"}]},ve.condTem("passive1",{value:i2,path:qA,name:d("enemyLessPercentHP",{percent:Nl.passive1.hpThresh}),states:{belowHp:{fields:[{node:e(c2,{name:ve.ch("blossomDmg_"),unit:"%"})}]}}}),ve.headerTem("constellation1",{fields:[{text:ve.ch("enerPerBlossom"),value:Nl.constellation1.blossomEner,fixed:1}]}),ve.condTem("constellation4",{value:Zg,path:JA,name:d("activeCharField"),teamBuff:!0,states:{skillInField:{fields:[{node:e(m2,y.info("plunging_dmg_"))}]}}}),ve.condTem("constellation6",{value:u2,path:XA,name:d("protectedByShieldCrystal"),canShow:i(Zg,"skillInField",1),teamBuff:!0,states:{c6Crystallize:{fields:[{node:e(g2,y.info("all_dmg_"))}]}}})]),burst:ve.talentTem("burst",[{fields:[{node:e(ti.burst.dmg,{name:ve.chg("burst.skillParams.0")})},{node:e(ti.burst.blossom,{name:ve.chg("burst.skillParams.1"),multi:Nl.burst.blossomAmt})},{text:s("cd"),value:Nl.burst.cd,unit:"s"},{text:s("energyCost"),value:Nl.burst.enerCost}]},ve.condTem("passive2",{value:s2,path:LA,name:d("afterUse.burst"),teamBuff:!0,states:{burstUsed:{fields:[{node:o2},{text:s("duration"),value:Nl.passive2.duration,unit:"s"}]}}}),ve.condTem("constellation2",{value:r2,path:VA,name:ve.ch("c2Stacks"),states:Object.fromEntries(rl(1,Nl.constellation2.maxStacks).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:d2}]}]))})]),passive1:ve.talentTem("passive1"),passive2:ve.talentTem("passive2"),passive3:ve.talentTem("passive3"),constellation1:ve.talentTem("constellation1"),constellation2:ve.talentTem("constellation2"),constellation3:ve.talentTem("constellation3",[{fields:[{node:h2}]}]),constellation4:ve.talentTem("constellation4"),constellation5:ve.talentTem("constellation5",[{fields:[{node:p2}]}]),constellation6:ve.talentTem("constellation6")}},eB=new R(tB,ZA),ac="Alhaitham",th="dendro",eh=_.char.data[ac],Gt=_.char.skillParam[ac],ne=A(ac,eh.weaponType);let _i=-1,Qr=-1,tr=-1;const yl={normal:{hitArr:[Gt.auto[++_i],Gt.auto[++_i],Gt.auto[++_i],Gt.auto[_i+=2],Gt.auto[++_i]]},charged:{dmg:Gt.auto[++_i],stamina:Gt.auto[_i+=2][0]},plunging:{dmg:Gt.auto[++_i],low:Gt.auto[++_i],high:Gt.auto[++_i]},skill:{rushDmgAtk:Gt.skill[++Qr],rushDmgEm:Gt.skill[++Qr],atkInterval:Gt.skill[++Qr][0],mirrorDmgAtk:Gt.skill[++Qr],mirrorDmgEm:Gt.skill[++Qr],mirrorRemovalInterval:Gt.skill[Qr+=5][0],cd:Gt.skill[++Qr][0]},burst:{instanceDmgAtk:Gt.burst[++tr],instanceDmgEm:Gt.burst[++tr],attackInstances:[Gt.burst[++tr][0],Gt.burst[++tr][0],Gt.burst[++tr][0],Gt.burst[++tr][0]],cd:Gt.burst[++tr][0],enerCost:Gt.burst[++tr][0]},passive1:{cd:Gt.passive1[0][0]},passive2:{dmgInc:Gt.passive2[0][0],maxDmgInc:Gt.passive2[1][0]},constellation1:{cdReduction:Gt.constellation1[0],cd:Gt.constellation1[1]},constellation2:{eleMas:Gt.constellation2[0],duration:Gt.constellation2[1],numStacks:Gt.constellation2[2]},constellation4:{eleMas:Gt.constellation4[0],eleMasDuration:Gt.constellation4[1],dendro_dmg_:Gt.constellation4[2],dendroDuration:Gt.constellation4[3]},constellation6:{critRate_:Gt.constellation6[0],critDMG_:Gt.constellation6[1],duration:Gt.constellation6[2]}},ah=n(a.asc,4,Il(m(c(yl.passive2.dmgInc),a.total.eleMas),c(yl.passive2.maxDmgInc))),Nk={...ah},[aB,k2]=h(ac,"withMirrors"),lB=dn(k2,"on",p(th)),f2=At(1,yl.constellation2.numStacks),[nB,b2]=h(ac,"debateStacks"),v2=n(a.constellation,2,w(b2,C(f2,t=>m(t,yl.constellation2.eleMas)),O)),Lf=At(0,3),[sB,lh]=h(ac,"mirrorsConsumed"),_2=e(n(a.constellation,4,w(lh,C(Lf,t=>m(t,yl.constellation4.eleMas)),O)),{...y.info("eleMas"),isTeamBuff:!0}),oB=j(a.activeCharKey,ac,_2),y2=n(a.constellation,4,wo(a.constellation,6,j(lh,void 0,m(3,c(yl.constellation4.dendro_dmg_))),w(lh,C(Lf,t=>m(3-t,c(yl.constellation4.dendro_dmg_))),O))),[iB,qf]=h(ac,"excessMirror"),T2=n(a.constellation,6,i(qf,"on",yl.constellation6.critRate_)),$2=n(a.constellation,6,i(qf,"on",yl.constellation6.critDMG_)),Kc={normal:Object.fromEntries(yl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",yl.charged.dmg,"charged")},plunging:E("atk",yl.plunging),skill:{rushDmg:Zi(["atk","eleMas"],[yl.skill.rushDmgAtk,yl.skill.rushDmgEm],"skill"),mirrorDmg1:Zi(["atk","eleMas"],[yl.skill.mirrorDmgAtk,yl.skill.mirrorDmgEm],"skill",{premod:{skill_dmg_:ah}})},burst:{instanceDmg:Zi(["atk","eleMas"],[yl.burst.instanceDmgAtk,yl.burst.instanceDmgEm],"burst",{premod:{burst_dmg_:Nk}})},passive2:{a4SkillDmgBonus:ah,a4BurstDmgBonus:Nk}},x2=n(a.constellation,3,3),P2=n(a.constellation,5,3),cB=B(ac,th,"sumeru",eh,Kc,{teamBuff:{premod:{eleMas:oB}},premod:{skillBoost:x2,burstBoost:P2,dendro_dmg_:y2,eleMas:v2,critRate_:T2,critDMG_:$2},infusion:{nonOverridableSelf:lB}}),rB={key:ac,name:ne.name,rarity:eh.rarity,elementKey:th,weaponTypeKey:eh.weaponType,gender:"M",constellationName:ne.chg("constellationName"),title:ne.chg("title"),talent:{auto:ne.talentTem("auto",[{text:ne.chg("auto.fields.normal")},{fields:yl.normal.hitArr.map((t,l)=>({node:e(Kc.normal[l],{name:ne.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ne.chg("auto.fields.charged")},{fields:[{node:e(Kc.charged.dmg,{name:ne.chg("auto.skillParams.5"),multi:2})},{text:ne.chg("auto.skillParams.6"),value:yl.charged.stamina}]},{text:ne.chg("auto.fields.plunging")},{fields:[{node:e(Kc.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Kc.plunging.low,{name:s("plunging.low")})},{node:e(Kc.plunging.high,{name:s("plunging.high")})}]}]),skill:ne.talentTem("skill",[{fields:[{node:e(Kc.skill.rushDmg,{name:ne.chg("skill.skillParams.0")})},{text:ne.chg("skill.skillParams.1"),value:yl.skill.atkInterval,unit:"s",fixed:1},{node:e(Kc.skill.mirrorDmg1,{name:ne.ch("projectionDmg")})},{text:ne.chg("skill.skillParams.5"),value:yl.skill.mirrorRemovalInterval,unit:"s"},{text:s("cd"),value:yl.skill.cd,unit:"s"}]},ne.condTem("skill",{path:aB,value:k2,name:ne.ch("withMirrors"),states:{on:{fields:[{text:d("infusion.dendro"),variant:th}]}}}),ne.headerTem("passive2",{fields:[{node:e(ah,{name:ne.ch("projectionAttack_dmg_"),unit:"%"})}]})]),burst:ne.talentTem("burst",[{fields:[{node:e(Kc.burst.instanceDmg,{name:ne.chg("burst.skillParams.0")})},...yl.burst.attackInstances.map((t,l)=>({text:ne.chg(`burst.skillParams.${l+1}`),value:t})),{text:s("cd"),value:yl.burst.cd,unit:"s"},{text:s("energyCost"),value:yl.burst.enerCost}]},ne.headerTem("passive2",{fields:[{node:e(Nk,y.info("burst_dmg_"))}]}),ne.condTem("constellation4",{path:sB,value:lh,teamBuff:!0,name:ne.ch("mirrorsConsumed"),states:C(Lf,t=>({name:`${t}`,fields:[{node:_2},{node:y2},{text:s("duration"),value:yl.constellation4.eleMasDuration,unit:"s"}]}))})]),passive1:ne.talentTem("passive1"),passive2:ne.talentTem("passive2"),passive3:ne.talentTem("passive3"),constellation1:ne.talentTem("constellation1"),constellation2:ne.talentTem("constellation2",[ne.condTem("constellation2",{path:nB,value:b2,name:ne.ch("debateStacks"),teamBuff:!0,states:C(f2,t=>({name:d("stack",{count:t}),fields:[{node:v2}]}))})]),constellation3:ne.talentTem("constellation3",[{fields:[{node:x2}]}]),constellation4:ne.talentTem("constellation4"),constellation5:ne.talentTem("constellation5",[{fields:[{node:P2}]}]),constellation6:ne.talentTem("constellation6",[ne.condTem("constellation6",{path:iB,value:qf,name:ne.ch("excessMirror"),states:{on:{fields:[{node:T2},{node:$2},{text:s("duration"),value:yl.constellation6.duration,unit:"s"}]}}})])}},dB=new R(rB,cB),lc="Aloy",Vf="cryo",nh=_.char.data[lc],Rl=_.char.skillParam[lc],se=A(lc,nh.weaponType);let yi=0,Ti=0,tk=0,n_=0,mB=0;const Tn={normal:{hitArr:[Rl.auto[yi++],Rl.auto[yi++],Rl.auto[yi++],Rl.auto[yi++],Rl.auto[yi++]]},charged:{aimed:Rl.auto[yi++],aimedCharged:Rl.auto[yi++]},plunging:{dmg:Rl.auto[yi++],low:Rl.auto[yi++],high:Rl.auto[yi++]},skill:{freezeBombDmg:Rl.skill[Ti++],chillWaterBomblets:Rl.skill[Ti++],atkDecrease:Rl.skill[Ti++],atkDecreaseDuration:Rl.skill[Ti++][0],coilNormalDmgBonus1:Rl.skill[Ti++],coilNormalDmgBonus2:Rl.skill[Ti++],coilNormalDmgBonus3:Rl.skill[Ti++],rushingNormalDmgBonus:Rl.skill[Ti++],rushingDuration:Rl.skill[Ti++][0],cd:Rl.skill[Ti++][0]},burst:{dmg:Rl.burst[tk++],cd:Rl.burst[tk++][0],enerCost:Rl.burst[tk++][0]},passive1:{atkInc:.16,teamAtkInc:Rl.passive1[n_++][0],duration:Rl.passive1[n_++][0]},passive2:{cryoDmgBonus:Rl.passive2[mB++][0]}},[uB,sh]=h(lc,"coil"),Ok=w(sh,{coil1:$(a.total.skillIndex,Tn.skill.coilNormalDmgBonus1,{unit:"%"}),coil2:$(a.total.skillIndex,Tn.skill.coilNormalDmgBonus2,{unit:"%"}),coil3:$(a.total.skillIndex,Tn.skill.coilNormalDmgBonus3,{unit:"%"}),rush:$(a.total.skillIndex,Tn.skill.rushingNormalDmgBonus,{unit:"%"})},O),[gB,Jf]=h(lc,"A1"),D2=n(a.asc,1,i(Jf,"on",i(a.activeCharKey,lc,c(Tn.passive1.atkInc)))),C2=n(a.asc,1,i(Jf,"on",j(a.activeCharKey,lc,c(Tn.passive1.teamAtkInc)))),[hB,S2]=h(lc,"A4"),w2=n(a.asc,4,w(S2,Object.fromEntries(rl(1,10).map(t=>[t,c(Tn.passive2.cryoDmgBonus*t)])),O)),zi={normal:Object.fromEntries(Tn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",{hit:{ele:wo("rush",sh,Vf,"physical")}})])),charged:{aimed:o("atk",Tn.charged.aimed,"charged"),aimedCharged:o("atk",Tn.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:E("atk",Tn.plunging),skill:{freezeBombDmg:o("atk",Tn.skill.freezeBombDmg,"skill"),chillWaterBomblets:o("atk",Tn.skill.chillWaterBomblets,"skill")},burst:{dmg:o("atk",Tn.burst.dmg,"burst")}},pB=B(lc,Vf,void 0,nh,zi,{premod:{normal_dmg_:Ok,atk_:D2,cryo_dmg_:w2},teamBuff:{premod:{atk_:C2}}}),kB={key:lc,name:se.name,rarity:nh.rarity,elementKey:Vf,weaponTypeKey:nh.weaponType,gender:"F",constellationName:se.chg("constellationName"),title:se.chg("title"),talent:{auto:se.talentTem("auto",[{text:se.chg("auto.fields.normal")},{fields:Tn.normal.hitArr.map((t,l)=>({node:e(zi.normal[l],{name:se.chg(`auto.skillParams.${l+(l===0?0:-1)}`),textSuffix:l===0?"(1)":l===1?"(2)":""})}))},{text:se.chg("auto.fields.charged")},{fields:[{node:e(zi.charged.aimed,{name:se.chg("auto.skillParams.4")})},{node:e(zi.charged.aimedCharged,{name:se.chg("auto.skillParams.5")})}]},{text:se.chg("auto.fields.plunging")},{fields:[{node:e(zi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(zi.plunging.low,{name:s("plunging.low")})},{node:e(zi.plunging.high,{name:s("plunging.high")})}]}]),skill:se.talentTem("skill",[{fields:[{node:e(zi.skill.freezeBombDmg,{name:se.chg("skill.skillParams.0")})},{node:e(zi.skill.chillWaterBomblets,{name:se.chg("skill.skillParams.1")})},{node:$(a.total.skillIndex,Tn.skill.atkDecrease,{name:se.chg("skill.skillParams.2"),unit:"%"})},{text:se.chg("skill.skillParams.3"),value:`${Tn.skill.atkDecreaseDuration}`,unit:"s"},{text:se.chg("skill.skillParams.7"),value:`${Tn.skill.cd}`,unit:"s"}]},se.condTem("skill",{value:sh,path:uB,name:se.ch("skill.coil"),states:{...Object.fromEntries(rl(1,3).map(t=>[`coil${t}`,{name:d("stack",{count:t}),fields:[{node:Ok}]}])),rush:{name:se.ch("skill.rush"),fields:[{node:Ok},{text:se.ch("normCryoInfus")},{text:se.chg("skill.skillParams.6"),value:Tn.skill.rushingDuration,unit:"s"}]}}})]),burst:se.talentTem("burst",[{fields:[{node:e(zi.burst.dmg,{name:se.chg("burst.skillParams.0")})},{text:se.chg("burst.skillParams.1"),value:Tn.burst.cd,unit:"s"},{text:se.chg("burst.skillParams.2"),value:Tn.burst.enerCost}]}]),passive1:se.talentTem("passive1",[se.condTem("passive1",{value:Jf,path:gB,teamBuff:!0,name:se.ch("a1CondName"),states:{on:{fields:[{node:e(C2,y.info("atk_"))},{node:e(D2,y.info("atk_"))},{text:s("duration"),value:Tn.passive1.duration,unit:"s"}]}}})]),passive2:se.talentTem("passive2",[se.condTem("passive2",{value:S2,path:hB,canShow:i("rush",sh,1),name:se.ch("skill.rushState"),states:Object.fromEntries(rl(1,10).map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:w2}]}]))})]),passive3:se.talentTem("passive3"),constellation1:se.talentTem("constellation1"),constellation2:se.talentTem("constellation2"),constellation3:se.talentTem("constellation3"),constellation4:se.talentTem("constellation4"),constellation5:se.talentTem("constellation5"),constellation6:se.talentTem("constellation6")}},fB=new R(kB,pB),Fd="Amber",A2="pyro",bB="mondstadt",oh=_.char.data[Fd],ul=_.char.skillParam[Fd],Tt=A(Fd,oh.weaponType);let $i=0,eg=0,Jm=0,s_=0,o_=0;const nl={normal:{hitArr:[ul.auto[$i++],ul.auto[$i++],ul.auto[$i++],ul.auto[$i++],ul.auto[$i++]]},charged:{aimed:ul.auto[$i++],aimedCharged:ul.auto[$i++]},plunging:{dmg:ul.auto[$i++],low:ul.auto[$i++],high:ul.auto[$i++]},skill:{inheritedHp:ul.skill[eg++],dmg:ul.skill[eg++],unknown:ul.skill[eg++],cd:ul.skill[eg++][0]},burst:{dmgPerWave:ul.burst[Jm++],cd:ul.burst[Jm++][0],enerCost:ul.burst[Jm++][0],rainDmg:ul.burst[Jm++],duration:ul.burst[Jm++][0]},passive1:{critRateInc:ul.passive1[s_++][0],aoeInc:ul.passive1[s_++][0]},passive2:{atkInc:ul.passive2[o_++][0],duration:ul.passive2[o_++][0]},constellation1:{secArrowDmg:ul.constellation1[0]},constellation2:{manualDetionationDmg:ul.constellation2[0]},constellation6:{moveSpdInc:ul.constellation6[0],atkInc:ul.constellation6[1],duration:ul.constellation6[2]}},B2=n(a.asc,1,c(nl.passive1.critRateInc)),[vB,I2]=h(Fd,"A4"),R2=n(a.asc,4,i("on",I2,c(nl.passive2.atkInc))),[_B,Qf]=h(Fd,"C6"),M2=n(a.constellation,6,i("on",Qf,c(nl.constellation6.moveSpdInc))),H2=n(a.constellation,6,i("on",Qf,c(nl.constellation6.atkInc))),xs={normal:Object.fromEntries(nl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",nl.charged.aimed,"charged"),aimedCharged:o("atk",nl.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}})},plunging:E("atk",nl.plunging),skill:{inheritedHp:m($(a.total.skillIndex,nl.skill.inheritedHp),a.total.hp),dmg:o("atk",nl.skill.dmg,"skill")},burst:{rainDmg:o("atk",nl.burst.rainDmg,"burst"),dmgPerWave:o("atk",nl.burst.dmgPerWave,"burst")},constellation1:{secondAimed:n(a.constellation,1,m(c(nl.constellation1.secArrowDmg),o("atk",nl.charged.aimed,"charged"))),secondAimedCharged:n(a.constellation,1,m(o("atk",nl.charged.aimedCharged,"charged",{hit:{ele:p("pyro")}}),c(nl.constellation1.secArrowDmg)))},constellation2:{manualDetonationDmg:n(a.constellation,2,o("atk",nl.skill.dmg,"skill",{premod:{skill_dmg_:c(nl.constellation2.manualDetionationDmg)}}))}},E2=n(a.constellation,3,3),K2=n(a.constellation,5,3),yB=B(Fd,A2,bB,oh,xs,{premod:{skillBoost:K2,burstBoost:E2,atk_:R2,burst_critRate_:B2},teamBuff:{premod:{moveSPD_:M2,atk_:H2}}}),TB={key:Fd,name:Tt.name,rarity:oh.rarity,elementKey:A2,weaponTypeKey:oh.weaponType,gender:"F",constellationName:Tt.chg("constellationName"),title:Tt.chg("title"),talent:{auto:Tt.talentTem("auto",[{text:Tt.chg("auto.fields.normal")},{fields:nl.normal.hitArr.map((t,l)=>({node:e(xs.normal[l],{name:Tt.chg(`auto.skillParams.${l}`)})}))},{text:Tt.chg("auto.fields.charged")},{fields:[{node:e(xs.charged.aimed,{name:Tt.chg("auto.skillParams.5")})},{node:e(xs.charged.aimedCharged,{name:Tt.chg("auto.skillParams.6")})}]},Tt.headerTem("constellation1",{fields:[{node:e(xs.constellation1.secondAimed,{name:Tt.chg("auto.skillParams.5"),textSuffix:Tt.ch("secondArrow")})},{node:e(xs.constellation1.secondAimedCharged,{name:Tt.chg("auto.skillParams.6"),textSuffix:Tt.ch("secondArrow")})}]}),{text:Tt.chg("auto.fields.plunging")},{fields:[{node:e(xs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(xs.plunging.low,{name:s("plunging.low")})},{node:e(xs.plunging.high,{name:s("plunging.high")})}]}]),skill:Tt.talentTem("skill",[{fields:[{node:e(xs.skill.inheritedHp,{name:Tt.chg("skill.skillParams.0"),variant:"heal"})},{node:e(xs.skill.dmg,{name:Tt.chg("skill.skillParams.1")})},{node:e(xs.constellation2.manualDetonationDmg,{name:Tt.ch("manualDetonationDmg")})},{text:Tt.chg("skill.skillParams.2"),value:t=>t.get(a.constellation).value>=4?nl.skill.cd-nl.skill.cd*.2:nl.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=4,text:d("charges"),value:2}]}]),burst:Tt.talentTem("burst",[{fields:[{node:e(xs.burst.dmgPerWave,{name:Tt.chg("burst.skillParams.0")})},{node:e(xs.burst.rainDmg,{name:Tt.chg("burst.skillParams.1")})},{text:Tt.chg("burst.skillParams.2"),value:nl.burst.duration,unit:"s"},{text:Tt.chg("burst.skillParams.3"),value:nl.burst.cd,unit:"s"},{text:Tt.chg("burst.skillParams.4"),value:`${nl.burst.enerCost}`}]},Tt.condTem("constellation6",{value:Qf,path:_B,name:Tt.ch("c6CondName"),teamBuff:!0,states:{on:{fields:[{node:H2},{node:M2},{text:s("duration"),value:nl.passive2.duration,unit:"s"}]}}})]),passive1:Tt.talentTem("passive1",[Tt.fieldsTem("passive1",{fields:[{text:Tt.ch("critRateBonus"),value:nl.passive1.critRateInc*100,unit:"%"},{text:Tt.ch("aoeRangeBonus"),value:nl.passive1.aoeInc*100,unit:"%"},{node:B2}]})]),passive2:Tt.talentTem("passive2",[Tt.condTem("passive2",{value:I2,path:vB,name:d("hitOp.weakSpot"),states:{on:{fields:[{node:R2},{text:s("duration"),value:nl.passive2.duration,unit:"s"}]}}})]),passive3:Tt.talentTem("passive3"),constellation1:Tt.talentTem("constellation1"),constellation2:Tt.talentTem("constellation2"),constellation3:Tt.talentTem("constellation3",[{fields:[{node:E2}]}]),constellation4:Tt.talentTem("constellation4",[Tt.fieldsTem("constellation4",{fields:[{text:d("addlCharges"),value:1}]})]),constellation5:Tt.talentTem("constellation5",[{fields:[{node:K2}]}]),constellation6:Tt.talentTem("constellation6")}},$B=new R(TB,yB),Ar="AratakiItto",xB="geo",ih=_.char.data[Ar],ga=_.char.skillParam[Ar],ct=A(Ar,ih.weaponType),Va={normal:{hitArr:[ga.auto[0],ga.auto[1],ga.auto[2],ga.auto[3]]},charged:{sSlash:ga.auto[4],akSlash:ga.auto[5],akFinal:ga.auto[6],stam:ga.auto[7][0]},plunging:{dmg:ga.auto[8],low:ga.auto[9],high:ga.auto[10]},ss:{duration:ga.auto[11][0]},skill:{dmg:ga.skill[0],hp:ga.skill[1],duration:ga.skill[2][0],ss_cd:ga.skill[3][0],cd:ga.skill[4][0]},burst:{atkSpd:ga.burst[0][0],defConv:ga.burst[1],resDec:ga.burst[2][0],duration:ga.burst[3][0],cd:ga.burst[4][0],cost:ga.burst[5][0]},passive1:{maxStacks:3,atkSPD_:.1},passive2:{def_:ga.passive2[0][0]},constellation1:{initialStacks:ga.constellation1[0],timedStacks:ga.constellation1[1]},constellation2:{burstCdRed:ga.constellation2[0],energyRegen:ga.constellation2[1]},constellation4:{def_:ga.constellation4[0],atk_:ga.constellation4[1],duration:ga.constellation4[2]},constellation6:{charged_critDMG_:ga.constellation6[0]}},[PB,yd]=h(Ar,"burst"),[DB,N2]=h(Ar,"passive1"),[CB,Xf]=h(Ar,"constellation4"),SB=m($(a.total.skillIndex,Va.skill.hp,y.info("hp_")),a.total.hp),Yf=i(yd,"on",m($(a.total.burstIndex,Va.burst.defConv,y.info("def_")),a.total.def)),O2=i(yd,"on",Va.burst.atkSpd,y.info("atkSPD_")),F2=Object.fromEntries(So.map(t=>[`${t}_res_`,i(yd,"on",-Va.burst.resDec)])),wB=dn(yd,"on","geo"),Fk=n(a.asc,4,m(c(Va.passive2.def_),a.premod.def)),j2=n(a.asc,4,w(N2,Object.fromEntries(rl(1,Va.passive1.maxStacks).map(t=>[t,p(Va.passive1.atkSPD_*t)])),0,y.info("atkSPD_"))),AB=m(Il(mn.geo,3),Va.constellation2.burstCdRed),BB=m(Il(mn.geo,3),Va.constellation2.energyRegen),G2=i(Xf,"on",n(a.constellation,4,Va.constellation4.atk_)),z2=i(Xf,"on",n(a.constellation,4,Va.constellation4.def_)),jk=n(a.constellation,6,Va.constellation6.charged_critDMG_),Wi={normal:Object.fromEntries(Va.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{sSlash:o("atk",Va.charged.sSlash,"charged"),akSlash:o("atk",Va.charged.akSlash,"charged",{premod:{charged_dmgInc:Fk}}),akFinal:o("atk",Va.charged.akFinal,"charged",{premod:{charged_dmgInc:Fk}})},plunging:E("atk",Va.plunging),skill:{dmg:o("atk",Va.skill.dmg,"skill"),hp:SB},burst:{defConv:Yf}},W2=n(a.constellation,3,3),U2=n(a.constellation,5,3),IB=B(Ar,xB,"inazuma",ih,Wi,{teamBuff:{premod:{atk_:G2,def_:z2}},premod:{skillBoost:W2,burstBoost:U2,charged_critDMG_:jk,atk:Yf,atkSPD_:P(O2,j2),...F2},infusion:{nonOverridableSelf:wB}}),RB={key:Ar,name:ct.name,rarity:ih.rarity,elementKey:"geo",weaponTypeKey:ih.weaponType,gender:"M",constellationName:ct.chg("constellationName"),title:ct.chg("title"),talent:{auto:ct.talentTem("auto",[{text:ct.chg("auto.fields.normal")},{fields:Va.normal.hitArr.map((t,l)=>({node:e(Wi.normal[l],{name:ct.chg(`auto.skillParams.${l}`)})}))},{text:ct.chg("auto.fields.charged")},{fields:[{node:e(Wi.charged.akSlash,{name:ct.chg("auto.skillParams.4")})},{node:e(Wi.charged.akFinal,{name:ct.chg("auto.skillParams.5")})},{text:ct.chg("auto.skillParams.6"),value:Va.ss.duration,unit:"s"},{node:e(Wi.charged.sSlash,{name:ct.chg("auto.skillParams.7")})},{text:ct.chg("auto.skillParams.8"),value:Va.charged.stam}]},ct.condTem("passive1",{name:ct.ch("a1.name"),value:N2,path:DB,states:Object.fromEntries(rl(1,Va.passive1.maxStacks).map(t=>[t,{name:d("stack_one",{count:t}),fields:[{node:j2}]}]))}),ct.headerTem("passive2",{fields:[{node:e(Fk,{name:ct.ch("a4:dmgInc")})}]}),ct.headerTem("constellation6",{fields:[{node:jk}]}),{text:ct.chg("auto.fields.plunging")},{fields:[{node:e(Wi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Wi.plunging.low,{name:s("plunging.low")})},{node:e(Wi.plunging.high,{name:s("plunging.high")})}]}]),skill:ct.talentTem("skill",[{fields:[{node:e(Wi.skill.dmg,{name:ct.chg("skill.skillParams.0")})},{node:e(Wi.skill.hp,{name:ct.chg("skill.skillParams.1"),variant:"heal"})},{text:ct.chg("skill.skillParams.2"),value:Va.skill.duration,unit:"s"},{text:ct.chg("skill.skillParams.3"),value:Va.skill.cd,unit:"s"}]}]),burst:ct.talentTem("burst",[{fields:[{text:ct.chg("burst.skillParams.3"),value:Va.burst.cd,unit:"s"},{text:ct.chg("burst.skillParams.4"),value:Va.burst.cost}]},ct.condTem("burst",{name:d("afterUse.burst"),value:yd,path:PB,states:{on:{fields:[{text:d("infusion.geo"),variant:"geo"},{node:O2},...Object.values(F2).map(t=>({node:t})),{node:e(Yf,{name:ct.chg("burst.skillParams.0")})},{text:ct.chg("burst.skillParams.2"),value:Va.burst.duration,unit:"s"}]}}}),ct.headerTem("constellation1",{fields:[{text:ct.ch("c1.initialGain"),value:Va.constellation1.initialStacks},{text:ct.ch("c1.timedGain"),value:Va.constellation1.timedStacks}],canShow:i(yd,"on",1)}),ct.headerTem("constellation2",{fields:[{text:d("burstCDRed"),value:t=>t.get(AB).value,unit:"s",fixed:1},{text:s("energyRegen"),value:t=>t.get(BB).value}],canShow:i(yd,"on",1)}),ct.condTem("constellation4",{name:ct.ch("c4.name"),teamBuff:!0,value:Xf,path:CB,states:{on:{fields:[{node:G2},{node:z2},{text:s("duration"),value:Va.constellation4.duration,unit:"s"}]}}})]),passive1:ct.talentTem("passive1"),passive2:ct.talentTem("passive2"),passive3:ct.talentTem("passive3"),constellation1:ct.talentTem("constellation1"),constellation2:ct.talentTem("constellation2"),constellation3:ct.talentTem("constellation3",[{fields:[{node:W2}]}]),constellation4:ct.talentTem("constellation4"),constellation5:ct.talentTem("constellation5",[{fields:[{node:U2}]}]),constellation6:ct.talentTem("constellation6",[{fields:[{node:jk}]}])}},MB=new R(RB,IB),jd="Arlecchino",Td=_.char.data[jd],tt=_.char.skillParam[jd],ha=A(jd,Td.weaponType);let Ts=-1,Xr=0,ag=0;const sn={normal:{hitArr:[tt.auto[++Ts],tt.auto[++Ts],tt.auto[++Ts],tt.auto[++Ts],tt.auto[++Ts],tt.auto[++Ts]]},charged:{dmg:tt.auto[++Ts],stam:tt.auto[++Ts][0]},plunging:{dmg:tt.auto[++Ts],low:tt.auto[++Ts],high:tt.auto[++Ts]},infusion:{normal_dmgInc:tt.auto[++Ts],bondConsumption:tt.auto[++Ts][0],bond:tt.auto[++Ts][0]},skill:{spikeDmg:tt.skill[Xr++],finalDmg:tt.skill[Xr++],sigilDmg:tt.skill[Xr++],two:tt.skill[Xr++][0],cd:tt.skill[Xr++][0],three:tt.skill[Xr++][0],bond:tt.skill[Xr++][0]},burst:{burstDmg:tt.burst[ag++],bond:tt.burst[ag++][0],cd:tt.burst[ag++][0],enerCost:tt.burst[ag++][0]},passive1:{interval:tt.passive1[0][0],bond1:tt.passive1[1][0],bond2:tt.passive1[2][0],bond3:tt.passive1[3][0]},passive2:{atkThresh:tt.passive2[0][0],res:tt.passive2[1][0],maxRes:tt.passive2[2][0],maxAttack:tt.passive2[3][0]},constellation1:{chance:tt.constellation1[0],bond:tt.constellation1[1]},constellation2:{bloodfireDmg:tt.constellation2[0],cd:tt.constellation2[1]},constellation4:{cdReduce:tt.constellation4[0],energyRegen:tt.constellation4[1],cd:tt.constellation4[2],bondInc:tt.constellation4[4]},constellation6:{normal_burst_critRate_:tt.constellation6[0],normal_burst_critDMG_:tt.constellation6[1],duration:tt.constellation6[2],cd:tt.constellation6[3],dashDmg:tt.constellation6[4]}},Gk=At(10,100,10),[i_,zk]=h(jd,"bondPercent"),Gu=w(zk,C(Gk,t=>c(t/100)),O),HB=wr(Gu,.3,p("pyro")),L2=n(Gu,.3,.4),q2=m($(a.total.autoIndex,sn.infusion.normal_dmgInc),a.total.atk,Gu),V2=n(a.constellation,6,m(c(sn.constellation6.dashDmg),a.total.atk,Gu)),[EB,Zf]=h(jd,"c6AfterSkill"),tb=n(a.constellation,6,i(Zf,"on",sn.constellation6.normal_burst_critRate_)),J2={...tb},eb=n(a.constellation,6,i(Zf,"on",sn.constellation6.normal_burst_critDMG_)),Q2={...eb},qs={normal:{...Object.fromEntries(sn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",sn.charged.dmg,"charged")},plunging:E("atk",sn.plunging),skill:{spikeDmg:o("atk",sn.skill.spikeDmg,"skill"),finalDmg:o("atk",sn.skill.finalDmg,"skill",{premod:{skill_dmgInc:V2}}),sigilDmg:o("atk",sn.skill.sigilDmg,"skill")},burst:{burstDmg:o("atk",sn.burst.burstDmg,"burst")},passive2:C(U3,()=>m(P(a.total.atk,-sn.passive2.atkThresh),c(1/(sn.passive2.maxAttack/sn.passive2.maxRes)))),constellation2:{bloodfireDmg:n(a.constellation,2,n(a.asc,1,N(m(c(sn.constellation2.bloodfireDmg),a.total.atk),"elemental",{hit:{ele:p("pyro")}})))}},X2=n(a.constellation,3,3),Y2=n(a.constellation,5,3),KB=B(jd,Td.ele,Td.region,Td,qs,{premod:{autoBoost:X2,burstBoost:Y2,...qs.passive2,normal_dmgInc:q2,normal_critRate_:tb,normal_critDMG_:eb,burst_critRate_:J2,burst_critDMG_:Q2,pyro_dmg_:L2},infusion:{nonOverridableSelf:HB}}),NB={key:jd,name:ha.name,rarity:Td.rarity,elementKey:Td.ele,weaponTypeKey:Td.weaponType,gender:"F",constellationName:ha.chg("constellationName"),title:ha.chg("title"),talent:{auto:ha.talentTem("auto",[{text:ha.chg("auto.fields.normal")},{fields:sn.normal.hitArr.map((t,l)=>({node:e(qs.normal[l],{name:ha.chg(`auto.skillParams.${l}`)})}))},{text:ha.chg("auto.fields.charged")},{fields:[{node:e(qs.charged.dmg,{name:ha.chg("auto.skillParams.6")})},{text:ha.chg("auto.skillParams.7"),value:sn.charged.stam}]},{text:ha.chg("auto.fields.plunging")},{fields:[{node:e(qs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qs.plunging.low,{name:s("plunging.low")})},{node:e(qs.plunging.high,{name:s("plunging.high")})}]},{text:ha.chg("auto.fields.infusion")},ha.condTem("auto",{path:i_,value:zk,name:d("currentBond"),states:C(Gk,t=>({name:`${t}%`,fields:[{canShow:l=>l.get(Gu).value>=.3,text:D(Mp,{color:"pyro",children:d("infusion.pyro")})},{node:L2},{node:q2}]}))})]),skill:ha.talentTem("skill",[{fields:[{node:e(qs.skill.spikeDmg,{name:ha.chg("skill.skillParams.0")})},{node:e(qs.skill.finalDmg,{name:ha.chg("skill.skillParams.1")})},{node:e(qs.skill.sigilDmg,{name:ha.chg("skill.skillParams.2")})},{text:s("cd"),value:sn.skill.cd,unit:"s"}]},ha.condTem("constellation6",{path:i_,value:zk,name:d("currentBond"),states:C(Gk,t=>({name:`${t}%`,fields:[{node:e(V2,{name:ha.ch("finalSkillDmgInc")})}]}))}),ha.condTem("constellation6",{path:EB,value:Zf,name:d("afterUse.skill"),states:{on:{fields:[{node:tb},{node:eb},{node:J2},{node:Q2},{text:s("duration"),value:sn.constellation6.duration,unit:"s"},{text:s("cd"),value:sn.constellation6.cd,unit:"s"}]}}})]),burst:ha.talentTem("burst",[{fields:[{node:e(qs.burst.burstDmg,{name:ha.chg("burst.skillParams.0")})},{text:s("cd"),value:sn.burst.cd,unit:"s"},{text:s("energyCost"),value:sn.burst.enerCost}]}]),passive1:ha.talentTem("passive1"),passive2:ha.talentTem("passive2",[{fields:Object.values(qs.passive2).map(t=>({node:t}))}]),passive3:ha.talentTem("passive3"),constellation1:ha.talentTem("constellation1"),constellation2:ha.talentTem("constellation2",[ha.fieldsTem("constellation2",{fields:[{node:e(qs.constellation2.bloodfireDmg,{name:ha.ch("bloodfireDmg")})},{text:s("cd"),value:sn.constellation2.cd,unit:"s"}]})]),constellation3:ha.talentTem("constellation3",[{fields:[{node:X2}]}]),constellation4:ha.talentTem("constellation4"),constellation5:ha.talentTem("constellation5",[{fields:[{node:Y2}]}]),constellation6:ha.talentTem("constellation6")}},OB=new R(NB,KB),Br="Baizhu",ab="dendro",ch=_.char.data[Br],It=_.char.skillParam[Br],oe=A(Br,ch.weaponType);let uc=-1,lg=0,xi=0;var P1,D1;const le={normal:{hitArr:[It.auto[++uc],It.auto[++uc],It.auto[++uc],It.auto[++uc]]},charged:{dmg:It.auto[++uc],stamina:It.auto[++uc][0]},plunging:{dmg:It.auto[++uc],low:It.auto[++uc],high:It.auto[++uc]},skill:{dmg:It.skill[lg++],healHp:It.skill[lg++],healBase:It.skill[lg++],cd:It.skill[lg++][0]},burst:{shieldHp:It.burst[xi++],shieldBase:It.burst[xi++],shieldDuration:It.burst[xi++][0],shieldInterval:It.burst[xi++][0],healHp:It.burst[xi++],healBase:It.burst[xi++],veinDmg:It.burst[xi++],duration:It.burst[xi++][0],cd:It.burst[xi++][0],energyCost:It.burst[xi++][0]},passive1:{hpThresh_:It.passive1[0][0],heal_:It.passive1[1][0],dendro_dmg_:It.passive1[2][0]},passive2:{duration:It.passive2[0][0],burningBloom_dmg_:It.passive2[1][0],aggSpread_dmg_:It.passive2[2][0],maxHp:It.passive2[3][0]},passive3:{heal:((D1=(P1=It==null?void 0:It.passive3)==null?void 0:P1[0])==null?void 0:D1[0])??0},constellation2:{atkAmount:It.constellation2[0],dmg:It.constellation2[1],heal:It.constellation2[2],cd:It.constellation2[3]},constellation4:{eleMas:It.constellation4[0],duration:It.constellation4[1]},constellation6:{healChance:It.constellation6[0],vein_dmgInc:It.constellation6[1]}},[FB,lb]=h(Br,"a1HpStatus"),Z2=n(a.asc,1,i(lb,"below",le.passive1.heal_)),t0=n(a.asc,1,i(lb,"above",le.passive1.dendro_dmg_)),[jB,nb]=h(Br,"a4AfterHeal"),ng=n(a.asc,4,i(nb,"on",Il(le.passive2.maxHp/1e3*le.passive2.burningBloom_dmg_,m(c(le.passive2.burningBloom_dmg_),a.total.hp,1/1e3)))),c_=n(a.asc,4,i(nb,"on",Il(le.passive2.maxHp/1e3*le.passive2.aggSpread_dmg_,m(c(le.passive2.aggSpread_dmg_),a.total.hp,1/1e3)))),[GB,e0]=h(Br,"c4AfterBurst"),a0=n(a.constellation,4,i(e0,"on",le.constellation4.eleMas)),r_=Sn("hp",le.burst.shieldHp,le.burst.shieldBase,"burst"),Nn={normal:Object.fromEntries(le.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",le.charged.dmg,"charged")},plunging:E("atk",le.plunging),skill:{dmg:o("atk",le.skill.dmg,"skill"),heal:cl("hp",le.skill.healHp,le.skill.healBase,"skill")},burst:{shield:r_,shield_dendro:tn("dendro",r_),heal:cl("hp",le.burst.healHp,le.burst.healBase,"burst"),dmg:o("atk",le.burst.veinDmg,"burst")},passive2:{burning_dmg_:ng,bloom_dmg_:{...ng},hyperbloom_dmg_:{...ng},burgeon_dmg_:{...ng},aggravate_dmg_:c_,spread_dmg_:{...c_}},passive3:{heal:zn(m(c(le.passive3.heal),a.total.hp))},constellation2:{dmg:n(a.constellation,2,N(m(c(le.constellation2.dmg),a.total.atk),"skill",{hit:{ele:p(ab)}})),heal:n(a.constellation,2,Wn("hp",m($(a.total.skillIndex,le.skill.healHp,{unit:"%"}),c(le.constellation2.heal)),m($(a.total.skillIndex,le.skill.healBase),c(le.constellation2.heal))))},constellation6:{vein_dmgInc:n(a.constellation,6,m(c(le.constellation6.vein_dmgInc),a.total.hp))}},l0=n(a.constellation,3,3),n0=n(a.constellation,5,3),zB=B(Br,ab,"liyue",ch,Nn,{premod:{skillBoost:n0,burstBoost:l0,heal_:Z2,dendro_dmg_:t0,burst_dmgInc:Nn.constellation6.vein_dmgInc},teamBuff:{premod:{eleMas:a0,...Nn.passive2}}}),WB={key:Br,name:oe.name,rarity:ch.rarity,elementKey:ab,weaponTypeKey:ch.weaponType,gender:"M",constellationName:oe.chg("constellationName"),title:oe.chg("title"),talent:{auto:oe.talentTem("auto",[{text:oe.chg("auto.fields.normal")},{fields:le.normal.hitArr.map((t,l)=>({node:e(Nn.normal[l],{name:oe.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:oe.chg("auto.fields.charged")},{fields:[{node:e(Nn.charged.dmg,{name:oe.chg("auto.skillParams.4")})},{text:oe.chg("auto.skillParams.5"),value:le.charged.stamina}]},{text:oe.chg("auto.fields.plunging")},{fields:[{node:e(Nn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Nn.plunging.low,{name:s("plunging.low")})},{node:e(Nn.plunging.high,{name:s("plunging.high")})}]}]),skill:oe.talentTem("skill",[{fields:[{node:e(Nn.skill.dmg,{name:oe.chg("skill.skillParams.0")})},{node:e(Nn.skill.heal,{name:oe.chg("skill.skillParams.1")})},{text:s("cd"),value:le.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]}]),burst:oe.talentTem("burst",[{fields:[{node:e(Nn.burst.shield,{name:oe.chg("burst.skillParams.0")})},{node:e(Nn.burst.shield_dendro,{name:oe.ch("seamlessDendro")})},{text:oe.chg("burst.skillParams.1"),value:le.burst.shieldDuration,unit:"s",fixed:1},{node:e(Nn.burst.heal,{name:oe.chg("burst.skillParams.2")})},{node:e(Nn.burst.dmg,{name:oe.chg("burst.skillParams.3")})},{text:oe.chg("burst.skillParams.4"),value:le.burst.duration,unit:"s"},{text:s("cd"),value:le.burst.cd,unit:"s"},{text:s("energyCost"),value:le.burst.energyCost}]},oe.condTem("passive2",{path:jB,value:nb,teamBuff:!0,name:oe.ch("a4Cond"),states:{on:{fields:[...Object.values(Nn.passive2).map(t=>({node:t})),{text:s("duration"),value:le.passive2.duration,unit:"s"}]}}}),oe.condTem("constellation4",{path:GB,value:e0,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:a0},{text:s("duration"),value:le.constellation4.duration,unit:"s"}]}}}),oe.headerTem("constellation6",{fields:[{node:e(Nn.constellation6.vein_dmgInc,{name:oe.ch("c6DmgInc")})}]})]),passive1:oe.talentTem("passive1",[oe.condTem("passive1",{path:FB,value:lb,name:d("activeChar"),states:{below:{name:d("lessPercentHP",{percent:le.passive1.hpThresh_*100}),fields:[{node:Z2}]},above:{name:d("greaterEqPercentHP",{percent:le.passive1.hpThresh_*100}),fields:[{node:t0}]}}})]),passive2:oe.talentTem("passive2"),passive3:oe.talentTem("passive3",[{fields:[{node:e(Nn.passive3.heal,{name:s("healing")})}]}]),constellation1:oe.talentTem("constellation1",[oe.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:oe.talentTem("constellation2",[{fields:[{node:e(Nn.constellation2.dmg,{name:oe.ch("c2Dmg")})},{node:e(Nn.constellation2.heal,{name:oe.ch("c2Heal")})},{canShow:t=>t.get(a.constellation).value>=2,text:s("cd"),value:le.constellation2.cd,unit:"s"}]}]),constellation3:oe.talentTem("constellation3",[{fields:[{node:l0}]}]),constellation4:oe.talentTem("constellation4"),constellation5:oe.talentTem("constellation5",[{fields:[{node:n0}]}]),constellation6:oe.talentTem("constellation6")}},UB=new R(WB,zB),Gd="Barbara",s0="hydro",rh=_.char.data[Gd],an=_.char.skillParam[Gd],ia=A(Gd,rh.weaponType);let gc=0,Yr=0,sg=0;const _n={normal:{hitArr:[an.auto[gc++],an.auto[gc++],an.auto[gc++],an.auto[gc++]]},charged:{dmg:an.auto[gc++],stamina:an.auto[gc++][0]},plunging:{dmg:an.auto[gc++],low:an.auto[gc++],high:an.auto[gc++]},skill:{cregen_hp_:an.skill[Yr++],cregen_hp:an.skill[Yr++],regen_hp_:an.skill[Yr++],regen_hp:an.skill[Yr++],dmg:an.skill[Yr++],duration:an.skill[Yr++][0],cd:an.skill[Yr++][0]},burst:{hp_:an.burst[sg++],hp:an.burst[sg++],cd:an.burst[sg++][0],enerCost:an.burst[sg++][0]},passive1:{stam:-an.passive1[0][0]},passive2:{ext:an.passive2[0][0],maxExt:an.passive2[0][1]},constellation2:{cdDec:.15,hydro_dmg_:.15}},o0=n(a.constellation,3,3),i0=n(a.constellation,5,3),[LB,sb]=h(Gd,"skill"),qB=n(a.asc,1,i(sb,"on",i(a.activeCharKey,G.charKey,_n.passive1.stam))),VB=n(a.asc,1,i(sb,"on",_n.passive1.stam)),[JB,ob]=h(Gd,"c2"),QB=n(a.constellation,2,i(ob,"on",i(a.activeCharKey,G.charKey,_n.constellation2.hydro_dmg_))),XB=n(a.constellation,2,i(ob,"on",_n.constellation2.hydro_dmg_)),Ui={normal:Object.fromEntries(_n.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",_n.charged.dmg,"charged")},plunging:E("atk",_n.plunging),skill:{regen:cl("hp",_n.skill.regen_hp_,_n.skill.regen_hp,"skill"),cregen:cl("hp",_n.skill.cregen_hp_,_n.skill.cregen_hp,"skill"),dmg:o("atk",_n.skill.dmg,"skill")},burst:{regen:cl("hp",_n.burst.hp_,_n.burst.hp,"burst")}},YB=B(Gd,s0,"mondstadt",rh,Ui,{premod:{skillBoost:i0,burstBoost:o0},teamBuff:{premod:{staminaDec_:qB,hydro_dmg_:QB}}}),ZB={key:Gd,name:ia.name,rarity:rh.rarity,elementKey:s0,weaponTypeKey:rh.weaponType,gender:"F",constellationName:ia.chg("constellationName"),title:ia.chg("title"),talent:{auto:ia.talentTem("auto",[{text:ia.chg("auto.fields.normal")},{fields:_n.normal.hitArr.map((t,l)=>({node:e(Ui.normal[l],{name:ia.chg(`auto.skillParams.${l}`)})}))},{text:ia.chg("auto.fields.charged")},{fields:[{node:e(Ui.charged.dmg,{name:ia.chg("auto.skillParams.4")})},{text:ia.chg("auto.skillParams.5"),value:_n.charged.stamina}]},{text:ia.chg("auto.fields.plunging")},{fields:[{node:e(Ui.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ui.plunging.low,{name:s("plunging.low")})},{node:e(Ui.plunging.high,{name:s("plunging.high")})}]}]),skill:ia.talentTem("skill",[{fields:[{node:e(Ui.skill.regen,{name:ia.chg("skill.skillParams.0")})},{node:e(Ui.skill.cregen,{name:ia.chg("skill.skillParams.1")})},{node:e(Ui.skill.dmg,{name:ia.chg("skill.skillParams.2")})},{text:ia.chg("skill.skillParams.3"),value:_n.skill.duration,unit:"s"},{text:ia.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=2?`${_n.skill.cd}s - ${_n.constellation2.cdDec*100}%`:`${_n.skill.cd}s`}]}]),burst:ia.talentTem("burst",[{fields:[{node:e(Ui.burst.regen,{name:ia.chg("burst.skillParams.0")})},{text:ia.chg("burst.skillParams.1"),value:_n.burst.cd},{text:ia.chg("burst.skillParams.2"),value:_n.burst.enerCost}]}]),passive1:ia.talentTem("passive1",[ia.condTem("passive1",{teamBuff:!0,value:sb,path:LB,name:ia.ch("passive1.cond"),states:{on:{fields:[{node:e(VB,y.info("staminaDec_"))}]}}})]),passive2:ia.talentTem("passive2"),passive3:ia.talentTem("passive3"),constellation1:ia.talentTem("constellation1"),constellation2:ia.talentTem("constellation2",[ia.condTem("constellation2",{teamBuff:!0,value:ob,path:JB,name:ia.ch("constellation2.cond"),states:{on:{fields:[{node:e(XB,y.info("hydro_dmg_"))}]}}})]),constellation3:ia.talentTem("constellation3",[{fields:[{node:o0}]}]),constellation4:ia.talentTem("constellation4"),constellation5:ia.talentTem("constellation5",[{fields:[{node:i0}]}]),constellation6:ia.talentTem("constellation6")}},tI=new R(ZB,YB),zd="Beidou",ib="electro",dh=_.char.data[zd],Ha=_.char.skillParam[zd],Rt=A(zd,dh.weaponType);let ao=0,Qm=0,im=0;const Bl={normal:{hitArr:[Ha.auto[ao++],Ha.auto[ao++],Ha.auto[ao++],Ha.auto[ao++],Ha.auto[ao++]]},charged:{spinningDmg:Ha.auto[ao++],finalDmg:Ha.auto[ao++],stamina:Ha.auto[ao++][0],duration:Ha.auto[ao++][0]},plunging:{dmg:Ha.auto[ao++],low:Ha.auto[ao++],high:Ha.auto[ao++]},skill:{shieldHp_:Ha.skill[Qm++],shieldFlat:Ha.skill[Qm++],dmgBase:Ha.skill[Qm++],onHitDmgBonus:Ha.skill[Qm++],cd:Ha.skill[Qm++][0]},burst:{burstDmg:Ha.burst[im++],lightningDmg:Ha.burst[im++],damageReduction:Ha.burst[im++],duration:Ha.burst[im++][0],cd:Ha.burst[im++][0],energyCost:Ha.burst[im++][0]},ascension4:{normalDmg_:Ha.passive2[0][0],chargeDmg_:Ha.passive2[0][0],attackSpeed:Ha.passive2[0][0]},constellation1:{shieldHp_:Ha.constellation1[0]},constellation4:{skillDmg:Ha.constellation4[0],duration:Ha.constellation4[1]},constellation6:{electroResShred_:-1*Ha.constellation6[0]}},[eI,mh]=h(zd,"burst"),[aI,Ep]=h(zd,"Ascension4"),c0=n(a.constellation,3,3),r0=n(a.constellation,5,3),lI=Bl.skill.dmgBase.map((t,l)=>t+Bl.skill.onHitDmgBonus[l]),nI=Bl.skill.dmgBase.map((t,l)=>t+2*Bl.skill.onHitDmgBonus[l]),d0=i(mh,"on",$(a.total.burstIndex,Bl.burst.damageReduction)),m0=n(a.constellation,6,i(mh,"on",c(Bl.constellation6.electroResShred_))),u0=n(a.asc,4,i(Ep,"on",c(Bl.ascension4.normalDmg_))),g0=n(a.asc,4,i(Ep,"on",c(Bl.ascension4.chargeDmg_))),h0=n(a.asc,4,i(Ep,"on",c(Bl.ascension4.attackSpeed))),d_=Sn("hp",Bl.skill.shieldHp_,Bl.skill.shieldFlat,"skill"),m_=Mu("hp",c(Bl.constellation1.shieldHp_),0),Zn={normal:Object.fromEntries(Bl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Bl.charged.spinningDmg,"charged"),finalDmg:o("atk",Bl.charged.finalDmg,"charged")},plunging:E("atk",Bl.plunging),skill:{shield:d_,electroShield:tn("electro",d_),baseDmg:o("atk",Bl.skill.dmgBase,"skill"),dmgOneHit:o("atk",lI,"skill"),dmgTwoHits:o("atk",nI,"skill")},burst:{burstDmg:o("atk",Bl.burst.burstDmg,"burst"),lightningDmg:o("atk",Bl.burst.lightningDmg,"burst")},constellation1:{shield:n(a.constellation,1,m_),electroShield:n(a.constellation,1,tn("electro",m_))},constellation4:{skillDmg:n(a.constellation,4,N(m(a.total.atk,c(Bl.constellation4.skillDmg)),"elemental",{hit:{ele:p(ib)}}))}},sI=B(zd,ib,"liyue",dh,Zn,{premod:{skillBoost:c0,burstBoost:r0,normal_dmg_:u0,charged_dmg_:g0,atkSPD_:h0},teamBuff:{premod:{electro_enemyRes_:m0,dmgRed_:e(d0,y.info("dmgRed_"))}}}),oI={key:zd,name:Rt.name,rarity:dh.rarity,elementKey:ib,weaponTypeKey:dh.weaponType,gender:"F",constellationName:Rt.chg("constellationName"),title:Rt.chg("title"),talent:{auto:Rt.talentTem("auto",[{text:Rt.chg("auto.fields.normal")},{fields:Bl.normal.hitArr.map((t,l)=>({node:e(Zn.normal[l],{name:Rt.chg(`auto.skillParams.${l}`)})}))},{text:Rt.chg("auto.fields.charged")},{fields:[{node:e(Zn.charged.spinningDmg,{name:Rt.chg("auto.skillParams.5")})},{node:e(Zn.charged.finalDmg,{name:Rt.chg("auto.skillParams.6")})},{text:Rt.chg("auto.skillParams.7"),value:Bl.charged.stamina,unit:"/s"},{text:Rt.chg("auto.skillParams.8"),value:Bl.charged.duration,unit:"s"}]},{text:Rt.chg("auto.fields.plunging")},{fields:[{node:e(Zn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Zn.plunging.low,{name:s("plunging.low")})},{node:e(Zn.plunging.high,{name:s("plunging.high")})}]}]),skill:Rt.talentTem("skill",[{fields:[{node:e(Zn.skill.shield,{name:d("dmgAbsorption.none")})},{node:e(Zn.skill.electroShield,{name:d("dmgAbsorption.electro")})},{node:e(Zn.skill.baseDmg,{name:Rt.chg("skill.skillParams.1")})},{node:e(Zn.skill.dmgOneHit,{name:Rt.ch("skillOneHit")})},{node:e(Zn.skill.dmgTwoHits,{name:Rt.ch("skillTwoHit")})},{text:Rt.chg("skill.skillParams.3"),value:Bl.skill.cd,unit:"s"}]},Rt.condTem("passive2",{teamBuff:!1,value:Ep,path:aI,name:Rt.ch("tidecallerMaxDmg"),states:{on:{fields:[{node:u0},{node:g0},{node:h0},{text:s("duration"),value:10,unit:"s"},{text:Rt.ch("a4charge")}]}}})]),burst:Rt.talentTem("burst",[{fields:[{node:e(Zn.burst.burstDmg,{name:Rt.chg("burst.skillParams.0")})},{node:e(Zn.burst.lightningDmg,{name:Rt.chg("burst.skillParams.1")})},{text:Rt.chg("burst.skillParams.3"),value:Bl.burst.duration,unit:"s"},{text:Rt.chg("burst.skillParams.4"),value:Bl.burst.cd,unit:"s"},{text:Rt.chg("burst.skillParams.5"),value:Bl.burst.energyCost}]},Rt.condTem("burst",{teamBuff:!0,value:mh,path:eI,name:Rt.ch("duringBurst"),states:{on:{fields:[{node:d0}]}}}),Rt.headerTem("constellation6",{teamBuff:!0,canShow:i(mh,"on",1),fields:[{node:m0}]})]),passive1:Rt.talentTem("passive1"),passive2:Rt.talentTem("passive2"),passive3:Rt.talentTem("passive3"),constellation1:Rt.talentTem("constellation1",[Rt.fieldsTem("constellation1",{fields:[{node:e(Zn.constellation1.shield,{name:d("dmgAbsorption.none")})},{node:e(Zn.constellation1.electroShield,{name:d("dmgAbsorption.electro")})}]})]),constellation2:Rt.talentTem("constellation2"),constellation3:Rt.talentTem("constellation3",[{fields:[{node:c0}]}]),constellation4:Rt.talentTem("constellation4",[Rt.fieldsTem("constellation4",{fields:[{node:e(Zn.constellation4.skillDmg,{name:Rt.ch("c4dmg")})}]})]),constellation5:Rt.talentTem("constellation5",[{fields:[{node:r0}]}]),constellation6:Rt.talentTem("constellation6")}},iI=new R(oI,sI),Wd="Bennett",cb="pyro",uh=_.char.data[Wd],pa=_.char.skillParam[Wd],rt=A(Wd,uh.weaponType);let Io=0,hc=0,Zr=0;const Ta={normal:{hitArr:[pa.auto[Io++],pa.auto[Io++],pa.auto[Io++],pa.auto[Io++],pa.auto[Io++]]},charged:{dmg1:pa.auto[Io++],dmg2:pa.auto[Io++],stamina:pa.auto[Io++][0]},plunging:{dmg:pa.auto[Io++],low:pa.auto[Io++],high:pa.auto[Io++]},skill:{press:pa.skill[hc++],hold1_1:pa.skill[hc++],hold1_2:pa.skill[hc++],hold2_1:pa.skill[hc++],hold2_2:pa.skill[hc++],explosion:pa.skill[hc++],cd_press:pa.skill[hc++][0],cd_hold1:pa.skill[hc++][0],cd_hold2:pa.skill[hc++][0]},burst:{dmg:pa.burst[Zr++],regen_:pa.burst[Zr++],regenFlat:pa.burst[Zr++],atkBonus:pa.burst[Zr++],duration:pa.burst[Zr++][0],cd:pa.burst[Zr++][0],enerCost:pa.burst[Zr++][0]},passive1:{cd_red:.2},passive2:{cd_red:.5},constellation1:{atk_inc:pa.constellation1[0]},constellation2:{hp_thresh:pa.constellation2[0],er_inc:pa.constellation2[1]},constellation4:{dmg:pa.constellation4[0]},constellation6:{pyro_dmg:pa.constellation6[0]}},cI=$(a.total.burstIndex,Ta.burst.atkBonus,{unit:"%"}),rI=n(a.constellation,1,c(Ta.constellation1.atk_inc)),dI=m(P(cI,rI),a.base.atk),[mI,xu]=h(Wd,"activeInArea"),Kp=i("activeInArea",xu,i(a.activeCharKey,G.charKey,1)),p0=e(dI,{...y.info("atk")}),k0=i(Kp,1,p0),uI=n(a.asc,1,Ta.passive1.cd_red),f0=n(a.asc,4,i(Kp,1,Ta.passive2.cd_red)),gI=n(a.constellation,6,w(G.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0))),hI=i(Kp,1,n(a.constellation,6,Ta.constellation6.pyro_dmg)),pI=dn(gI,1,dn(Kp,1,cb)),[kI,b0]=h(Wd,"underHP"),v0=n(a.constellation,2,i("underHP",b0,Ta.constellation2.er_inc)),cs={normal:Object.fromEntries(Ta.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ta.charged.dmg1,"charged"),dmg2:o("atk",Ta.charged.dmg2,"charged")},plunging:E("atk",Ta.plunging),skill:{press:o("atk",Ta.skill.press,"skill"),hold1_1:o("atk",Ta.skill.hold1_1,"skill"),hold1_2:o("atk",Ta.skill.hold1_2,"skill"),hold2_1:o("atk",Ta.skill.hold2_1,"skill"),hold2_2:o("atk",Ta.skill.hold2_2,"skill"),explosion:o("atk",Ta.skill.explosion,"skill")},burst:{dmg:o("atk",Ta.burst.dmg,"burst"),regen:cl("hp",Ta.burst.regen_,Ta.burst.regenFlat,"burst"),atkInc:k0},constellation4:{dmg:n(a.constellation,4,m(o("atk",Ta.skill.hold1_2,"skill"),Ta.constellation4.dmg))}},_0=n(a.constellation,3,3),y0=n(a.constellation,5,3),fI=B(Wd,cb,"mondstadt",uh,cs,{teamBuff:{premod:{pyro_dmg_:hI},total:{atk:k0},infusion:{team:pI}},premod:{skillBoost:_0,burstBoost:y0,enerRech_:v0}}),bI={key:Wd,name:rt.name,rarity:uh.rarity,elementKey:cb,weaponTypeKey:uh.weaponType,gender:"M",constellationName:rt.chg("constellationName"),title:rt.chg("title"),talent:{auto:rt.talentTem("auto",[{text:rt.chg("auto.fields.normal")},{fields:Ta.normal.hitArr.map((t,l)=>({node:e(cs.normal[l],{name:rt.chg(`auto.skillParams.${l}`)})}))},{text:rt.chg("auto.fields.charged")},{fields:[{node:e(cs.charged.dmg1,{name:rt.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(cs.charged.dmg2,{name:rt.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:rt.chg("auto.skillParams.6"),value:Ta.charged.stamina}]},{text:rt.chg("auto.fields.plunging")},{fields:[{node:e(cs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(cs.plunging.low,{name:s("plunging.low")})},{node:e(cs.plunging.high,{name:s("plunging.high")})}]}]),skill:rt.talentTem("skill",[{fields:[{node:e(cs.skill.press,{name:rt.chg("skill.skillParams.0")})},{text:s("press.cd"),unit:"s",value:t=>ek(t,Ta.skill.cd_press)},{node:e(cs.skill.hold1_1,{name:rt.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:e(cs.skill.hold1_2,{name:rt.chg("skill.skillParams.1"),textSuffix:"(2)"})},{text:rt.ch("skill.lvl1CD"),unit:"s",value:t=>ek(t,Ta.skill.cd_hold1)},{node:e(cs.skill.hold2_1,{name:rt.chg("skill.skillParams.2"),textSuffix:"(1)"})},{node:e(cs.skill.hold2_2,{name:rt.chg("skill.skillParams.2"),textSuffix:"(2)"})},{node:e(cs.skill.explosion,{name:rt.chg("skill.skillParams.3")})},{text:rt.ch("skill.lvl2CD"),unit:"s",value:t=>ek(t,Ta.skill.cd_hold2)}]},rt.headerTem("passive1",{fields:[{node:e(uI,y.info("skillCDRed_"))}]})]),burst:rt.talentTem("burst",[{fields:[{node:e(cs.burst.dmg,{name:rt.chg("burst.skillParams.0")})},{node:e(cs.burst.regen,{name:rt.chg("burst.skillParams.1")})},{text:rt.chg("burst.skillParams.3"),value:Ta.burst.duration,unit:"s"},{text:rt.chg("burst.skillParams.4"),value:Ta.burst.cd,unit:"s"},{text:rt.chg("burst.skillParams.5"),value:Ta.burst.enerCost}]},rt.condTem("burst",{value:xu,path:mI,name:d("activeCharField"),teamBuff:!0,states:{activeInArea:{fields:[{node:p0}]}}}),rt.headerTem("passive2",{fields:[{node:e(f0,y.info("skillCDRed_"))}],canShow:i(xu,"activeInArea",1)}),rt.headerTem("constellation1",{fields:[{text:d("bonusScaling.atkInc"),value:d("bonusScaling.value",{value:Ta.constellation1.atk_inc*100}),unit:s("stat.base.atk")}],canShow:i(xu,"activeInArea",1)}),rt.headerTem("constellation6",{fields:[{node:p(Ta.constellation6.pyro_dmg,y.info("pyro_dmg_"))},{text:rt.ch("c6PyroInfusion")}],canShow:i(xu,"activeInArea",1),teamBuff:!0})]),passive1:rt.talentTem("passive1"),passive2:rt.talentTem("passive2"),passive3:rt.talentTem("passive3"),constellation1:rt.talentTem("constellation1"),constellation2:rt.talentTem("constellation2",[rt.condTem("constellation2",{value:b0,path:kI,name:d("lessPercentHP",{percent:Ta.constellation2.hp_thresh*100}),states:{underHP:{fields:[{node:v0}]}}})]),constellation3:rt.talentTem("constellation3",[{fields:[{node:_0}]}]),constellation4:rt.talentTem("constellation4",[rt.fieldsTem("constellation4",{fields:[{node:e(cs.constellation4.dmg,{name:rt.ch("c4DMG")})}]})]),constellation5:rt.talentTem("constellation5",[{fields:[{node:y0}]}]),constellation6:rt.talentTem("constellation6")}},vI=new R(bI,fI);function ek(t,l){let r=1,u=l+"s";return t.get(a.asc).value>=1&&(r=.8),r*=1-t.get(f0).value,r!==1&&(u+=" - "+(100-r*100)+"% = "+l*r),u}const Cr="Candace",T0="hydro",gh=_.char.data[Cr],Xa=_.char.skillParam[Cr],Me=A(Cr,gh.weaponType);let Pi=0,cm=0,td=0;const Ua={normal:{hitArr:[Xa.auto[Pi++],Xa.auto[Pi++],Xa.auto[Pi++],Xa.auto[Pi++],Xa.auto[Pi++]]},charged:{dmg:Xa.auto[Pi++],stamina:Xa.auto[Pi++][0]},plunging:{dmg:Xa.auto[Pi++],low:Xa.auto[Pi++],high:Xa.auto[Pi++]},skill:{shield_hp_:Xa.skill[cm++],shield_base:Xa.skill[cm++],basic_dmg:Xa.skill[cm++],charged_dmg:Xa.skill[cm++],pressCd:Xa.skill[cm++][0],holdCd:Xa.skill[cm++][0]},burst:{skill_dmg:Xa.burst[td++],duration:Xa.burst[td++][0],dmg_bonus_:Xa.burst[td++][0],wave_dmg:Xa.burst[td++],num_waves:Xa.burst[td++][0],cd:Xa.burst[td++][0],cost:Xa.burst[td++][0]},passive2:{normalEle_dmg_:Xa.passive2[0][0]},constellation1:{durationInc:Xa.constellation1[0]},constellation2:{hp_:Xa.constellation2[0],duration:Xa.constellation2[1]},constellation6:{dmg:Xa.constellation6[0],cd:Xa.constellation6[1]}},[_I,Rm]=h(Cr,"afterBurst"),$0=i(Rm,"on",c(Ua.burst.dmg_bonus_),y.info("normalEle_dmg_")),yI=dn(Rm,"on",w(G.weaponType,{sword:p("hydro"),claymore:p("hydro"),polearm:p("hydro")},p(""))),rb=e(n(a.asc,4,i(Rm,"on",m(c(Ua.passive2.normalEle_dmg_),a.total.hp,1/1e3))),y.info("normalEle_dmg_")),[u_,Wk]=h(Cr,"c2AfterSkillHit"),Uk=n(a.constellation,2,i(Wk,"on",c(Ua.constellation2.hp_))),Fs={normal:Object.fromEntries(Ua.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Ua.charged.dmg,"charged")},plunging:E("atk",Ua.plunging),skill:{shield:Sn("hp",Ua.skill.shield_hp_,Ua.skill.shield_base,"skill"),hydroShield:tn("hydro",Sn("hp",Ua.skill.shield_hp_,Ua.skill.shield_base,"skill")),basicDmg:o("hp",Ua.skill.basic_dmg,"skill"),chargedDmg:o("hp",Ua.skill.charged_dmg,"skill")},burst:{skillDmg:o("hp",Ua.burst.skill_dmg,"burst"),waveDmg:o("hp",Ua.burst.wave_dmg,"burst")},passive2:{normalEle_dmg_:rb},constellation6:{dmg:n(a.constellation,6,N(m(c(Ua.constellation6.dmg),a.total.hp),"burst"))}},x0=n(a.constellation,3,3),P0=n(a.constellation,5,3),TI=B(Cr,T0,"sumeru",gh,Fs,{premod:{burstBoost:x0,skillBoost:P0,hp_:Uk},teamBuff:{premod:{normalEle_dmg_:P($0,rb)},infusion:{team:yI}}}),$I={key:Cr,name:Me.name,rarity:gh.rarity,elementKey:T0,weaponTypeKey:gh.weaponType,gender:"F",constellationName:Me.chg("constellationName"),title:Me.chg("title"),talent:{auto:Me.talentTem("auto",[{text:Me.chg("auto.fields.normal")},{fields:Ua.normal.hitArr.map((t,l)=>({node:e(Fs.normal[l],{name:Me.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:Me.chg("auto.fields.charged")},{fields:[{node:e(Fs.charged.dmg,{name:Me.chg("auto.skillParams.4")})},{text:Me.chg("auto.skillParams.5"),value:Ua.charged.stamina}]},{text:Me.chg("auto.fields.plunging")},{fields:[{node:e(Fs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Fs.plunging.low,{name:s("plunging.low")})},{node:e(Fs.plunging.high,{name:s("plunging.high")})}]}]),skill:Me.talentTem("skill",[{fields:[{node:e(Fs.skill.shield,{name:Me.chg("skill.skillParams.0")})},{node:e(Fs.skill.hydroShield,{name:d("dmgAbsorption.hydro")})},{node:e(Fs.skill.basicDmg,{name:Me.chg("skill.skillParams.1")})},{node:e(Fs.skill.chargedDmg,{name:Me.chg("skill.skillParams.2")})},{text:Me.chg("skill.skillParams.3"),value:Ua.skill.pressCd,unit:"s"},{text:Me.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=4?Ua.skill.pressCd:Ua.skill.holdCd,unit:"s"}]},Me.condTem("constellation2",{path:u_,value:Wk,name:d("hitOp.skill"),states:{on:{fields:[{node:Uk},{text:s("duration"),value:Ua.constellation2.duration,unit:"s"}]}}})]),burst:Me.talentTem("burst",[{fields:[{node:e(Fs.burst.skillDmg,{name:Me.chg("burst.skillParams.0")})},{node:e(Fs.burst.waveDmg,{name:Me.chg("burst.skillParams.3")})},{text:Me.chg("burst.skillParams.4"),value:Ua.burst.num_waves},{text:s("cd"),value:Ua.burst.cd,unit:"s"},{text:s("energyCost"),value:Ua.burst.cost}]},Me.condTem("burst",{path:_I,value:Rm,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:$0},{text:Me.ch("hydroInfusion")},{text:s("duration"),value:t=>t.get(a.constellation).value>=1?`${Ua.burst.duration}s + ${Ua.constellation1.durationInc}s = ${Ua.burst.duration+Ua.constellation1.durationInc}`:Ua.burst.duration,unit:"s"}]}}}),Me.headerTem("passive2",{teamBuff:!0,canShow:i(Rm,"on",1),fields:[{node:rb}]}),Me.headerTem("constellation6",{fields:[{node:e(Fs.constellation6.dmg,{name:Me.chg("burst.skillParams.3")})}]}),Me.condTem("constellation2",{path:u_,value:Wk,name:d("hitOp.skill"),teamBuff:!0,canShow:j(a.activeCharKey,Cr,n(a.asc,4,i(Rm,"on",1))),states:{on:{fields:[{node:Uk},{text:s("duration"),value:Ua.constellation2.duration,unit:"s"}]}}})]),passive1:Me.talentTem("passive1"),passive2:Me.talentTem("passive2"),passive3:Me.talentTem("passive3"),constellation1:Me.talentTem("constellation1"),constellation2:Me.talentTem("constellation2"),constellation3:Me.talentTem("constellation3",[{fields:[{node:x0}]}]),constellation4:Me.talentTem("constellation4"),constellation5:Me.talentTem("constellation5",[{fields:[{node:P0}]}]),constellation6:Me.talentTem("constellation6")}},xI=new R($I,TI),Ud="Charlotte",$d=_.char.data[Ud],V=_.char.skillParam[Ud],dt=A(Ud,$d.weaponType);let er=0,Di=0,pc=0;const Be={normal:{hitArr:[V.auto[er++],V.auto[er++],V.auto[er++]]},charged:{dmg:V.auto[er++],stam:V.auto[er++][0],thornDmg:V.auto[8],thornInterval:V.auto[9][0]},plunging:{dmg:V.auto[er++],low:V.auto[er++],high:V.auto[er++]},skill:{photoPressDmg:V.skill[Di++],photoHoldDmg:V.skill[Di++],snapMarkDmg:V.skill[Di++],snapMarkInterval:V.skill[Di++][0],snapMarkDuration:V.skill[Di++][0],focusMarkDmg:V.skill[Di++],focusMarkInterval:V.skill[Di++][0],focusMarkDuration:V.skill[Di++][0],cd:V.skill[Di++][0],finisherCd:V.skill[Di++][0]},burst:{castHealBase:V.burst[pc++],castHealFlat:V.burst[pc++],skillDmg:V.burst[pc++],kameraHealBase:V.burst[pc++],kameraHealFlat:V.burst[pc++],kameraDmg:V.burst[pc++],duration:V.burst[pc++][0],cd:V.burst[pc++][0],enerCost:V.burst[pc++][0]},passive1:{cdReduction:V.passive1[0][0],triggers:V.passive1[1][0],cd:V.passive1[2][0]},passive2:{heal_:V.passive2[0][0],cryo_dmg_:V.passive2[1][0]},constellation1:{healInterval:V.constellation1[0],heal:V.constellation1[1],duration:V.constellation1[2]},constellation2:{atk1:V.constellation2[0],atk2:V.constellation2[1],atk3:V.constellation2[2],duration:V.constellation2[3]},constellation4:{dmg_:V.constellation4[0],energyRegen:V.constellation4[1],cd:V.constellation4[2],triggers:V.constellation4[3]},constellation6:{dmg:V.constellation6[0],heal:V.constellation6[1],cd:V.constellation6[2]}},D0=e(P(mn.fontaine,-1),{asConst:!0}),C0=n(a.asc,4,m(D0,c(Be.passive2.heal_))),S0=e(P(...Object.entries(mn).filter(([t])=>F1.includes(t)&&t!=="fontaine").map(([t,l])=>l)),{asConst:!0}),w0=n(a.asc,4,m(S0,c(Be.passive2.cryo_dmg_))),A0=At(1,3),[PI,B0]=h(Ud,"c2Hit"),I0=n(a.constellation,2,w(B0,C(A0,t=>c(Be.constellation2[`atk${t}`])),O)),[DI,R0]=h(Ud,"c4Marked"),M0=n(a.constellation,4,i(R0,"on",Be.constellation4.dmg_)),Un={normal:{...Object.fromEntries(Be.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Be.charged.dmg,"charged"),thornDmg:o("atk",Be.charged.thornDmg,"normal")},plunging:E("atk",Be.plunging),skill:{photoPressDmg:o("atk",Be.skill.photoPressDmg,"skill"),photoHoldDmg:o("atk",Be.skill.photoHoldDmg,"skill"),snapMarkDmg:o("atk",Be.skill.snapMarkDmg,"skill"),focusMarkDmg:o("atk",Be.skill.focusMarkDmg,"skill")},burst:{castHeal:cl("atk",Be.burst.castHealBase,Be.burst.castHealFlat,"burst"),skillDmg:o("atk",Be.burst.skillDmg,"burst"),kameraHeal:cl("atk",Be.burst.kameraHealBase,Be.burst.kameraHealFlat,"burst"),kameraDmg:o("atk",Be.burst.kameraDmg,"burst")},constellation1:{heal:n(a.constellation,1,Wn("atk",Be.constellation1.heal,0))},constellation6:{dmg:n(a.constellation,6,N(m(c(Be.constellation6.dmg),a.total.atk),"burst",{hit:{ele:p("cryo")}})),heal:n(a.constellation,6,Wn("atk",c(Be.constellation6.heal),0))}},H0=n(a.constellation,3,3),E0=n(a.constellation,5,3),CI=B(Ud,$d.ele,$d.region,$d,Un,{premod:{skillBoost:E0,burstBoost:H0,heal_:C0,cryo_dmg_:w0,atk_:I0,burst_dmg_:M0}}),SI={key:Ud,name:dt.name,rarity:$d.rarity,elementKey:$d.ele,weaponTypeKey:$d.weaponType,gender:"F",constellationName:dt.chg("constellationName"),title:dt.chg("title"),talent:{auto:dt.talentTem("auto",[{text:dt.chg("auto.fields.normal")},{fields:Be.normal.hitArr.map((t,l)=>({node:e(Un.normal[l],{name:dt.chg(`auto.skillParams.${l}`)})}))},{text:dt.chg("auto.fields.charged")},{fields:[{node:e(Un.charged.dmg,{name:dt.chg("auto.skillParams.3")})},{text:dt.chg("auto.skillParams.4"),value:Be.charged.stam}]},{text:dt.chg("auto.fields.plunging")},{fields:[{node:e(Un.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Un.plunging.low,{name:s("plunging.low")})},{node:e(Un.plunging.high,{name:s("plunging.high")})}]},{text:dt.chg("auto.fields.arkhe")},{fields:[{node:e(Un.charged.thornDmg,{name:dt.chg("auto.skillParams.7")})},{text:dt.chg("auto.skillParams.8"),value:Be.charged.thornInterval,unit:"s"}]}]),skill:dt.talentTem("skill",[{fields:[{node:e(Un.skill.photoPressDmg,{name:dt.chg("skill.skillParams.0")})},{node:e(Un.skill.photoHoldDmg,{name:dt.chg("skill.skillParams.1")})},{node:e(Un.skill.snapMarkDmg,{name:dt.chg("skill.skillParams.2")})},{text:dt.chg("skill.skillParams.3"),value:Be.skill.snapMarkInterval,unit:"s",fixed:1},{text:dt.chg("skill.skillParams.4"),value:Be.skill.snapMarkDuration,unit:"s"},{node:e(Un.skill.focusMarkDmg,{name:dt.chg("skill.skillParams.5")})},{text:dt.chg("skill.skillParams.6"),value:Be.skill.focusMarkInterval,unit:"s",fixed:1},{text:dt.chg("skill.skillParams.7"),value:Be.skill.focusMarkDuration,unit:"s"},{text:s("cd"),value:Be.skill.cd,unit:"s"},{text:dt.chg("skill.skillParams.9"),value:Be.skill.finisherCd,unit:"s"}]},dt.condTem("constellation2",{value:B0,path:PI,name:dt.ch("c2Cond"),states:C(A0,t=>({name:d("opponents",{count:t}),fields:[{node:I0},{text:s("duration"),value:Be.constellation2.duration,unit:"s"}]}))}),dt.condTem("constellation4",{value:R0,path:DI,name:dt.ch("c4Cond"),states:{on:{fields:[{node:M0}]}}})]),burst:dt.talentTem("burst",[{fields:[{node:e(Un.burst.castHeal,{name:dt.chg("burst.skillParams.0")})},{node:e(Un.burst.skillDmg,{name:dt.chg("burst.skillParams.1")})},{node:e(Un.burst.kameraHeal,{name:dt.chg("burst.skillParams.2")})},{node:e(Un.burst.kameraDmg,{name:dt.chg("burst.skillParams.3")})},{text:dt.chg("burst.skillParams.4"),value:Be.burst.duration,unit:"s"},{text:s("cd"),value:Be.burst.cd,unit:"s"},{text:s("energyCost"),value:Be.burst.enerCost}]},dt.headerTem("constellation1",{fields:[{node:e(Un.constellation1.heal,{name:s("healing")})},{text:d("interval"),value:Be.constellation1.healInterval,unit:"s"},{text:s("duration"),value:Be.constellation1.duration,unit:"s"}]})]),passive1:dt.talentTem("passive1"),passive2:dt.talentTem("passive2",[{fields:[{canShow:t=>t.get(D0).value>0,node:C0},{canShow:t=>t.get(S0).value>0,node:w0}]}]),passive3:dt.talentTem("passive3"),constellation1:dt.talentTem("constellation1"),constellation2:dt.talentTem("constellation2"),constellation3:dt.talentTem("constellation3",[{fields:[{node:H0}]}]),constellation4:dt.talentTem("constellation4"),constellation5:dt.talentTem("constellation5",[{fields:[{node:E0}]}]),constellation6:dt.talentTem("constellation6",[dt.fieldsTem("constellation6",{fields:[{node:e(Un.constellation6.dmg,{name:d("dmg")})},{node:e(Un.constellation6.heal,{name:s("healing")})},{text:s("cd"),value:Be.constellation6.cd,unit:"s"}]})])}},wI=new R(SI,CI),Ir="Chevreuse",xd=_.char.data[Ir],_e=_.char.skillParam[Ir],Vt=A(Ir,xd.weaponType);let Ci=0,kc=0,og=0;const sl={normal:{hitArr:[_e.auto[Ci++],_e.auto[Ci++],_e.auto[Ci++],_e.auto[Ci++],_e.auto[Ci++]]},charged:{dmg:_e.auto[Ci++],stam:_e.auto[Ci++][0]},plunging:{dmg:_e.auto[Ci++],low:_e.auto[Ci++],high:_e.auto[Ci++]},skill:{pressDmg:_e.skill[kc++],holdDmg:_e.skill[kc++],ballDmg:_e.skill[kc++],duration:_e.skill[kc++][0],healBase:_e.skill[kc++],healFlat:_e.skill[kc++],bladeDmg:_e.skill[kc++],bladeInterval:_e.skill[kc++][0],cd:_e.skill[kc++][0]},burst:{grenadeDmg:_e.burst[og++],shellDmg:_e.burst[og++],cd:_e.burst[og++][0],enerCost:_e.burst[og++][0]},passive1:{pyroElectro_enemyRes_:_e.passive1[0][0],duration:_e.passive1[1][0]},passive2:{atk_:_e.passive2[0][0],duration:_e.passive2[1][0],max_atk_:_e.passive2[2][0]},constellation1:{energyRegen:_e.constellation1[0],cd:_e.constellation1[1]},constellation2:{dmg:_e.constellation2[0],cd:_e.constellation2[1]},constellation6:{triggerLength:_e.constellation6[0],heal:_e.constellation6[1],pyroElectro_dmg_:_e.constellation6[2],duration:_e.constellation6[3],maxStacks:_e.constellation6[4]}},Lk=n(mn.electro,1,i(mn.ele,2,1)),[AI,K0]=h(Ir,"a1AfterOverload"),db=n(a.asc,1,i(Lk,1,i(K0,"on",-sl.passive1.pyroElectro_enemyRes_))),N0={...db},[BI,O0]=h(Ir,"a4AfterBall"),mb=n(a.asc,4,i(O0,"on",i(P(i(G.charEle,"pyro",1),i(G.charEle,"electro",1)),1,Il(m(c(sl.passive2.atk_),e({...a.premod.hp},{pivot:!0}),1/1e3),c(sl.passive2.max_atk_))))),F0=At(1,sl.constellation6.maxStacks),[II,j0]=h(Ir,"c6AfterHealStacks"),ub=n(a.constellation,6,w(j0,C(F0,t=>c(t*sl.constellation6.pyroElectro_dmg_)),O)),G0={...ub},bs={normal:{...Object.fromEntries(sl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",sl.charged.dmg,"charged")},plunging:E("atk",sl.plunging),skill:{pressDmg:o("atk",sl.skill.pressDmg,"skill"),holdDmg:o("atk",sl.skill.holdDmg,"skill"),ballDmg:o("atk",sl.skill.ballDmg,"skill"),heal:cl("hp",sl.skill.healBase,sl.skill.healFlat,"skill"),bladeDmg:o("atk",sl.skill.bladeDmg,"skill")},burst:{grenadeDmg:o("atk",sl.burst.grenadeDmg,"burst"),shellDmg:o("atk",sl.burst.shellDmg,"burst")},passive2:{a4AfterBall_atk_:mb},constellation2:{dmg:n(a.constellation,2,N(m(c(sl.constellation2.dmg),a.total.atk),"skill",{hit:{ele:p("pyro")}}))},constellation6:{heal:n(a.constellation,6,Wn("hp",sl.constellation6.heal,0))}},z0=n(a.constellation,3,3),W0=n(a.constellation,5,3),RI=B(Ir,xd.ele,xd.region,xd,bs,{premod:{skillBoost:z0,burstBoost:W0},teamBuff:{premod:{pyro_enemyRes_:db,electro_enemyRes_:N0,pyro_dmg_:ub,electro_dmg_:G0,atk_:mb}}}),MI={key:Ir,name:Vt.name,rarity:xd.rarity,elementKey:xd.ele,weaponTypeKey:xd.weaponType,gender:"F",constellationName:Vt.chg("constellationName"),title:Vt.chg("title"),talent:{auto:Vt.talentTem("auto",[{text:Vt.chg("auto.fields.normal")},{fields:sl.normal.hitArr.map((t,l)=>({node:e(bs.normal[l],{name:Vt.chg(`auto.skillParams.${l>2?l-1:l}`),textSuffix:l===2||l===3?`(${l-1})`:void 0})}))},{text:Vt.chg("auto.fields.charged")},{fields:[{node:e(bs.charged.dmg,{name:Vt.chg("auto.skillParams.4")})},{text:Vt.chg("auto.skillParams.5"),value:sl.charged.stam}]},{text:Vt.chg("auto.fields.plunging")},{fields:[{node:e(bs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(bs.plunging.low,{name:s("plunging.low")})},{node:e(bs.plunging.high,{name:s("plunging.high")})}]}]),skill:Vt.talentTem("skill",[{fields:[{node:e(bs.skill.pressDmg,{name:Vt.chg("skill.skillParams.0")})},{node:e(bs.skill.holdDmg,{name:Vt.chg("skill.skillParams.1")})},{node:e(bs.skill.ballDmg,{name:Vt.chg("skill.skillParams.2")})},{node:e(bs.skill.heal,{name:Vt.chg("skill.skillParams.3")})},{text:Vt.chg("skill.skillParams.4"),value:sl.skill.duration,unit:"s"},{node:e(bs.skill.bladeDmg,{name:Vt.chg("skill.skillParams.5")})},{text:Vt.chg("skill.skillParams.6"),value:sl.skill.bladeInterval,unit:"s"},{text:s("cd"),value:sl.skill.cd,unit:"s"}]},Vt.condTem("passive2",{value:O0,path:BI,teamBuff:!0,name:Vt.ch("a4CondName"),states:{on:{fields:[{node:mb},{text:s("duration"),value:sl.passive2.duration,unit:"s"}]}}}),Vt.condTem("constellation6",{value:j0,path:II,teamBuff:!0,name:Vt.ch("c6CondName"),states:C(F0,t=>({name:d("stack",{count:t}),fields:[{node:ub},{node:G0},{text:s("duration"),value:sl.constellation6.duration,unit:"s"}]}))})]),burst:Vt.talentTem("burst",[{fields:[{node:e(bs.burst.grenadeDmg,{name:Vt.chg("burst.skillParams.0")})},{node:e(bs.burst.shellDmg,{name:Vt.chg("burst.skillParams.1")})},{text:s("cd"),value:sl.burst.cd,unit:"s"},{text:s("energyCost"),value:sl.burst.enerCost}]}]),passive1:Vt.talentTem("passive1",[Vt.fieldsTem("passive1",{teamBuff:!0,canShow:j(Lk,1,1),fields:[{text:Vt.ch("notPyroElectroTeam")}]}),Vt.condTem("passive1",{value:K0,path:AI,teamBuff:!0,canShow:Lk,name:d("reactionOp.overload"),states:{on:{fields:[{node:db},{node:N0},{text:s("duration"),value:sl.passive1.duration,unit:"s"}]}}})]),passive2:Vt.talentTem("passive2"),passive3:Vt.talentTem("passive3"),constellation1:Vt.talentTem("constellation1"),constellation2:Vt.talentTem("constellation2",[Vt.fieldsTem("constellation2",{fields:[{node:e(bs.constellation2.dmg,{name:d("dmg")})},{text:s("cd"),value:sl.constellation2.cd,unit:"s"}]})]),constellation3:Vt.talentTem("constellation3",[{fields:[{node:z0}]}]),constellation4:Vt.talentTem("constellation4"),constellation5:Vt.talentTem("constellation5",[{fields:[{node:W0}]}]),constellation6:Vt.talentTem("constellation6",[Vt.fieldsTem("constellation6",{fields:[{node:e(bs.constellation6.heal,{name:s("healing")})}]})])}},HI=new R(MI,RI),Ld="Chiori",Pd=_.char.data[Ld],ie=_.char.skillParam[Ld],xa=A(Ld,Pd.weaponType);let fc=-1,ed=0,ig=0;const Cn={normal:{hitArr:[ie.auto[++fc],ie.auto[++fc],ie.auto[++fc],ie.auto[fc+=2]]},charged:{dmg:ie.auto[++fc],stam:ie.auto[fc+=2][0]},plunging:{dmg:ie.auto[++fc],low:ie.auto[++fc],high:ie.auto[++fc]},skill:{turretDmg_atk:ie.skill[ed++],turretDmg_def:ie.skill[ed++],turretDuration:ie.skill[ed++][0],turretInterval:ie.skill[ed++][0],sweepDmg_atk:ie.skill[ed++],sweepDmg_def:ie.skill[ed++],cd:ie.skill[ed++][0]},burst:{bloomDmg_atk:ie.burst[ig++],bloomDmg_def:ie.burst[ig++],cd:ie.burst[ig++][0],enerCost:ie.burst[ig++][0]},passive1:{dollDmg:ie.passive1[0][0],momentDuration:ie.passive1[1][0],dollInterval:ie.passive1[2][0],dollTriggers:ie.passive1[3][0],infusionDuration:ie.passive1[4][0]},passive2:{geo_dmg_:ie.passive2[0][0],duration:ie.passive2[1][0]},constellation1:{aoeIncrease:ie.constellation1[0]},constellation2:{interval:ie.constellation2[0],duration:ie.constellation2[1],dmg:ie.constellation2[2],dollDuration:ie.constellation2[3]},constellation4:{duration:ie.constellation4[0],dollDuration:ie.constellation4[1],maxDolls:ie.constellation4[2],cd:ie.constellation4[4]},constellation6:{cdReduction:ie.constellation6[0],auto_dmgInc_def:ie.constellation6[1]}},[EI,U0]=h(Ld,"a1Infusion"),KI=wr(a.asc,1,dn(U0,"on",p("geo"))),[NI,L0]=h(Ld,"a4Construct"),q0=n(a.asc,4,i(L0,"on",Cn.passive2.geo_dmg_)),gb=n(a.constellation,6,m(c(Cn.constellation6.auto_dmgInc_def),a.total.def));function g_(t){return Zi(["atk","def"],[Cn.skill.sweepDmg_atk,Cn.skill.sweepDmg_def],"skill",void 0,t)}function h_(t){return Zi(["atk","def"],[Cn.skill.turretDmg_atk,Cn.skill.turretDmg_def],"skill",void 0,t)}const ei={normal:{...Object.fromEntries(Cn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Cn.charged.dmg,"charged")},plunging:E("atk",Cn.plunging),skill:{turretDmg:h_(),sweepDmg:g_()},burst:{bloomDmg:Zi(["atk","def"],[Cn.burst.bloomDmg_atk,Cn.burst.bloomDmg_def],"burst")},passive1:{dollDmg:n(a.asc,1,g_(c(Cn.passive1.dollDmg)))},constellation2:{dollDmg:n(a.constellation,2,h_(c(Cn.passive1.dollDmg*Cn.constellation2.dmg)))},constellation6:{c6_normal_dmgInc:gb}},V0=n(a.constellation,3,3),J0=n(a.constellation,5,3),OI=B(Ld,Pd.ele,Pd.region,Pd,ei,{premod:{skillBoost:V0,burstBoost:J0,normal_dmgInc:gb,geo_dmg_:q0},infusion:{overridableSelf:KI}}),FI={key:Ld,name:xa.name,rarity:Pd.rarity,elementKey:Pd.ele,weaponTypeKey:Pd.weaponType,gender:"F",constellationName:xa.chg("constellationName"),title:xa.chg("title"),talent:{auto:xa.talentTem("auto",[{text:xa.chg("auto.fields.normal")},{fields:Cn.normal.hitArr.map((t,l)=>({node:e(ei.normal[l],{name:xa.chg(`auto.skillParams.${l}`)})}))},{text:xa.chg("auto.fields.charged")},{fields:[{node:e(ei.charged.dmg,{name:xa.chg("auto.skillParams.4")})},{text:xa.chg("auto.skillParams.5"),value:Cn.charged.stam}]},{text:xa.chg("auto.fields.plunging")},{fields:[{node:e(ei.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ei.plunging.low,{name:s("plunging.low")})},{node:e(ei.plunging.high,{name:s("plunging.high")})}]},xa.headerTem("constellation6",{fields:[{node:gb}]})]),skill:xa.talentTem("skill",[{fields:[{node:e(ei.skill.turretDmg,{name:xa.chg("skill.skillParams.0")})},{text:xa.chg("skill.skillParams.1"),value:Cn.skill.turretDuration,unit:"s"},{text:xa.chg("skill.skillParams.2"),value:Cn.skill.turretInterval,unit:"s",fixed:1},{node:e(ei.skill.sweepDmg,{name:xa.chg("skill.skillParams.3")})},{text:s("cd"),value:Cn.skill.cd,unit:"s"}]}]),burst:xa.talentTem("burst",[{fields:[{node:e(ei.burst.bloomDmg,{name:xa.chg("burst.skillParams.0")})},{text:s("cd"),value:Cn.burst.cd,unit:"s"},{text:s("energyCost"),value:Cn.burst.enerCost}]}]),passive1:xa.talentTem("passive1",[{fields:[{node:e(ei.passive1.dollDmg,{name:d("dmg")})}]},xa.condTem("passive1",{value:U0,path:EI,name:xa.ch("a1Cond"),states:{on:{fields:[{text:D(Mp,{color:"geo",children:d("infusion.geo")})}]}}})]),passive2:xa.talentTem("passive2",[xa.condTem("passive2",{value:L0,path:NI,name:xa.ch("a4Cond"),states:{on:{fields:[{node:q0}]}}})]),passive3:xa.talentTem("passive3"),constellation1:xa.talentTem("constellation1"),constellation2:xa.talentTem("constellation2",[{fields:[{node:e(ei.constellation2.dollDmg,{name:d("dmg")})}]}]),constellation3:xa.talentTem("constellation3",[{fields:[{node:V0}]}]),constellation4:xa.talentTem("constellation4"),constellation5:xa.talentTem("constellation5",[{fields:[{node:J0}]}]),constellation6:xa.talentTem("constellation6")}},jI=new R(FI,OI),Rr="Chongyun",Np="cryo",hh=_.char.data[Rr],Tl=_.char.skillParam[Rr],$t=A(Rr,hh.weaponType);let cg=0,ak=0,GI=0,lk=0;const ps={normal:{hitArr:[Tl.auto[0],Tl.auto[1],Tl.auto[2],Tl.auto[3]]},charged:{spin_dmg:Tl.auto[4],final_dmg:Tl.auto[5],stamina:Tl.auto[6][0],duration:Tl.auto[7][0]},plunging:{dmg:Tl.auto[8],low:Tl.auto[9],high:Tl.auto[10]},skill:{dmg:Tl.skill[cg++],infusionDuration:Tl.skill[cg++],cd:Tl.skill[cg++][0],fieldDuration:Tl.skill[cg++][0]},burst:{dmg:Tl.burst[ak++],cd:Tl.burst[ak++][0],enerCost:Tl.burst[ak++][0]},passive1:{atk_spd:Tl.passive1[GI++][0]},passive2:{dmg:Tl.passive2[lk++][0],res:Tl.passive2[lk++][0],duration:Tl.passive2[lk++][0]},constellation1:{dmg:Tl.constellation1[0]},constellation2:{cdr:Tl.constellation2[0]},constellation4:{energy_regen:Tl.constellation4[0],cd:Tl.constellation4[1]},constellation6:{burst_dmg_:Tl.constellation6[0]}},[zI,Q0]=h(Rr,"asc4"),[WI,qk]=h(Rr,"skill"),[UI,X0]=h(Rr,"c6"),p_=o("atk",ps.skill.dmg,"skill"),ai={normal:Object.fromEntries(ps.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",ps.charged.spin_dmg,"charged"),finalDmg:o("atk",ps.charged.final_dmg,"charged")},plunging:E("atk",ps.plunging),skill:{dmg:p_},burst:{dmg:o("atk",ps.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,p_)},constellation1:{dmg:n(a.constellation,1,N(m(c(ps.constellation1.dmg),a.total.atk),"elemental",{hit:{ele:p(Np)}}))}},Y0=n(a.asc,4,i(Q0,"hit",-.1)),Z0=i("activeInArea",qk,i(a.activeCharKey,G.charKey,1)),ty=n(a.asc,1,c(.08)),LI=i(Z0,1,ty),qI=w(G.weaponType,{sword:p(1),claymore:p(1),polearm:p(1)},p(0)),VI=dn(qI,1,dn(Z0,1,Np)),ey=n(a.constellation,6,i(X0,"on",ps.constellation6.burst_dmg_)),ay=n(a.constellation,3,3),ly=n(a.constellation,5,3),JI=B(Rr,Np,"liyue",hh,ai,{premod:{skillBoost:ly,burstBoost:ay,burst_dmg_:ey},teamBuff:{premod:{cryo_enemyRes_:Y0,atkSPD_:LI},infusion:{team:VI}}}),QI={key:Rr,name:$t.name,rarity:hh.rarity,elementKey:"cryo",weaponTypeKey:hh.weaponType,gender:"M",constellationName:$t.chg("constellationName"),title:$t.chg("title"),talent:{auto:$t.talentTem("auto",[{text:$t.chg("auto.fields.normal")},{fields:ps.normal.hitArr.map((t,l)=>({node:e(ai.normal[l],{name:$t.chg(`auto.skillParams.${l}`)})}))},{text:$t.chg("auto.fields.charged")},{fields:[{node:e(ai.charged.spinningDmg,{name:$t.chg("auto.skillParams.4")})},{node:e(ai.charged.finalDmg,{name:$t.chg("auto.skillParams.5")})},{text:$t.chg("auto.skillParams.6"),value:ps.charged.stamina,unit:"/s"},{text:$t.chg("auto.skillParams.7"),value:ps.charged.duration,unit:"s"}]},{text:$t.chg("auto.fields.plunging")},{fields:[{node:e(ai.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ai.plunging.low,{name:s("plunging.low")})},{node:e(ai.plunging.high,{name:s("plunging.high")})}]}]),skill:$t.talentTem("skill",[{fields:[{node:e(ai.skill.dmg,{name:$t.chg("skill.skillParams.0")})},{text:$t.chg("skill.skillParams.2"),value:ps.skill.fieldDuration,unit:"s"},{text:$t.chg("skill.skillParams.3"),value:ps.skill.cd,unit:"s"}]},$t.condTem("skill",{teamBuff:!0,value:qk,path:WI,name:d("activeCharField"),states:{activeInArea:{fields:[{text:$t.ch("infusion"),variant:Np},{text:$t.chg("skill.skillParams.1"),value:t=>t.get($(a.total.skillIndex,ps.skill.infusionDuration)).value,unit:"s",fixed:1}]}}}),$t.headerTem("passive1",{teamBuff:!0,canShow:i(qk,"activeInArea",1),fields:[{node:e(ty,y.info("atkSPD_"))}]})]),burst:$t.talentTem("burst",[{fields:[{node:e(ai.burst.dmg,{name:$t.chg("burst.skillParams.0")})},{text:$t.chg("burst.skillParams.1"),value:ps.burst.cd,unit:"s"},{text:$t.chg("burst.skillParams.2"),value:ps.burst.enerCost},{text:$t.ch("blades"),value:t=>t.get(a.constellation).value<6?3:4}]}]),passive1:$t.talentTem("passive1"),passive2:$t.talentTem("passive2",[$t.fieldsTem("passive2",{fields:[{node:e(ai.passive2.dmg,{name:$t.ch("passive2")})}]}),$t.condTem("passive2",{teamBuff:!0,value:Q0,path:zI,name:$t.ch("asc4Cond"),states:{hit:{fields:[{node:Y0}]}}})]),passive3:$t.talentTem("passive3"),constellation1:$t.talentTem("constellation1",[$t.fieldsTem("constellation1",{fields:[{node:e(ai.constellation1.dmg,{name:$t.ch("constellation1")})}]})]),constellation2:$t.talentTem("constellation2"),constellation3:$t.talentTem("constellation3",[{fields:[{node:ay}]}]),constellation4:$t.talentTem("constellation4"),constellation5:$t.talentTem("constellation5",[{fields:[{node:ly}]}]),constellation6:$t.talentTem("constellation6",[$t.condTem("constellation6",{value:X0,path:UI,name:$t.ch("constellation6"),states:{on:{fields:[{node:ey}]}}})])}},XI=new R(QI,JI),Mr="Collei",wu="dendro",YI="sumeru",ph=_.char.data[Mr],gl=_.char.skillParam[Mr],Pa=A(Mr,ph.weaponType);let bc=0,k_=0,Xm=0,nk=0,f_=0;const Jn={normal:{hitArr:[gl.auto[bc++],gl.auto[bc++],gl.auto[bc++],gl.auto[bc++]]},charged:{aimed:gl.auto[bc++],aimedCharged:gl.auto[bc++]},plunging:{dmg:gl.auto[bc++],low:gl.auto[bc++],high:gl.auto[bc++]},skill:{dmg:gl.skill[k_++],cd:gl.skill[k_++][0]},burst:{explosionDmg:gl.burst[Xm++],leapDmg:gl.burst[Xm++],duration:gl.burst[Xm++][0],cd:gl.burst[Xm++][0],enerCost:gl.burst[Xm++][0]},passive1:{unknown:gl.passive1[nk++][0],sproutDmg:gl.passive1[nk++][0],duration:gl.passive1[nk++][0]},passive2:{durationInc:gl.passive2[f_++][0],maxExtension:gl.passive2[f_++][0]},constellation1:{enerRech_:gl.constellation1[0]},constellation2:{duration:gl.constellation2[0],sproutDmg:gl.constellation2[1],durationInc:gl.constellation2[2]},constellation4:{eleMas:gl.constellation4[0],duration:gl.constellation4[1]},constellation6:{anbarDmg:gl.constellation6[0]}},[ZI,ny]=h(Mr,"afterBurst"),sy=n(a.constellation,4,i(ny,"on",Jn.constellation4.eleMas)),t5=j(G.charKey,Mr,sy),[e5,oy]=h(Mr,"offField"),iy=n(a.constellation,1,i(oy,"on",Jn.constellation1.enerRech_)),uo={normal:Object.fromEntries(Jn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Jn.charged.aimed,"charged"),aimedCharged:o("atk",Jn.charged.aimedCharged,"charged",{hit:{ele:p(wu)}})},plunging:E("atk",Jn.plunging),skill:{dmg:o("atk",Jn.skill.dmg,"skill")},burst:{explosionDmg:o("atk",Jn.burst.explosionDmg,"burst"),leapDmg:o("atk",Jn.burst.leapDmg,"burst")},passive1:{dmg:n(a.asc,1,N(m(c(Jn.passive1.sproutDmg),a.total.atk),"skill",{hit:{ele:p(wu)}}))},constellation6:{dmg:n(a.constellation,6,N(m(c(Jn.constellation6.anbarDmg),a.total.atk),"elemental",{hit:{ele:p(wu)}}))}},cy=n(a.constellation,3,3),ry=n(a.constellation,5,3),a5=B(Mr,wu,YI,ph,uo,{premod:{burstBoost:ry,skillBoost:cy,enerRech_:iy},teamBuff:{premod:{eleMas:t5}}}),l5={key:Mr,name:Pa.name,rarity:ph.rarity,elementKey:wu,weaponTypeKey:ph.weaponType,gender:"F",constellationName:Pa.chg("constellationName"),title:Pa.chg("title"),talent:{auto:Pa.talentTem("auto",[{text:Pa.chg("auto.fields.normal")},{fields:Jn.normal.hitArr.map((t,l)=>({node:e(uo.normal[l],{name:Pa.chg(`auto.skillParams.${l}`)})}))},{text:Pa.chg("auto.fields.charged")},{fields:[{node:e(uo.charged.aimed,{name:Pa.chg("auto.skillParams.4")})},{node:e(uo.charged.aimedCharged,{name:Pa.chg("auto.skillParams.5")})}]},{text:Pa.chg("auto.fields.plunging")},{fields:[{node:e(uo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(uo.plunging.low,{name:s("plunging.low")})},{node:e(uo.plunging.high,{name:s("plunging.high")})}]}]),skill:Pa.talentTem("skill",[{fields:[{node:e(uo.skill.dmg,{name:Pa.chg("skill.skillParams.0")})},{text:Pa.chg("skill.skillParams.1"),value:Jn.skill.cd,unit:"s"}]},Pa.headerTem("passive1",{fields:[{node:e(uo.passive1.dmg,{name:Pa.ch("sproutDmg")})},{text:s("duration"),value:Jn.passive1.duration,unit:"s"}]})]),burst:Pa.talentTem("burst",[{fields:[{node:e(uo.burst.explosionDmg,{name:Pa.chg("burst.skillParams.0")})},{node:e(uo.burst.leapDmg,{name:Pa.chg("burst.skillParams.1")})},{text:s("duration"),value:Jn.burst.duration,unit:"s"},{text:s("cd"),value:Jn.burst.cd,unit:"s"},{text:s("energyCost"),value:Jn.burst.enerCost}]},Pa.condTem("constellation4",{path:ZI,value:ny,teamBuff:!0,name:d("afterUse.burst"),canShow:j(G.charKey,a.activeCharKey,1),states:{on:{fields:[{node:e(sy,y.info("eleMas"))},{text:s("duration"),value:Jn.constellation4.duration,unit:"s"}]}}})]),passive1:Pa.talentTem("passive1"),passive2:Pa.talentTem("passive2"),passive3:Pa.talentTem("passive3"),constellation1:Pa.talentTem("constellation1",[Pa.condTem("constellation1",{value:oy,path:e5,name:d("charOffField"),states:{on:{fields:[{node:iy}]}}})]),constellation2:Pa.talentTem("constellation2"),constellation3:Pa.talentTem("constellation3",[{fields:[{node:cy}]}]),constellation4:Pa.talentTem("constellation4"),constellation5:Pa.talentTem("constellation5",[{fields:[{node:ry}]}]),constellation6:Pa.talentTem("constellation6",[Pa.fieldsTem("constellation6",{fields:[{node:e(uo.constellation6.dmg,{name:Pa.ch("miniAnbarDmg")})}]})])}},n5=new R(l5,a5),Hr="Cyno",_r="electro",kh=_.char.data[Hr],zt=_.char.skillParam[Hr],pt=A(Hr,kh.weaponType);let Ym=0,Si=5,b_=0,v_=0;const Ol={normal:{hitArr:[zt.auto[0],zt.auto[1],zt.auto[2],zt.auto[4]]},charged:{dmg:zt.auto[5],stamina:zt.auto[6][0]},plunging:{dmg:zt.auto[7],low:zt.auto[8],high:zt.auto[9]},skill:{skillDmg:zt.skill[Ym++],riteDmg:zt.skill[Ym++],durationBonus:zt.skill[Ym++][0],cd:zt.skill[Ym++][0],cdRite:zt.skill[Ym++][0]},burst:{normal:{hitArr:[zt.burst[0],zt.burst[1],zt.burst[2],zt.burst[3],zt.burst[Si++]]},charged:{dmg:zt.burst[Si++],stamina:zt.burst[Si++][0]},plunging:{dmg:zt.burst[Si++],low:zt.burst[Si++],high:zt.burst[Si++]},eleMas:zt.burst[Si++][0],duration:zt.burst[Si++][0],cd:zt.burst[Si++][0],enerCost:zt.burst[Si++][0]},passive1:{skill_dmg_:zt.passive1[b_++][0],boltDmg:zt.passive1[b_++][0]},passive2:{burst_normal_dmgInc_:zt.passive2[v_++][0],bolt_dmgInc_:zt.passive2[v_++][0]},constellation1:{normal_atkSpd_:zt.constellation1[0],duration:zt.constellation1[1]},constellation2:{electro_dmg_:zt.constellation2[0],duration:zt.constellation2[1],maxStacks:zt.constellation2[2],cd:zt.constellation2[3]},constellation4:{energyRestore:zt.constellation4[0],charges:zt.constellation4[1]}},[s5,dy]=h(Hr,"afterBurst"),my=i(dy,"on",Ol.burst.eleMas),[o5,uy]=h(Hr,"a1Judication"),Vk=n(a.asc,1,i(uy,"on",Ol.passive1.skill_dmg_)),__=n(a.asc,4,m(c(Ol.passive2.burst_normal_dmgInc_),a.total.eleMas)),y_=n(a.asc,4,m(c(Ol.passive2.bolt_dmgInc_),a.total.eleMas)),gy=rl(1,Ol.constellation2.maxStacks),[i5,hy]=h(Hr,"c2NormHitStacks"),py=n(a.constellation,2,w(hy,Object.fromEntries(gy.map(t=>[t,m(c(Ol.constellation2.electro_dmg_),t)])),O)),rs={normal:Object.fromEntries(Ol.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Ol.charged.dmg,"charged")},plunging:E("atk",Ol.plunging),skill:{skillDmg:o("atk",Ol.skill.skillDmg,"skill",{premod:{skill_dmg_:Vk}}),riteDmg:o("atk",Ol.skill.riteDmg,"skill",{premod:{skill_dmg_:Vk}})},burst:{...Object.fromEntries(Ol.burst.normal.hitArr.map((t,l)=>[`normal_${l}`,N(m($(a.total.burstIndex,t,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p(_r)},premod:{normal_dmgInc:__}})])),charged:N(m($(a.total.burstIndex,Ol.burst.charged.dmg,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p(_r)}}),...Object.fromEntries(Object.entries(Ol.burst.plunging).map(([t,l])=>[`plunging_${t}`,N(m($(a.total.burstIndex,l,{unit:"%"}),a.total.atk),t==="dmg"?"plunging_collision":"plunging_impact",{hit:{ele:p(_r)}})]))},passive1:{boltDmg:n(a.asc,1,N(m(Ol.passive1.boltDmg,a.total.atk),"skill",{hit:{ele:p(_r)},premod:{skill_dmgInc:y_}}))},passive2:{burstNormalDmgInc:__,boltDmgInc:y_}},ky=n(a.constellation,3,3),fy=n(a.constellation,5,3),c5=B(Hr,_r,"sumeru",kh,rs,{premod:{burstBoost:ky,skillBoost:fy,eleMas:my,electro_dmg_:py}}),r5={key:Hr,name:pt.name,rarity:kh.rarity,elementKey:_r,weaponTypeKey:kh.weaponType,gender:"M",constellationName:pt.chg("constellationName"),title:pt.chg("title"),talent:{auto:pt.talentTem("auto",[{text:pt.chg("auto.fields.normal")},{fields:Ol.normal.hitArr.map((t,l)=>({node:e(rs.normal[l],{name:pt.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:pt.chg("auto.fields.charged")},{fields:[{node:e(rs.charged.dmg,{name:pt.chg("auto.skillParams.4")})},{text:pt.chg("auto.skillParams.5"),value:Ol.charged.stamina}]},{text:pt.chg("auto.fields.plunging")},{fields:[{node:e(rs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(rs.plunging.low,{name:s("plunging.low")})},{node:e(rs.plunging.high,{name:s("plunging.high")})}]}]),skill:pt.talentTem("skill",[{fields:[{node:e(rs.skill.skillDmg,{name:pt.chg("skill.skillParams.0")})},{node:e(rs.skill.riteDmg,{name:pt.chg("skill.skillParams.1")})},{text:pt.chg("skill.skillParams.2"),value:Ol.skill.durationBonus,unit:"s"},{text:s("cd"),value:Ol.skill.cd,unit:"s",fixed:1},{text:pt.chg("skill.skillParams.4"),value:Ol.skill.cdRite,unit:"s"}]},pt.headerTem("passive1",{fields:[{node:e(rs.passive1.boltDmg,{name:pt.ch("p1Dmg")})}]}),pt.condTem("passive1",{path:o5,value:uy,name:pt.ch("judication"),states:{on:{fields:[{node:e(Vk,{name:pt.ch("a1soulfarer_dmg_"),unit:"%"})}]}}}),pt.headerTem("passive2",{canShow:j(rs.passive2.boltDmgInc,0,1),fields:[{node:e(rs.passive2.boltDmgInc,{name:pt.ch("boltDmgInc")})}]})]),burst:pt.talentTem("burst",[{fields:[...Ol.burst.normal.hitArr.map((t,l)=>({node:e(rs.burst[`normal_${l}`],{name:pt.chg(`burst.skillParams.${l}`),multi:l===3?2:void 0})})),{node:e(rs.burst.charged,{name:pt.chg("burst.skillParams.5")})},{text:pt.chg("burst.skillParams.6"),value:Ol.burst.charged.stamina},...Object.entries(Ol.burst.plunging).map(([t])=>({node:e(rs.burst[`plunging_${t}`],{name:s(`plunging.${t}`)})})),{text:pt.chg("burst.skillParams.10"),value:Ol.burst.duration,unit:"s"},{text:pt.chg("burst.skillParams.11"),value:Ol.burst.cd,unit:"s"},{text:pt.chg("burst.skillParams.12"),value:Ol.burst.enerCost}]},pt.condTem("burst",{path:s5,value:dy,name:pt.ch("duringBurst"),states:{on:{fields:[{node:my},{text:d(`infusion.${_r}`),variant:_r},{text:d("incInterRes")},{text:d("immuneToElectroCharged")}]}}}),pt.headerTem("passive2",{canShow:j(rs.passive2.burstNormalDmgInc,0,1),fields:[{node:e(rs.passive2.burstNormalDmgInc,{name:pt.ch("burstNormalDmgInc")})}]})]),passive1:pt.talentTem("passive1"),passive2:pt.talentTem("passive2"),passive3:pt.talentTem("passive3"),constellation1:pt.talentTem("constellation1"),constellation2:pt.talentTem("constellation2",[pt.condTem("constellation2",{path:i5,value:hy,name:d("hitOp.normal"),states:Object.fromEntries(gy.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:py}]}]))})]),constellation3:pt.talentTem("constellation3",[{fields:[{node:ky}]}]),constellation4:pt.talentTem("constellation4"),constellation5:pt.talentTem("constellation5",[{fields:[{node:fy}]}]),constellation6:pt.talentTem("constellation6")}},d5=new R(r5,c5),qd="Dehya",by="pyro",fh=_.char.data[qd],nt=_.char.skillParam[qd],kt=A(qd,fh.weaponType);let Ro=0,ar=0,ad=0;const va={normal:{hitArr:[nt.auto[Ro++],nt.auto[Ro++],nt.auto[Ro++],nt.auto[Ro++]]},charged:{spin:nt.auto[Ro++],final:nt.auto[Ro++],stamina:nt.auto[Ro++][0],duration:nt.auto[Ro++][0]},plunging:{dmg:nt.auto[Ro++],low:nt.auto[Ro++],high:nt.auto[Ro++]},skill:{indomitableDmg:nt.skill[ar++],rangingDmg:nt.skill[ar++],fieldDmgAtk:nt.skill[ar++],fieldDmgHp:nt.skill[ar++],mitigation:nt.skill[ar++],redmaneMax:nt.skill[ar++][0],fieldDuration:nt.skill[ar++][0],cd:nt.skill[ar++][0]},burst:{fistDmgAtk:nt.burst[ad++],fistDmgHp:nt.burst[ad++],driveDmgAtk:nt.burst[ad++],driveDmgHp:nt.burst[ad++],duration:nt.burst[ad++][0],cd:nt.burst[ad++][0],enerCost:nt.burst[ad++][0]},passive2:{hpThreshold:nt.passive2[0][0],initialHeal:nt.passive2[1][0],dotHeal:nt.passive2[2][0],dotInterval:nt.passive2[3][0],duration:nt.passive2[4][0],cd:nt.passive2[5][0]},c1:{hp_:nt.constellation1[0],skill_dmgInc:nt.constellation1[1],burst_dmgInc:nt.constellation1[2]},c2:{fieldDurationIncrease:nt.constellation2[0],field_dmg_:nt.constellation2[1]},c4:{energyRestore:nt.constellation4[0],heal:nt.constellation4[1],cd:nt.constellation4[2]},c6:{burst_critRate_:nt.constellation6[0],burst_critDMG_:nt.constellation6[1],duration:nt.constellation6[2],maxDuration:nt.constellation6[3],maxBurst_critDMG_:nt.constellation6[4]}},vy=n(a.constellation,1,va.c1.hp_),hb=n(a.constellation,1,m(c(va.c1.skill_dmgInc),a.total.hp)),pb=n(a.constellation,1,m(c(va.c1.burst_dmgInc),a.total.hp)),[m5,_y]=h(qd,"c2InField"),yy=n(a.constellation,2,i(_y,"on",va.c2.field_dmg_)),Ty=n(a.constellation,6,va.c6.burst_critRate_),$y=At(1,4),[u5,xy]=h(qd,"c6CritStacks"),Py=n(a.constellation,6,w(xy,C($y,t=>m(t,c(va.c6.burst_critDMG_))),O)),ds={normal:Object.fromEntries(va.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",va.charged.spin,"charged"),final:o("atk",va.charged.final,"charged")},plunging:E("atk",va.plunging),skill:{indomitableDmg:o("atk",va.skill.indomitableDmg,"skill"),rangingDmg:o("atk",va.skill.rangingDmg,"skill"),fieldDmg:Zi(["atk","hp"],[va.skill.fieldDmgAtk,va.skill.fieldDmgHp],"skill",{premod:{skill_dmg_:yy}}),redmaneMax:m(c(va.skill.redmaneMax),a.total.hp)},burst:{fistDmg:Zi(["atk","hp"],[va.burst.fistDmgAtk,va.burst.fistDmgHp],"burst"),driveDmg:Zi(["atk","hp"],[va.burst.driveDmgAtk,va.burst.driveDmgHp],"burst")},passive2:{initialHeal:n(a.asc,4,zn(m(c(va.passive2.initialHeal),a.total.hp))),dotHeal:n(a.asc,4,zn(m(c(va.passive2.dotHeal),a.total.hp)))},constellation1:{c1_skill_dmgInc:hb,c1_burst_dmgInc:pb},constellation4:{heal:n(a.constellation,4,zn(m(c(va.c4.heal),a.total.hp)))}},Dy=n(a.constellation,3,3),Cy=n(a.constellation,5,3),g5=B(qd,by,"sumeru",fh,ds,{premod:{burstBoost:Dy,skillBoost:Cy,hp_:vy,skill_dmgInc:hb,burst_dmgInc:pb,burst_critRate_:Ty,burst_critDMG_:Py}}),h5={key:qd,name:kt.name,rarity:fh.rarity,elementKey:by,weaponTypeKey:fh.weaponType,gender:"F",constellationName:kt.chg("constellationName"),title:kt.chg("title"),talent:{auto:kt.talentTem("auto",[{text:kt.chg("auto.fields.normal")},{fields:va.normal.hitArr.map((t,l)=>({node:e(ds.normal[l],{name:kt.chg(`auto.skillParams.${l}`)})}))},{text:kt.chg("auto.fields.charged")},{fields:[{node:e(ds.charged.spin,{name:kt.chg("auto.skillParams.4")})},{node:e(ds.charged.final,{name:kt.chg("auto.skillParams.5")})},{text:kt.chg("auto.skillParams.6"),value:`${va.charged.stamina}/s`}]},{text:kt.chg("auto.fields.plunging")},{fields:[{node:e(ds.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ds.plunging.low,{name:s("plunging.low")})},{node:e(ds.plunging.high,{name:s("plunging.high")})}]}]),skill:kt.talentTem("skill",[{fields:[{node:e(ds.skill.indomitableDmg,{name:kt.chg("skill.skillParams.0")})},{node:e(ds.skill.rangingDmg,{name:kt.chg("skill.skillParams.1")})},{node:e(ds.skill.fieldDmg,{name:kt.chg("skill.skillParams.2")})},{node:$(a.total.skillIndex,va.skill.mitigation,{name:kt.chg("skill.skillParams.3"),unit:"%"})},{node:e(ds.skill.redmaneMax,{name:kt.chg("skill.skillParams.4")})},{text:kt.chg("skill.skillParams.5"),value:va.skill.fieldDuration,unit:"s"},{text:s("cd"),value:va.skill.cd,unit:"s"}]},kt.headerTem("constellation1",{fields:[{node:hb}]}),kt.condTem("constellation2",{path:m5,value:_y,name:kt.ch("inFieldAndTakeDmg"),states:{on:{fields:[{node:e(yy,{name:kt.ch("field_dmg_"),unit:"%"})}]}}})]),burst:kt.talentTem("burst",[{fields:[{node:e(ds.burst.fistDmg,{name:kt.chg("burst.skillParams.0")})},{node:e(ds.burst.driveDmg,{name:kt.chg("burst.skillParams.1")})},{text:s("duration"),value:va.burst.duration,unit:"s"},{text:s("cd"),value:va.burst.cd,unit:"s"},{text:s("energyCost"),value:va.burst.enerCost}]},kt.headerTem("constellation1",{fields:[{node:pb}]}),kt.headerTem("constellation4",{fields:[{node:e(ds.constellation4.heal,{name:s("hpRegenPerHit")})},{text:d("enerRegenPerHit"),value:va.c4.energyRestore},{text:s("cd"),value:va.c4.cd,unit:"s",fixed:1}]}),kt.headerTem("constellation6",{fields:[{node:Ty}]}),kt.condTem("constellation6",{path:u5,value:xy,name:kt.ch("critHitDuringBurst"),states:C($y,t=>({name:d("hits",{count:t}),fields:[{node:Py}]}))})]),passive1:kt.talentTem("passive1"),passive2:kt.talentTem("passive2",[kt.fieldsTem("passive2",{fields:[{node:e(ds.passive2.initialHeal,{name:kt.ch("initialHeal")})},{node:e(ds.passive2.dotHeal,{name:kt.ch("dotHeal"),multi:5})}]})]),passive3:kt.talentTem("passive3"),constellation1:kt.talentTem("constellation1",[kt.fieldsTem("constellation1",{fields:[{node:vy}]})]),constellation2:kt.talentTem("constellation2"),constellation3:kt.talentTem("constellation3",[{fields:[{node:Dy}]}]),constellation4:kt.talentTem("constellation4"),constellation5:kt.talentTem("constellation5",[{fields:[{node:Cy}]}]),constellation6:kt.talentTem("constellation6")}},p5=new R(h5,g5),zc="Diluc",Sy="pyro",bh=_.char.data[zc],je=_.char.skillParam[zc],ce=A(zc,bh.weaponType);let Mo=0,rg=0,rm=0,T_=0,$_=0,Zm=0,sk=0;const Fe={normal:{hitArr:[je.auto[Mo++],je.auto[Mo++],je.auto[Mo++],je.auto[Mo++]]},charged:{spinningDmg:je.auto[Mo++],finalDmg:je.auto[Mo++],stamina:je.auto[Mo++][0],duration:je.auto[Mo++][0]},plunging:{dmg:je.auto[Mo++],low:je.auto[Mo++],high:je.auto[Mo++]},skill:{firstHit:je.skill[rg++],secondHit:je.skill[rg++],thridHit:je.skill[rg++],cd:je.skill[rg++][0]},burst:{slashDmg:je.burst[rm++],dotDmg:je.burst[rm++],explosionDmg:je.burst[rm++],cd:je.burst[rm++][0],duration:je.burst[rm++][0],cost:je.burst[rm++][0]},passive1:{stamReduction:je.passive1[T_++][0],duration:je.passive1[T_++][0]},passive2:{durationInc:je.passive2[$_++][0],pyroInc:je.passive2[$_++][0]},constellation1:{dmgInc:je.constellation1[0],hpThresh_:.5},constellation2:{atkInc:je.constellation2[Zm++],atkSpdInc:je.constellation2[Zm++],duration:je.constellation2[Zm++],maxStack:je.constellation2[Zm++],cd:je.constellation2[Zm++]},constellation4:{dmgInc:je.constellation4[0]},constellation6:{duration:je.constellation6[sk++],dmgInc:je.constellation6[sk++],atkSpdInc:je.constellation6[sk++]}},[k5,kb]=h(zc,"Burst"),[f5,wy]=h(zc,"DilucC1"),[b5,fb]=h(zc,"DilucC2"),[v5,bb]=h(zc,"DilucC6"),_5=dn(kb,"on","pyro"),Ay=n(a.asc,4,i(kb,"on",Fe.passive2.pyroInc)),By=n(a.constellation,1,i(wy,"on",Fe.constellation1.dmgInc)),Iy=n(a.constellation,2,w(fb,Object.fromEntries(rl(1,Fe.constellation2.maxStack).map(t=>[t,p(Fe.constellation2.atkInc*t)])),0,y.info("atk_"))),Ry=n(a.constellation,2,w(fb,Object.fromEntries(rl(1,Fe.constellation2.maxStack).map(t=>[t,p(Fe.constellation2.atkSpdInc*t)])),0,y.info("atkSPD_"))),My=n(a.constellation,6,i(bb,"on",Fe.constellation6.dmgInc)),Hy=n(a.constellation,6,i(bb,"on",Fe.constellation6.atkSpdInc),y.info("atkSPD_")),x_={premod:{skill_dmg_:p(Fe.constellation4.dmgInc)},hit:{ele:p("pyro")}},vs={normal:Object.fromEntries(Fe.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Fe.charged.spinningDmg,"charged"),finalDmg:o("atk",Fe.charged.finalDmg,"charged")},plunging:E("atk",Fe.plunging),skill:{firstHit:o("atk",Fe.skill.firstHit,"skill"),secondHit:o("atk",Fe.skill.secondHit,"skill"),thirdHit:o("atk",Fe.skill.thridHit,"skill")},burst:{slashDmg:o("atk",Fe.burst.slashDmg,"burst"),dotDmg:o("atk",Fe.burst.dotDmg,"burst"),explosionDmg:o("atk",Fe.burst.explosionDmg,"burst")},constellation4:{secondHitBoost:n(a.constellation,4,o("atk",Fe.skill.secondHit,"skill",x_)),thirdHitBoost:n(a.constellation,4,o("atk",Fe.skill.thridHit,"skill",x_))}},Ey=n(a.constellation,3,3),Ky=n(a.constellation,5,3),y5=B(zc,Sy,"mondstadt",bh,vs,{premod:{skillBoost:Ey,burstBoost:Ky,pyro_dmg_:Ay,atk_:Iy,atkSPD_:P(Hy,Ry),all_dmg_:By,normal_dmg_:My},infusion:{nonOverridableSelf:_5}}),T5={key:zc,name:ce.name,rarity:bh.rarity,elementKey:Sy,weaponTypeKey:bh.weaponType,gender:"M",constellationName:ce.chg("constellationName"),title:ce.chg("title"),talent:{auto:ce.talentTem("auto",[{text:ce.chg("auto.fields.normal")},{fields:Fe.normal.hitArr.map((t,l)=>({node:e(vs.normal[l],{name:ce.chg(`auto.skillParams.${l}`)})}))},{text:ce.chg("auto.fields.charged")},{fields:[{node:e(vs.charged.spinningDmg,{name:ce.chg("auto.skillParams.4")})},{node:e(vs.charged.finalDmg,{name:ce.chg("auto.skillParams.5")})},{text:ce.chg("auto.skillParams.6"),value:t=>t.get(a.asc).value>=1?`${Fe.charged.stamina}/s - ${Fe.passive1.stamReduction*100}%`:`${Fe.charged.stamina}/s`},{text:ce.chg("auto.skillParams.7"),value:t=>t.get(a.asc).value>=1?`${Fe.charged.duration}s + ${Fe.passive1.duration}`:Fe.charged.duration,unit:"s"}]},{text:ce.chg("auto.fields.plunging")},{fields:[{node:e(vs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(vs.plunging.low,{name:s("plunging.low")})},{node:e(vs.plunging.high,{name:s("plunging.high")})}]}]),skill:ce.talentTem("skill",[{fields:[{node:e(vs.skill.firstHit,{name:ce.chg("skill.skillParams.0")})},{node:e(vs.skill.secondHit,{name:ce.chg("skill.skillParams.1")})},{node:e(vs.skill.thirdHit,{name:ce.chg("skill.skillParams.2")})},{node:e(vs.constellation4.secondHitBoost,{name:ce.ch("skillB.0")})},{node:e(vs.constellation4.thirdHitBoost,{name:ce.ch("skillB.1")})},{text:ce.chg("burst.skillParams.3"),value:Fe.skill.cd}]},ce.condTem("constellation6",{value:bb,path:v5,name:d("afterUse.skill"),states:{on:{fields:[{node:My},{node:Hy}]}}})]),burst:ce.talentTem("burst",[{fields:[{node:e(vs.burst.slashDmg,{name:ce.chg("burst.skillParams.0")})},{node:e(vs.burst.dotDmg,{name:ce.chg("burst.skillParams.1")})},{node:e(vs.burst.explosionDmg,{name:ce.chg("burst.skillParams.2")})},{text:ce.chg("burst.skillParams.3"),value:Fe.burst.cd,unit:"s"},{text:ce.chg("burst.skillParams.5"),value:Fe.burst.cost}]},ce.condTem("burst",{name:d("afterUse.burst"),value:kb,path:k5,states:{on:{fields:[{text:d("infusion.pyro"),variant:"pyro"},{node:Ay},{text:s("duration"),value:t=>t.get(a.asc).value>=4?`${Fe.burst.duration} + ${Fe.passive2.durationInc}`:Fe.burst.duration,unit:"s"}]}}})]),passive1:ce.talentTem("passive1"),passive2:ce.talentTem("passive2"),passive3:ce.talentTem("passive3"),constellation1:ce.talentTem("constellation1",[ce.condTem("constellation1",{value:wy,path:f5,name:d("enemyGreaterPercentHP",{percent:Fe.constellation1.hpThresh_*100}),canShow:n(a.constellation,1,1),states:{on:{fields:[{node:By}]}}})]),constellation2:ce.talentTem("constellation2",[ce.condTem("constellation2",{value:fb,path:b5,name:d("hitOp.self"),states:Object.fromEntries(rl(1,Fe.constellation2.maxStack).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:Iy},{node:Ry}]}]))})]),constellation3:ce.talentTem("constellation3",[{fields:[{node:Ey}]}]),constellation4:ce.talentTem("constellation4"),constellation5:ce.talentTem("constellation5",[{fields:[{node:Ky}]}]),constellation6:ce.talentTem("constellation6")}},$5=new R(T5,y5),Vd="Diona",Am="cryo",vh=_.char.data[Vd],ea=_.char.skillParam[Vd],ft=A(Vd,vh.weaponType);let wi=0,dm=0,ld=0,P_=0,D_=0;const Qa={normal:{hitArr:[ea.auto[wi++],ea.auto[wi++],ea.auto[wi++],ea.auto[wi++],ea.auto[wi++]]},charged:{aimed:ea.auto[wi++],aimedCharged:ea.auto[wi++]},plunging:{dmg:ea.auto[wi++],low:ea.auto[wi++],high:ea.auto[wi++]},skill:{icyPawDmg:ea.skill[dm++],shieldHp_:ea.skill[dm++],shieldFlat:ea.skill[dm++],cdPress:ea.skill[dm++][0],cdHold:ea.skill[dm++][0],duration:ea.skill[dm++]},burst:{skillDmg:ea.burst[ld++],fieldDmg:ea.burst[ld++],healHp_:ea.burst[ld++],healBase:ea.burst[ld++],cd:ea.burst[ld++][0],enerCost:ea.burst[ld++][0],duration:ea.burst[ld++][0]},passive1:{moveSpeed_:ea.passive1[P_++][0],stamRed_:ea.passive1[P_++][0]},passive2:{atkRed_:ea.passive1[D_++][0],duration:ea.passive1[D_++][0]},constellation1:{energyRegen:ea.constellation1[0]},constellation2:{icyPawDmg_:ea.constellation2[0],icyPawShield_:ea.constellation2[1],coopShield_:ea.constellation2[2],coopShieldDuration_:ea.constellation2[3]},constellation6:{healingBonus_:ea.constellation6[0],emBonus:ea.constellation6[1]}},[x5,vb]=h(Vd,"Constellation6"),[P5,_b]=h(Vd,"Ascension1"),Ny=n(a.constellation,3,3),Oy=n(a.constellation,5,3),Fy=n(a.constellation,2,c(Qa.constellation2.icyPawDmg_)),D5=c(1.75),jy=P(c(1),n(a.constellation,2,c(Qa.constellation2.icyPawShield_))),Jk=m(jy,Sn("hp",Qa.skill.shieldHp_,Qa.skill.shieldFlat,"skill")),Qk=m(jy,D5,Sn("hp",Qa.skill.shieldHp_,Qa.skill.shieldFlat,"skill")),C_=m(c(Qa.constellation2.coopShield_),Jk),S_=m(c(Qa.constellation2.coopShield_),Qk),En={normal:Object.fromEntries(Qa.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Qa.charged.aimed,"charged"),aimedCharged:o("atk",Qa.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}})},plunging:E("atk",Qa.plunging),skill:{pressShield:Jk,pressCryoShield:tn(Am,Jk),holdShield:Qk,holdCryoShield:tn(Am,Qk),skillDmg:o("atk",Qa.skill.icyPawDmg,"skill",{})},burst:{skillDmg:o("atk",Qa.burst.skillDmg,"burst"),fieldDmg:o("atk",Qa.burst.fieldDmg,"burst"),healDot:cl("hp",Qa.burst.healHp_,Qa.burst.healBase,"burst")},constellation2:{pressShield:n(a.constellation,2,C_),pressCryoShield:n(a.constellation,2,tn(Am,C_)),holdShield:n(a.constellation,2,S_),holdCryoShield:n(a.constellation,2,tn(Am,S_))}},Gy=n(a.asc,1,i(_b,"on",c(Qa.passive1.moveSpeed_))),zy=n(a.asc,1,i(_b,"on",c(Qa.passive1.stamRed_))),Wy=n(a.constellation,6,i(vb,"lower",c(Qa.constellation6.healingBonus_))),C5=i(a.activeCharKey,G.charKey,Wy),Uy=n(a.constellation,6,i(vb,"higher",Qa.constellation6.emBonus)),S5=i(a.activeCharKey,G.charKey,Uy),w5=B(Vd,Am,"mondstadt",vh,En,{premod:{skillBoost:Oy,burstBoost:Ny,skill_dmg_:Fy},teamBuff:{premod:{staminaDec_:zy,moveSPD_:Gy,eleMas:S5,incHeal_:C5}}}),A5={key:Vd,name:ft.name,rarity:vh.rarity,elementKey:Am,weaponTypeKey:vh.weaponType,gender:"F",constellationName:ft.chg("constellationName"),title:ft.chg("title"),talent:{auto:ft.talentTem("auto",[{text:ft.chg("auto.fields.normal")},{fields:Qa.normal.hitArr.map((t,l)=>({node:e(En.normal[l],{name:ft.chg(`auto.skillParams.${l}`)})}))},{text:ft.chg("auto.fields.charged")},{fields:[{node:e(En.charged.aimed,{name:ft.chg("auto.skillParams.5")})},{node:e(En.charged.aimedCharged,{name:ft.chg("auto.skillParams.6")})}]},{text:ft.chg("auto.fields.plunging")},{fields:[{node:e(En.plunging.dmg,{name:s("plunging.dmg")})},{node:e(En.plunging.low,{name:s("plunging.low")})},{node:e(En.plunging.high,{name:s("plunging.high")})}]}]),skill:ft.talentTem("skill",[{fields:[{node:e(En.skill.skillDmg,{name:ft.chg("skill.skillParams.0")})},{node:e(En.skill.pressShield,{name:ft.ch("pressShield")})},{node:e(En.skill.pressCryoShield,{name:ft.ch("pressCryoShield")})},{node:e(En.skill.holdShield,{name:ft.ch("holdShield")})},{node:e(En.skill.holdCryoShield,{name:ft.ch("holdCryoShield")})},{text:ft.ch("skillDuration"),value:t=>Qa.skill.duration[t.get(a.total.skillIndex).value],unit:"s",fixed:1},{text:ft.chg("skill.skillParams.3"),value:Qa.skill.cdPress,unit:"s"},{text:ft.chg("skill.skillParams.4"),value:Qa.skill.cdHold,unit:"s"}]},ft.condTem("passive1",{teamBuff:!0,value:_b,path:P5,name:ft.ch("a1shielded"),states:{on:{fields:[{node:Gy},{node:zy}]}}}),ft.headerTem("constellation2",{fields:[{node:Fy},{text:d("dmgAbsorption.increase"),value:Qa.constellation2.icyPawShield_*100,unit:"%"}]})]),burst:ft.talentTem("burst",[{fields:[{node:e(En.burst.skillDmg,{name:ft.chg("burst.skillParams.0")})},{node:e(En.burst.fieldDmg,{name:ft.chg("burst.skillParams.1")})},{node:e(En.burst.healDot,{name:ft.chg("burst.skillParams.2")})},{text:ft.chg("burst.skillParams.3"),value:Qa.burst.duration,unit:"s"},{text:ft.chg("burst.skillParams.4"),value:Qa.burst.cd},{text:ft.chg("burst.skillParams.5"),value:Qa.burst.enerCost}]},ft.condTem("constellation6",{teamBuff:!0,value:vb,path:x5,name:d("activeCharField"),states:{lower:{name:d("lessEqPercentHP",{percent:50}),fields:[{node:e(Wy,y.info("incHeal_"))}]},higher:{name:d("greaterPercentHP",{percent:50}),fields:[{node:e(Uy,y.info("eleMas"))}]}}})]),passive1:ft.talentTem("passive1"),passive2:ft.talentTem("passive2"),passive3:ft.talentTem("passive3"),constellation1:ft.talentTem("constellation1"),constellation2:ft.talentTem("constellation2",[{fields:[{node:e(En.constellation2.pressShield,{name:ft.ch("pressShield")})},{node:e(En.constellation2.pressCryoShield,{name:ft.ch("pressCryoShield")})},{node:e(En.constellation2.holdShield,{name:ft.ch("holdShield")})},{node:e(En.constellation2.holdCryoShield,{name:ft.ch("holdCryoShield")})},{text:s("duration"),value:Qa.constellation2.coopShieldDuration_,unit:"s"}]}]),constellation3:ft.talentTem("constellation3",[{fields:[{node:Ny}]}]),constellation4:ft.talentTem("constellation4"),constellation5:ft.talentTem("constellation5",[{fields:[{node:Oy}]}]),constellation6:ft.talentTem("constellation6")}},B5=new R(A5,w5),Er="Dori",Mm="electro",I5="sumeru",_h=_.char.data[Er],Ea=_.char.skillParam[Er],Ye=A(Er,_h.weaponType);let Ho=0,ok=0,nd=0;const Kl={normal:{hitArr:[Ea.auto[Ho++],Ea.auto[Ho++],Ea.auto[Ho++],Ea.auto[Ho++]]},charged:{spinningDmg:Ea.auto[Ho++],finalDmg:Ea.auto[Ho++],stamina:Ea.auto[Ho++][0],duration:Ea.auto[Ho++][0]},plunging:{dmg:Ea.auto[Ho++],low:Ea.auto[Ho++],high:Ea.auto[Ho++]},skill:{shotDmg:Ea.skill[ok++],roundDmg:Ea.skill[ok++],numRounds:2,cd:Ea.skill[ok++][0]},burst:{connectorDmg:Ea.burst[nd++],healMult:Ea.burst[nd++],healBase:Ea.burst[nd++],energyRegen:Ea.burst[nd++],duration:Ea.burst[nd++][0],cd:Ea.burst[nd++][0],enerCost:Ea.burst[nd++][0]},passive1:{cdRed:Ea.passive1[0][0],cd:Ea.passive1[1][0]},passive2:{energyRegen:Ea.passive2[0][0],maxEnergyRegen:Ea.passive2[1][0]},constellation1:{addlRounds:1},constellation2:{toopDmg:Ea.constellation2[0]},constellation4:{hpThresh:50,energyThresh:50,incHeal_:Ea.constellation4[0],enerRech_:Ea.constellation4[1]},constellation6:{infusionDuration:Ea.constellation6[0],heal_:Ea.constellation6[1],cd:.1}},[R5,Ly]=h(Er,"c4BelowHp"),[M5,qy]=h(Er,"c4BelowEner"),Vy=n(a.constellation,4,i(Ly,"belowHp",Kl.constellation4.incHeal_)),H5=i(a.activeCharKey,G.charKey,Vy),Jy=n(a.constellation,4,i(qy,"belowEner",Kl.constellation4.enerRech_)),E5=i(a.activeCharKey,G.charKey,Jy),[K5,yb]=h(Er,"c6AfterSkill"),N5=wr(a.constellation,6,dn(yb,"on",Mm)),Ps={normal:Object.fromEntries(Kl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Kl.charged.spinningDmg,"charged"),finalDmg:o("atk",Kl.charged.finalDmg,"charged")},plunging:E("atk",Kl.plunging),skill:{shotDmg:o("atk",Kl.skill.shotDmg,"skill"),roundDmg:o("atk",Kl.skill.roundDmg,"skill")},burst:{connectorDmg:o("atk",Kl.burst.connectorDmg,"burst"),heal:cl("hp",Kl.burst.healMult,Kl.burst.healBase,"burst")},passive2:{energyRegen:n(a.asc,4,Il(m(p(Kl.passive2.energyRegen),a.total.enerRech_),p(Kl.passive2.maxEnergyRegen)))},constellation2:{dmg:n(a.constellation,2,N(m($(a.total.skillIndex,Kl.skill.shotDmg,{unit:"%"}),c(Kl.constellation2.toopDmg,{name:Ye.ch("c2MultiplierKey_")}),a.total.atk),"elemental",{hit:{ele:p(Mm)}}))},constellation6:{heal:n(a.constellation,6,i(yb,"on",zn(m(c(Kl.constellation6.heal_),a.total.hp))))}},Qy=n(a.constellation,3,3),Xy=n(a.constellation,5,3),O5=B(Er,Mm,I5,_h,Ps,{premod:{skillBoost:Xy,burstBoost:Qy},infusion:{overridableSelf:N5},teamBuff:{premod:{incHeal_:H5,enerRech_:E5}}}),F5={key:Er,name:Ye.name,rarity:_h.rarity,elementKey:Mm,weaponTypeKey:_h.weaponType,gender:"F",constellationName:Ye.chg("constellationName"),title:Ye.chg("title"),talent:{auto:Ye.talentTem("auto",[{text:Ye.chg("auto.fields.normal")},{fields:Kl.normal.hitArr.map((t,l)=>({node:e(Ps.normal[l],{name:Ye.chg(`auto.skillParams.${l>1?l-1:l}`),textSuffix:l>=1&&l<3?`(${l})`:void 0})}))},{text:Ye.chg("auto.fields.charged")},{fields:[{node:e(Ps.charged.spinningDmg,{name:Ye.chg("auto.skillParams.3")})},{node:e(Ps.charged.finalDmg,{name:Ye.chg("auto.skillParams.4")})},{text:Ye.chg("auto.skillParams.5"),value:Kl.charged.stamina,unit:"/s"},{text:Ye.chg("auto.skillParams.6"),value:Kl.charged.duration,unit:"s"}]},{text:Ye.chg("auto.fields.plunging")},{fields:[{node:e(Ps.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ps.plunging.low,{name:s("plunging.low")})},{node:e(Ps.plunging.high,{name:s("plunging.high")})}]}]),skill:Ye.talentTem("skill",[{fields:[{node:e(Ps.skill.shotDmg,{name:Ye.chg("skill.skillParams.0")})},{node:e(Ps.skill.roundDmg,{name:Ye.chg("skill.skillParams.1")})},{text:s("cd"),value:Kl.skill.cd,unit:"s"}]},Ye.headerTem("passive2",{fields:[{node:e(Ps.passive2.energyRegen,{name:s("energyRegen")})}]}),Ye.condTem("constellation6",{path:K5,value:yb,name:d("afterUse.skill"),states:{on:{fields:[{text:D(yt,{color:Mm,children:d(`infusion.${Mm}`)})},{text:s("duration"),value:Kl.constellation6.infusionDuration,unit:"s"},{node:e(Ps.constellation6.heal,{name:s("hpRegenPerHit"),variant:"heal"})},{text:s("cd"),value:Kl.constellation6.cd,unit:"s",fixed:1}]}}})]),burst:Ye.talentTem("burst",[{fields:[{node:e(Ps.burst.connectorDmg,{name:Ye.chg("burst.skillParams.0")})},{node:e(Ps.burst.heal,{name:Ye.chg("burst.skillParams.1"),variant:"heal"})},{text:s("energyRegen"),value:t=>t.get($(a.total.burstIndex,Kl.burst.energyRegen)).value,fixed:1},{text:s("duration"),value:Kl.burst.duration,unit:"s"},{text:s("cd"),value:Kl.burst.cd,unit:"s"},{text:s("energyCost"),value:Kl.burst.enerCost}]},Ye.headerTem("constellation2",{fields:[{node:e(Ps.constellation2.dmg,{name:Ye.ch("c2DmgKey")})}]}),Ye.condTem("constellation4",{teamBuff:!0,states:{belowHp:{path:R5,value:Ly,name:Ye.ch("c4ConnectedBelowHp"),fields:[{node:e(Vy,y.info("incHeal_"))}]},belowEner:{path:M5,value:qy,name:Ye.ch("c4ConnectedBelowEner"),fields:[{node:e(Jy,y.info("enerRech_"))}]}}})]),passive1:Ye.talentTem("passive1"),passive2:Ye.talentTem("passive2"),passive3:Ye.talentTem("passive3"),constellation1:Ye.talentTem("constellation1"),constellation2:Ye.talentTem("constellation2"),constellation3:Ye.talentTem("constellation3",[{fields:[{node:Qy}]}]),constellation4:Ye.talentTem("constellation4"),constellation5:Ye.talentTem("constellation5",[{fields:[{node:Xy}]}]),constellation6:Ye.talentTem("constellation6")}},j5=new R(F5,O5),nc="Eula",yh=_.char.data[nc],aa=_.char.skillParam[nc],W=A(nc,yh.weaponType);let lo=0,Ms=0,mm=0,G5=0;const Dl={normal:{hitArr:[aa.auto[lo++],aa.auto[lo++],aa.auto[lo++],aa.auto[lo++],aa.auto[lo++]]},charged:{spinningDmg:aa.auto[lo++],finalDmg:aa.auto[lo++],stamina:aa.auto[lo++][0],duration:aa.auto[lo++][0]},plunging:{dmg:aa.auto[lo++],low:aa.auto[lo++],high:aa.auto[lo++]},skill:{press:aa.skill[Ms++],hold:aa.skill[Ms++],icewhirl:aa.skill[Ms++],physResDec:aa.skill[Ms++],cryoResDec:aa.skill[Ms++],resDecDuration:aa.skill[Ms++][0],pressCd:aa.skill[Ms++][0],holdCd:aa.skill[Ms++][0],defBonus:aa.skill[Ms++][0],unknown:aa.skill[Ms++][0],physResDecNegative:aa.skill[Ms++],cryoResDecNegative:aa.skill[Ms++],grimheartDuration:aa.skill[Ms++][0]},burst:{dmg:aa.burst[mm++],lightfallDmg:aa.burst[mm++],dmgPerStack:aa.burst[mm++],maxStack:aa.burst[mm++][0],cd:aa.burst[mm++][0],enerCost:aa.burst[mm++][0]},passive1:{percentage:aa.passive1[G5++][0]},constellation1:{physInc:aa.constellation1[0]},constellation4:{dmgInc:aa.constellation4[0]}},[z5,Yy]=h(nc,"Grimheart"),[W5,Tb]=h(nc,"grimheartConsumed"),[U5,Zy]=h(nc,"LightfallSword"),[L5,tT]=h(nc,"LightfallSwordC4"),[q5,eT]=h(nc,"TidalIllusion"),aT=At(1,30),lT=m($(a.total.burstIndex,Dl.burst.dmgPerStack,{name:W.ch("burstC.bonusScaling"),unit:"%",variant:"physical"}),w(Zy,C(aT,t=>p(t)),O,{name:W.ch("burstC.name")})),Xk=w(Yy,{stack1:c(Dl.skill.defBonus),stack2:c(2*Dl.skill.defBonus)},O),nT=i("on",Tb,$(a.total.skillIndex,Dl.skill.cryoResDecNegative)),sT=i("on",Tb,$(a.total.skillIndex,Dl.skill.physResDecNegative)),oT=n(a.constellation,1,i("on",eT,c(Dl.constellation1.physInc))),iT=n(a.constellation,4,i(tT,"on",p(Dl.constellation4.dmgInc)),{name:W.ch("c4C.dmgBonus")}),w_={premod:{burst_dmg_:iT},hit:{ele:p("physical")}},js={normal:Object.fromEntries(Dl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Dl.charged.spinningDmg,"charged"),finalDmg:o("atk",Dl.charged.finalDmg,"charged")},plunging:E("atk",Dl.plunging),skill:{press:o("atk",Dl.skill.press,"skill"),hold:o("atk",Dl.skill.hold,"skill"),icewhirl:o("atk",Dl.skill.icewhirl,"skill")},burst:{dmg:o("atk",Dl.burst.dmg,"burst"),lightFallSwordNew:N(m(P($(a.total.burstIndex,Dl.burst.lightfallDmg,{unit:"%"}),lT),a.total.atk),"burst",w_)},passive1:{shatteredLightfallSword:n(a.asc,1,m(o("atk",Dl.burst.lightfallDmg,"burst",w_,c(Dl.passive1.percentage))))}},cT=n(a.constellation,3,3),rT=n(a.constellation,5,3),V5=B(nc,"cryo","mondstadt",yh,js,{premod:{skillBoost:rT,burstBoost:cT,def_:Xk,cryo_enemyRes_:nT,physical_enemyRes_:sT,physical_dmg_:oT}}),J5={key:nc,name:W.name,rarity:yh.rarity,elementKey:"cryo",weaponTypeKey:yh.weaponType,gender:"F",constellationName:W.chg("constellationName"),title:W.chg("title"),talent:{auto:W.talentTem("auto",[{text:W.chg("auto.fields.normal")},{fields:Dl.normal.hitArr.map((t,l)=>({node:e(js.normal[l],{name:W.chg(`auto.skillParams.${l}`),multi:l===2||l===4?2:void 0})}))},{text:W.chg("auto.fields.charged")},{fields:[{node:e(js.charged.spinningDmg,{name:W.chg("auto.skillParams.5")})},{node:e(js.charged.finalDmg,{name:W.chg("auto.skillParams.6")})},{text:W.chg("auto.skillParams.7"),value:Dl.charged.stamina,unit:"/s"},{text:W.chg("auto.skillParams.8"),value:Dl.charged.duration,unit:"s"}]},{text:W.chg("auto.fields.plunging")},{fields:[{node:e(js.plunging.dmg,{name:s("plunging.dmg")})},{node:e(js.plunging.low,{name:s("plunging.low")})},{node:e(js.plunging.high,{name:s("plunging.high")})}]}]),skill:W.talentTem("skill",[{fields:[{node:e(js.skill.press,{name:W.chg("skill.skillParams.0")})},{node:e(js.skill.hold,{name:W.chg("skill.skillParams.1")})},{node:e(js.skill.icewhirl,{name:W.chg("skill.skillParams.2")})},{text:W.chg("skill.skillParams.8"),value:`${Dl.skill.pressCd}`,unit:"s"},{text:s("hold.cd"),value:`${Dl.skill.holdCd}`,unit:"s"},{text:W.chg("burst.skillParams.3"),value:2}]},W.condTem("skill",{value:Yy,path:z5,name:W.chg("skill.description.6"),states:{stack1:{name:d("stack",{count:1}),fields:[{node:Xk},{text:d("incInterRes")},{text:W.chg("skill.skillParams.4"),value:Dl.skill.grimheartDuration,unit:"s"}]},stack2:{name:d("stack",{count:2}),fields:[{node:Xk},{text:d("incInterRes")},{text:W.chg("skill.skillParams.4"),value:Dl.skill.grimheartDuration,unit:"s"}]}}}),W.condTem("skill",{value:Tb,path:W5,teamBuff:!0,name:W.ch("c1C.name"),states:{on:{fields:[{node:nT},{node:sT},{text:s("duration"),value:7,unit:"s"}]}}})]),burst:W.talentTem("burst",[{fields:[{node:e(js.burst.dmg,{name:W.chg("burst.skillParams.0")})},{node:e(js.burst.lightFallSwordNew,{name:W.ch("burstC.dmg")})},{text:s("duration"),value:7,unit:"s"},{text:W.chg("burst.skillParams.4"),value:`${Dl.burst.cd}`,unit:"s"},{text:W.chg("burst.skillParams.5"),value:`${Dl.burst.enerCost}`}]},W.condTem("burst",{value:Zy,path:U5,name:W.ch("burstC.name"),states:{...C(aT,t=>({name:d("stack",{count:t}),fields:[{node:e(lT,{name:W.ch("burstC.bonusScaling"),unit:"%",variant:"physical"})}]}))}}),W.condTem("constellation4",{value:tT,path:L5,name:d("enemyLessPercentHP",{percent:50}),states:{on:{fields:[{node:e(iT,{name:W.ch("c4C.dmgBonus"),unit:"%",variant:"physical"})}]}}}),W.headerTem("constellation6",{fields:[{text:W.ch("burstC.start5")},{text:W.ch("burstC.addStacks")}]})]),passive1:W.talentTem("passive1",[W.fieldsTem("passive1",{fields:[{node:e(js.passive1.shatteredLightfallSword,{name:W.ch("passive1")})}]})]),passive2:W.talentTem("passive2"),passive3:W.talentTem("passive3"),constellation1:W.talentTem("constellation1",[W.condTem("constellation1",{value:eT,path:q5,name:W.ch("c1C.name"),states:{on:{fields:[{node:oT},{text:s("duration"),value:W.ch("c1C.durationStack")}]}}})]),constellation2:W.talentTem("constellation2"),constellation3:W.talentTem("constellation3",[{fields:[{node:cT}]}]),constellation4:W.talentTem("constellation4"),constellation5:W.talentTem("constellation5",[{fields:[{node:rT}]}]),constellation6:W.talentTem("constellation6")}},Q5=new R(J5,V5),tc="Faruzan",$b="anemo",X5="sumeru",Th=_.char.data[tc],$l=_.char.skillParam[tc],Jt=A(tc,Th.weaponType);let vc=0,dg=0,lr=0,Y5=0,A_=0;const zl={normal:{hitArr:[$l.auto[vc++],$l.auto[vc++],$l.auto[vc++],$l.auto[vc++]]},charged:{aimed:$l.auto[vc++],aimedCharged:$l.auto[vc++]},plunging:{dmg:$l.auto[vc++],low:$l.auto[vc++],high:$l.auto[vc++]},skill:{skill_dmg:$l.skill[dg++],vortex_dmg:$l.skill[dg++],galeDuration:$l.skill[dg++][0],cd:$l.skill[dg++][0]},burst:{dmg:$l.burst[lr++],anemo_dmg_:$l.burst[lr++],giftDuration:$l.burst[lr++][0],anemo_enemyRes_:-$l.burst[lr++][0],riftDuration:$l.burst[lr++][0],polyDuration:$l.burst[lr++][0],cd:$l.burst[lr++][0],enerCost:$l.burst[lr++][0]},passive1:{chargeShotDec_:$l.passive1[Y5++][0]},passive2:{gift_dmgInc:$l.passive2[A_++][0],cd:$l.passive2[A_++][0]},constellation2:{durationInc:$l.constellation2[0]},constellation6:{anemo_critDMG_:$l.constellation6[0],duration:$l.constellation6[0]}},[Z5,Hm]=h(tc,"burstBenefit"),dT=i(Hm,"on",$(a.total.burstIndex,zl.burst.anemo_dmg_)),[tR,mT]=h(tc,"burstHit"),uT=i(mT,"on",zl.burst.anemo_enemyRes_),[eR,gT]=h(tc,"a4Active"),[aR,hT]=h(tc,"c6Crit"),pT=n(a.constellation,6,i(Hm,"on",i(hT,"on",zl.constellation6.anemo_critDMG_))),Po={normal:Object.fromEntries(zl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",zl.charged.aimed,"charged"),aimedCharged:o("atk",zl.charged.aimedCharged,"charged",{hit:{ele:p($b)}})},plunging:Object.fromEntries(Object.entries(zl.plunging).map(([t,l])=>[t,o("atk",l,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{skillDmg:o("atk",zl.skill.skill_dmg,"skill"),vortexDmg:o("atk",zl.skill.vortex_dmg,"skill")},burst:{dmg:o("atk",zl.burst.dmg,"burst")},passive2:{anemo_dmgInc:n(a.asc,4,i(Hm,"on",i(gT,"on",m(c(zl.passive2.gift_dmgInc),a.base.atk))))}},kT=n(a.constellation,3,3),fT=n(a.constellation,5,3),lR=B(tc,$b,X5,Th,Po,{premod:{burstBoost:fT,skillBoost:kT},teamBuff:{premod:{anemo_dmgInc:Po.passive2.anemo_dmgInc,anemo_dmg_:dT,anemo_enemyRes_:uT,anemo_critDMG_:pT}}}),nR={key:tc,name:Jt.name,rarity:Th.rarity,elementKey:$b,weaponTypeKey:Th.weaponType,gender:"F",constellationName:Jt.chg("constellationName"),title:Jt.chg("title"),talent:{auto:Jt.talentTem("auto",[{text:Jt.chg("auto.fields.normal")},{fields:zl.normal.hitArr.map((t,l)=>({node:e(Po.normal[l],{name:Jt.chg(`auto.skillParams.${l}`)})}))},{text:Jt.chg("auto.fields.charged")},{fields:[{node:e(Po.charged.aimed,{name:Jt.chg("auto.skillParams.4")})},{node:e(Po.charged.aimedCharged,{name:Jt.chg("auto.skillParams.5")})}]},{text:Jt.chg("auto.fields.plunging")},{fields:[{node:e(Po.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Po.plunging.low,{name:s("plunging.low")})},{node:e(Po.plunging.high,{name:s("plunging.high")})}]}]),skill:Jt.talentTem("skill",[{fields:[{node:e(Po.skill.skillDmg,{name:Jt.chg("skill.skillParams.0")})},{node:e(Po.skill.vortexDmg,{name:Jt.chg("skill.skillParams.1")})},{text:Jt.chg("skill.skillParams.2"),value:zl.skill.galeDuration,unit:"s"},{text:s("cd"),value:zl.skill.cd,unit:"s"}]}]),burst:Jt.talentTem("burst",[{fields:[{node:e(Po.burst.dmg,{name:Jt.chg("burst.skillParams.0")})},{text:Jt.chg("burst.skillParams.5"),value:t=>t.get(a.constellation).value>=2?`${zl.burst.polyDuration}s + ${zl.constellation2.durationInc}s = ${zl.burst.polyDuration+zl.constellation2.durationInc}`:zl.burst.polyDuration,unit:"s"},{text:s("cd"),value:zl.burst.cd,unit:"s"},{text:s("energyCost"),value:zl.burst.enerCost}]},Jt.condTem("burst",{teamBuff:!0,path:Z5,value:Hm,name:Jt.ch("giftCondName"),states:{on:{fields:[{node:dT},{text:Jt.chg("burst.skillParams.2"),value:zl.burst.giftDuration,unit:"s"}]}}}),Jt.condTem("burst",{teamBuff:!0,path:tR,value:mT,name:Jt.ch("baleCondName"),states:{on:{fields:[{node:uT},{text:Jt.chg("burst.skillParams.4"),value:zl.burst.riftDuration,unit:"s"}]}}}),Jt.condTem("passive2",{canShow:i(Hm,"on",1),teamBuff:!0,path:eR,value:gT,name:Jt.ch("a4CondName"),states:{on:{fields:[{node:Po.passive2.anemo_dmgInc},{text:s("cd"),value:zl.passive2.cd,unit:"s",fixed:1}]}}}),Jt.headerTem("constellation2",{fields:[{text:Jt.ch("c2DurationInc"),value:zl.constellation2.durationInc,unit:"s"}]}),Jt.condTem("constellation6",{teamBuff:!0,canShow:i(Hm,"on",1),path:aR,value:hT,name:Jt.ch("giftCondName"),states:{on:{fields:[{node:pT},{canShow:t=>t.get(a.activeCharKey).value===tc,text:Jt.ch("c6Arrow")}]}}})]),passive1:Jt.talentTem("passive1"),passive2:Jt.talentTem("passive2"),passive3:Jt.talentTem("passive3"),constellation1:Jt.talentTem("constellation1"),constellation2:Jt.talentTem("constellation2"),constellation3:Jt.talentTem("constellation3",[{fields:[{node:kT}]}]),constellation4:Jt.talentTem("constellation4"),constellation5:Jt.talentTem("constellation5",[{fields:[{node:fT}]}]),constellation6:Jt.talentTem("constellation6")}},sR=new R(nR,lR),zu="Fischl",bT="electro",oR="mondstadt",$h=_.char.data[zu],jl=_.char.skillParam[zu],Qt=A(zu,$h.weaponType);let Ai=0,mg=0,ik=0,iR=0,cR=0;const fn={normal:{hitArr:[jl.auto[Ai++],jl.auto[Ai++],jl.auto[Ai++],jl.auto[Ai++],jl.auto[Ai++]]},charged:{aimed:jl.auto[Ai++],aimedCharged:jl.auto[Ai++]},plunging:{dmg:jl.auto[Ai++],low:jl.auto[Ai++],high:jl.auto[Ai++]},skill:{ozDmg:jl.skill[mg++],summonDmg:jl.skill[mg++],duration:jl.skill[mg++][0],cd:jl.skill[mg++][0]},burst:{dmg:jl.burst[ik++],cd:jl.burst[ik++][0],enerCost:jl.burst[ik++][0]},passive1:{dmg:jl.passive1[iR++][0]},passive2:{dmg:jl.passive2[cR++][0]},constellation1:{dmg:jl.constellation1[0]},constellation2:{dmg:jl.constellation2[0]},constellation4:{dmg:jl.constellation4[0],regen:jl.constellation4[1]},constellation6:{dmg:jl.constellation6[0],duration:jl.constellation6[1]}},ms={normal:Object.fromEntries(fn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",fn.charged.aimed,"charged"),aimedCharged:o("atk",fn.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})},plunging:E("atk",fn.plunging),skill:{ozDmg:o("atk",fn.skill.ozDmg,"skill"),summonDmg:N(m(e(P($(a.total.skillIndex,fn.skill.summonDmg,{unit:"%"}),n(a.constellation,2,c(fn.constellation2.dmg))),{asConst:!0,unit:"%"}),a.total.atk),"skill",{hit:{ele:p("electro")}})},burst:{dmg:o("atk",fn.burst.dmg,"burst")},passive1:{aimedChargedOz:n(a.asc,1,m(c(fn.passive1.dmg),o("atk",fn.charged.aimedCharged,"charged",{hit:{ele:p("electro")}})))},passive2:{dmg:n(a.asc,4,N(m(a.total.atk,c(fn.passive2.dmg)),"skill",{hit:{ele:p("electro")}}))},constellation1:{dmg:n(a.constellation,1,N(m(a.total.atk,c(fn.constellation1.dmg)),"normal",{hit:{ele:p("physical")}}))},constellation4:{burstAdditionalDmg:n(a.constellation,4,N(m(a.total.atk,c(fn.constellation4.dmg)),"burst",{hit:{ele:p("electro")}})),burstRegen:n(a.constellation,4,zn(m(a.total.hp,c(fn.constellation4.regen))))},constellation6:{ozActiveCharDmg:n(a.constellation,6,N(m(a.total.atk,c(fn.constellation6.dmg)),"skill",{hit:{ele:p("electro")}}))}},vT=n(a.constellation,3,3),_T=n(a.constellation,5,3),rR=B(zu,bT,oR,$h,ms,{premod:{skillBoost:vT,burstBoost:_T}}),dR={key:zu,name:Qt.name,rarity:$h.rarity,elementKey:bT,weaponTypeKey:$h.weaponType,gender:"F",constellationName:Qt.chg("constellationName"),title:Qt.chg("title"),talent:{auto:Qt.talentTem("auto",[{text:Qt.chg("auto.fields.normal")},{fields:fn.normal.hitArr.map((t,l)=>({node:e(ms.normal[l],{name:Qt.chg(`auto.skillParams.${l}`)})}))},{text:Qt.chg("auto.fields.charged")},{fields:[{node:e(ms.charged.aimed,{name:Qt.chg("auto.skillParams.5")})},{node:e(ms.charged.aimedCharged,{name:Qt.chg("auto.skillParams.6")})}]},Qt.headerTem("passive1",{fields:[{node:e(ms.passive1.aimedChargedOz,{name:Qt.ch("a1Name")})}]}),{text:Qt.chg("auto.fields.plunging")},{fields:[{node:e(ms.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ms.plunging.low,{name:s("plunging.low")})},{node:e(ms.plunging.high,{name:s("plunging.high")})}]}]),skill:Qt.talentTem("skill",[{fields:[{node:e(ms.skill.ozDmg,{name:Qt.chg("skill.skillParams.0")})},{node:e(ms.skill.summonDmg,{name:Qt.chg("skill.skillParams.1")})},{text:Qt.chg("skill.skillParams.2"),value:t=>t.get(a.constellation).value>=6?fn.skill.duration+fn.constellation6.duration:fn.skill.duration,unit:"s"},{text:Qt.chg("skill.skillParams.3"),value:fn.skill.cd,unit:"s"}]},Qt.headerTem("passive2",{fields:[{node:e(ms.passive2.dmg,{name:Qt.ch("a2Name")})}]}),Qt.headerTem("constellation2",{canShow:n(a.constellation,2,1),fields:[{text:d("aoeInc"),value:50,unit:"%"}]}),Qt.headerTem("constellation6",{fields:[{node:e(ms.constellation6.ozActiveCharDmg,{name:Qt.ch("c6OzDmg")})}]})]),burst:Qt.talentTem("burst",[{fields:[{node:e(ms.burst.dmg,{name:Qt.chg("burst.skillParams.0")})},{text:Qt.chg("burst.skillParams.1"),value:`${fn.burst.cd}`,unit:"s"},{text:Qt.chg("burst.skillParams.2"),value:`${fn.burst.enerCost}`}]},Qt.headerTem("constellation4",{fields:[{node:e(ms.constellation4.burstAdditionalDmg,{name:Qt.ch("c4AoeDmg")})},{node:e(ms.constellation4.burstRegen,{name:s("healing")})}]})]),passive1:Qt.talentTem("passive1"),passive2:Qt.talentTem("passive2"),passive3:Qt.talentTem("passive3"),constellation1:Qt.talentTem("constellation1",[Qt.fieldsTem("constellation1",{fields:[{node:e(ms.constellation1.dmg,{name:Qt.ch("c1Name")})}]})]),constellation2:Qt.talentTem("constellation2"),constellation3:Qt.talentTem("constellation3",[{fields:[{node:vT}]}]),constellation4:Qt.talentTem("constellation4"),constellation5:Qt.talentTem("constellation5",[{fields:[{node:_T}]}]),constellation6:Qt.talentTem("constellation6")}},mR=new R(dR,rR),Kr="Freminet",Dd=_.char.data[Kr],xt=_.char.skillParam[Kr],gt=A(Kr,Dd.weaponType);let Eo=0,Hs=0,ug=0;const Ze={normal:{hitArr:[xt.auto[Eo++],xt.auto[Eo++],xt.auto[Eo++],xt.auto[Eo++]]},charged:{spin_dmg:xt.auto[Eo++],final_dmg:xt.auto[Eo++],stamina:xt.auto[Eo++][0],duration:xt.auto[Eo++][0]},plunging:{dmg:xt.auto[Eo++],low:xt.auto[Eo++],high:xt.auto[Eo++]},skill:{thrustDmg:xt.skill[Hs++],thornDmg:xt.skill[Hs++],frostDmg:xt.skill[Hs++],level0Dmg:xt.skill[Hs++],level1CryoDmg:xt.skill[Hs++],level1PhysDmg:xt.skill[Hs++],level2CryoDmg:xt.skill[Hs++],level2PhysDmg:xt.skill[Hs++],level3CryoDmg:xt.skill[Hs++],level3PhysDmg:xt.skill[Hs++],level4Dmg:xt.skill[Hs++],cd:xt.skill[Hs++][0],thornInterval:xt.skill[Hs++][0]},burst:{skillDmg:xt.burst[ug++],duration:xt.burst[ug++][0],cd:xt.burst[ug++][0],enerCost:xt.burst[ug++][0]},passive1:{cdDecrease:xt.passive1[0][0]},passive2:{pressure_dmg_:xt.passive2[0][0],duration:xt.passive2[1][0]},constellation1:{pressure_critRate_:xt.constellation1[0]},constellation2:{energyGen:xt.constellation2[0],level4EnergyGen:xt.constellation2[1]},constellation4:{atk_:xt.constellation4[0],duration:xt.constellation4[1],maxStacks:xt.constellation4[2],cd:xt.constellation4[3]},constellation6:{critDMG_:xt.constellation6[0],duration:xt.constellation6[1],maxStacks:xt.constellation6[2],cd:xt.constellation6[3]}},[uR,Yk]=h(Kr,"stalk"),yT=wo(Yk,"on",c(2,{name:gt.ch("frost_dmgMult_")}),St),[gR,TT]=h(Kr,"a4AfterShatter"),$T=n(a.asc,4,i(TT,"on",Ze.passive2.pressure_dmg_)),xT=n(a.constellation,1,Ze.constellation1.pressure_critRate_),[B_,xh]=h(Kr,"c4C6Stacks"),Ph=At(1,Ze.constellation6.maxStacks),PT=n(a.constellation,4,w(xh,C(Ph,t=>m(Ze.constellation4.atk_,Math.min(Ze.constellation4.maxStacks,t))),O)),DT=n(a.constellation,6,w(xh,C(Ph,t=>m(Ze.constellation6.critDMG_,t)),O)),Pu={premod:{skill_dmg_:$T,skill_critRate_:xT}},gg={...Pu,hit:{ele:p("physical")}},Kn={normal:Object.fromEntries(Ze.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Ze.charged.spin_dmg,"charged"),finalDmg:o("atk",Ze.charged.final_dmg,"charged")},plunging:E("atk",Ze.plunging),skill:{thrustDmg:o("atk",Ze.skill.thrustDmg,"skill"),frostDmg:o("atk",Ze.skill.frostDmg,"skill",void 0,yT),level0Dmg:o("atk",Ze.skill.level0Dmg,"skill",Pu),level1CryoDmg:o("atk",Ze.skill.level1CryoDmg,"skill",Pu),level1PhysDmg:o("atk",Ze.skill.level1PhysDmg,"skill",gg),level2CryoDmg:o("atk",Ze.skill.level2CryoDmg,"skill",Pu),level2PhysDmg:o("atk",Ze.skill.level2PhysDmg,"skill",gg),level3CryoDmg:o("atk",Ze.skill.level3CryoDmg,"skill",Pu),level3PhysDmg:o("atk",Ze.skill.level3PhysDmg,"skill",gg),level4Dmg:o("atk",Ze.skill.level4Dmg,"skill",gg),thornDmg:o("atk",Ze.skill.thornDmg,"skill")},burst:{dmg:o("atk",Ze.burst.skillDmg,"burst")}},CT=n(a.constellation,3,3),ST=n(a.constellation,5,3),hR=B(Kr,Dd.ele,Dd.region,Dd,Kn,{premod:{skillBoost:ST,autoBoost:CT,atk_:PT,critDMG_:DT}}),pR={key:Kr,name:gt.name,rarity:Dd.rarity,elementKey:Dd.ele,weaponTypeKey:Dd.weaponType,gender:"M",constellationName:gt.chg("constellationName"),title:gt.chg("title"),talent:{auto:gt.talentTem("auto",[{text:gt.chg("auto.fields.normal")},{fields:Ze.normal.hitArr.map((t,l)=>({node:e(Kn.normal[l],{name:gt.chg(`auto.skillParams.${l}`)})}))},{text:gt.chg("auto.fields.charged")},{fields:[{node:e(Kn.charged.spinningDmg,{name:gt.chg("auto.skillParams.4")})},{node:e(Kn.charged.finalDmg,{name:gt.chg("auto.skillParams.5")})},{text:gt.chg("auto.skillParams.6"),value:Ze.charged.stamina,unit:"/s"},{text:gt.chg("auto.skillParams.7"),value:Ze.charged.duration,unit:"s"}]},{text:gt.chg("auto.fields.plunging")},{fields:[{node:e(Kn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Kn.plunging.low,{name:s("plunging.low")})},{node:e(Kn.plunging.high,{name:s("plunging.high")})}]}]),skill:gt.talentTem("skill",[{fields:[{node:e(Kn.skill.thrustDmg,{name:gt.chg("skill.skillParams.0")})},{node:e(Kn.skill.frostDmg,{name:gt.chg("skill.skillParams.1")})},{node:e(Kn.skill.level0Dmg,{name:gt.chg("skill.skillParams.2")})},{node:e(Kn.skill.level1CryoDmg,{name:gt.chg("skill.skillParams.3")})},{node:e(Kn.skill.level1PhysDmg,{name:gt.chg("skill.skillParams.3")})},{node:e(Kn.skill.level2CryoDmg,{name:gt.chg("skill.skillParams.4")})},{node:e(Kn.skill.level2PhysDmg,{name:gt.chg("skill.skillParams.4")})},{node:e(Kn.skill.level3CryoDmg,{name:gt.chg("skill.skillParams.5")})},{node:e(Kn.skill.level3PhysDmg,{name:gt.chg("skill.skillParams.5")})},{node:e(Kn.skill.level4Dmg,{name:gt.chg("skill.skillParams.6")})},{node:e(Kn.skill.thornDmg,{name:gt.chg("skill.skillParams.7")})},{text:gt.chg("skill.skillParams.8"),value:Ze.skill.thornInterval,unit:"s"},{text:s("cd"),value:t=>t.get(Yk).value==="on"?`${Ze.skill.cd}s - 70% = ${Ze.skill.cd*.3}`:Ze.skill.cd,unit:"s"}]},gt.condTem("passive2",{value:TT,path:gR,name:d("elementalReaction.shatter"),states:{on:{fields:[{node:e($T,{name:gt.ch("pressure_dmg_"),unit:"%"})},{text:s("duration"),value:Ze.passive2.duration,unit:"s"}]}}}),gt.headerTem("constellation1",{fields:[{node:e(xT,{name:gt.ch("pressure_critRate_"),unit:"%",icon:y.info("critRate_").icon})}]})]),burst:gt.talentTem("burst",[{fields:[{node:e(Kn.burst.dmg,{name:gt.chg("burst.skillParams.0")})},{text:s("duration"),value:Ze.burst.duration,unit:"s"},{text:s("cd"),value:Ze.burst.cd,unit:"s"},{text:s("energyCost"),value:Ze.burst.enerCost}]},gt.condTem("burst",{value:Yk,path:uR,name:d("afterUse.burst"),states:{on:{fields:[{text:d("skillCDRed"),value:70,unit:"%"},{node:yT}]}}})]),passive1:gt.talentTem("passive1"),passive2:gt.talentTem("passive2"),passive3:gt.talentTem("passive3"),constellation1:gt.talentTem("constellation1"),constellation2:gt.talentTem("constellation2"),constellation3:gt.talentTem("constellation3",[{fields:[{node:CT}]}]),constellation4:gt.talentTem("constellation4",[gt.condTem("constellation4",{value:xh,path:B_,name:d("elementalReaction.cryo"),states:C(Ph,t=>({name:d("stack",{count:t}),fields:[{node:PT},{text:s("duration"),value:Ze.constellation4.duration,unit:"s"}]}))})]),constellation5:gt.talentTem("constellation5",[{fields:[{node:ST}]}]),constellation6:gt.talentTem("constellation6",[gt.condTem("constellation6",{value:xh,path:B_,name:d("elementalReaction.cryo"),states:C(Ph,t=>({name:d("stack",{count:t}),fields:[{node:DT},{text:s("duration"),value:Ze.constellation4.duration,unit:"s"}]}))})])}},kR=new R(pR,hR),sc="Furina",xr=_.char.data[sc],z=_.char.skillParam[sc],U=A(sc,xr.weaponType);let _c=0,Ko=0,nr=0;const X={normal:{hitArr:[z.auto[_c++],z.auto[_c++],z.auto[_c++],z.auto[_c++]],bladeThornDmg:z.auto[9],bladeThornInterval:z.auto[10][0]},charged:{dmg:z.auto[_c++],stam:z.auto[_c++][0]},plunging:{dmg:z.auto[_c++],low:z.auto[_c++],high:z.auto[_c++]},skill:{bubbleDmg:z.skill[Ko++],duration:z.skill[Ko++][0],usherDmg:z.skill[Ko++],chevalDmg:z.skill[Ko++],crabDmg:z.skill[Ko++],usherHp:z.skill[Ko++][0],chevalHp:z.skill[Ko++][0],crabHp:z.skill[Ko++][0],streamsHealBase:z.skill[Ko++],streamsHealFlat:z.skill[Ko++],cd:z.skill[Ko++][0]},burst:{skillDmg:z.burst[nr++],duration:z.burst[nr++][0],fanfarePerHp:z.burst[nr++][0],maxFanfare:z.burst[nr++][0],dmgIncRatio:z.burst[nr++],heal_ratio:z.burst[nr++],cd:z.burst[nr++][0],enerCost:z.burst[nr++][0]},passive1:{duration:z.passive1[0][0],interval:z.passive1[1][0],heal:z.passive1[2][0]},passive2:{member_dmg_:z.passive2[0][0],max_member_dmg_:z.passive2[1][0],interval_dec_:z.passive2[2][0],max_interval_dec_:z.passive2[3][0]},constellation1:{bonusFanfare:z.constellation1[0],fanfareLimitInc:z.constellation1[1]},constellation2:{idk:z.constellation2[0],hp_:z.constellation2[1],stacks:z.constellation2[2],fanfare_gain_:z.constellation2[3],max_hp_:z.constellation2[4]},constellation4:{energyRegen:z.constellation4[0],cd:z.constellation4[1]},constellation6:{duration:z.constellation6[0],auto_dmgInc:z.constellation6[1],ousiaCd:z.constellation6[2],ousiaHeal:z.constellation6[3],ousiaDuration:z.constellation6[4],pneumaHpCost:z.constellation6[5],pneumaAuto_dmgInc:z.constellation6[6],triggers:z.constellation6[7]}},[fR,wT]=h(sc,"skillHpConsumeStacks"),AT=At(1,4),Wg=w(wT,C(AT,t=>c(1+.1*t)),St),[bR,BT]=h(sc,"burstFanfare"),vR=At(50,X.burst.maxFanfare,50),IT=At(50,X.burst.maxFanfare+X.constellation1.fanfareLimitInc,50),RT=w(BT,C(IT,t=>t>450?n(a.constellation,1,t):p(t)),O),MT=m(RT,$(a.total.burstIndex,X.burst.dmgIncRatio,{unit:"%",fixed:2})),HT=m(RT,$(a.total.burstIndex,X.burst.heal_ratio,{unit:"%",fixed:2})),ET=n(a.asc,4,Il(m(c(X.passive2.member_dmg_),a.total.hp,c(1/1e3)),c(X.passive2.max_member_dmg_))),_R=n(a.asc,4,zm(m(c(-X.passive2.interval_dec_),a.total.hp,c(1/1e3)),c(-X.passive2.max_interval_dec_))),ck={premod:{skill_dmg_:ET}},[yR,KT]=h(sc,"c2Overstack"),NT=At(50,X.constellation2.stacks,50),OT=n(a.constellation,2,w(KT,C(NT,t=>m(t,c(X.constellation2.hp_,{fixed:2}))),O)),[TR,Hu]=h(sc,"c6"),[$R,FT]=h(sc,"c6Pneuma"),xR=wr(a.constellation,6,dn(Hu,"on","hydro")),xb=n(a.constellation,6,i(Hu,"on",m(c(X.constellation6.auto_dmgInc),a.total.hp))),Pb=e({...xb},y.info("normal_dmgInc")),Db=e({...xb},y.info("charged_dmgInc")),Cb=e({...xb},y.info("plunging_dmgInc")),Sb=n(a.constellation,6,i(Hu,"on",i(FT,"on",m(c(X.constellation6.pneumaAuto_dmgInc),a.total.hp)))),jT=e({...Sb},y.info("normal_dmgInc")),GT=e({...Sb},y.info("charged_dmgInc")),zT=e({...Sb},y.info("plunging_dmgInc")),us={normal:{...Object.fromEntries(X.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),thornBladeDmg:o("atk",X.normal.bladeThornDmg,"normal",{hit:{ele:p(xr.ele)}})},charged:{dmg:o("atk",X.charged.dmg,"charged")},plunging:E("atk",X.plunging),skill:{bubbleDmg:o("hp",X.skill.bubbleDmg,"skill"),usherDmg:o("hp",X.skill.usherDmg,"skill",ck,Wg),chevalDmg:o("hp",X.skill.chevalDmg,"skill",ck,Wg),crabDmg:o("hp",X.skill.crabDmg,"skill",ck,Wg),streamsHeal:cl("hp",X.skill.streamsHealBase,X.skill.streamsHealFlat,"skill")},burst:{skillDmg:o("hp",X.burst.skillDmg,"burst")},passive1:{heal:n(a.asc,1,Wn("hp",c(X.passive1.heal),0))},passive2:{member_dmg_:ET},constellation6:{c6_normal_dmgInc:Pb,c6_charged_dmgInc:Db,c6_plunging_dmgInc:Cb,heal:n(a.constellation,6,Wn("hp",c(X.constellation6.ousiaHeal),0))}},WT=n(a.constellation,3,3),UT=n(a.constellation,5,3),PR=B(sc,xr.ele,xr.region,xr,us,{premod:{skillBoost:UT,burstBoost:WT,hp_:OT,normal_dmgInc:P(Pb,jT),charged_dmgInc:P(Db,GT),plunging_dmgInc:Cb,plunging_impact_dmgInc:zT},infusion:{nonOverridableSelf:xR},teamBuff:{premod:{all_dmg_:MT,incHeal_:HT}}}),DR={key:sc,name:U.name,rarity:xr.rarity,elementKey:xr.ele,weaponTypeKey:xr.weaponType,gender:"F",constellationName:U.chg("constellationName"),title:U.chg("title"),talent:{auto:U.talentTem("auto",[{text:U.chg("auto.fields.normal")},{fields:X.normal.hitArr.map((t,l)=>({node:e(us.normal[l],{name:U.chg(`auto.skillParams.${l}`)})}))},{text:U.chg("auto.fields.charged")},{fields:[{node:e(us.charged.dmg,{name:U.chg("auto.skillParams.4")})},{text:U.chg("auto.skillParams.5"),value:X.charged.stam}]},{text:U.chg("auto.fields.arkhe")},{fields:[{node:e(us.normal.thornBladeDmg,{name:U.chg("auto.skillParams.8")})},{text:U.chg("auto.skillParams.9"),value:X.normal.bladeThornInterval,unit:"s"}]},{text:U.chg("auto.fields.plunging")},{fields:[{node:e(us.plunging.dmg,{name:s("plunging.dmg")})},{node:e(us.plunging.low,{name:s("plunging.low")})},{node:e(us.plunging.high,{name:s("plunging.high")})}]},U.condTem("constellation6",{value:Hu,path:TR,name:d("afterUse.skill"),states:{on:{fields:[{text:D(Mp,{color:"hydro",children:d("infusion.hydro")})},{node:Pb},{node:Db},{node:Cb}]}}}),U.condTem("constellation6",{canShow:i(Hu,"on",1),path:$R,value:FT,name:U.ch("c6Pneuma"),states:{on:{fields:[{node:jT},{node:GT},{node:zT}]}}}),U.headerTem("constellation6",{fields:[{node:e(us.constellation6.heal,{name:U.ch("c6Healing")})},{text:d("interval"),value:X.constellation6.ousiaCd,unit:"s"},{text:s("duration"),value:X.constellation6.ousiaDuration,unit:"s"}]})]),skill:U.talentTem("skill",[{fields:[{node:e(us.skill.bubbleDmg,{name:U.chg("skill.skillParams.0")})},{text:s("duration"),value:X.skill.duration,unit:"s"},{node:e(us.skill.usherDmg,{name:U.chg("skill.skillParams.2")})},{node:e(us.skill.chevalDmg,{name:U.chg("skill.skillParams.3")})},{node:e(us.skill.crabDmg,{name:U.chg("skill.skillParams.4")})},{text:U.chg("skill.skillParams.5"),value:X.skill.usherHp*100,unit:d("percentMaxHP"),fixed:1},{text:U.chg("skill.skillParams.6"),value:X.skill.chevalHp*100,unit:d("percentMaxHP"),fixed:1},{text:U.chg("skill.skillParams.7"),value:X.skill.crabHp*100,unit:d("percentMaxHP"),fixed:1},{node:e(us.skill.streamsHeal,{name:U.chg("skill.skillParams.8")})},{text:s("cd"),value:X.skill.cd,unit:"s"}]},U.condTem("skill",{value:wT,path:fR,name:U.ch("numOffer"),states:C(AT,t=>({name:d("members",{count:t}),fields:[{node:e(Wg,{name:U.ch("memberMult_")})}]}))}),U.headerTem("passive2",{fields:[{node:e(us.passive2.member_dmg_,{name:U.ch("a4MemberDmg"),unit:"%"})},{node:e(_R,{name:U.ch("a4HealInterval"),unit:"%"})}]})]),burst:U.talentTem("burst",[{fields:[{node:e(us.burst.skillDmg,{name:U.chg("burst.skillParams.0")})},{text:s("duration"),value:X.burst.duration,unit:"s"},{text:U.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=1?`${X.burst.maxFanfare} + ${X.constellation1.fanfareLimitInc} = ${X.burst.maxFanfare+X.constellation1.fanfareLimitInc}`:X.burst.maxFanfare},{text:s("cd"),value:X.burst.cd,unit:"s"},{text:s("energyCost"),value:X.burst.enerCost}]},U.condTem("burst",{value:BT,path:bR,name:U.ch("fanfarePoints"),teamBuff:!0,states:t=>C(t.get(a.constellation).value>=1?IT:vR,l=>({name:`${l}`,fields:[{node:MT},{node:HT}]}))}),U.headerTem("constellation1",{fields:[{text:U.ch("c1Inc"),value:X.constellation1.fanfareLimitInc},{text:U.ch("c1Bonus"),value:X.constellation1.bonusFanfare}]}),U.condTem("constellation2",{value:KT,path:yR,name:U.ch("c2Points"),teamBuff:!0,states:C(NT,t=>({name:`${t}`,fields:[{node:OT}]}))})]),passive1:U.talentTem("passive1",[{fields:[{node:e(us.passive1.heal,{name:s("contHealing")})},{text:d("interval"),value:X.passive1.interval,unit:"s"},{text:s("duration"),value:X.passive1.duration,unit:"s"}]}]),passive2:U.talentTem("passive2"),passive3:U.talentTem("passive3"),constellation1:U.talentTem("constellation1"),constellation2:U.talentTem("constellation2"),constellation3:U.talentTem("constellation3",[{fields:[{node:WT}]}]),constellation4:U.talentTem("constellation4"),constellation5:U.talentTem("constellation5",[{fields:[{node:UT}]}]),constellation6:U.talentTem("constellation6")}},CR=new R(DR,PR),Jd="Gaming",Cd=_.char.data[Jd],Ka=_.char.skillParam[Jd],He=A(Jd,Cd.weaponType);let No=0,rk=0,tu=0;const Ll={normal:{hitArr:[Ka.auto[No++],Ka.auto[No++],Ka.auto[No++],Ka.auto[No++]]},charged:{cyclicDmg:Ka.auto[No++],finalDmg:Ka.auto[No++],stam:Ka.auto[No++][0],duration:Ka.auto[No++][0]},plunging:{dmg:Ka.auto[No++],low:Ka.auto[No++],high:Ka.auto[No++]},skill:{cloudstriderDmg:Ka.skill[rk++],hpCost:Ka.skill[rk++][0],cd:Ka.skill[rk++][0]},burst:{smashDmg:Ka.burst[tu++],heal:Ka.burst[tu++][0],duration:Ka.burst[tu++][0],cd:Ka.burst[tu++][0],enerCost:Ka.burst[tu++][0]},passive1:{duration:Ka.passive1[0][0],heal:Ka.passive1[1][0]},passive2:{threshold:Ka.passive2[0][0],heal_:Ka.passive2[1][0],cloudstrider_dmg_:Ka.passive2[2][0]},constellation1:{heal:Ka.constellation1[0]},constellation2:{atk_:Ka.constellation2[0],duration:Ka.constellation2[1]},constellation4:{energyRegen:Ka.constellation4[0]},constellation6:{skill_critRate_:Ka.constellation6[0],skill_critDMG_:Ka.constellation6[1]}},SR=m(c(Ll.skill.hpCost),a.total.hp),[wR,wb]=h(Jd,"a4HpState"),LT=n(a.asc,4,i(wb,"below",Ll.passive2.heal_)),qT=n(a.asc,4,i(wb,"above",Ll.passive2.cloudstrider_dmg_)),[AR,VT]=h(Jd,"c2Overheal"),JT=n(a.constellation,2,i(VT,"on",Ll.constellation2.atk_)),QT=n(a.constellation,6,Ll.constellation6.skill_critRate_),XT=n(a.constellation,6,Ll.constellation6.skill_critDMG_),go={normal:{...Object.fromEntries(Ll.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{cyclicDmg:o("atk",Ll.charged.cyclicDmg,"charged"),finalDmg:o("atk",Ll.charged.finalDmg,"charged")},plunging:E("atk",Ll.plunging),skill:{cloudstriderDmg:N(m($(a.total.skillIndex,Ll.skill.cloudstriderDmg,{unit:"%"}),a.total.atk),"plunging_impact",{hit:{ele:p("pyro")},premod:{plunging_dmg_:qT,plunging_critRate_:QT,plunging_critDMG_:XT}})},burst:{smashDmg:o("atk",Ll.burst.smashDmg,"burst"),heal:Wn("hp",c(Ll.burst.heal),0)},passive1:{heal:n(a.asc,1,Wn("hp",c(Ll.passive1.heal),0))},constellation1:{heal:n(a.constellation,1,Wn("hp",c(Ll.constellation1.heal),0))}},YT=n(a.constellation,3,3),ZT=n(a.constellation,5,3),BR=B(Jd,Cd.ele,Cd.region,Cd,go,{premod:{skillBoost:YT,burstBoost:ZT,heal_:LT,atk_:JT}}),IR={key:Jd,name:He.name,rarity:Cd.rarity,elementKey:Cd.ele,weaponTypeKey:Cd.weaponType,gender:"M",constellationName:He.chg("constellationName"),title:He.chg("title"),talent:{auto:He.talentTem("auto",[{text:He.chg("auto.fields.normal")},{fields:Ll.normal.hitArr.map((t,l)=>({node:e(go.normal[l],{name:He.chg(`auto.skillParams.${l}`)})}))},{text:He.chg("auto.fields.charged")},{fields:[{node:e(go.charged.cyclicDmg,{name:He.chg("auto.skillParams.4")})},{node:e(go.charged.finalDmg,{name:He.chg("auto.skillParams.5")})},{text:He.chg("auto.skillParams.6"),value:Ll.charged.stam,unit:"/s"},{text:He.chg("auto.skillParams.7"),value:Ll.charged.duration,unit:"s"}]},{text:He.chg("auto.fields.plunging")},{fields:[{node:e(go.plunging.dmg,{name:s("plunging.dmg")})},{node:e(go.plunging.low,{name:s("plunging.low")})},{node:e(go.plunging.high,{name:s("plunging.high")})}]}]),skill:He.talentTem("skill",[{fields:[{node:e(go.skill.cloudstriderDmg,{name:He.chg("skill.skillParams.0")})},{node:e(SR,{name:He.chg("skill.skillParams.1")})},{text:s("cd"),value:Ll.skill.cd,unit:"s"}]},He.headerTem("constellation6",{fields:[{node:e(QT,{name:He.ch("cloudstrider_critRate_"),unit:"%"})},{node:e(XT,{name:He.ch("cloudstrider_critDMG_"),unit:"%"})}]})]),burst:He.talentTem("burst",[{fields:[{node:e(go.burst.smashDmg,{name:He.chg("burst.skillParams.0")})},{node:e(go.burst.heal,{name:He.chg("burst.skillParams.1")})},{text:He.chg("burst.skillParams.2"),value:Ll.burst.duration,unit:"s"},{text:s("cd"),value:Ll.burst.cd,unit:"s"},{text:s("energyCost"),value:Ll.burst.enerCost}]}]),passive1:He.talentTem("passive1",[He.fieldsTem("passive1",{fields:[{node:e(go.passive1.heal,{name:s("healing")})}]})]),passive2:He.talentTem("passive2",[He.condTem("passive2",{value:wb,path:wR,name:d("percentCurrentHP"),states:{below:{name:d("lessPercentHP",{percent:Ll.passive2.threshold*100}),fields:[{node:LT}]},above:{name:d("greaterEqPercentHP",{percent:Ll.passive2.threshold*100}),fields:[{node:e(qT,{name:He.ch("cloudstrider_dmg_"),unit:"%"})}]}}})]),passive3:He.talentTem("passive3"),constellation1:He.talentTem("constellation1",[He.fieldsTem("constellation1",{fields:[{node:e(go.constellation1.heal,{name:s("healing")})}]})]),constellation2:He.talentTem("constellation2",[He.condTem("constellation2",{path:AR,value:VT,name:d("afterOverflow"),states:{on:{fields:[{node:JT},{text:s("duration"),value:Ll.constellation2.duration,unit:"s"}]}}})]),constellation3:He.talentTem("constellation3",[{fields:[{node:YT}]}]),constellation4:He.talentTem("constellation4"),constellation5:He.talentTem("constellation5",[{fields:[{node:ZT}]}]),constellation6:He.talentTem("constellation6")}},RR=new R(IR,BR),Wc="Ganyu",t$="cryo",MR="liyue",Dh=_.char.data[Wc],xl=_.char.skillParam[Wc],Wt=A(Wc,Dh.weaponType);let Es=0,hg=0,pg=0,I_=0,HR=0;const bn={normal:{hitArr:[xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++],xl.auto[Es++]]},charged:{aimed:xl.auto[Es++],aimedCharged:xl.auto[Es++],frostflake:xl.auto[Es++],frostflakeBloom:xl.auto[Es++]},plunging:{dmg:xl.auto[Es++],low:xl.auto[Es++],high:xl.auto[Es++]},skill:{inheritedHp:xl.skill[hg++],dmg:xl.skill[hg++],duration:xl.skill[hg++][0],cd:xl.skill[hg++][0]},burst:{dmg:xl.burst[pg++],duration:xl.burst[pg++][0],cd:xl.burst[pg++][0],enerCost:xl.burst[pg++][0]},passive1:{duration:xl.passive1[I_++][0],critRateInc:xl.passive1[I_++][0]},passive2:{cryoDmgBonus:xl.passive2[HR++][0]},constellation1:{opCryoRes:xl.constellation1[0],duration:xl.constellation1[1],enerRegen:xl.constellation1[2]}},[ER,Zk]=h(Wc,"A1"),[KR,e$]=h(Wc,"A4"),[NR,a$]=h(Wc,"C1"),[OR,l$]=h(Wc,"C4"),n$=n(a.constellation,1,i("on",a$,c(bn.constellation1.opCryoRes))),s$=n(a.asc,4,i("on",e$,c(bn.passive2.cryoDmgBonus))),FR=i(a.activeCharKey,G.charKey,s$),o$=n(a.constellation,4,w(l$,Object.fromEntries(rl(1,5).map(t=>[t,c(.05*t)])),O)),ho={normal:Object.fromEntries(bn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",bn.charged.aimed,"charged"),aimedCharged:o("atk",bn.charged.aimedCharged,"charged",{hit:{ele:p("cryo")}}),frostflake:o("atk",bn.charged.frostflake,"charged",{premod:{critRate_:n(a.asc,1,i(Zk,"on",c(bn.passive1.critRateInc)))},hit:{ele:p("cryo")}}),frostflakeBloom:o("atk",bn.charged.frostflakeBloom,"charged",{premod:{critRate_:n(a.asc,1,i(Zk,"on",c(bn.passive1.critRateInc)))},hit:{ele:p("cryo")}})},plunging:E("atk",bn.plunging),skill:{inheritedHp:m($(a.total.skillIndex,bn.skill.inheritedHp),a.total.hp),dmg:o("atk",bn.skill.dmg,"skill")},burst:{dmg:o("atk",bn.burst.dmg,"burst")}},i$=n(a.constellation,3,3),c$=n(a.constellation,5,3),jR=B(Wc,t$,MR,Dh,ho,{premod:{skillBoost:c$,burstBoost:i$},teamBuff:{premod:{cryo_dmg_:FR,all_dmg_:o$,cryo_enemyRes_:n$}}}),GR={key:Wc,name:Wt.name,rarity:Dh.rarity,elementKey:t$,weaponTypeKey:Dh.weaponType,gender:"F",constellationName:Wt.chg("constellationName"),title:Wt.chg("title"),talent:{auto:Wt.talentTem("auto",[{text:Wt.chg("auto.fields.normal")},{fields:bn.normal.hitArr.map((t,l)=>({node:e(ho.normal[l],{name:Wt.chg(`auto.skillParams.${l}`)})}))},{text:Wt.chg("auto.fields.charged")},{fields:[{node:e(ho.charged.aimed,{name:Wt.chg("auto.skillParams.6")})},{node:e(ho.charged.aimedCharged,{name:Wt.chg("auto.skillParams.7")})},{node:e(ho.charged.frostflake,{name:Wt.chg("auto.skillParams.8")})},{node:e(ho.charged.frostflakeBloom,{name:Wt.chg("auto.skillParams.9")})}]},Wt.condTem("passive1",{value:Zk,path:ER,name:Wt.ch("a1.condName"),states:{on:{fields:[{text:Wt.ch("a1.critRateInc"),value:bn.passive1.critRateInc*100,unit:"%"},{text:s("duration"),value:`${bn.passive1.duration}s`}]}}}),Wt.condTem("constellation1",{value:a$,path:NR,name:Wt.ch("c1.condName"),teamBuff:!0,states:{on:{fields:[{node:n$},{text:s("duration"),value:`${bn.constellation1.duration}s`}]}}}),{text:Wt.chg("auto.fields.plunging")},{fields:[{node:e(ho.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ho.plunging.low,{name:s("plunging.low")})},{node:e(ho.plunging.high,{name:s("plunging.high")})}]}]),skill:Wt.talentTem("skill",[{fields:[{node:e(ho.skill.inheritedHp,{name:Wt.chg("skill.skillParams.0"),variant:"heal"})},{node:e(ho.skill.dmg,{name:Wt.chg("skill.skillParams.1")})},{text:Wt.chg("skill.skillParams.2"),value:`${bn.skill.duration}s`},{text:Wt.chg("skill.skillParams.3"),value:`${bn.skill.cd}s`},{canShow:t=>t.get(a.constellation).value>=2,text:d("charges"),value:2}]}]),burst:Wt.talentTem("burst",[{fields:[{node:e(ho.burst.dmg,{name:Wt.chg("burst.skillParams.0")})},{text:Wt.chg("burst.skillParams.1"),value:`${bn.burst.duration}s`},{text:Wt.chg("burst.skillParams.2"),value:`${bn.burst.cd}s`},{text:Wt.chg("burst.skillParams.3"),value:`${bn.burst.enerCost}`}]},Wt.condTem("passive2",{value:e$,path:KR,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(s$,y.info("cryo_dmg_"))}]}}}),Wt.condTem("constellation4",{value:l$,path:OR,teamBuff:!0,name:d("opponentsField"),states:Object.fromEntries(rl(1,5).map(t=>[t,{name:d("seconds",{count:(t-1)*3}),fields:[{node:o$},{text:Wt.ch("c4.lingerDuration"),value:3,unit:"s"}]}]))})]),passive1:Wt.talentTem("passive1"),passive2:Wt.talentTem("passive2"),passive3:Wt.talentTem("passive3"),constellation1:Wt.talentTem("constellation1"),constellation2:Wt.talentTem("constellation2",[Wt.fieldsTem("constellation2",{fields:[{text:d("addlCharges"),value:1}]})]),constellation3:Wt.talentTem("constellation3",[{fields:[{node:i$}]}]),constellation4:Wt.talentTem("constellation4"),constellation5:Wt.talentTem("constellation5",[{fields:[{node:c$}]}]),constellation6:Wt.talentTem("constellation6")}},zR=new R(GR,jR),Nr="Gorou",Ab="geo",Ch=_.char.data[Nr],Ya=_.char.skillParam[Nr],Na=A(Nr,Ch.weaponType);let yc=0,eu=0,au=0;const rn={normal:{hitArr:[Ya.auto[yc++],Ya.auto[yc++],Ya.auto[yc++],Ya.auto[yc++]]},charged:{aimed:Ya.auto[yc++],fully:Ya.auto[yc++]},plunging:{dmg:Ya.auto[yc++],low:Ya.auto[yc++],high:Ya.auto[yc++]},skill:{dmg:Ya.skill[eu++],defInc:Ya.skill[eu++],geo_dmg_:Ya.skill[eu++][0],duration:Ya.skill[eu++][0],cd:Ya.skill[eu++][0]},burst:{dmg_def:Ya.burst[au++],crystalDmg_def:Ya.burst[au++],crystalHits:6,duration:Ya.burst[au++][0],cd:Ya.burst[au++][0],enerCost:Ya.burst[au++][0]},passive1:{def_:Ya.passive1[0][0],duration:Ya.passive1[1][0]},passive2:{skill_dmgInc:Ya.passive2[0][0],burst_dmgInc:Ya.passive2[1][0]},constellation4:{heal_def_:Ya.constellation4[0]},constellation6:{geo_critDMG_:[Ya.constellation6[0],Ya.constellation6[1],Ya.constellation6[2],Ya.constellation6[2]],duration:Ya.constellation6[3]}},[WR,Bb]=h(Nr,"inField"),r$=i(Bb,"inField",n(mn.geo,1,$(a.total.skillIndex,rn.skill.defInc))),UR=i(a.activeCharKey,G.charKey,r$),d$=i(Bb,"inField",n(mn.geo,3,rn.skill.geo_dmg_)),LR=i(a.activeCharKey,G.charKey,d$),[qR,m$]=h(Nr,"afterBurst"),u$=n(a.asc,1,i(m$,"afterBurst",rn.passive1.def_)),g$=n(a.asc,4,m(a.total.def,rn.passive2.skill_dmgInc)),h$=n(a.asc,4,m(a.total.def,rn.passive2.burst_dmgInc)),[VR,p$]=h(Nr,"afterSkillBurst"),k$=n(a.constellation,6,i(p$,"afterSkillBurst",$(P(mn.geo,-1),rn.constellation6.geo_critDMG_))),li={normal:Object.fromEntries(rn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",rn.charged.aimed,"charged"),fully:o("atk",rn.charged.fully,"charged",{hit:{ele:p(Ab)}})},plunging:E("atk",rn.plunging),skill:{dmg:o("atk",rn.skill.dmg,"skill")},burst:{dmg:o("def",rn.burst.dmg_def,"burst"),crystalCollapse:o("def",rn.burst.crystalDmg_def,"burst")},constellation4:{heal:n(a.constellation,4,Wn("def",rn.constellation4.heal_def_,0))}},f$=n(a.constellation,3,3),b$=n(a.constellation,5,3),JR=B(Nr,Ab,"inazuma",Ch,li,{teamBuff:{premod:{def:UR,geo_dmg_:LR,def_:u$,geo_critDMG_:k$}},premod:{burstBoost:b$,skillBoost:f$,skill_dmgInc:g$,burst_dmgInc:h$}}),QR={key:Nr,name:Na.name,rarity:Ch.rarity,elementKey:Ab,weaponTypeKey:Ch.weaponType,gender:"M",constellationName:Na.chg("constellationName"),title:Na.chg("title"),talent:{auto:Na.talentTem("auto",[{text:Na.chg("auto.fields.normal")},{fields:rn.normal.hitArr.map((t,l)=>({node:e(li.normal[l],{name:Na.chg(`auto.skillParams.${l}`)})}))},{text:Na.chg("auto.fields.charged")},{fields:[{node:e(li.charged.aimed,{name:Na.chg("auto.skillParams.4")})},{node:e(li.charged.fully,{name:Na.chg("auto.skillParams.5")})}]},{text:Na.chg("auto.fields.plunging")},{fields:[{node:e(li.plunging.dmg,{name:s("plunging.dmg")})},{node:e(li.plunging.low,{name:s("plunging.low")})},{node:e(li.plunging.high,{name:s("plunging.high")})}]}]),skill:Na.talentTem("skill",[{fields:[{node:e(li.skill.dmg,{name:Na.chg("skill.skillParams.0")})},{text:s("duration"),value:rn.skill.duration,unit:"s"},{text:s("cd"),value:rn.skill.cd,unit:"s"}]},Na.condTem("skill",{value:Bb,path:WR,name:d("activeCharField"),teamBuff:!0,states:{inField:{fields:[{node:e(r$,y.info("def"))},{canShow:t=>t.get(mn.geo).value>=2,text:d("incInterRes")},{node:e(d$,y.info("geo_dmg_"))}]}}}),Na.headerTem("passive2",{fields:[{node:g$}]}),Na.headerTem("constellation4",{fields:[{node:e(li.constellation4.heal,{name:s("healing")})}]})]),burst:Na.talentTem("burst",[{fields:[{node:e(li.burst.dmg,{name:Na.chg("burst.skillParams.0")})},{node:e(li.burst.crystalCollapse,{name:Na.chg("burst.skillParams.1"),multi:rn.burst.crystalHits})},{text:s("duration"),value:rn.burst.duration,unit:"s"},{text:s("cd"),value:rn.burst.cd,unit:"s"},{text:s("energyCost"),value:rn.burst.enerCost}]},Na.condTem("passive1",{value:m$,path:qR,name:d("afterUse.burst"),teamBuff:!0,states:{afterBurst:{fields:[{node:u$},{text:s("duration"),value:rn.passive1.duration,unit:"s"}]}}}),Na.headerTem("passive2",{fields:[{node:h$}]})]),passive1:Na.talentTem("passive1"),passive2:Na.talentTem("passive2"),passive3:Na.talentTem("passive3"),constellation1:Na.talentTem("constellation1"),constellation2:Na.talentTem("constellation2"),constellation3:Na.talentTem("constellation3",[{fields:[{node:f$}]}]),constellation4:Na.talentTem("constellation4"),constellation5:Na.talentTem("constellation5",[{fields:[{node:b$}]}]),constellation6:Na.talentTem("constellation6",[Na.condTem("constellation6",{value:p$,path:VR,name:d("afterUse.skillOrBurst"),teamBuff:!0,states:{afterSkillBurst:{fields:[{node:k$},{text:s("duration"),value:rn.constellation6.duration,unit:"s"}]}}})])}},XR=new R(QR,JR),Ao="HuTao",Ib="pyro",Sh=_.char.data[Ao],ye=_.char.skillParam[Ao],mt=A(Ao,Sh.weaponType);let no=0,sd=0,od=0,R_=0,M_=0;const _l={normal:{hitArr:[ye.auto[no++],ye.auto[no++],ye.auto[no++],ye.auto[no++],ye.auto[no++],ye.auto[no++],ye.auto[no++]]},charged:{dmg:ye.auto[no++],stamina:ye.auto[no++][0]},plunging:{dmg:ye.auto[no++],low:ye.auto[no++],high:ye.auto[no++]},skill:{activationCost:ye.skill[sd++][0],atkInc:ye.skill[sd++],dmg:ye.skill[sd++],bloodBlossomDuration:ye.skill[sd++][0],duration:ye.skill[sd++][0],cd:ye.skill[sd++][0],maxAtkInc:ye.skill[sd++][0]},burst:{dmg:ye.burst[od++],lowHpDmg:ye.burst[od++],regen:ye.burst[od++],lowHpRegen:ye.burst[od++],cd:ye.burst[od++][0],enerCost:ye.burst[od++][0],minHp:ye.burst[od++][0]},passive1:{critRateInc:ye.passive1[R_++][0],duration:ye.passive1[R_++][0]},passive2:{minHp:ye.passive2[M_++][0],pyroDmgInc:ye.passive2[M_++][0]},constellation2:{bloodBlossomDmgInc:ye.constellation2[0]},constellation4:{critRateInc:ye.constellation4[0],duration:ye.constellation4[1]},constellation6:{minHp:ye.constellation6[0],duration:ye.constellation6[1],elePhysResInc:ye.constellation6[2],critRateInc:ye.constellation6[3]}},[YR,Rb]=h(Ao,"GuideToAfterlifeVoyage"),Mb=i("on",Rb,Il(m($(a.total.skillIndex,_l.skill.atkInc),a.premod.hp),m(c(_l.skill.maxAtkInc),a.base.atk))),ZR=dn("on",Rb,Ib),[tM,v$]=h(Ao,"FlutterBy"),_$=n(a.asc,1,i("on",v$,c(_l.passive1.critRateInc),{...y.info("critRate_"),isTeamBuff:!0})),eM=j(Ao,G.charKey,_$,{...y.info("critRate_"),isTeamBuff:!0}),[aM,y$]=h(Ao,"SanguineRouge"),T$=n(a.asc,4,i("on",y$,c(_l.passive2.pyroDmgInc))),[lM,$$]=h(Ao,"GardenOfEternalRest"),x$=n(a.constellation,4,i("on",$$,c(_l.constellation4.critRateInc),{...y.info("critRate_"),isTeamBuff:!0})),nM=j(Ao,G.charKey,x$,{...y.info("critRate_"),isTeamBuff:!0}),[sM,Hb]=h(Ao,"ButterflysEmbrace"),P$=n(a.constellation,6,i("on",Hb,c(_l.constellation6.critRateInc))),D$=Object.fromEntries(So.map(t=>[t,n(a.constellation,6,i("on",Hb,c(_l.constellation6.elePhysResInc)))])),Vs={normal:Object.fromEntries(_l.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",_l.charged.dmg,"charged")},plunging:E("atk",_l.plunging),skill:{dmg:o("atk",_l.skill.dmg,"skill"),atk:Mb},burst:{dmg:o("atk",_l.burst.dmg,"burst"),lowHpDmg:o("atk",_l.burst.lowHpDmg,"burst"),regen:zn(m(a.total.hp,$(a.total.burstIndex,_l.burst.regen,{unit:"%"}))),lowHpRegen:zn(m(a.total.hp,$(a.total.burstIndex,_l.burst.lowHpRegen,{unit:"%"})))},constellation2:{skill_dmgInc:n(a.constellation,2,m(a.total.hp,c(_l.constellation2.bloodBlossomDmgInc)))}},C$=n(a.constellation,3,3),S$=n(a.constellation,5,3),oM=B(Ao,Ib,"liyue",Sh,Vs,{premod:{skillBoost:C$,burstBoost:S$,pyro_dmg_:T$,...Object.fromEntries(So.map(t=>[`${t}_res_`,D$[t]])),critRate_:P$,skill_dmgInc:Vs.constellation2.skill_dmgInc},total:{atk:Mb},teamBuff:{premod:{critRate_:P(eM,nM)}},infusion:{nonOverridableSelf:ZR}}),iM={key:Ao,name:mt.name,rarity:Sh.rarity,elementKey:Ib,weaponTypeKey:Sh.weaponType,gender:"F",constellationName:mt.chg("constellationName"),title:mt.chg("title"),talent:{auto:mt.talentTem("auto",[{text:mt.chg("auto.fields.normal")},{fields:_l.normal.hitArr.map((t,l)=>({node:e(Vs.normal[l],{name:mt.chg(`auto.skillParams.${l+(l<5?0:-1)}`),textSuffix:l===4?"(1)":l===5?"(2)":""})}))},{text:mt.chg("auto.fields.charged")},{fields:[{node:e(Vs.charged.dmg,{name:mt.chg("auto.skillParams.6")})},{text:mt.chg("auto.skillParams.7"),value:_l.charged.stamina}]},{text:mt.chg("auto.fields.plunging")},{fields:[{node:e(Vs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Vs.plunging.low,{name:s("plunging.low")})},{node:e(Vs.plunging.high,{name:s("plunging.high")})}]}]),skill:mt.talentTem("skill",[{fields:[{node:e(Vs.skill.dmg,{name:mt.chg("skill.skillParams.2")})},{text:mt.chg("skill.skillParams.3"),value:_l.skill.bloodBlossomDuration,unit:"s"},{text:mt.chg("skill.skillParams.5"),value:_l.skill.cd,unit:"s"}]},mt.condTem("skill",{value:Rb,path:YR,name:mt.ch("paramita.enter"),states:{on:{fields:[{text:mt.chg("skill.skillParams.0"),value:_l.skill.activationCost*100,unit:d("percentCurrentHP")},{node:Mb},{text:d("infusion.pyro"),variant:"pyro"},{text:d("incInterRes")},{text:mt.chg("skill.skillParams.4"),value:_l.skill.duration,unit:"s"}]}}}),mt.headerTem("constellation2",{fields:[{node:Vs.constellation2.skill_dmgInc}]})]),burst:mt.talentTem("burst",[{fields:[{node:e(Vs.burst.dmg,{name:mt.chg("burst.skillParams.0")})},{node:e(Vs.burst.lowHpDmg,{name:mt.chg("burst.skillParams.1")})},{node:e(Vs.burst.regen,{name:mt.chg("burst.skillParams.2")})},{node:e(Vs.burst.lowHpRegen,{name:mt.chg("burst.skillParams.3")})},{text:mt.chg("burst.skillParams.4"),value:_l.burst.cd,unit:"s"},{text:mt.chg("burst.skillParams.5"),value:_l.burst.enerCost}]},mt.headerTem("constellation2",{fields:[{text:mt.ch("constellation2.applyBloodBlossom")}]})]),passive1:mt.talentTem("passive1",[mt.condTem("passive1",{value:v$,path:tM,teamBuff:!0,name:mt.ch("paramita.end"),states:{on:{fields:[{node:_$},{text:s("duration"),value:_l.passive1.duration,unit:"s"}]}}})]),passive2:mt.talentTem("passive2",[mt.condTem("passive2",{value:y$,path:aM,name:d("lessEqPercentHP",{percent:_l.passive2.minHp*100}),states:{on:{fields:[{node:T$}]}}})]),passive3:mt.talentTem("passive3"),constellation1:mt.talentTem("constellation1"),constellation2:mt.talentTem("constellation2"),constellation3:mt.talentTem("constellation3",[{fields:[{node:C$}]}]),constellation4:mt.talentTem("constellation4",[mt.condTem("constellation4",{value:$$,path:lM,teamBuff:!0,name:mt.ch("constellation4.condName"),states:{on:{fields:[{node:x$},{text:s("duration"),value:_l.constellation4.duration,unit:"s"}]}}})]),constellation5:mt.talentTem("constellation5",[{fields:[{node:S$}]}]),constellation6:mt.talentTem("constellation6",[mt.condTem("constellation6",{value:Hb,path:sM,name:mt.ch("constellation6.condName"),states:{on:{fields:[...So.map(t=>({node:D$[t]})),{node:P$},{text:d("incInterRes")},{text:s("duration"),value:_l.constellation6.duration,unit:"s"},{text:s("cd"),value:60,unit:"s"}]}}})])}},cM=new R(iM,oM),Uc="Jean",w$="anemo",rM="mondstadt",wh=_.char.data[Uc],Da=_.char.skillParam[Uc],Xt=A(Uc,wh.weaponType);let Bi=0,kg=0,sr=0,H_=0,dM=0;const Jl={normal:{hitArr:[Da.auto[Bi++],Da.auto[Bi++],Da.auto[Bi++],Da.auto[Bi++],Da.auto[Bi++]]},charged:{dmg:Da.auto[Bi++],stamina:Da.auto[Bi++][0]},plunging:{dmg:Da.auto[Bi++],low:Da.auto[Bi++],high:Da.auto[Bi++]},skill:{dmg:Da.skill[kg++],stamina:Da.skill[kg++][0],duration:Da.skill[kg++][0],cd:Da.skill[kg++][0]},burst:{dmg:Da.burst[sr++],enterExitDmg:Da.burst[sr++],burstActivationAtkModifier:Da.burst[sr++],burstActionFlatModifier:Da.burst[sr++],burstRegenAtkModifier:Da.burst[sr++],burstRegenFlatModifier:Da.burst[sr++],cd:Da.burst[sr++][0],enerCost:Da.burst[sr++][0]},passive1:{chance:Da.passive1[H_++][0],atkPercentage:Da.passive1[H_++][0]},passive2:{energyRegen:Da.passive2[dM++][0]},constellation1:{increaseDmg:Da.constellation1[0]},constellation2:{moveSpd:Da.constellation2[0],atkSpd:Da.constellation2[1],duration:Da.constellation2[2]},constellation4:{anemoRes:Da.constellation4[0]},constellation6:{dmgReduction:Da.constellation6[0]}},mM=cl("atk",Jl.burst.burstActivationAtkModifier,Jl.burst.burstActionFlatModifier,"burst"),uM=cl("atk",Jl.burst.burstRegenAtkModifier,Jl.burst.burstRegenFlatModifier,"burst"),gM=n(a.asc,1,zn(m(c(Jl.passive1.atkPercentage),a.total.atk))),[hM,A$]=h(Uc,"c1"),B$=n(a.constellation,1,i(A$,"on",Jl.constellation1.increaseDmg)),[pM,Eb]=h(Uc,"c2"),I$=n(a.constellation,2,i(Eb,"on",c(Jl.constellation2.atkSpd))),R$=n(a.constellation,2,i(Eb,"on",c(Jl.constellation2.moveSpd))),[kM,M$]=h(Uc,"c4"),H$=n(a.constellation,4,i(M$,"on",c(-Math.abs(Jl.constellation4.anemoRes)))),[fM,E$]=h(Uc,"c6"),K$=n(a.constellation,6,i(E$,"on",c(Jl.constellation6.dmgReduction))),bM=i(a.activeCharKey,G.charKey,K$),po={normal:Object.fromEntries(Jl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Jl.charged.dmg,"charged")},plunging:E("atk",Jl.plunging),skill:{dmg:o("atk",Jl.skill.dmg,"skill")},burst:{dmg:o("atk",Jl.burst.dmg,"burst"),enterExitDmg:o("atk",Jl.burst.enterExitDmg,"burst"),regen:mM,contRegen:uM},passive1:{a1Regen:gM}},N$=n(a.constellation,3,3),O$=n(a.constellation,5,3),vM=B(Uc,w$,rM,wh,po,{premod:{skillBoost:O$,burstBoost:N$,skill_dmg_:B$},teamBuff:{premod:{atkSPD_:I$,moveSPD_:R$,anemo_enemyRes_:H$,dmgRed_:bM}}}),_M={key:Uc,name:Xt.name,rarity:wh.rarity,elementKey:w$,weaponTypeKey:wh.weaponType,gender:"F",constellationName:Xt.chg("constellationName"),title:Xt.chg("title"),talent:{auto:Xt.talentTem("auto",[{text:Xt.chg("auto.fields.normal")},{fields:Jl.normal.hitArr.map((t,l)=>({node:e(po.normal[l],{name:Xt.chg(`auto.skillParams.${l}`)})}))},{text:Xt.chg("auto.fields.charged")},{fields:[{node:e(po.charged.dmg,{name:Xt.chg("auto.skillParams.5")})},{text:Xt.chg("auto.skillParams.6"),value:Jl.charged.stamina}]},{text:Xt.chg("auto.fields.plunging")},{fields:[{node:e(po.plunging.dmg,{name:s("plunging.dmg")})},{node:e(po.plunging.low,{name:s("plunging.low")})},{node:e(po.plunging.high,{name:s("plunging.high")})}]}]),skill:Xt.talentTem("skill",[{fields:[{node:e(po.skill.dmg,{name:Xt.chg("skill.skillParams.0")})},{text:Xt.chg("skill.skillParams.1"),value:`${Jl.skill.stamina}`,unit:"/s"},{text:Xt.chg("skill.skillParams.2"),value:`${Jl.skill.duration}`,unit:"s"},{text:Xt.chg("skill.skillParams.3"),value:`${Jl.skill.cd}`,unit:"s"}]},Xt.condTem("constellation1",{value:A$,path:hM,name:Xt.ch("c1CondName"),states:{on:{fields:[{text:Xt.ch("c1PullSpeed")},{node:B$}]}}})]),burst:Xt.talentTem("burst",[{fields:[{node:e(po.burst.dmg,{name:Xt.chg("burst.skillParams.0")})},{node:e(po.burst.enterExitDmg,{name:Xt.chg("burst.skillParams.1")})},{node:e(po.burst.regen,{name:Xt.chg("burst.skillParams.2")})},{node:e(po.burst.contRegen,{name:Xt.chg("burst.skillParams.3")})},{text:s("duration"),value:11,unit:"s"},{text:Xt.chg("burst.skillParams.4"),value:`${Jl.burst.cd}`,unit:"s"},{text:Xt.chg("burst.skillParams.5"),value:`${Jl.burst.enerCost}`}]},Xt.condTem("constellation4",{value:M$,path:kM,teamBuff:!0,name:d("opponentsField"),states:{on:{fields:[{node:H$}]}}}),Xt.condTem("constellation6",{value:E$,path:fM,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(K$,y.info("dmgRed_"))}]}}})]),passive1:Xt.talentTem("passive1",[Xt.fieldsTem("passive1",{fields:[{node:e(po.passive1.a1Regen,{name:s("healing")})}]})]),passive2:Xt.talentTem("passive2",[Xt.fieldsTem("passive2",{fields:[{text:s("energyRegen"),value:Jl.passive2.energyRegen}]})]),passive3:Xt.talentTem("passive3"),constellation1:Xt.talentTem("constellation1"),constellation2:Xt.talentTem("constellation2",[Xt.condTem("constellation2",{value:Eb,path:pM,teamBuff:!0,name:d("getElementalOrbParticle"),states:{on:{fields:[{node:I$},{node:R$},{text:s("duration"),value:Jl.constellation2.duration,unit:"s"}]}}})]),constellation3:Xt.talentTem("constellation3",[{fields:[{node:N$}]}]),constellation4:Xt.talentTem("constellation4"),constellation5:Xt.talentTem("constellation5",[{fields:[{node:O$}]}]),constellation6:Xt.talentTem("constellation6")}},yM=new R(_M,vM),Is="KaedeharaKazuha",dk="anemo",Ah=_.char.data[Is],hl=_.char.skillParam[Is],st=A(Is,Ah.weaponType);let so=0,fg=0,um=0,TM=0,E_=0;const qa={normal:{hitArr:[hl.auto[so++],hl.auto[so++],hl.auto[so++],hl.auto[so++],hl.auto[so++],hl.auto[so++]]},charged:{dmg1:hl.auto[so++],dmg2:hl.auto[so++],stamina:hl.auto[so++][0]},plunging:{dmg:hl.auto[so++],low:hl.auto[so++],high:hl.auto[so++]},skill:{press:hl.skill[fg++],cd:hl.skill[fg++][0],hold:hl.skill[fg++],cdHold:hl.skill[fg++][0]},burst:{dmg:hl.burst[um++],dot:hl.burst[um++],add:hl.burst[um++],duration:hl.burst[um++][0],cd:hl.burst[um++][0],enerCost:hl.burst[um++][0]},passive1:{absorbAdd:hl.passive1[TM++][0]},passive2:{elemas_dmg_:hl.passive2[E_++][0],duration:hl.passive2[E_++][0]},constellation2:{elemas:hl.constellation2[0]},constellation6:{auto_:hl.constellation6[0],duration:hl.constellation6[1]}},[$M,tf]=h(Is,"burstAbsorption"),[xM,ef]=h(Is,"skillAbsorption"),F$=Object.fromEntries(il.map(t=>[t,[Is,`swirl${t}`]])),af=Object.fromEntries(il.map(t=>[t,zf(F$[t])])),Kb=Object.fromEntries(il.map(t=>[`${t}_dmg_`,n(a.asc,4,i(t,af[t],m(c(qa.passive2.elemas_dmg_,{fixed:2}),a.premod.eleMas)))])),[K_,lf]=h(Is,"c2"),nf=n(a.constellation,2,i("c2",lf,qa.constellation2.elemas)),[PM,j$]=h(Is,"c2p"),G$=n(a.constellation,2,i("c2p",j$,qa.constellation2.elemas)),DM=i(a.activeCharKey,G.charKey,j(G.charKey,Is,G$)),[CM,Nb]=h(Is,"c6"),z$=wr(a.constellation,6,dn("c6",Nb,"anemo")),Ob=n(a.constellation,6,i("c6",Nb,m(c(qa.constellation6.auto_),a.premod.eleMas))),Fb={...Ob},jb={...Ob},Gb={...Ob},W$=c(.2),gs={normal:Object.fromEntries(qa.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",qa.charged.dmg1,"charged"),dmg2:o("atk",qa.charged.dmg2,"charged")},plunging:E("atk",qa.plunging),skill:{press:o("atk",qa.skill.press,"skill"),hold:o("atk",qa.skill.hold,"skill"),pdmg:o("atk",qa.plunging.dmg,"plunging_collision",{hit:{ele:p("anemo")}}),plow:o("atk",qa.plunging.low,"plunging_impact",{hit:{ele:p("anemo")}}),phigh:o("atk",qa.plunging.high,"plunging_impact",{hit:{ele:p("anemo")}})},burst:{dmg:o("atk",qa.burst.dmg,"burst"),dot:o("atk",qa.burst.dot,"burst"),absorb:j(tf,void 0,o("atk",qa.burst.add,"burst",{hit:{ele:tf}}))},passive1:{absorb:n(a.asc,1,j(ef,void 0,N(m(a.total.atk,qa.passive1.absorbAdd),"plunging_impact",{hit:{ele:ef}})))},passive2:Kb,constellation6:{normal_dmg_:Fb,charged_dmg_:jb,plunging_dmg_:Gb}},U$=n(a.constellation,3,3),L$=n(a.constellation,5,3),SM=B(Is,"anemo","inazuma",Ah,gs,{teamBuff:{premod:{staminaSprintDec_:W$,eleMas:DM},total:{...Kb}},infusion:{overridableSelf:z$},total:{normal_dmg_:Fb,charged_dmg_:jb,plunging_dmg_:Gb},premod:{skillBoost:U$,burstBoost:L$,eleMas:nf}}),wM={key:Is,name:st.name,rarity:Ah.rarity,elementKey:dk,weaponTypeKey:Ah.weaponType,gender:"M",constellationName:st.chg("constellationName"),title:st.chg("title"),talent:{auto:st.talentTem("auto",[{text:st.chg("auto.fields.normal")},{fields:qa.normal.hitArr.map((t,l)=>({node:e(gs.normal[l],{name:st.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2?"(1)":l===3?"(2)":"",multi:l===5?3:void 0})}))},{text:st.chg("auto.fields.charged")},{fields:[{node:e(gs.charged.dmg1,{name:st.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(gs.charged.dmg2,{name:st.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:st.chg("auto.skillParams.6"),value:qa.charged.stamina}]},{text:st.chg("auto.fields.plunging")},{fields:[{node:e(gs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(gs.plunging.low,{name:s("plunging.low")})},{node:e(gs.plunging.high,{name:s("plunging.high")})}]}]),skill:st.talentTem("skill",[{fields:[{node:e(gs.skill.press,{name:st.chg("skill.skillParams.0")})},{text:st.chg("skill.skillParams.1"),value:t=>t.get(a.constellation).value>=1?`${qa.skill.cd} - 10% = ${qa.skill.cd*(1-.1)}`:`${qa.skill.cd}`,unit:"s"},{node:e(gs.skill.hold,{name:st.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:t=>t.get(a.constellation).value>=1?`${qa.skill.cdHold} - 10% = ${qa.skill.cdHold*(1-.1)}`:`${qa.skill.cdHold}`,unit:"s"}]},st.fieldsTem("skill",{fields:[{node:e(gs.skill.pdmg,{name:s("plunging.dmg")})},{node:e(gs.skill.plow,{name:s("plunging.low")})},{node:e(gs.skill.phigh,{name:s("plunging.high")})}]}),st.condTem("passive1",{value:ef,path:xM,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(gs.passive1.absorb,{name:s("addEleDMG")})}]}]))}),st.headerTem("constellation1",{fields:[{node:e(n(a.constellation,1,c(.1)),y.info("skillCDRed_"))},{text:st.ch("c1")}]})]),burst:st.talentTem("burst",[{fields:[{node:e(gs.burst.dmg,{name:st.chg("burst.skillParams.0")})},{node:e(gs.burst.dot,{name:st.chg("burst.skillParams.1")})},{text:st.chg("burst.skillParams.3"),value:qa.burst.duration,unit:"s"},{text:st.chg("burst.skillParams.4"),value:qa.burst.cd,unit:"s"},{text:st.chg("burst.skillParams.5"),value:qa.burst.enerCost}]},st.condTem("burst",{value:tf,path:$M,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(gs.burst.absorb,{name:st.chg("burst.skillParams.2")})}]}]))}),st.condTem("constellation2",{value:lf,path:K_,name:st.ch("c2"),states:{c2:{fields:[{node:nf}]}}}),st.condTem("constellation2",{canShow:j(a.activeCharKey,Is,1),value:j$,path:PM,teamBuff:!0,name:d("activeCharField"),states:{c2p:{fields:[{node:e(G$,{...y.info("eleMas"),isTeamBuff:!0})}]}}})]),passive1:st.talentTem("passive1"),passive2:st.talentTem("passive2",[st.condTem("passive2",{teamBuff:!0,states:Object.fromEntries(il.map(t=>[t,{value:af[t],path:F$[t],name:d(`swirlReaction.${t}`),fields:[{node:Kb[`${t}_dmg_`]},{text:d(`effectDuration.${t}`),value:qa.passive2.duration,unit:"s"}]}]))}),st.condTem("constellation2",{value:lf,path:K_,teamBuff:!0,canShow:j(a.activeCharKey,Is,n(a.asc,4,P(...Object.values(af).map(t=>j(t,void 0,1))))),name:st.ch("c2"),states:{c2:{fields:[{node:nf}]}}})]),passive3:st.talentTem("passive3",[st.headerTem("passive3",{teamBuff:!0,fields:[{node:W$}]})]),constellation1:st.talentTem("constellation1"),constellation2:st.talentTem("constellation2"),constellation3:st.talentTem("constellation3",[{fields:[{node:U$}]}]),constellation4:st.talentTem("constellation4"),constellation5:st.talentTem("constellation5",[{fields:[{node:L$}]}]),constellation6:st.talentTem("constellation6",[st.condTem("constellation6",{value:Nb,path:CM,name:st.ch("c6.after"),states:{c6:{fields:[{canShow:t=>t.get(z$).value===dk,text:D(yt,{color:dk,children:d("infusion.anemo")})},{node:Fb},{node:jb},{node:Gb},{text:s("duration"),value:qa.constellation6.duration,unit:"s"}]}}})])}},AM=new R(wM,SM),Wm="Kaeya",q$="cryo",BM="mondstadt",Bh=_.char.data[Wm],Yn=_.char.skillParam[Wm],Ge=A(Wm,Bh.weaponType);let Oo=0,N_=0,bg=0;const jn={normal:{hitArr:[Yn.auto[Oo++],Yn.auto[Oo++],Yn.auto[Oo++],Yn.auto[Oo++],Yn.auto[Oo++]]},charged:{dmg1:Yn.auto[Oo++],dmg2:Yn.auto[Oo++],stamina:Yn.auto[Oo++][0]},plunging:{dmg:Yn.auto[Oo++],low:Yn.auto[Oo++],high:Yn.auto[Oo++]},skill:{dmg:Yn.skill[N_++],cd:Yn.skill[N_++][0]},burst:{dmg:Yn.burst[bg++],cd:Yn.burst[bg++][0],duration:Yn.burst[bg++][0],enerCost:Yn.burst[bg++][0]},passive2:{healAtk_:.15},constellation1:{critRate_:.15},constellation4:{shieldHp_:.3,duration:20,cooldown:60}},ko={normal:Object.fromEntries(jn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",jn.charged.dmg1,"charged"),dmg2:o("atk",jn.charged.dmg2,"charged")},plunging:E("atk",jn.plunging),skill:{dmg:o("atk",jn.skill.dmg,"skill")},burst:{dmg:o("atk",jn.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,Wn("atk",c(jn.passive2.healAtk_),0))},constellation4:{shield:n(a.constellation,4,Mu("hp",c(jn.constellation4.shieldHp_),0)),cryoShield:n(a.constellation,4,tn("cryo",Mu("hp",c(jn.constellation4.shieldHp_),0)))}},V$=n(a.constellation,3,3),J$=n(a.constellation,5,3),[IM,zb]=h(Wm,"CryoC1"),Q$=n(a.constellation,1,i(zb,"on",jn.constellation1.critRate_)),X$=n(a.constellation,1,i(zb,"on",jn.constellation1.critRate_)),RM=B(Wm,q$,BM,Bh,ko,{premod:{skillBoost:V$,burstBoost:J$,normal_critRate_:Q$,charged_critRate_:X$}}),MM={key:Wm,name:Ge.name,rarity:Bh.rarity,elementKey:q$,weaponTypeKey:Bh.weaponType,gender:"M",constellationName:Ge.chg("constellationName"),title:Ge.chg("title"),talent:{auto:Ge.talentTem("auto",[{text:Ge.chg("auto.fields.normal")},{fields:jn.normal.hitArr.map((t,l)=>({node:e(ko.normal[l],{name:Ge.chg(`auto.skillParams.${l}`)})}))},{text:Ge.chg("auto.fields.charged")},{fields:[{node:e(ko.charged.dmg1,{name:Ge.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(ko.charged.dmg2,{name:Ge.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:Ge.chg("auto.skillParams.7"),value:jn.charged.stamina}]},{text:Ge.chg("auto.fields.plunging")},{fields:[{node:e(ko.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ko.plunging.low,{name:s("plunging.low")})},{node:e(ko.plunging.high,{name:s("plunging.high")})}]}]),skill:Ge.talentTem("skill",[{fields:[{node:e(ko.skill.dmg,{name:Ge.chg("skill.skillParams.0")})},{text:Ge.chg("skill.skillParams.1"),value:jn.skill.cd,unit:"s"}]}]),burst:Ge.talentTem("burst",[{fields:[{node:e(ko.burst.dmg,{name:Ge.chg("burst.skillParams.0")})},{canShow:t=>t.get(a.constellation).value<2,text:Ge.chg("burst.skillParams.2"),value:jn.burst.duration,unit:"s"},{canShow:t=>t.get(a.constellation).value>=2,text:Ge.chg("burst.skillParams.2"),value:Ge.ch("c2burstDuration")},{text:Ge.chg("burst.skillParams.1"),value:jn.burst.cd,unit:"s"},{text:Ge.chg("burst.skillParams.3"),value:jn.burst.enerCost}]}]),passive1:Ge.talentTem("passive1",[Ge.headerTem("passive1",{fields:[{node:e(ko.passive1.heal,{name:s("healing")})}]})]),passive2:Ge.talentTem("passive2"),passive3:Ge.talentTem("passive3"),constellation1:Ge.talentTem("constellation1",[Ge.condTem("constellation1",{value:zb,path:IM,name:d("enemyAffected.cryo"),states:{on:{fields:[{node:Q$},{node:X$}]}}})]),constellation2:Ge.talentTem("constellation2"),constellation3:Ge.talentTem("constellation3",[{fields:[{node:V$}]}]),constellation4:Ge.talentTem("constellation4",[Ge.fieldsTem("constellation4",{fields:[{node:e(ko.constellation4.shield,{name:d("dmgAbsorption.none")})},{node:e(ko.constellation4.cryoShield,{name:d("dmgAbsorption.cryo")})},{text:Ge.chg("burst.skillParams.2"),value:jn.constellation4.duration,unit:"s"},{text:Ge.chg("burst.skillParams.1"),value:jn.constellation4.cooldown,unit:"s"}]})]),constellation5:Ge.talentTem("constellation5",[{fields:[{node:J$}]}]),constellation6:Ge.talentTem("constellation6")}},HM=new R(MM,RM),oc="KamisatoAyaka",Ih="cryo",Rh=_.char.data[oc],Ee=_.char.skillParam[oc],Te=A(oc,Rh.weaponType);let Ii=0,O_=0,lu=0,mk=0,F_=0,uk=0;var C1,S1,w1,A1,B1,I1;const bl={normal:{hitArr:[Ee.auto[Ii++],Ee.auto[Ii++],Ee.auto[Ii++],Ee.auto[Ii++],Ee.auto[Ii++]]},charged:{dmg1:Ee.auto[Ii++],stamina:Ee.auto[Ii++][0]},plunging:{dmg:Ee.auto[Ii++],low:Ee.auto[Ii++],high:Ee.auto[Ii++]},skill:{press:Ee.skill[O_++],cd:Ee.skill[O_++][0]},burst:{cutDmg:Ee.burst[lu++],bloomDmg:Ee.burst[lu++],duration:Ee.burst[lu++][0],cd:Ee.burst[lu++][0],enerCost:Ee.burst[lu++][0]},sprint:{active_stam:(S1=(C1=Ee==null?void 0:Ee.sprint)==null?void 0:C1[mk++])==null?void 0:S1[0],drain_stam:(A1=(w1=Ee==null?void 0:Ee.sprint)==null?void 0:w1[mk++])==null?void 0:A1[0],duration:(I1=(B1=Ee==null?void 0:Ee.sprint)==null?void 0:B1[mk++])==null?void 0:I1[0]},passive1:{dmg_bonus:Ee.passive1[F_++][0],duration:Ee.passive1[F_++][0]},passive2:{stamina:Ee.passive2[uk++][0],cryo:Ee.passive2[uk++][0],duration:Ee.passive2[uk++][0]},constellation2:{snowflake:Ee.constellation2[0]},constellation4:{def_red:Ee.constellation4[0],duration:Ee.constellation4[1]},constellation6:{cd:Ee.constellation6[0],charged_bonus:Ee.constellation6[1]}},[EM,Y$]=h(oc,"afterSprint"),Z$=dn("afterSprint",Y$,Ih),[KM,Wb]=h(oc,"afterSkillA1"),tx=n(a.asc,1,i("afterSkill",Wb,c(bl.passive1.dmg_bonus))),ex=n(a.asc,1,i("afterSkill",Wb,c(bl.passive1.dmg_bonus),y.info("charged_dmg_"))),[NM,ax]=h(oc,"afterApplySprint"),lx=n(a.asc,4,i("afterApplySprint",ax,c(bl.passive2.cryo))),[OM,nx]=h(oc,"afterBurst"),sx=n(a.constellation,4,i("c4",nx,bl.constellation4.def_red)),[FM,ox]=h(oc,"C6"),ix=n(a.constellation,6,i("c6",ox,bl.constellation6.charged_bonus),y.info("charged_dmg_")),ni={normal:Object.fromEntries(bl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",bl.charged.dmg1,"charged")},plunging:E("atk",bl.plunging),skill:{press:o("atk",bl.skill.press,"skill")},burst:{cutting:o("atk",bl.burst.cutDmg,"burst"),bloom:o("atk",bl.burst.bloomDmg,"burst")},constellation2:{dmg:n(a.constellation,2,o("atk",bl.burst.cutDmg,"burst",void 0,c(bl.constellation2.snowflake))),bloom:n(a.constellation,2,o("atk",bl.burst.bloomDmg,"burst",void 0,c(bl.constellation2.snowflake)))}},cx=n(a.constellation,3,3),rx=n(a.constellation,5,3),jM=B(oc,Ih,"inazuma",Rh,ni,{teamBuff:{premod:{enemyDefRed_:sx}},infusion:{overridableSelf:Z$},premod:{skillBoost:rx,burstBoost:cx,normal_dmg_:tx,charged_dmg_:P(ex,ix),cryo_dmg_:lx}}),GM={key:oc,name:Te.name,rarity:Rh.rarity,elementKey:Ih,weaponTypeKey:Rh.weaponType,gender:"F",constellationName:Te.chg("constellationName"),title:Te.chg("title"),talent:{auto:Te.talentTem("auto",[{text:Te.chg("auto.fields.normal")},{fields:bl.normal.hitArr.map((t,l)=>({node:e(ni.normal[l],{name:Te.chg(`auto.skillParams.${l}`),multi:l===3?3:void 0})}))},{text:Te.chg("auto.fields.charged")},{fields:[{node:e(ni.charged.dmg1,{name:Te.chg("auto.skillParams.5"),multi:3})},{text:Te.chg("auto.skillParams.6"),value:bl.charged.stamina}]},{text:Te.chg("auto.fields.plunging")},{fields:[{node:e(ni.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ni.plunging.low,{name:s("plunging.low")})},{node:e(ni.plunging.high,{name:s("plunging.high")})}]}]),skill:Te.talentTem("skill",[{fields:[{node:e(ni.skill.press,{name:Te.chg("skill.skillParams.0")})},{text:Te.chg("skill.skillParams.1"),value:bl.skill.cd,unit:"s"}]},Te.condTem("passive1",{value:Wb,path:KM,name:d("afterUse.skill"),states:{afterSkill:{fields:[{node:tx},{node:ex},{text:s("duration"),value:bl.passive1.duration,unit:"s"}]}}})]),burst:Te.talentTem("burst",[{fields:[{node:e(ni.burst.cutting,{name:Te.chg("burst.skillParams.0"),multi:19})},{node:e(ni.burst.bloom,{name:Te.chg("burst.skillParams.1")})},{text:s("duration"),value:bl.burst.duration,unit:"s"},{text:s("cd"),value:bl.burst.cd,unit:"s"},{text:s("energyCost"),value:bl.burst.enerCost}]},Te.headerTem("constellation2",{fields:[{node:e(ni.constellation2.dmg,{name:Te.chg("burst.skillParams.0"),multi:38})},{node:e(ni.constellation2.bloom,{name:Te.chg("burst.skillParams.1"),multi:2})}]}),Te.condTem("constellation4",{teamBuff:!0,value:nx,path:OM,name:Te.ch("dmgBySnowflake"),states:{c4:{fields:[{node:sx},{text:s("duration"),value:"6s"}]}}})]),sprint:Te.talentTem("sprint",[{fields:[{text:d("activationStam"),value:bl.sprint.active_stam},{text:d("stamDrain"),value:bl.sprint.drain_stam,unit:"/s"}]},Te.condTem("sprint",{value:Y$,path:EM,name:d("afterSprint"),states:{afterSprint:{fields:[{canShow:t=>t.get(Z$).value===Ih,text:D(yt,{color:"cryo",children:d("infusion.cryo")})},{text:s("duration"),value:bl.sprint.duration,unit:"s"}]}}}),Te.condTem("passive2",{value:ax,path:NM,name:Te.ch("afterSprintCryo"),states:{afterApplySprint:{fields:[{text:d("stamRestored"),value:bl.passive2.stamina},{node:lx},{text:s("duration"),value:bl.passive2.duration,unit:"s"}]}}})]),passive1:Te.talentTem("passive1"),passive2:Te.talentTem("passive2"),passive3:Te.talentTem("passive3"),constellation1:Te.talentTem("constellation1"),constellation2:Te.talentTem("constellation2"),constellation3:Te.talentTem("constellation3",[{fields:[{node:cx}]}]),constellation4:Te.talentTem("constellation4"),constellation5:Te.talentTem("constellation5",[{fields:[{node:rx}]}]),constellation6:Te.talentTem("constellation6",[Te.condTem("constellation6",{value:ox,path:FM,name:Te.ch("c6Active"),states:{c6:{fields:[{node:ix},{text:s("cd"),value:bl.constellation6.cd,unit:"s"}]}}})])}},zM=new R(GM,jM),Lc="KamisatoAyato",Op="hydro",Mh=_.char.data[Lc],la=_.char.skillParam[Lc],Yt=A(Lc,Mh.weaponType);let Ri=0,or=0,nu=0;const da={normal:{hitArr:[la.auto[Ri++],la.auto[Ri++],la.auto[Ri++],la.auto[Ri++],la.auto[Ri++]]},charged:{dmg:la.auto[Ri++],stamina:la.auto[Ri++][0]},plunging:{dmg:la.auto[Ri++],low:la.auto[Ri++],high:la.auto[Ri++]},skill:{dmgArr:[la.skill[or++],la.skill[or++],la.skill[or++]],stateDuration:la.skill[or++][0],stackHpDmgInc:la.skill[or++],maxStacks:4,illusionDmg:la.skill[or++],illusionDuration:la.skill[or++][0],cd:la.skill[or++][0]},burst:{dmg:la.burst[nu++],normal_dmg_:la.burst[nu++],duration:la.burst[nu++][0],cd:la.burst[nu++][0],enerCost:la.burst[nu++][0]},passive1:{stacksGained:la.passive1[0][0]},passive2:{enerThres_:la.passive2[0][0],cd:la.passive2[1][0],energyRestore:la.passive2[2][0]},constellation1:{oppHpThres_:la.constellation1[0],shunDmg_:la.constellation1[1]},constellation2:{extraStacks:la.constellation2[0],stackThresh:3,hp_:la.constellation2[1]},constellation4:{atkSPD:la.constellation4[0],duration:la.constellation4[1]},constellation6:{extraStrikes:2,dmg:la.constellation6[0]}},[WM,Ub]=h(Lc,"skillStacks"),dx=w(Ub,Object.fromEntries(At(1,5).map(t=>[t,t===5?n(a.constellation,2,m(t,$(a.total.skillIndex,da.skill.stackHpDmgInc,{unit:"%"}),a.total.hp)):m(t,$(a.total.skillIndex,da.skill.stackHpDmgInc,{unit:"%"}),a.total.hp)])),O),[UM,mx]=h(Lc,"burstInArea"),ux=i(mx,"on",$(a.total.burstIndex,da.burst.normal_dmg_)),LM=i(a.activeCharKey,G.charKey,ux),[qM,gx]=h(Lc,"c1OppHp"),Lb=n(a.constellation,1,i(gx,"on",da.constellation1.shunDmg_)),sf=n(a.constellation,2,w(Ub,Object.fromEntries(At(da.constellation2.stackThresh,5).map(t=>[t,c(da.constellation2.hp_)])),O)),[VM,hx]=h(Lc,"c4AfterBurst"),px=n(a.constellation,4,i(hx,"on",da.constellation4.atkSPD)),JM={hit:{ele:p(Op)},premod:{normal_dmgInc:dx,normal_dmg_:Lb}},Li={normal:Object.fromEntries(da.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",da.charged.dmg,"charged")},plunging:E("atk",da.plunging),skill:{...Object.fromEntries(da.skill.dmgArr.map((t,l)=>[`dmg${l}`,N(m($(a.total.skillIndex,t,{unit:"%"}),a.total.atk),"normal",JM)])),illusionDmg:o("atk",da.skill.illusionDmg,"skill")},burst:{dmg:o("atk",da.burst.dmg,"burst")},constellation6:{dmg:n(a.constellation,6,N(m(c(da.constellation6.dmg),a.total.atk),"normal",{hit:{ele:p(Op)},premod:{normal_dmg_:Lb}}))}},kx=n(a.constellation,3,3),fx=n(a.constellation,5,3),QM=B(Lc,Op,"inazuma",Mh,Li,{teamBuff:{premod:{normal_dmg_:LM,atkSPD_:px}},premod:{skillBoost:kx,burstBoost:fx,hp_:sf}}),XM={key:Lc,name:Yt.name,rarity:Mh.rarity,elementKey:Op,weaponTypeKey:Mh.weaponType,gender:"M",constellationName:Yt.chg("constellationName"),title:Yt.chg("title"),talent:{auto:Yt.talentTem("auto",[{text:Yt.chg("auto.fields.normal")},{fields:da.normal.hitArr.map((t,l)=>({node:e(Li.normal[l],{name:Yt.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:Yt.chg("auto.fields.charged")},{fields:[{node:e(Li.charged.dmg,{name:Yt.chg("auto.skillParams.5")})},{text:Yt.chg("auto.skillParams.6"),value:da.charged.stamina}]},{text:Yt.chg("auto.fields.plunging")},{fields:[{node:e(Li.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Li.plunging.low,{name:s("plunging.low")})},{node:e(Li.plunging.high,{name:s("plunging.high")})}]}]),skill:Yt.talentTem("skill",[{fields:[...da.skill.dmgArr.map((t,l)=>({node:e(Li.skill[`dmg${l}`],{name:Yt.chg(`skill.skillParams.${l}`)})})),{node:e(Li.skill.illusionDmg,{name:Yt.chg("skill.skillParams.5")})},{text:Yt.chg("skill.skillParams.6"),value:da.skill.illusionDuration,unit:"s"},{text:s("cd"),value:da.skill.cd,unit:"s"}]},Yt.headerTem("constellation6",{fields:[{node:e(Li.constellation6.dmg,{name:Yt.ch("c6.dmg"),multi:da.constellation6.extraStrikes})}]}),Yt.condTem("skill",{value:Ub,path:WM,name:Yt.ch("skill.namisenStacks"),states:t=>Object.fromEntries(At(1,t.get(a.constellation).value>=2?5:4).map(l=>[l,{name:d("stack",{count:l}),fields:[{node:e(dx,{name:Yt.ch("skill.shun_dmgInc")})},{text:d("maxStacks"),value:r=>r.get(a.constellation).value>=2?da.skill.maxStacks+da.constellation2.extraStacks:da.skill.maxStacks}]}]))}),Yt.condTem("constellation1",{value:gx,path:qM,name:d("enemyLessEqPercentHP",{percent:da.constellation1.oppHpThres_*100}),states:{on:{fields:[{node:e(Lb,{name:Yt.ch("c1.shun_dmg_"),unit:"%"})}]}}}),Yt.headerTem("passive1",{fields:[{text:Yt.ch("passive1.afterUse"),value:da.passive1.stacksGained},{text:Yt.ch("passive1.afterExplode"),value:t=>t.get(a.constellation).value>=2?da.skill.maxStacks+da.constellation2.extraStacks:da.skill.maxStacks}]}),Yt.headerTem("constellation2",{fields:[{text:Yt.ch("c2.addlStacks"),value:da.constellation2.extraStacks},{canShow:t=>t.get(sf).value!==0,node:sf}]})]),burst:Yt.talentTem("burst",[{fields:[{node:e(Li.burst.dmg,{name:Yt.chg("burst.skillParams.0")})},{text:s("duration"),value:da.burst.duration,unit:"s"},{text:s("cd"),value:da.burst.cd,unit:"s"},{text:s("energyCost"),value:da.burst.enerCost}]},Yt.condTem("burst",{value:mx,path:UM,name:d("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:e(ux,y.info("normal_dmg_"))}]}}}),Yt.condTem("constellation4",{value:hx,path:VM,name:d("afterUse.burst"),teamBuff:!0,states:{on:{fields:[{node:px},{text:s("duration"),value:da.constellation4.duration,unit:"s"}]}}})]),passive1:Yt.talentTem("passive1"),passive2:Yt.talentTem("passive2"),passive3:Yt.talentTem("passive3"),constellation1:Yt.talentTem("constellation1"),constellation2:Yt.talentTem("constellation2"),constellation3:Yt.talentTem("constellation3",[{fields:[{node:kx}]}]),constellation4:Yt.talentTem("constellation4"),constellation5:Yt.talentTem("constellation5",[{fields:[{node:fx}]}]),constellation6:Yt.talentTem("constellation6")}},YM=new R(XM,QM),Gc="Kaveh",Fp="dendro",Hh=_.char.data[Gc],Za=_.char.skillParam[Gc],Ca=A(Gc,Hh.weaponType);let Fo=0,j_=0,su=0;const Zl={normal:{hitArr:[Za.auto[Fo++],Za.auto[Fo++],Za.auto[Fo++],Za.auto[Fo++]]},charged:{spin:Za.auto[Fo++],final:Za.auto[Fo++],stamina:Za.auto[Fo++][0],duration:Za.auto[Fo++][0]},plunging:{dmg:Za.auto[Fo++],low:Za.auto[Fo++],high:Za.auto[Fo++]},skill:{dmg:Za.skill[j_++],cd:Za.skill[j_++][0]},burst:{dmg:Za.burst[su++],duration:Za.burst[su++][0],bloom_dmg_:Za.burst[su++],cd:Za.burst[su++][0],enerCost:Za.burst[su++][0]},passive1:{cd:Za.passive1[0][0],heal_eleMas:Za.passive1[1][0]},passive2:{maxStacks:Za.passive2[0][0],eleMas:Za.passive2[1][0]},c1:{duration:Za.constellation1[0],dendro_res_:Za.constellation1[1],incHeal_:Za.constellation1[2]},c2:{atkSPD_:Za.constellation2[0]},c4:{bloom_dmg_:Za.constellation4[0]},c6:{dmg_:Za.constellation6[0],cd:Za.constellation6[1]}},[ZM,Sd]=h(Gc,"afterBurst"),tH=dn(Sd,"on",p(Fp)),bx=i(Sd,"on",$(a.total.burstIndex,Zl.burst.bloom_dmg_)),[eH,vx]=h(Gc,"a4Stacks"),_x=At(1,Zl.passive2.maxStacks),yx=n(a.asc,4,i(Sd,"on",w(vx,C(_x,t=>m(t,Zl.passive2.eleMas)),O))),[aH,qb]=h(Gc,"c1AfterSkill"),Tx=n(a.constellation,1,i(qb,"on",c(Zl.c1.dendro_res_))),$x=n(a.constellation,1,i(qb,"on",c(Zl.c1.incHeal_))),xx=n(a.constellation,2,i(Sd,"on",Zl.c2.atkSPD_)),Px=n(a.constellation,4,Zl.c4.bloom_dmg_),si={normal:Object.fromEntries(Zl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",Zl.charged.spin,"charged"),final:o("atk",Zl.charged.final,"charged")},plunging:E("atk",Zl.plunging),skill:{dmg:o("atk",Zl.skill.dmg,"skill")},burst:{dmg:o("atk",Zl.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,zn(m(c(Zl.passive1.heal_eleMas),a.total.eleMas)))},constellation6:{dmg:n(a.constellation,6,N(m(c(Zl.c6.dmg_),a.total.atk),"elemental",{hit:{ele:p(Fp)}}))}},Dx=n(a.constellation,3,3),Cx=n(a.constellation,5,3),lH=B(Gc,Fp,"sumeru",Hh,si,{premod:{burstBoost:Dx,skillBoost:Cx,eleMas:yx,dendro_res_:Tx,incHeal_:$x,atkSPD_:xx,bloom_dmg_:Px},teamBuff:{premod:{bloom_dmg_:bx}},infusion:{nonOverridableSelf:tH}}),nH={key:Gc,name:Ca.name,rarity:Hh.rarity,elementKey:Fp,weaponTypeKey:Hh.weaponType,gender:"M",constellationName:Ca.chg("constellationName"),title:Ca.chg("title"),talent:{auto:Ca.talentTem("auto",[{text:Ca.chg("auto.fields.normal")},{fields:Zl.normal.hitArr.map((t,l)=>({node:e(si.normal[l],{name:Ca.chg(`auto.skillParams.${l}`)})}))},{text:Ca.chg("auto.fields.charged")},{fields:[{node:e(si.charged.spin,{name:Ca.chg("auto.skillParams.4")})},{node:e(si.charged.final,{name:Ca.chg("auto.skillParams.5")})},{text:Ca.chg("auto.skillParams.6"),value:`${Zl.charged.stamina}/s`}]},{text:Ca.chg("auto.fields.plunging")},{fields:[{node:e(si.plunging.dmg,{name:s("plunging.dmg")})},{node:e(si.plunging.low,{name:s("plunging.low")})},{node:e(si.plunging.high,{name:s("plunging.high")})}]}]),skill:Ca.talentTem("skill",[{fields:[{node:e(si.skill.dmg,{name:Ca.chg("skill.skillParams.0")})},{text:s("cd"),value:Zl.skill.cd,unit:"s"}]},Ca.condTem("constellation1",{value:qb,path:aH,name:d("hitOp.skill"),states:{on:{fields:[{node:Tx},{node:$x},{text:s("duration"),value:Zl.c1.duration,unit:"s"}]}}})]),burst:Ca.talentTem("burst",[{fields:[{node:e(si.burst.dmg,{name:Ca.chg("burst.skillParams.0")})},{text:s("duration"),value:Zl.burst.duration,unit:"s"},{text:s("cd"),value:Zl.burst.cd,unit:"s"},{text:s("energyCost"),value:Zl.burst.enerCost}]},Ca.condTem("burst",{path:ZM,value:Sd,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{text:D(yt,{color:"dendro",children:d("infusion.dendro")}),canShow:t=>t.get(a.activeCharKey).value===Gc},{node:bx}]}}}),Ca.condTem("passive2",{path:eH,value:vx,canShow:i(Sd,"on",1),teamBuff:!0,name:d("hitOp.normalChargedOrPlunging"),states:C(_x,t=>({name:d("stack",{count:t}),fields:[{node:yx}]}))}),Ca.headerTem("constellation2",{canShow:i(Sd,"on",1),fields:[{node:xx}]})]),passive1:Ca.talentTem("passive1",[Ca.fieldsTem("passive1",{fields:[{node:e(si.passive1.heal,{name:s("healing")})},{text:s("cd"),value:Zl.passive1.cd,unit:"s",fixed:1}]})]),passive2:Ca.talentTem("passive2"),passive3:Ca.talentTem("passive3"),constellation1:Ca.talentTem("constellation1"),constellation2:Ca.talentTem("constellation2"),constellation3:Ca.talentTem("constellation3",[{fields:[{node:Dx}]}]),constellation4:Ca.talentTem("constellation4",[{fields:[{node:Px}]}]),constellation5:Ca.talentTem("constellation5",[{fields:[{node:Cx}]}]),constellation6:Ca.talentTem("constellation6",[Ca.fieldsTem("constellation6",{fields:[{node:e(si.constellation6.dmg,{name:Ca.ch("c6Dmg")})},{text:s("cd"),value:Zl.c6.cd,unit:"s"}]})])}},sH=new R(nH,lH),qc="Keqing",Eu="electro",Eh=_.char.data[qc],Oa=_.char.skillParam[qc],ze=A(qc,Eh.weaponType);let oo=0,vg=0,ou=0,gk=0;const Bn={normal:{hitArr:[Oa.auto[oo++],Oa.auto[oo++],Oa.auto[oo++],Oa.auto[oo++],Oa.auto[oo++],Oa.auto[oo++]]},charged:{dmg1:Oa.auto[oo++],dmg2:Oa.auto[oo++],stamina:Oa.auto[oo++][0]},plunging:{dmg:Oa.auto[oo++],low:Oa.auto[oo++],high:Oa.auto[oo++]},skill:{stiletto:Oa.skill[vg++],slash:Oa.skill[vg++],thunderclap:Oa.skill[vg++],cd:Oa.skill[vg++][0]},burst:{initial:Oa.burst[ou++],slash:Oa.burst[ou++],final:Oa.burst[ou++],cd:Oa.burst[ou++][0],cost:Oa.burst[ou++][0]},passive1:{duration:Oa.passive1[0][0]},passive2:{critInc_:Oa.passive2[gk++][0],enerRechInc_:Oa.passive2[gk++][0],duration:Oa.passive2[gk++][0]},constellation1:{dmg:Oa.constellation1[0]},constellation4:{duration:Oa.constellation4[0],atkInc:Oa.constellation4[1]},constellation6:{electroInc:Oa.constellation6[0],duration:Oa.constellation6[1]}},Ds={normal:Object.fromEntries(Bn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Bn.charged.dmg1,"charged"),dmg2:o("atk",Bn.charged.dmg2,"charged")},plunging:E("atk",Bn.plunging),skill:{stiletto:o("atk",Bn.skill.stiletto,"skill"),slash:o("atk",Bn.skill.slash,"skill"),thunderclap:o("atk",Bn.skill.thunderclap,"skill")},burst:{initial:o("atk",Bn.burst.initial,"burst"),slash:o("atk",Bn.burst.slash,"burst"),final:o("atk",Bn.burst.final,"burst")},constellation1:{dmg:n(a.constellation,1,N(m(a.total.atk,Bn.constellation1.dmg),"elemental",{hit:{ele:p(Eu)}}))}},Sx=n(a.constellation,3,3),wx=n(a.constellation,5,3),[oH,Ax]=h(qc,"afterRecast"),Bx=wr(a.asc,1,dn("afterRecast",Ax,Eu)),[iH,Ix]=h(qc,"afterBurst"),Vb=n(a.asc,4,i("afterBurst",Ix,c(Bn.passive2.critInc_))),Rx={...Vb},[cH,Mx]=h(qc,"afterReact"),Hx=n(a.constellation,4,i("afterReact",Mx,c(Bn.constellation4.atkInc))),[rH,Ex]=h(qc,"c6Stack"),Kx=n(a.constellation,6,m(w(Ex,C(At(1,4),t=>p(t)),p(0)),Bn.constellation6.electroInc)),dH=B(qc,Eu,"liyue",Eh,Ds,{infusion:{overridableSelf:Bx},premod:{skillBoost:wx,burstBoost:Sx,critRate_:Vb,enerRech_:Rx,atk_:Hx,electro_dmg_:Kx}}),mH={key:qc,name:ze.name,rarity:Eh.rarity,elementKey:Eu,weaponTypeKey:Eh.weaponType,gender:"F",constellationName:ze.chg("constellationName"),title:ze.chg("title"),talent:{auto:ze.talentTem("auto",[{text:ze.chg("auto.fields.normal")},{fields:Bn.normal.hitArr.map((t,l)=>({node:e(Ds.normal[l],{name:ze.chg(`auto.skillParams.${l+(l<4?0:-1)}`),textSuffix:l===3?"(1)":l===4?"(2)":""})}))},{text:ze.chg("auto.fields.charged")},{fields:[{node:e(Ds.charged.dmg1,{name:ze.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(Ds.charged.dmg2,{name:ze.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:ze.chg("auto.skillParams.6"),value:Bn.charged.stamina}]},{text:ze.chg("auto.fields.plunging")},{fields:[{node:e(Ds.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ds.plunging.low,{name:s("plunging.low")})},{node:e(Ds.plunging.high,{name:s("plunging.high")})}]}]),skill:ze.talentTem("skill",[{fields:[{node:e(Ds.skill.stiletto,{name:ze.chg("skill.skillParams.0")})},{node:e(Ds.skill.slash,{name:ze.chg("skill.skillParams.1")})},{node:e(Ds.skill.thunderclap,{name:ze.chg("skill.skillParams.2")})},{text:s("cd"),value:Bn.skill.cd,unit:"s",fixed:1}]},ze.headerTem("constellation1",{fields:[{node:e(Ds.constellation1.dmg,{name:ze.ch("c1DMG")})}]}),ze.condTem("passive1",{value:Ax,path:oH,name:ze.ch("recast"),states:{afterRecast:{fields:[{canShow:t=>t.get(Bx).value===Eu,text:D(yt,{color:"electro",children:d("infusion.electro")})},{text:s("duration"),value:Bn.passive1.duration,unit:"s"}]}}})]),burst:ze.talentTem("burst",[{fields:[{node:e(Ds.burst.initial,{name:ze.chg("burst.skillParams.0")})},{node:e(Ds.burst.slash,{name:ze.chg("burst.skillParams.1"),multi:8})},{node:e(Ds.burst.final,{name:ze.chg("burst.skillParams.2")})},{text:s("cd"),value:Bn.burst.cd,unit:"s"},{text:s("energyCost"),value:Bn.burst.cost}]},ze.condTem("passive2",{value:Ix,path:iH,name:d("afterUse.burst"),states:{afterBurst:{fields:[{node:Vb},{node:Rx}]}}})]),passive1:ze.talentTem("passive1"),passive2:ze.talentTem("passive2"),passive3:ze.talentTem("passive3"),constellation1:ze.talentTem("constellation1"),constellation2:ze.talentTem("constellation2"),constellation3:ze.talentTem("constellation3",[{fields:[{node:Sx}]}]),constellation4:ze.talentTem("constellation4",[ze.condTem("constellation4",{value:Mx,path:cH,name:d("elementalReaction.electro"),states:{afterReact:{fields:[{node:Hx}]}}})]),constellation5:ze.talentTem("constellation5",[{fields:[{node:wx}]}]),constellation6:ze.talentTem("constellation6",[ze.condTem("constellation6",{value:Ex,path:rH,name:d("hitOp.normalChargedSkillBurst"),states:C(At(1,4),t=>({name:d("stack",{count:t}),fields:[{node:Kx}]}))})])}},uH=new R(mH,dH),Um="Kirara",fd="dendro",Kh=_.char.data[Um],Mt=_.char.skillParam[Um],Ht=A(Um,Kh.weaponType);let io=0,jo=0,iu=0;const Ie={normal:{hitArr:[Mt.auto[io++],Mt.auto[io++],Mt.auto[io++],Mt.auto[io++],Mt.auto[io++]]},charged:{dmg1:Mt.auto[io++],dmg2:Mt.auto[io++],dmg3:Mt.auto[io++],stamina:Mt.auto[io++][0]},plunging:{dmg:Mt.auto[io++],low:Mt.auto[io++],high:Mt.auto[io++]},skill:{tailDmg:Mt.skill[jo++],shield_hp_:Mt.skill[jo++],shield_base:Mt.skill[jo++],maxShield_hp_:Mt.skill[jo++],maxShield_base:Mt.skill[jo++],shieldDuration:Mt.skill[jo++][0],parcelDmg:Mt.skill[jo++],parcelDuration:Mt.skill[jo++][0],strikeDmg:Mt.skill[jo++],cdMin:Mt.skill[jo++][0],cdMax:Mt.skill[jo++][0]},burst:{skillDmg:Mt.burst[iu++],explosionDmg:Mt.burst[iu++],duration:Mt.burst[iu++][0],cd:Mt.burst[iu++][0],cost:Mt.burst[iu++][0]},passive1:{shieldMult_:Mt.passive1[0][0],maxStacks:Mt.passive1[1][0],cd:Mt.passive1[2][0]},passive2:{skill_dmg_:Mt.passive2[0][0],burst_dmg_:Mt.passive2[1][0]},constellation1:{hpThresh:1/Mt.constellation1[0]},constellation2:{shieldMult_:Mt.constellation2[0],duration:Mt.constellation2[1],cd:Mt.constellation2[2]},constellation4:{dmg:Mt.constellation4[0],cd:Mt.constellation4[1]},constellation6:{all_dmg_:Mt.constellation6[0],duration:Mt.constellation6[1]}},G_=Sn("hp",Ie.skill.shield_hp_,Ie.skill.shield_base,"skill"),of=Sn("hp",Ie.skill.maxShield_hp_,Ie.skill.maxShield_base,"skill"),z_=Sn("hp",Ie.skill.shield_hp_,Ie.skill.shield_base,"skill",void 0,c(Ie.passive1.shieldMult_)),W_=m(c(Ie.constellation2.shieldMult_),of),[gH,Nx]=h(Um,"c6AfterSkillBurst"),Ox=C(Gf.map(t=>`${t}_dmg_`),t=>n(a.constellation,6,i(Nx,"on",Ie.constellation6.all_dmg_))),El={normal:Object.fromEntries(Ie.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ie.charged.dmg1,"charged"),dmg2:o("atk",Ie.charged.dmg2,"charged")},plunging:E("atk",Ie.plunging),skill:{tailDmg:o("atk",Ie.skill.tailDmg,"skill"),shield:G_,dendroShield:tn("dendro",G_),maxShield:of,maxDendroShield:tn("dendro",of),parcelDmg:o("atk",Ie.skill.parcelDmg,"skill"),strikeDmg:o("atk",Ie.skill.strikeDmg,"skill")},burst:{skillDmg:o("atk",Ie.burst.skillDmg,"burst"),explosionDmg:o("atk",Ie.burst.explosionDmg,"burst")},passive1:{shield:n(a.asc,1,z_),dendroShield:n(a.asc,1,tn("dendro",z_))},passive2:{skill_dmg_:n(a.asc,4,m(c(Ie.passive2.skill_dmg_),a.total.hp,1/1e3)),burst_dmg_:n(a.asc,4,m(c(Ie.passive2.burst_dmg_),a.total.hp,1/1e3))},constellation1:{extraCardamom:n(a.constellation,1,vr(a.total.hp,Ie.constellation1.hpThresh*4,4,vr(a.total.hp,Ie.constellation1.hpThresh*3,3,vr(a.total.hp,Ie.constellation1.hpThresh*2,2,vr(a.total.hp,Ie.constellation1.hpThresh,1,0)))))},constellation2:{shield:n(a.constellation,2,W_),dendroShield:n(a.constellation,2,tn("dendro",W_))},constellation4:{dmg:n(a.constellation,4,N(m(c(Ie.constellation4.dmg),a.total.atk),"burst",{hit:{ele:p(fd)}}))}},Fx=n(a.constellation,3,3),jx=n(a.constellation,5,3),hH=B(Um,fd,"inazuma",Kh,El,{premod:{skillBoost:Fx,burstBoost:jx,skill_dmg_:El.passive2.skill_dmg_,burst_dmg_:El.passive2.burst_dmg_},teamBuff:{premod:Ox}}),pH={key:Um,name:Ht.name,rarity:Kh.rarity,elementKey:fd,weaponTypeKey:Kh.weaponType,gender:"F",constellationName:Ht.chg("constellationName"),title:Ht.chg("title"),talent:{auto:Ht.talentTem("auto",[{text:Ht.chg("auto.fields.normal")},{fields:Ie.normal.hitArr.map((t,l)=>({node:e(El.normal[l],{name:Ht.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:Ht.chg("auto.fields.charged")},{fields:[{node:e(El.charged.dmg1,{name:Ht.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(El.charged.dmg2,{name:Ht.chg("auto.skillParams.4"),textSuffix:"(2)",multi:2})},{text:Ht.chg("auto.skillParams.5"),value:Ie.charged.stamina}]},{text:Ht.chg("auto.fields.plunging")},{fields:[{node:e(El.plunging.dmg,{name:s("plunging.dmg")})},{node:e(El.plunging.low,{name:s("plunging.low")})},{node:e(El.plunging.high,{name:s("plunging.high")})}]}]),skill:Ht.talentTem("skill",[{fields:[{node:e(El.skill.tailDmg,{name:Ht.chg("skill.skillParams.0")})},{node:e(El.skill.shield,{name:Ht.chg("skill.skillParams.1")})},{node:e(El.skill.dendroShield,{name:d(`dmgAbsorption.${fd}`)})},{node:e(El.skill.maxShield,{name:Ht.chg("skill.skillParams.2")})},{node:e(El.skill.maxDendroShield,{name:d(`dmgAbsorption.max.${fd}`)})},{text:Ht.chg("skill.skillParams.3"),value:Ie.skill.shieldDuration,unit:"s"},{node:e(El.skill.parcelDmg,{name:Ht.chg("skill.skillParams.4")})},{text:Ht.chg("skill.skillParams.5"),value:Ie.skill.parcelDuration,unit:"s"},{node:e(El.skill.strikeDmg,{name:Ht.chg("skill.skillParams.6")})},{text:s("cd"),value:`${Ie.skill.cdMin}s ~ ${Ie.skill.cdMax}`,unit:"s"}]},Ht.headerTem("passive1",{fields:[{node:e(El.passive1.shield,{name:s("dmgAbsorption")})},{node:e(El.passive1.dendroShield,{name:d(`dmgAbsorption.${fd}`)})}]}),Ht.headerTem("passive2",{fields:[{node:El.passive2.skill_dmg_}]})]),burst:Ht.talentTem("burst",[{fields:[{node:e(El.burst.skillDmg,{name:Ht.chg("burst.skillParams.0")})},{node:e(El.burst.explosionDmg,{name:Ht.chg("burst.skillParams.1")})},{text:Ht.chg("burst.skillParams.2"),value:Ie.burst.duration,unit:"s"},{text:s("cd"),value:Ie.burst.cd,unit:"s"},{text:s("energyCost"),value:Ie.burst.cost}]},Ht.headerTem("passive2",{fields:[{node:El.passive2.burst_dmg_}]}),Ht.headerTem("constellation1",{fields:[{node:e(El.constellation1.extraCardamom,{name:Ht.ch("extraCardamom")})}]})]),passive1:Ht.talentTem("passive1"),passive2:Ht.talentTem("passive2"),passive3:Ht.talentTem("passive3"),constellation1:Ht.talentTem("constellation1"),constellation2:Ht.talentTem("constellation2",[Ht.fieldsTem("constellation2",{fields:[{node:e(El.constellation2.shield,{name:s("dmgAbsorption")})},{node:e(El.constellation2.dendroShield,{name:d(`dmgAbsorption.${fd}`)})},{text:s("duration"),value:Ie.constellation2.duration,unit:"s"},{text:s("cd"),value:Ie.constellation2.cd,unit:"s"}]})]),constellation3:Ht.talentTem("constellation3",[{fields:[{node:Fx}]}]),constellation4:Ht.talentTem("constellation4",[Ht.fieldsTem("constellation4",{fields:[{node:e(El.constellation4.dmg,{name:Ht.ch("c4Dmg")})},{text:s("cd"),value:Ie.constellation4.cd,unit:"s"}]})]),constellation5:Ht.talentTem("constellation5",[{fields:[{node:jx}]}]),constellation6:Ht.talentTem("constellation6",[Ht.condTem("constellation6",{value:Nx,path:gH,teamBuff:!0,name:d("afterUse.skillOrBurst"),states:{on:{fields:Object.values(Ox).map(t=>({node:t}))}}})])}},kH=new R(pH,hH),Or="Klee",Gx="pyro",fH="mondstadt",Nh=_.char.data[Or],Rn=_.char.skillParam[Or],re=A(Or,Nh.weaponType);let ir=0,gm=0,cu=0;const Gn={normal:{hitArr:[Rn.auto[ir++],Rn.auto[ir++],Rn.auto[ir++]]},charged:{dmg:Rn.auto[ir++],stamina:Rn.auto[ir++][0]},plunging:{dmg:Rn.auto[ir++],low:Rn.auto[ir++],high:Rn.auto[ir++]},skill:{jumptyDumptyDmg1:Rn.skill[gm++],jumptyDumptyDmg2:Rn.skill[gm++],jumptyDumptyDmg3:Rn.skill[gm++],mineDmg:Rn.skill[gm++],mineDuration:Rn.skill[gm++][0],cd:Rn.skill[gm++][0]},burst:{dmg:Rn.burst[cu++],cd:Rn.burst[cu++][0],enerCost:Rn.burst[cu++][0],unknown:Rn.burst[cu++],duration:Rn.burst[cu++][0]},passive1:{charged_dmg_:.5},constellation1:{dmg_:1.2},constellation2:{enemyDefRed_:.23},constellation4:{dmg:5.55},constellation6:{pyro_dmg_:.1}},[bH,zx]=h(Or,"PoundingSurprise"),Wx=n(a.asc,1,i("on",zx,c(Gn.passive1.charged_dmg_))),[vH,Ux]=h(Or,"ExplosiveFrags"),Lx=n(a.constellation,2,i("on",Ux,c(Gn.constellation2.enemyDefRed_))),[_H,qx]=h(Or,"BlazingDelight"),Vx=n(a.constellation,6,i("on",qx,c(Gn.constellation6.pyro_dmg_))),oi={normal:Object.fromEntries(Gn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Gn.charged.dmg,"charged")},plunging:E("atk",Gn.plunging),skill:{jumptyDumptyDmg:o("atk",Gn.skill.jumptyDumptyDmg1,"skill"),mineDmg:o("atk",Gn.skill.mineDmg,"skill")},burst:{dmg:o("atk",Gn.burst.dmg,"burst")},constellation1:{chainedReactionsDmg:n(a.constellation,1,m(c(Gn.constellation1.dmg_),o("atk",Gn.burst.dmg,"burst")))},constellation4:{sparklyExplosionDmg:n(a.constellation,4,N(m(c(Gn.constellation4.dmg),a.total.atk),"elemental",{hit:{ele:p("pyro")}}))}},Jx=n(a.constellation,3,3),Qx=n(a.constellation,5,3),yH=B(Or,Gx,fH,Nh,oi,{premod:{skillBoost:Jx,burstBoost:Qx,charged_dmg_:Wx},teamBuff:{premod:{pyro_dmg_:Vx,enemyDefRed_:Lx}}}),TH={key:Or,name:re.name,rarity:Nh.rarity,elementKey:Gx,weaponTypeKey:Nh.weaponType,gender:"F",constellationName:re.chg("constellationName"),title:re.chg("title"),talent:{auto:re.talentTem("auto",[{text:re.chg("auto.fields.normal")},{fields:Gn.normal.hitArr.map((t,l)=>({node:e(oi.normal[l],{name:re.chg(`auto.skillParams.${l}`)})}))},{text:re.chg("auto.fields.charged")},{fields:[{node:e(oi.charged.dmg,{name:re.chg("auto.skillParams.3")})},{text:re.chg("auto.skillParams.4"),value:Gn.charged.stamina}]},{text:re.chg("auto.fields.plunging")},{fields:[{node:e(oi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(oi.plunging.low,{name:s("plunging.low")})},{node:e(oi.plunging.high,{name:s("plunging.high")})}]}]),skill:re.talentTem("skill",[{fields:[{node:e(oi.skill.jumptyDumptyDmg,{name:re.chg("skill.skillParams.0")})},{node:e(oi.skill.mineDmg,{name:re.chg("skill.skillParams.1")})},{text:re.chg("skill.skillParams.2"),value:`${Gn.skill.mineDuration}`,unit:"s"},{text:re.chg("skill.skillParams.3"),value:`${Gn.skill.cd}`,unit:"s"},{text:d("charges"),value:2}]}]),burst:re.talentTem("burst",[{fields:[{node:e(oi.burst.dmg,{name:re.chg("burst.skillParams.0")})},{text:re.chg("burst.skillParams.1"),value:`${Gn.burst.duration}`,unit:"s"},{text:re.chg("burst.skillParams.2"),value:`${Gn.burst.cd}`,unit:"s"},{text:re.chg("burst.skillParams.3"),value:`${Gn.burst.enerCost}`}]}]),passive1:re.talentTem("passive1",[re.condTem("passive1",{value:zx,path:bH,name:re.ch("a1CondName"),states:{on:{fields:[{node:Wx},{text:re.ch("a1CondName2")}]}}})]),passive2:re.talentTem("passive2"),passive3:re.talentTem("passive3"),constellation1:re.talentTem("constellation1",[re.fieldsTem("constellation1",{fields:[{node:e(oi.constellation1.chainedReactionsDmg,{name:d("dmg")})}]})]),constellation2:re.talentTem("constellation2",[re.condTem("constellation2",{value:Ux,path:vH,teamBuff:!0,name:re.ch("c2CondName"),states:{on:{fields:[{node:Lx},{text:s("duration"),value:10,unit:"s"}]}}})]),constellation3:re.talentTem("constellation3",[{fields:[{node:Jx}]}]),constellation4:re.talentTem("constellation4",[re.fieldsTem("constellation4",{fields:[{node:e(oi.constellation4.sparklyExplosionDmg,{name:d("dmg")})}]})]),constellation5:re.talentTem("constellation5",[{fields:[{node:Qx}]}]),constellation6:re.talentTem("constellation6",[re.condTem("constellation6",{value:qx,path:_H,teamBuff:!0,name:re.ch("c6CondName"),states:{on:{fields:[{node:Vx},{text:s("duration"),value:25,unit:"s"}]}}})])}},$H=new R(TH,yH),Qd="KujouSara",Oh=_.char.data[Qd],pn=_.char.skillParam[Qd],na=A(Qd,Oh.weaponType);let Mi=0,_g=0,yg=0,U_=0;const es={normal:{hitArr:[pn.auto[Mi++],pn.auto[Mi++],pn.auto[Mi++],pn.auto[Mi++],pn.auto[Mi++]]},charged:{aimed:pn.auto[Mi++],fullyAimed:pn.auto[Mi++]},plunging:{dmg:pn.auto[Mi++],low:pn.auto[Mi++],high:pn.auto[Mi++]},skill:{dmg:pn.skill[_g++],atkBonus:pn.skill[_g++],duration:pn.skill[_g++][0],cd:pn.skill[_g++][0]},burst:{titanBreakerDmg:pn.burst[yg++],stormClusterDmg:pn.burst[yg++],cd:pn.burst[yg++][0],enerCost:pn.burst[yg++][0]},passive2:{energyGen:pn.passive2[U_++][0],er:pn.passive2[U_++][0]},constellation2:{crowfeatherDmg:pn.constellation2[0]},constellation6:{atkInc:pn.constellation6[0]}},[xH,Au]=h(Qd,"TenguJuuraiAmbush"),PH=$(a.total.skillIndex,es.skill.atkBonus.map(t=>t),{unit:"%"}),Xx=i("TenguJuuraiAmbush",Au,m(a.base.atk,PH),{...y.info("atk"),isTeamBuff:!0}),Yx=i(a.activeCharKey,G.charKey,Xx),[DH,Zx]=h(Qd,"c6"),tP=n(a.constellation,6,i(Au,"TenguJuuraiAmbush",i("c6",Zx,c(es.constellation6.atkInc)))),fo={normal:Object.fromEntries(es.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",es.charged.aimed,"charged"),fullyAimed:o("atk",es.charged.fullyAimed,"charged",{hit:{ele:p("electro")}})},plunging:E("atk",es.plunging),skill:{dmg:o("atk",es.skill.dmg,"skill"),skillTenguAmbush_:Yx},burst:{titanbreaker:o("atk",es.burst.titanBreakerDmg,"burst"),stormcluster:o("atk",es.burst.stormClusterDmg,"burst")},passive2:{energyRegen:e(n(a.asc,4,m(a.total.enerRech_,es.passive2.energyGen)),{name:s("energyRegen"),fixed:2})},constellation2:{dmg:n(a.constellation,2,m(o("atk",es.skill.dmg,"skill"),c(es.constellation2.crowfeatherDmg)))}},eP=n(a.constellation,3,3),aP=n(a.constellation,5,3),CH=B(Qd,"electro","inazuma",Oh,fo,{premod:{skillBoost:aP,burstBoost:eP},teamBuff:{premod:{electro_critDMG_:tP},total:{atk:Yx}}}),SH={key:Qd,name:na.name,rarity:Oh.rarity,elementKey:"electro",weaponTypeKey:Oh.weaponType,gender:"F",constellationName:na.chg("constellationName"),title:na.chg("title"),talent:{auto:na.talentTem("auto",[{text:na.chg("auto.fields.normal")},{fields:es.normal.hitArr.map((t,l)=>({node:e(fo.normal[l],{name:na.chg(`auto.skillParams.${l}`)})}))},{text:na.chg("auto.fields.charged")},{fields:[{node:e(fo.charged.aimed,{name:na.chg("auto.skillParams.5")})},{node:e(fo.charged.fullyAimed,{name:na.chg("auto.skillParams.6")})}]},{text:na.chg("auto.fields.plunging")},{fields:[{node:e(fo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(fo.plunging.low,{name:s("plunging.low")})},{node:e(fo.plunging.high,{name:s("plunging.high")})}]}]),skill:na.talentTem("skill",[{fields:[{node:e(fo.skill.dmg,{name:na.chg("skill.skillParams.0")})},{text:na.chg("skill.skillParams.3"),value:es.skill.cd,unit:"s"}]},na.condTem("skill",{value:Au,path:xH,name:na.ch("skill.ambush"),teamBuff:!0,states:{TenguJuuraiAmbush:{fields:[{node:Xx},{text:na.chg("skill.skillParams.2"),value:es.skill.duration,unit:"s"}]}}}),na.headerTem("passive2",{canShow:i(Au,"TenguJuuraiAmbush",1),fields:[{node:fo.passive2.energyRegen}]}),na.condTem("constellation6",{value:Zx,path:DH,teamBuff:!0,canShow:i(Au,"TenguJuuraiAmbush",1),name:na.ch("c6.electroCritDmg"),states:{c6:{fields:[{node:tP}]}}})]),burst:na.talentTem("burst",[{fields:[{node:e(fo.burst.titanbreaker,{name:na.chg("burst.skillParams.0")})},{node:e(fo.burst.stormcluster,{name:na.chg("burst.skillParams.1")})},{text:na.chg("burst.skillParams.2"),value:es.burst.cd,unit:"s"},{text:na.chg("burst.skillParams.3"),value:es.burst.enerCost}]}]),passive1:na.talentTem("passive1"),passive2:na.talentTem("passive2"),passive3:na.talentTem("passive3"),constellation1:na.talentTem("constellation1"),constellation2:na.talentTem("constellation2",[na.fieldsTem("constellation2",{fields:[{node:e(fo.constellation2.dmg,{name:d("dmg")})}]})]),constellation3:na.talentTem("constellation3",[{fields:[{node:eP}]}]),constellation4:na.talentTem("constellation4"),constellation5:na.talentTem("constellation5",[{fields:[{node:aP}]}]),constellation6:na.talentTem("constellation6")}},wH=new R(SH,CH),Xd="KukiShinobu",Jb="electro",Fh=_.char.data[Xd],We=_.char.skillParam[Xd],Ke=A(Xd,Fh.weaponType);let Hi=0,id=0,cd=0,L_=0,q_=0;const qt={normal:{hitArr:[We.auto[Hi++],We.auto[Hi++],We.auto[Hi++],We.auto[Hi++]]},charged:{dmg1:We.auto[Hi++],dmg2:We.auto[Hi++],stamina:We.auto[Hi++][0]},plunging:{dmg:We.auto[Hi++],low:We.auto[Hi++],high:We.auto[Hi++]},skill:{pressDmg:We.skill[id++],ringHealHP_:We.skill[id++],ringHealFlat:We.skill[id++],ringDmg:We.skill[id++],cost:We.skill[id++][0],duration:We.skill[id++][0],cd:We.skill[id++][0]},burst:{singleDmg:We.burst[cd++],maxDmgBase:We.burst[cd++],maxDmgExtend:We.burst[cd++],durationBase:We.burst[cd++][0],durationExtend:We.burst[cd++][0],cd:We.burst[cd++][0],cost:We.burst[cd++][0]},passive1:{hpThresh_:We.passive1[L_++][0],heal_:We.passive1[L_++][0]},passive2:{emSkillHeal_:We.passive2[q_++][0],emSkillDmg_:We.passive2[q_++][0]},constellation1:{aoeInc:.5},constellation2:{skillDurInc:We.constellation2[0]},constellation4:{markDmg:We.constellation4[0],cd:We.constellation4[1]},constellation6:{hpThresh_:We.constellation6[0],duration:We.constellation6[1],em:We.constellation6[2],cd:We.constellation6[3]}},[V_,Ug]=h(Xd,"underHP"),lP=n(a.asc,1,i(Ug,"on",qt.passive1.heal_)),cf=n(a.asc,4,m(c(qt.passive2.emSkillHeal_),a.total.eleMas)),Qb=n(a.asc,4,m(c(qt.passive2.emSkillDmg_),a.total.eleMas)),[AH,nP]=h(Xd,"c6Trigger"),sP=n(a.constellation,6,i(nP,"on",qt.constellation6.em)),bo={normal:Object.fromEntries(qt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",qt.charged.dmg1,"charged"),dmg2:o("atk",qt.charged.dmg2,"charged")},plunging:E("atk",qt.plunging),skill:{pressDmg:o("atk",qt.skill.pressDmg,"skill"),ringHeal:cl("hp",qt.skill.ringHealHP_,qt.skill.ringHealFlat,"skill",{premod:{healInc:cf}}),ringDmg:o("atk",qt.skill.ringDmg,"skill")},burst:{singleDmg:o("hp",qt.burst.singleDmg,"burst")},passive2:{a4Skill_dmgInc:Qb,a4Skill_healInc:cf},constellation4:{markDmg:n(a.constellation,4,N(m(c(qt.constellation4.markDmg),a.total.hp),"skill",{hit:{ele:p(Jb)}}))}},oP=n(a.constellation,3,3),iP=n(a.constellation,5,3),BH=B(Xd,Jb,"inazuma",Fh,bo,{premod:{skillBoost:oP,burstBoost:iP,heal_:lP,skill_dmgInc:Qb,eleMas:sP}}),IH={key:Xd,name:Ke.name,rarity:Fh.rarity,elementKey:Jb,weaponTypeKey:Fh.weaponType,gender:"F",constellationName:Ke.chg("constellationName"),title:Ke.chg("title"),talent:{auto:Ke.talentTem("auto",[{text:Ke.chg("auto.fields.normal")},{fields:qt.normal.hitArr.map((t,l)=>({node:e(bo.normal[l],{name:Ke.chg(`auto.skillParams.${l}`)})}))},{text:Ke.chg("auto.fields.charged")},{fields:[{node:e(bo.charged.dmg1,{name:Ke.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(bo.charged.dmg2,{name:Ke.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:Ke.chg("auto.skillParams.5"),value:qt.charged.stamina}]},{text:Ke.chg("auto.fields.plunging")},{fields:[{node:e(bo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(bo.plunging.low,{name:s("plunging.low")})},{node:e(bo.plunging.high,{name:s("plunging.high")})}]}]),skill:Ke.talentTem("skill",[{fields:[{node:e(bo.skill.pressDmg,{name:Ke.chg("skill.skillParams.0")})},{node:e(bo.skill.ringHeal,{name:Ke.chg("skill.skillParams.1")})},{node:e(bo.skill.ringDmg,{name:Ke.chg("skill.skillParams.2")})},{text:Ke.chg("skill.skillParams.3"),value:qt.skill.cost*100,unit:d("percentCurrentHP")},{text:s("duration"),value:t=>t.get(a.constellation).value>=2?`${qt.skill.duration}s + ${qt.constellation2.skillDurInc}s = ${qt.skill.duration+qt.constellation2.skillDurInc}`:qt.skill.duration,unit:"s"},{text:s("cd"),value:qt.skill.cd,unit:"s"}]},Ke.headerTem("passive2",{fields:[{node:e(cf,{name:Ke.ch("a4.heal"),variant:"heal"})},{node:Qb}]}),Ke.headerTem("constellation2",{fields:[{text:d("durationInc"),value:qt.constellation2.skillDurInc,unit:"s"}]}),Ke.headerTem("constellation4",{fields:[{node:e(bo.constellation4.markDmg,{name:Ke.ch("c4.dmg")})},{text:s("cd"),value:qt.constellation4.cd,unit:"s"}]})]),burst:Ke.talentTem("burst",[{fields:[{node:e(bo.burst.singleDmg,{name:Ke.chg("burst.skillParams.0")})},{text:s("duration"),value:t=>t.get(Ug).value==="on"?`${qt.burst.durationBase}s + ${qt.burst.durationExtend-qt.burst.durationBase}s = ${qt.burst.durationExtend}`:qt.burst.durationBase,unit:"s"},{text:s("cd"),value:qt.burst.cd,unit:"s"},{text:s("energyCost"),value:qt.burst.cost}]},Ke.condTem("burst",{name:d("lessEqPercentHP",{percent:qt.passive1.hpThresh_*100}),value:Ug,path:V_,states:{on:{fields:[{text:d("durationInc"),value:qt.burst.durationExtend-qt.burst.durationBase,fixed:1,unit:"s"}]}}}),Ke.headerTem("constellation1",{fields:[{text:d("aoeInc"),value:qt.constellation1.aoeInc*100,unit:"%"}]})]),passive1:Ke.talentTem("passive1",[Ke.condTem("passive1",{name:d("lessEqPercentHP",{percent:qt.passive1.hpThresh_*100}),value:Ug,path:V_,states:{on:{fields:[{node:lP}]}}})]),passive2:Ke.talentTem("passive2"),passive3:Ke.talentTem("passive3"),constellation1:Ke.talentTem("constellation1"),constellation2:Ke.talentTem("constellation2"),constellation3:Ke.talentTem("constellation3",[{fields:[{node:oP}]}]),constellation4:Ke.talentTem("constellation4"),constellation5:Ke.talentTem("constellation5",[{fields:[{node:iP}]}]),constellation6:Ke.talentTem("constellation6",[Ke.condTem("constellation6",{value:nP,path:AH,name:d("lessPercentHP",{percent:qt.constellation6.hpThresh_*100}),states:{on:{fields:[{node:sP},{text:s("duration"),value:qt.constellation6.duration,unit:"s"},{text:s("cd"),value:qt.constellation6.cd,unit:"s"}]}}})])}},RH=new R(IH,BH),Yd="Layla",Sm="cryo",jh=_.char.data[Yd],tl=_.char.skillParam[Yd],we=A(Yd,jh.weaponType);let Tc=0,hm=0,Tg=0;const wl={normal:{hitArr:[tl.auto[Tc++],tl.auto[Tc++],tl.auto[Tc++]]},charged:{dmg1:tl.auto[Tc++],dmg2:tl.auto[Tc++],stamina:tl.auto[Tc++][0]},plunging:{dmg:tl.auto[Tc++],low:tl.auto[Tc++],high:tl.auto[Tc++]},skill:{skillDmg:tl.skill[hm++],starDmg:tl.skill[hm++],shieldHp_:tl.skill[hm++],shieldBase:tl.skill[hm++],shieldDuration:tl.skill[hm++][0],cd:tl.skill[hm++][0]},burst:{slugDmg:tl.burst[Tg++],duration:tl.burst[Tg++][0],cd:tl.burst[Tg++][0],energyCost:tl.burst[Tg++][0]},passive1:{shield_:tl.passive1[0][0],maxStacks:4},passive2:{starHpDmgInc:tl.passive2[0][0]},constellation1:{shield_:tl.constellation1[0],partyShield_:tl.constellation1[1],duration:tl.constellation1[2]},constellation4:{normalChargedDmgInc:tl.constellation4[0],effectDuration:tl.constellation4[1],removeAfter:tl.constellation4[2]},constellation6:{starIntervalDec_:tl.constellation6[0],starSlugDmg_:tl.constellation6[1]}},[MH,cP]=h(Yd,"a1Stacks"),rP=rl(1,wl.passive1.maxStacks),dP=n(a.asc,1,w(cP,Object.fromEntries(rP.map(t=>[t,m(t,wl.passive1.shield_)])),O),{...y.info("shield_"),isTeamBuff:!0}),HH=i(a.activeCharKey,G.charKey,dP),mP=n(a.asc,4,m(c(wl.passive2.starHpDmgInc),a.total.hp),{name:we.ch("starDmgInc")}),[EH,uP]=h(Yd,"c4Active"),Xb=n(a.constellation,4,i(uP,"on",m(c(wl.constellation4.normalChargedDmgInc),a.total.hp))),gP={...Xb},Yb=n(a.constellation,6,c(wl.constellation6.starSlugDmg_)),hP={...Yb},rf=m(P(St,n(a.constellation,1,wl.constellation1.shield_,{name:we.ch("c1ShieldBonusKey_"),unit:"%"})),Sn("hp",wl.skill.shieldHp_,wl.skill.shieldBase,"skill")),J_=tn("cryo",rf),Cs={normal:Object.fromEntries(wl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",wl.charged.dmg1,"charged"),dmg2:o("atk",wl.charged.dmg2,"charged")},plunging:E("atk",wl.plunging),skill:{skillDmg:o("atk",wl.skill.skillDmg,"skill"),starDmg:o("atk",wl.skill.starDmg,"skill",{premod:{skill_dmgInc:mP,skill_dmg_:Yb}}),skillShield:rf,skillCryoShield:J_},burst:{slugDmg:o("hp",wl.burst.slugDmg,"burst",{premod:{burst_dmg_:hP}})},constellation1:{partyShield:n(a.constellation,1,m(c(wl.constellation1.partyShield_),rf)),partyCryoShield:n(a.constellation,1,m(c(wl.constellation1.partyShield_),J_))}},pP=n(a.constellation,3,3),kP=n(a.constellation,5,3),KH=B(Yd,Sm,"sumeru",jh,Cs,{premod:{skillBoost:pP,burstBoost:kP},teamBuff:{premod:{shield_:HH,normal_dmgInc:Xb,charged_dmgInc:gP}}}),NH={key:Yd,name:we.name,rarity:jh.rarity,elementKey:Sm,weaponTypeKey:jh.weaponType,gender:"F",constellationName:we.chg("constellationName"),title:we.chg("title"),talent:{auto:we.talentTem("auto",[{text:we.chg("auto.fields.normal")},{fields:wl.normal.hitArr.map((t,l)=>({node:e(Cs.normal[l],{name:we.chg(`auto.skillParams.${l}`)})}))},{text:we.chg("auto.fields.charged")},{fields:[{node:e(Cs.charged.dmg1,{name:we.chg("auto.skillParams.3"),textSuffix:"(1)"})},{node:e(Cs.charged.dmg2,{name:we.chg("auto.skillParams.3"),textSuffix:"(2)"})},{text:we.chg("auto.skillParams.4"),value:wl.charged.stamina}]},{text:we.chg("auto.fields.plunging")},{fields:[{node:e(Cs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Cs.plunging.low,{name:s("plunging.low")})},{node:e(Cs.plunging.high,{name:s("plunging.high")})}]}]),skill:we.talentTem("skill",[{fields:[{node:e(Cs.skill.skillDmg,{name:we.chg("skill.skillParams.0")})},{node:e(Cs.skill.starDmg,{name:we.chg("skill.skillParams.1")})},{node:e(Cs.skill.skillShield,{name:s("dmgAbsorption")})},{node:e(Cs.skill.skillCryoShield,{name:d(`dmgAbsorption.${Sm}`),variant:Sm})},{text:s("duration"),value:wl.skill.shieldDuration,unit:"s"},{text:s("cd"),value:wl.skill.cd,unit:"s"}]},we.condTem("passive1",{teamBuff:!0,path:MH,value:cP,name:d("stacks"),states:Object.fromEntries(rP.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:dP}]}]))}),we.headerTem("passive2",{fields:[{node:mP}]}),we.headerTem("constellation1",{fields:[{text:d("dmgAbsorption.increase"),value:wl.constellation1.shield_*100,unit:"%"}]}),we.condTem("constellation4",{teamBuff:!0,value:uP,path:EH,name:we.ch("c4CondKey"),states:{on:{fields:[{node:Xb},{node:gP},{text:s("duration"),value:wl.constellation4.effectDuration,unit:"s"}]}}}),we.headerTem("constellation6",{fields:[{node:e(Yb,{name:we.ch("starDmg_")})},{text:we.ch("starInterval_"),value:-wl.constellation6.starIntervalDec_*100,unit:"%"}]})]),burst:we.talentTem("burst",[{fields:[{node:e(Cs.burst.slugDmg,{name:we.chg("burst.skillParams.0")})},{text:s("duration"),value:wl.burst.duration,unit:"s"},{text:s("cd"),value:wl.burst.cd,unit:"s"},{text:s("energyCost"),value:wl.burst.energyCost}]},we.headerTem("constellation6",{fields:[{node:e(hP,{name:we.ch("slugDmg_")})}]})]),passive1:we.talentTem("passive1"),passive2:we.talentTem("passive2"),constellation1:we.talentTem("constellation1",[we.fieldsTem("constellation1",{fields:[{node:e(Cs.constellation1.partyShield,{name:s("dmgAbsorption")})},{node:e(Cs.constellation1.partyCryoShield,{name:d(`dmgAbsorption.${Sm}`),variant:Sm})}]})]),constellation2:we.talentTem("constellation2"),constellation3:we.talentTem("constellation3",[{fields:[{node:pP}]}]),constellation4:we.talentTem("constellation4"),constellation5:we.talentTem("constellation5",[{fields:[{node:kP}]}]),constellation6:we.talentTem("constellation6")}},OH=new R(NH,KH),Zd="Lisa",fP="electro",Gh=_.char.data[Zd],ln=_.char.skillParam[Zd],Sa=A(Zd,Gh.weaponType);let $c=0,rd=0,$g=0,Q_=0;const Fn={normal:{hitArr:[ln.auto[$c++],ln.auto[$c++],ln.auto[$c++],ln.auto[$c++]]},charged:{dmg:ln.auto[$c++],stamina:ln.auto[$c++][0]},plunging:{dmg:ln.auto[$c++],low:ln.auto[$c++],high:ln.auto[$c++]},skill:{stack0:ln.skill[rd++],stack1:ln.skill[rd++],stack2:ln.skill[rd++],stack3:ln.skill[rd++],holdCD:ln.skill[rd++][0],press:ln.skill[rd++],pressCD:ln.skill[rd++][0]},burst:{summon:.1,tick:ln.burst[$g++],duration:ln.burst[$g++][0],cd:ln.burst[$g++][0],cost:ln.burst[$g++][0]},passive1:{unknown:ln.passive1[0][0]},passive2:{defShred:ln.passive2[Q_++][0],duration:ln.passive2[Q_++][0]}},[FH,bP]=h(Zd,"LisaA4"),[jH,vP]=h(Zd,"LisaC2"),_P=n(a.asc,1,i(bP,"on",Fn.passive2.defShred)),yP=n(a.constellation,2,i(vP,"on",p(.25))),qi={normal:Object.fromEntries(Fn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Fn.charged.dmg,"charged")},plunging:E("atk",Fn.plunging),skill:{stack0:o("atk",Fn.skill.stack0,"skill"),stack1:o("atk",Fn.skill.stack1,"skill"),stack2:o("atk",Fn.skill.stack2,"skill"),stack3:o("atk",Fn.skill.stack3,"skill"),press:o("atk",Fn.skill.press,"skill")},burst:{summon:N(m(c(Fn.burst.summon),a.total.atk),"burst"),tick:o("atk",Fn.burst.tick,"burst")}},TP=n(a.constellation,3,3),$P=n(a.constellation,5,3),GH=B(Zd,fP,"mondstadt",Gh,qi,{premod:{burstBoost:TP,skillBoost:$P,def_:yP},teamBuff:{premod:{enemyDefRed_:_P}}}),zH={key:Zd,name:Sa.name,rarity:Gh.rarity,elementKey:fP,weaponTypeKey:Gh.weaponType,gender:"F",constellationName:Sa.chg("constellationName"),title:Sa.chg("title"),talent:{auto:Sa.talentTem("auto",[{text:Sa.chg("auto.fields.normal")},{fields:Fn.normal.hitArr.map((t,l)=>({node:e(qi.normal[l],{name:Sa.chg(`auto.skillParams.${l}`)})}))},{text:Sa.chg("auto.fields.charged")},{fields:[{node:e(qi.charged.dmg,{name:Sa.chg("auto.skillParams.4")})},{text:Sa.chg("auto.skillParams.5"),value:Fn.charged.stamina}]},{text:Sa.chg("auto.fields.plunging")},{fields:[{node:e(qi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qi.plunging.low,{name:s("plunging.low")})},{node:e(qi.plunging.high,{name:s("plunging.high")})}]}]),skill:Sa.talentTem("skill",[{fields:[{node:e(qi.skill.press,{name:Sa.chg("skill.skillParams.0")})},...rl(0,3).map(t=>({node:e(qi.skill[`stack${t}`],{name:Sa.chg(`skill.skillParams.${2+t}`)})})),{text:s("press.cd"),value:Fn.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Fn.skill.holdCD,unit:"s"}]}]),burst:Sa.talentTem("burst",[{fields:[{node:e(qi.burst.summon,{name:s("skillDMG")})},{node:e(qi.burst.tick,{name:Sa.chg("burst.skillParams.0")})},{text:Sa.chg("burst.skillParams.1"),value:Fn.burst.duration,unit:"s"},{text:Sa.chg("burst.skillParams.2"),value:Fn.burst.cd,unit:"s"},{text:Sa.chg("burst.skillParams.3"),value:Fn.burst.cost}]}]),passive1:Sa.talentTem("passive1"),passive2:Sa.talentTem("passive2",[Sa.condTem("passive2",{name:Sa.ch("a4C"),value:bP,path:FH,teamBuff:!0,states:{on:{fields:[{node:_P},{text:s("duration"),value:Fn.passive2.duration,unit:"s"}]}}})]),passive3:Sa.talentTem("passive3"),constellation1:Sa.talentTem("constellation1"),constellation2:Sa.talentTem("constellation2",[Sa.condTem("constellation2",{value:vP,path:jH,name:Sa.ch("c2C"),states:{on:{fields:[{node:yP},{text:d("incInterRes")}]}}})]),constellation3:Sa.talentTem("constellation3",[{fields:[{node:TP}]}]),constellation4:Sa.talentTem("constellation4"),constellation5:Sa.talentTem("constellation5",[{fields:[{node:$P}]}]),constellation6:Sa.talentTem("constellation6")}},WH=new R(zH,GH),Fr="Lynette",wd=_.char.data[Fr],ca=_.char.skillParam[Fr],de=A(Fr,wd.weaponType);let Go=0,cr=0,pm=0;const on={normal:{hitArr:[ca.auto[Go++],ca.auto[Go++],ca.auto[Go++],ca.auto[Go++],ca.auto[Go++]]},charged:{dmg1:ca.auto[Go++],dmg2:ca.auto[Go++],stam:ca.auto[Go++][0]},plunging:{dmg:ca.auto[Go++],low:ca.auto[Go++],high:ca.auto[Go++]},skill:{thrustDmg:ca.skill[cr++],thrustDmgAgain:ca.skill[cr++],bladeDmg:ca.skill[cr++],hpRegen:ca.skill[cr++][0],hpCost:ca.skill[cr++][0],cd:ca.skill[cr++][0],bladeInterval:ca.skill[cr++][0],holdMaxDuration:ca.skill[cr++][0]},burst:{skillDmg:ca.burst[pm++],boxDmg:ca.burst[pm++],shotDmg:ca.burst[pm++],boxDuration:ca.burst[pm++][0],cd:ca.burst[pm++][0],enerCost:ca.burst[pm++][0]},passive1:{duration:ca.passive1[0][0],atk_:[0,ca.passive1[1][0],ca.passive1[2][0],ca.passive1[3][0],ca.passive1[4][0]]},passive2:{burst_dmg_:ca.passive2[0][0]},constellation6:{anemo_dmg_:ca.constellation6[0],duration:ca.constellation6[1]}},[UH,Ku]=h(Fr,"burstAbsorb"),[LH,xP]=h(Fr,"a1AfterBurst"),PP=n(a.asc,1,i(xP,"on",$(mn.ele,[...on.passive1.atk_]))),DP=n(a.asc,4,j(Ku,void 0,on.passive2.burst_dmg_)),[qH,Zb]=h(Fr,"c6AfterThrust"),VH=wr(a.constellation,6,dn(Zb,"on","anemo")),CP=n(a.constellation,6,i(Zb,"on",on.constellation6.anemo_dmg_)),Ss={normal:Object.fromEntries(on.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",on.charged.dmg1,"charged"),dmg2:o("atk",on.charged.dmg2,"charged")},plunging:E("atk",on.plunging),skill:{thrustDmg:o("atk",on.skill.thrustDmg,"skill"),bladeDmg:o("atk",on.skill.bladeDmg,"skill"),hpRegen:Wn("hp",c(on.skill.hpRegen),0),hpCost:m(c(on.skill.hpCost),a.total.hp)},burst:{dmg:o("atk",on.burst.skillDmg,"burst"),boxDmg:o("atk",on.burst.boxDmg,"burst"),shotDmg:j(Ku,void 0,o("atk",on.burst.shotDmg,"burst",{hit:{ele:Ku}}))}},SP=n(a.constellation,3,3),wP=n(a.constellation,5,3),JH=B(Fr,wd.ele,wd.region,wd,Ss,{teamBuff:{premod:{atk_:PP}},premod:{skillBoost:wP,burstBoost:SP,burst_dmg_:DP,anemo_dmg_:CP},infusion:{overridableSelf:VH}}),QH={key:Fr,name:de.name,rarity:wd.rarity,elementKey:wd.ele,weaponTypeKey:wd.weaponType,gender:"F",constellationName:de.chg("constellationName"),title:de.chg("title"),talent:{auto:de.talentTem("auto",[{text:de.chg("auto.fields.normal")},{fields:on.normal.hitArr.map((t,l)=>({node:e(Ss.normal[l],{name:de.chg(`auto.skillParams.${l>2?l-1:l}`),textSuffix:l===2||l===3?`(${l-1})`:void 0})}))},{text:de.chg("auto.fields.charged")},{fields:[{node:e(Ss.charged.dmg1,{name:de.chg("auto.skillParams.4"),textSuffix:"(1)"})},{node:e(Ss.charged.dmg2,{name:de.chg("auto.skillParams.4"),textSuffix:"(2)"})},{text:de.chg("auto.skillParams.5"),value:on.charged.stam}]},{text:de.chg("auto.fields.plunging")},{fields:[{node:e(Ss.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ss.plunging.low,{name:s("plunging.low")})},{node:e(Ss.plunging.high,{name:s("plunging.high")})}]}]),skill:de.talentTem("skill",[{fields:[{node:e(Ss.skill.thrustDmg,{name:de.chg("skill.skillParams.0")})},{node:e(Ss.skill.bladeDmg,{name:de.chg("skill.skillParams.1")})},{text:de.chg("skill.skillParams.2"),value:on.skill.bladeInterval,unit:"s"},{node:e(Ss.skill.hpRegen,{name:de.chg("skill.skillParams.3")})},{node:e(Ss.skill.hpCost,{name:de.chg("skill.skillParams.4")})},{text:de.chg("skill.skillParams.5"),value:on.skill.holdMaxDuration,fixed:1,unit:"s"},{text:s("cd"),value:on.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=4,text:d("charges"),value:2}]},de.condTem("constellation6",{value:Zb,path:qH,name:de.ch("c6CondName"),states:{on:{fields:[{text:D(yt,{color:"anemo",children:d("infusion.anemo")})},{node:CP},{text:s("duration"),value:6,unit:"s"}]}}})]),burst:de.talentTem("burst",[{fields:[{node:e(Ss.burst.dmg,{name:de.chg("burst.skillParams.0")})},{node:e(Ss.burst.boxDmg,{name:de.chg("burst.skillParams.1")})},{text:de.chg("burst.skillParams.3"),value:on.burst.boxDuration,unit:"s"},{text:s("cd"),value:on.burst.cd,unit:"s"},{text:s("energyCost"),value:on.burst.enerCost}]},de.condTem("burst",{value:Ku,path:UH,name:d("eleAbsor"),states:C(il,t=>({name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Ss.burst.shotDmg,{name:de.chg("burst.skillParams.2")})}]}))}),de.condTem("passive1",{value:xP,path:LH,teamBuff:!0,name:d("afterUse.burst"),states:{on:{fields:[{node:PP},{text:s("duration"),value:on.passive1.duration,unit:"s"}]}}}),de.headerTem("passive2",{canShow:j(Ku,void 0,1),fields:[{node:DP}]})]),passive1:de.talentTem("passive1"),passive2:de.talentTem("passive2"),passive3:de.talentTem("passive3"),constellation1:de.talentTem("constellation1"),constellation2:de.talentTem("constellation2"),constellation3:de.talentTem("constellation3",[{fields:[{node:SP}]}]),constellation4:de.talentTem("constellation4",[de.headerTem("constellation4",{fields:[{text:d("addlCharges"),value:1}]})]),constellation5:de.talentTem("constellation5",[{fields:[{node:wP}]}]),constellation6:de.talentTem("constellation6")}},XH=new R(QH,JH),ic="Lyney",Pr=_.char.data[ic],Ue=_.char.skillParam[ic],ot=A(ic,Pr.weaponType);let ss=0,xg=0,ru=0;const La={normal:{hitArr:[Ue.auto[ss++],Ue.auto[ss++],Ue.auto[++ss],Ue.auto[++ss]]},plunging:{dmg:Ue.auto[++ss],low:Ue.auto[++ss],high:Ue.auto[++ss]},charged:{aimed:Ue.auto[++ss],fullyAimed:Ue.auto[++ss],propDmg:Ue.auto[++ss],hpCost:Ue.auto[++ss],hatHp:Ue.auto[++ss],hatDuration:Ue.auto[++ss][0],pyrotechnicDmg:Ue.auto[++ss],thornDmg:Ue.auto[++ss],thornInterval:Ue.auto[++ss][0]},skill:{dmg:Ue.skill[xg++],dmgInc:Ue.skill[xg++],hpRegen:Ue.skill[xg++],cd:Ue.skill[xg++][0]},burst:{skillDmg:Ue.burst[ru++],fireworkDmg:Ue.burst[ru++],duration:Ue.burst[ru++][0],cd:Ue.burst[ru++][0],enerCost:Ue.burst[ru++][0]},passive1:{energy:Ue.passive1[0][0],propAddlDmg:Ue.passive1[1][0]},passive2:{dmg_:Ue.passive2[0][0],extraDmg_:Ue.passive2[1][0]},constellation2:{critDmg_:Ue.constellation2[0],stackCd:Ue.constellation2[1],maxStacks:Ue.constellation2[2]},constellation4:{enemy_pyro_res_:Ue.constellation4[0],duration:Ue.constellation4[1]},constellation6:{dmg:Ue.constellation6[0]}},[YH,AP]=h(ic,"propStacks"),BP=At(1,5),IP=w(AP,C(BP,t=>p(t)),p(0),{name:ot.ch("propStacks")}),RP=m(IP,$(a.total.skillIndex,La.skill.dmgInc,{unit:"%"}),a.total.atk),[ZH,MP]=h(ic,"a1DrainHp"),tv=n(a.asc,1,i(MP,"on",m(c(La.passive1.propAddlDmg),a.total.atk))),[tE,HP]=h(ic,"a4AffectedByPyro"),eE=e(Il(2,P(mn.pyro,-1)),{asConst:!0}),EP=n(a.asc,4,i(HP,"on",P(c(La.passive2.dmg_),m(c(La.passive2.extraDmg_),eE)))),[aE,KP]=h(ic,"c2Stacks"),NP=At(1,La.constellation2.maxStacks),OP=n(a.constellation,2,m(c(La.constellation2.critDmg_),w(KP,C(NP,t=>p(t)),O))),[lE,FP]=h(ic,"c4Hit"),jP=n(a.constellation,4,i(FP,"on",-La.constellation4.enemy_pyro_res_)),Du={hit:{ele:p(Pr.ele)}},nE={premod:{charged_dmgInc:tv},...Du},Ln={normal:Object.fromEntries(La.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",La.charged.aimed,"charged"),fullyAimed:o("atk",La.charged.fullyAimed,"charged",Du),prop:o("atk",La.charged.propDmg,"charged",Du),hpCost:m($(a.total.autoIndex,La.charged.hpCost,{unit:"%"}),a.total.hp),hatHp:m($(a.total.autoIndex,La.charged.hatHp,{unit:"%"}),a.total.hp),pyrotechnic:o("atk",La.charged.pyrotechnicDmg,"charged",nE),spiritbreath:o("atk",La.charged.thornDmg,"charged",Du)},plunging:E("atk",La.plunging),skill:{dmg:o("atk",La.skill.dmg,"skill"),skillDmgInc:RP,hpRegen:cl("hp",La.skill.hpRegen,new Array(15).fill(0),"skill",void 0,IP)},burst:{dmg:o("atk",La.burst.skillDmg,"burst"),fireworkDmg:o("atk",La.burst.fireworkDmg,"burst")},passive1:{hatDmgInc:tv},constellation6:{dmg:n(a.constellation,6,o("atk",La.charged.pyrotechnicDmg,"charged",Du,c(La.constellation6.dmg)))}},GP=n(a.constellation,3,3),zP=n(a.constellation,5,3),sE=B(ic,Pr.ele,Pr.region,Pr,Ln,{premod:{burstBoost:zP,autoBoost:GP,critDMG_:OP,all_dmg_:EP,skill_dmgInc:RP},teamBuff:{premod:{pyro_enemyRes_:jP}}}),oE={key:ic,name:ot.name,rarity:Pr.rarity,elementKey:Pr.ele,weaponTypeKey:Pr.weaponType,gender:"M",constellationName:ot.chg("constellationName"),title:ot.chg("title"),talent:{auto:ot.talentTem("auto",[{text:ot.chg("auto.fields.normal")},{fields:La.normal.hitArr.map((t,l)=>({node:e(Ln.normal[l],{name:ot.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ot.chg("auto.fields.plunging")},{fields:[{node:e(Ln.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ln.plunging.low,{name:s("plunging.low")})},{node:e(Ln.plunging.high,{name:s("plunging.high")})}]},{text:ot.chg("auto.fields.charged")},{fields:[{node:e(Ln.charged.aimed,{name:ot.chg("auto.skillParams.6")})},{node:e(Ln.charged.fullyAimed,{name:ot.chg("auto.skillParams.7")})},{node:e(Ln.charged.prop,{name:ot.chg("auto.skillParams.8")})},{node:e(Ln.charged.hpCost,{name:ot.chg("auto.skillParams.9")})}]},ot.headerTem("constellation6",{fields:[{node:e(Ln.constellation6.dmg,{name:ot.ch("c6Dmg")})}]}),{text:ot.chg("auto.fields.grinMalkin")},{fields:[{node:e(Ln.charged.hatHp,{name:ot.chg("auto.skillParams.10")})},{text:ot.chg("auto.skillParams.11"),value:La.charged.hatDuration,unit:"s"},{node:e(Ln.charged.pyrotechnic,{name:ot.chg("auto.skillParams.12")})}]},ot.condTem("passive1",{value:MP,path:ZH,name:ot.ch("a1CondName"),states:{on:{fields:[{node:e(tv,{name:ot.ch("hatDmgInc")})},{text:s("energyRegen"),value:3}]}}}),{text:ot.chg("auto.fields.arkhe")},{fields:[{node:e(Ln.charged.spiritbreath,{name:ot.chg("auto.skillParams.13")})},{text:ot.chg("auto.skillParams.14"),value:La.charged.thornInterval,unit:"s"}]}]),skill:ot.talentTem("skill",[{fields:[{node:e(Ln.skill.dmg,{name:ot.chg("skill.skillParams.0")})},{text:s("cd"),value:La.skill.cd,unit:"s"}]},ot.condTem("skill",{value:AP,path:YH,name:ot.ch("propStacksUsed"),states:C(BP,t=>({name:d("stack",{count:t}),fields:[{node:Ln.skill.skillDmgInc},{node:e(Ln.skill.hpRegen,{name:ot.chg("skill.skillParams.2")})}]}))})]),burst:ot.talentTem("burst",[{fields:[{node:e(Ln.burst.dmg,{name:ot.chg("burst.skillParams.0")})},{node:e(Ln.burst.fireworkDmg,{name:ot.chg("burst.skillParams.1")})},{text:s("duration"),value:La.burst.duration,unit:"s"},{text:s("cd"),value:La.burst.cd,unit:"s"},{text:s("energyCost"),value:La.burst.enerCost}]}]),passive1:ot.talentTem("passive1"),passive2:ot.talentTem("passive2",[ot.condTem("passive2",{value:HP,path:tE,name:d("enemyAffected.pyro"),states:{on:{fields:[{node:EP}]}}})]),passive3:ot.talentTem("passive3"),constellation1:ot.talentTem("constellation1"),constellation2:ot.talentTem("constellation2",[ot.condTem("constellation2",{path:aE,value:KP,name:d("timeOnField"),states:C(NP,t=>({name:d("seconds",{count:t*2}),fields:[{node:OP}]}))})]),constellation3:ot.talentTem("constellation3",[{fields:[{node:GP}]}]),constellation4:ot.talentTem("constellation4",[ot.condTem("constellation4",{value:FP,path:lE,name:d("hitOp.charged"),states:{on:{fields:[{node:jP},{text:s("duration"),value:La.constellation4.duration,unit:"s"}]}}})]),constellation5:ot.talentTem("constellation5",[{fields:[{node:zP}]}]),constellation6:ot.talentTem("constellation6")}},iE=new R(oE,sE),jr="Mika",WP="cryo",zh=_.char.data[jr],Fa=_.char.skillParam[jr],Ne=A(jr,zh.weaponType);let Ei=-1,km=0,rr=0;const Wl={normal:{hitArr:[Fa.auto[++Ei],Fa.auto[++Ei],Fa.auto[++Ei],Fa.auto[++Ei],Fa.auto[Ei+=2]]},charged:{dmg:Fa.auto[++Ei],stamina:Fa.auto[++Ei][0]},plunging:{dmg:Fa.auto[++Ei],low:Fa.auto[++Ei],high:Fa.auto[++Ei]},skill:{arrowDmg:Fa.skill[km++],flareDmg:Fa.skill[km++],shardDmg:Fa.skill[km++],atkSPD_:Fa.skill[km++],soulwindDuration:Fa.skill[km++][0],cd:Fa.skill[km++][0]},burst:{castHealBase:Fa.burst[rr++],castHealHp:Fa.burst[rr++],plumeHealBase:Fa.burst[rr++],plumeHealHp:Fa.burst[rr++],plumeInterval:Fa.burst[rr++][0],plumeDuration:Fa.burst[rr++][0],cd:Fa.burst[rr++][0],energyCost:Fa.burst[rr++][0]},passive1:{physical_dmg_:Fa.passive1[0][0],maxStacks:Fa.passive1[1][0]},constellation4:{energyRegen:Fa.constellation4[0],energyRegenProcs:Fa.constellation4[1]},constellation6:{physical_critDMG_:Fa.constellation6[0],extraStacks:Fa.constellation6[1]}},[cE,vd]=h(jr,"inSoulwind"),Lg=i(vd,"on",$(a.total.skillIndex,Wl.skill.atkSPD_,{...y.info("atkSPD_"),isTeamBuff:!0})),rE=i(a.activeCharKey,G.charKey,Lg),[dE,UP]=h(jr,"a1DetectorStacks"),mE=At(1,4),LP=n(a.asc,1,i(vd,"on",w(UP,C(mE,t=>t===4?n(a.constellation,6,m(t,c(Wl.passive1.physical_dmg_))):m(t,c(Wl.passive1.physical_dmg_))),O,{...y.info("physical_dmg_"),isTeamBuff:!0}))),uE=i(a.activeCharKey,G.charKey,LP),[gE,qP]=h(jr,"c6Crit"),VP=n(a.constellation,6,i(vd,"on",i(qP,"on",Wl.constellation6.physical_critDMG_,{...y.info("physical_critDMG_"),isTeamBuff:!0}))),hE=i(a.activeCharKey,G.charKey,VP),ii={normal:Object.fromEntries(Wl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Wl.charged.dmg,"charged")},plunging:E("atk",Wl.plunging),skill:{arrowDmg:o("atk",Wl.skill.arrowDmg,"skill"),flareDmg:o("atk",Wl.skill.flareDmg,"skill"),shardDmg:o("atk",Wl.skill.shardDmg,"skill")},burst:{castHeal:cl("hp",Wl.burst.castHealHp,Wl.burst.castHealBase,"burst"),plumeHeal:cl("hp",Wl.burst.plumeHealHp,Wl.burst.plumeHealBase,"burst")}},JP=n(a.constellation,3,3),QP=n(a.constellation,5,3),pE=B(jr,WP,"mondstadt",zh,ii,{premod:{burstBoost:JP,skillBoost:QP},teamBuff:{premod:{atkSPD_:rE,physical_dmg_:uE,physical_critDMG_:hE}}}),kE={key:jr,name:Ne.name,rarity:zh.rarity,elementKey:WP,weaponTypeKey:zh.weaponType,gender:"M",constellationName:Ne.chg("constellationName"),title:Ne.chg("title"),talent:{auto:Ne.talentTem("auto",[{text:Ne.chg("auto.fields.normal")},{fields:Wl.normal.hitArr.map((t,l)=>({node:e(ii.normal[l],{name:Ne.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:Ne.chg("auto.fields.charged")},{fields:[{node:e(ii.charged.dmg,{name:Ne.chg("auto.skillParams.5")})},{text:Ne.chg("auto.skillParams.6"),value:Wl.charged.stamina}]},{text:Ne.chg("auto.fields.plunging")},{fields:[{node:e(ii.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ii.plunging.low,{name:s("plunging.low")})},{node:e(ii.plunging.high,{name:s("plunging.high")})}]}]),skill:Ne.talentTem("skill",[{fields:[{node:e(ii.skill.arrowDmg,{name:Ne.chg("skill.skillParams.0")})},{node:e(ii.skill.flareDmg,{name:Ne.chg("skill.skillParams.1")})},{node:e(ii.skill.shardDmg,{name:Ne.chg("skill.skillParams.2")})},{text:Ne.chg("skill.skillParams.4"),value:Wl.skill.soulwindDuration,unit:"s"},{text:s("cd"),value:Wl.skill.cd,unit:"s"}]},Ne.condTem("skill",{path:cE,value:vd,teamBuff:!0,name:Ne.ch("inSoulwind"),states:{on:{fields:[{node:Lg}]}}}),Ne.condTem("passive1",{path:dE,value:UP,teamBuff:!0,canShow:i(vd,"on",1),name:Ne.ch("numDetectorStacks"),states:t=>C(At(1,t.get(a.constellation).value>=6?4:3),l=>({name:d("stack",{count:l}),fields:[{node:LP}]}))}),Ne.condTem("constellation6",{teamBuff:!0,canShow:i(vd,"on",1),path:gE,value:qP,name:Ne.ch("inSoulwind"),states:{on:{fields:[{node:VP}]}}}),Ne.headerTem("constellation6",{fields:[{text:Ne.ch("incDetectorStacks"),value:Wl.constellation6.extraStacks}]})]),burst:Ne.talentTem("burst",[{fields:[{node:e(ii.burst.castHeal,{name:Ne.chg("burst.skillParams.0")})},{node:e(ii.burst.plumeHeal,{name:Ne.chg("burst.skillParams.1")})},{text:Ne.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=1&&t.get(vd).value==="on"&&t.get(a.activeCharKey).value===t.get(G.charKey).value?`${Wl.burst.plumeInterval}s - ${t.get(Lg).value*100}% = ${(Wl.burst.plumeInterval*(1-t.get(Lg).value)).toFixed(2)}`:Wl.burst.plumeInterval,unit:"s",fixed:1},{text:Ne.chg("burst.skillParams.3"),value:Wl.burst.plumeDuration,unit:"s"},{text:s("cd"),value:Wl.burst.cd,unit:"s"},{text:s("energyCost"),value:Wl.burst.energyCost}]}]),passive1:Ne.talentTem("passive1"),passive2:Ne.talentTem("passive2"),constellation1:Ne.talentTem("constellation1"),constellation2:Ne.talentTem("constellation2"),constellation3:Ne.talentTem("constellation3",[{fields:[{node:JP}]}]),constellation4:Ne.talentTem("constellation4"),constellation5:Ne.talentTem("constellation5",[{fields:[{node:QP}]}]),constellation6:Ne.talentTem("constellation6")}},fE=new R(kE,pE),Gr="Mona",XP="hydro",Wh=_.char.data[Gr],Et=_.char.skillParam[Gr],me=A(Gr,Wh.weaponType);let xc=0,hk=0,dd=0,X_=0,pk=0,Y_=0;var R1,M1,H1,E1;const vl={normal:{hitArr:[Et.auto[xc++],Et.auto[xc++],Et.auto[xc++],Et.auto[xc++]]},charged:{dmg:Et.auto[xc++],stamina:Et.auto[xc++][0]},plunging:{dmg:Et.auto[xc++],low:Et.auto[xc++],high:Et.auto[xc++]},skill:{dot:Et.skill[hk++],dmg:Et.skill[hk++],cd:Et.skill[hk++][0]},burst:{bubbleDuration:Et.burst[dd++][0],dmg:Et.burst[dd++],dmgBonusNeg:Et.burst[dd++],omenDuration:Et.burst[dd++],cd:Et.burst[dd++][0],enerCost:Et.burst[dd++][0],dmgBonus:Et.burst[dd++]},sprint:{active_stam:(M1=(R1=Et==null?void 0:Et.sprint)==null?void 0:R1[X_++])==null?void 0:M1[0],drain_stam:(E1=(H1=Et==null?void 0:Et.sprint)==null?void 0:H1[X_++])==null?void 0:E1[0]},passive1:{torrentDuration:Et.passive1[pk++][0],phantomDuration:Et.passive1[pk++][0],percentage:Et.passive1[pk++][0]},passive2:{unknown:Et.passive2[Y_++][0],percentage:Et.passive2[Y_++][0]},constellation1:{electroChargeDmgInc:Et.constellation1[0],vaporizeDmgInc:Et.constellation1[1],hydroSwirlDmgInc:Et.constellation1[2],frozenExtension:Et.constellation1[3],unknown:Et.constellation1[4],duration:Et.constellation1[5]},constellation4:{critRateInc:Math.abs(Et.constellation4[0])},constellation6:{unknown:Et.constellation6[0],dmgBonus:Et.constellation6[1],maxDmgBonus:Et.constellation6[2],duration:Et.constellation6[3]}},[bE,Uh]=h(Gr,"Omen"),YP=i("on",Uh,$(a.total.burstIndex,vl.burst.dmgBonus,{unit:"%"})),[vE,jp]=h(Gr,"ProphecyOfSubmersion"),ZP=n(a.constellation,1,i("on",jp,c(vl.constellation1.electroChargeDmgInc))),tD=n(a.constellation,1,i("on",jp,c(vl.constellation1.hydroSwirlDmgInc))),eD=n(a.constellation,1,i("on",jp,c(vl.constellation1.vaporizeDmgInc))),aD=n(a.constellation,4,i(Uh,"on",c(vl.constellation4.critRateInc))),[_E,lD]=h(Gr,"RhetoricsOfCalamitas"),nD=n(a.constellation,6,w(lD,C(At(1,3),t=>c(t*vl.constellation6.dmgBonus)),0)),Do={normal:Object.fromEntries(vl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",vl.charged.dmg,"charged")},plunging:E("atk",vl.plunging),skill:{dot:o("atk",vl.skill.dot,"skill"),dmg:o("atk",vl.skill.dmg,"skill")},burst:{dmg:o("atk",vl.burst.dmg,"burst")},passive1:{dmg:n(a.asc,1,m(o("atk",vl.skill.dmg,"skill"),c(vl.passive1.percentage)))},passive2:{hydro_dmg_:n(a.asc,4,m(a.premod.enerRech_,c(vl.passive2.percentage)))}},sD=n(a.constellation,3,3),oD=n(a.constellation,5,3),yE=B(Gr,XP,"mondstadt",Wh,Do,{premod:{skillBoost:oD,burstBoost:sD,charged_dmg_:nD,hydro_dmg_:Do.passive2.hydro_dmg_},teamBuff:{premod:{all_dmg_:YP,electrocharged_dmg_:ZP,swirl_dmg_:tD,vaporize_dmg_:eD,critRate_:aD}}}),TE={key:Gr,name:me.name,rarity:Wh.rarity,elementKey:XP,weaponTypeKey:Wh.weaponType,gender:"F",constellationName:me.chg("constellationName"),title:me.chg("title"),talent:{auto:me.talentTem("auto",[{text:me.chg("auto.fields.normal")},{fields:vl.normal.hitArr.map((t,l)=>({node:e(Do.normal[l],{name:me.chg(`auto.skillParams.${l}`)})}))},{text:me.chg("auto.fields.charged")},{fields:[{node:e(Do.charged.dmg,{name:me.chg("auto.skillParams.4")})},{text:me.chg("auto.skillParams.5"),value:vl.charged.stamina}]},{text:me.chg("auto.fields.plunging")},{fields:[{node:e(Do.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Do.plunging.low,{name:s("plunging.low")})},{node:e(Do.plunging.high,{name:s("plunging.high")})}]}]),skill:me.talentTem("skill",[{fields:[{node:e(Do.skill.dot,{name:me.chg("skill.skillParams.0")})},{node:e(Do.skill.dmg,{name:me.chg("skill.skillParams.1")})},{text:me.chg("skill.skillParams.2"),value:vl.skill.cd,unit:"s"}]}]),burst:me.talentTem("burst",[{fields:[{text:me.chg("burst.skillParams.0"),value:vl.burst.bubbleDuration,unit:"s"},{node:e(Do.burst.dmg,{name:me.chg("burst.skillParams.1")})},{text:s("cd"),value:vl.burst.cd,unit:"s"},{text:s("energyCost"),value:vl.burst.enerCost}]},me.condTem("burst",{value:Uh,path:bE,teamBuff:!0,name:me.ch("omen"),states:{on:{fields:[{node:YP},{text:s("duration"),value:t=>vl.burst.omenDuration[t.get(a.total.burstIndex).value],unit:"s"}]}}}),me.headerTem("constellation4",{canShow:i(Uh,"on",1),teamBuff:!0,fields:[{node:aD}]})]),sprint:me.talentTem("sprint",[{fields:[{text:d("activationStam"),value:vl.sprint.active_stam},{text:d("stamDrain"),value:vl.sprint.drain_stam,unit:"/s"}]}]),passive1:me.talentTem("passive1",[me.fieldsTem("passive1",{fields:[{node:e(Do.passive1.dmg,{name:me.chg("skill.skillParams.1")})},{text:s("duration"),value:vl.passive1.phantomDuration,unit:"s"}]})]),passive2:me.talentTem("passive2",[me.fieldsTem("passive2",{fields:[{node:Do.passive2.hydro_dmg_}]})]),passive3:me.talentTem("passive3"),constellation1:me.talentTem("constellation1",[me.condTem("constellation1",{value:jp,path:vE,teamBuff:!0,name:me.ch("hitOp.affectedByOmen"),states:{on:{fields:[{node:ZP},{node:tD},{node:eD},{text:me.ch("frozenDuration"),value:vl.constellation1.frozenExtension*100,unit:"%"},{text:s("duration"),value:vl.constellation1.duration,unit:"s"}]}}})]),constellation2:me.talentTem("constellation2"),constellation3:me.talentTem("constellation3",[{fields:[{node:sD}]}]),constellation4:me.talentTem("constellation4"),constellation5:me.talentTem("constellation5",[{fields:[{node:oD}]}]),constellation6:me.talentTem("constellation6",[me.condTem("constellation6",{value:lD,path:_E,name:me.ch("uponSprint"),states:Object.fromEntries(At(1,3).map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:nD},{text:s("duration"),value:vl.constellation6.duration,unit:"s"}]}]))})])}},$E=new R(TE,yE),to="Nahida",iD="dendro",Lh=_.char.data[to],Kt=_.char.skillParam[to],J=A(to,Lh.weaponType);let Pc=0,dr=0,Dc=0;const wt={normal:{hitArr:[Kt.auto[Pc++],Kt.auto[Pc++],Kt.auto[Pc++],Kt.auto[Pc++]]},charged:{dmg:Kt.auto[Pc++],stamina:Kt.auto[Pc++][0]},plunging:{dmg:Kt.auto[Pc++],low:Kt.auto[Pc++],high:Kt.auto[Pc++]},skill:{pressDmg:Kt.skill[dr++],holdDmg:Kt.skill[dr++],karmaAtkDmg:Kt.skill[dr++],karmaEleMasDmg:Kt.skill[dr++],triggerInterval:Kt.skill[dr++][0],duration:Kt.skill[dr++][0],pressCd:Kt.skill[dr++][0],holdCd:Kt.skill[dr++][0]},burst:{dmg_1:Kt.burst[Dc++],dmg_2:Kt.burst[Dc++],intervalDec_1:Kt.burst[Dc++],intervalDec_2:Kt.burst[Dc++],durationInc1:Kt.burst[Dc++],durationInc2:Kt.burst[Dc++],duration:Kt.burst[Dc++][0],cd:Kt.burst[Dc++][0],energyCost:Kt.burst[Dc++][0]},passive1:{eleMas_:Kt.passive1[0][0],maxEleMas:Kt.passive1[1][0]},passive2:{eleMas_min:Kt.passive2[0][0],eleMas_maxCounted:Kt.passive2[1][0],eleMas_dmg_:Kt.passive2[2][0],eleMas_critRate_:Kt.passive2[3][0]},constellation2:{critRate_:Kt.constellation2[0],critDMG_:1,defDec_:Kt.constellation2[1],duration:Kt.constellation2[2]},constellation4:{eleMas:[...Kt.constellation4]},constellation6:{atkDmg:Kt.constellation6[0],eleMasDmg:Kt.constellation6[1],cd:Kt.constellation6[2],duration:Kt.constellation6[3],triggers:Kt.constellation6[4]}},[xE,Ad]=h(to,"partyInBurst"),qh=P(mn.pyro,n(a.constellation,1,1)),cD=i(Ad,"on",n(qh,1,wo(qh,1,$(a.total.burstIndex,wt.burst.dmg_1),$(a.total.burstIndex,wt.burst.dmg_2))),{unit:"%"}),Vh=P(mn.electro,n(a.constellation,1,1)),kk=i(Ad,"on",n(Vh,1,wo(Vh,1,$(a.total.burstIndex,wt.burst.intervalDec_1),$(a.total.burstIndex,wt.burst.intervalDec_2))),{unit:"%"}),df=P(mn.hydro,n(a.constellation,1,1)),fk=i(Ad,"on",n(df,1,wo(df,1,$(a.total.burstIndex,wt.burst.durationInc1),$(a.total.burstIndex,wt.burst.durationInc2))),{unit:"%"}),[PE,mf]=h(to,"condA1ActiveInBurst"),rD=n(a.asc,1,i(mf,"on",n(P(i(Ad,"on",1),j(a.activeCharKey,to,1)),1,Il(m(c(wt.passive1.eleMas_),mn.maxEleMas),wt.passive1.maxEleMas))),{...y.info("eleMas"),isTeamBuff:!0}),DE=i(a.activeCharKey,G.charKey,rD),dD=e(n(a.asc,4,Il(m(c(wt.passive2.eleMas_dmg_),zm(P(a.total.eleMas,-wt.passive2.eleMas_min),0)),c(wt.passive2.eleMas_dmg_*wt.passive2.eleMas_maxCounted))),{unit:"%"}),mD=e(n(a.asc,4,Il(m(c(wt.passive2.eleMas_critRate_),zm(P(a.total.eleMas,-wt.passive2.eleMas_min),0)),c(wt.passive2.eleMas_critRate_*wt.passive2.eleMas_maxCounted))),{unit:"%"}),Z_={premod:{skill_dmg_:P(dD,cD),skill_critRate_:mD}},[CE,ev]=h(to,"c2Bloom"),Wu=n(a.constellation,2,i(ev,"on",c(wt.constellation2.critRate_))),uD={...Wu},gD={...Wu},hD={...Wu},Uu=n(a.constellation,2,i(ev,"on",c(wt.constellation2.critDMG_))),pD={...Uu},kD={...Uu},fD={...Uu},[SE,bD]=h(to,"c2QSA"),vD=n(a.constellation,2,i(bD,"on",c(wt.constellation2.defDec_))),[t1,uf]=h(to,"c4Count"),gf=rl(1,4),hf=n(a.constellation,4,w(uf,Object.fromEntries(gf.map(t=>[t,$(p(t-1),[...wt.constellation4.eleMas])])),O)),vo={normal:Object.fromEntries(wt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",wt.charged.dmg,"charged")},plunging:E("atk",wt.plunging),skill:{pressDmg:o("atk",wt.skill.pressDmg,"skill"),holdDmg:o("atk",wt.skill.holdDmg,"skill"),karmaDmg:Zi(["atk","eleMas"],[wt.skill.karmaAtkDmg,wt.skill.karmaEleMasDmg],"skill",Z_)},passive2:{a4Karma_dmg_:dD,a4Karma_critRate_:mD},constellation6:{dmg:n(a.constellation,6,N(P(m(c(wt.constellation6.atkDmg),a.total.atk),m(c(wt.constellation6.eleMasDmg),a.total.eleMas)),"skill",Z_))}},_D=n(a.constellation,3,3),yD=n(a.constellation,5,3),wE=B(to,iD,"sumeru",Lh,vo,{premod:{skillBoost:_D,burstBoost:yD,eleMas:hf},teamBuff:{premod:{burning_critRate_:Wu,bloom_critRate_:uD,hyperbloom_critRate_:gD,burgeon_critRate_:hD,burning_critDMG_:Uu,bloom_critDMG_:pD,hyperbloom_critDMG_:kD,burgeon_critDMG_:fD,enemyDefRed_:vD},total:{eleMas:DE}}}),AE={key:to,name:J.name,rarity:Lh.rarity,elementKey:iD,weaponTypeKey:Lh.weaponType,gender:"F",constellationName:J.chg("constellationName"),title:J.chg("title"),talent:{auto:J.talentTem("auto",[{text:J.chg("auto.fields.normal")},{fields:wt.normal.hitArr.map((t,l)=>({node:e(vo.normal[l],{name:J.chg(`auto.skillParams.${l}`)})}))},{text:J.chg("auto.fields.charged")},{fields:[{node:e(vo.charged.dmg,{name:J.chg("auto.skillParams.4")})},{text:J.chg("auto.skillParams.5"),value:wt.charged.stamina}]},{text:J.chg("auto.fields.plunging")},{fields:[{node:e(vo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(vo.plunging.low,{name:s("plunging.low")})},{node:e(vo.plunging.high,{name:s("plunging.high")})}]}]),skill:J.talentTem("skill",[{fields:[{node:e(vo.skill.pressDmg,{name:J.chg("skill.skillParams.0")})},{node:e(vo.skill.holdDmg,{name:J.chg("skill.skillParams.1")})},{node:e(vo.skill.karmaDmg,{name:J.chg("skill.skillParams.2")})},{text:J.chg("skill.skillParams.3"),value:t=>{const l=+t.get(kk).value.toFixed(2);return l!==0?`${wt.skill.triggerInterval}s - ${l}s = ${wt.skill.triggerInterval-l}`:wt.skill.triggerInterval},unit:"s",fixed:1},{text:J.chg("skill.skillParams.4"),value:wt.skill.duration,unit:"s"},{text:s("press.cd"),value:wt.skill.pressCd,unit:"s"},{text:s("hold.cd"),value:wt.skill.holdCd,unit:"s"}]},J.headerTem("burst",{canShow:i(Ad,"on",P(qh,Vh)),fields:[{node:e(cD,{name:J.ch("karmaDmg_")})},{text:J.ch("karmaIntervalDec"),canShow:t=>t.get(kk).value>0,value:t=>t.get(kk).value,unit:"s",fixed:2}]}),J.headerTem("passive2",{fields:[{node:e(vo.passive2.a4Karma_dmg_,{name:J.ch("karmaDmg_")})},{node:e(vo.passive2.a4Karma_critRate_,{name:J.ch("karmaCritRate_")})}]}),J.condTem("constellation2",{teamBuff:!0,path:CE,value:ev,name:J.ch("c2.bloomCondName"),states:{on:{fields:[{node:Wu},{node:Uu},{node:uD},{node:pD},{node:gD},{node:kD},{node:hD},{node:fD}]}}}),J.condTem("constellation2",{teamBuff:!0,path:SE,value:bD,name:J.ch("c2.qasCondName"),states:{on:{fields:[{node:vD}]}}}),J.condTem("constellation4",{teamBuff:!0,path:t1,value:uf,name:J.ch("c4CondName"),states:Object.fromEntries(gf.map(t=>[t,{name:d("opponents",{count:t}),fields:[{node:hf}]}]))}),J.headerTem("constellation6",{fields:[{node:e(vo.constellation6.dmg,{name:J.ch("c6KarmicDmg")})}]})]),burst:J.talentTem("burst",[{fields:[{text:s("duration"),value:t=>{const l=+t.get(fk).value.toFixed(2);return l!==0?`${wt.burst.duration}s + ${l}s = ${wt.burst.duration+l}`:wt.burst.duration},unit:"s"},{text:s("cd"),value:wt.burst.cd,unit:"s",fixed:1},{text:s("energyCost"),value:wt.burst.energyCost}]},J.condTem("burst",{path:xE,value:Ad,name:J.ch("partyInBurst"),states:{on:{fields:[{canShow:t=>t.get(P(qh,Vh,df)).value<1,text:J.ch("noBurstEffect")},{canShow:t=>t.get(fk).value!==0,text:d("durationInc"),value:t=>t.get(fk).value,unit:"s",fixed:2}]}}}),J.condTem("passive1",{canShow:P(i(Ad,"on",1),j(a.activeCharKey,to,1)),teamBuff:!0,path:PE,value:mf,name:d("activeCharField"),states:{on:{fields:[{node:rD}]}}}),J.headerTem("constellation1",{fields:[{text:J.ch("c1Key"),value:1}]}),J.condTem("constellation4",{canShow:j(a.activeCharKey,to,i(mf,"on",1)),teamBuff:!0,path:t1,value:uf,name:J.ch("c4CondName"),states:Object.fromEntries(gf.map(t=>[t,{name:d("opponents",{count:t}),fields:[{node:hf}]}]))})]),passive1:J.talentTem("passive1"),passive2:J.talentTem("passive2"),passive3:J.talentTem("passive3"),constellation1:J.talentTem("constellation1"),constellation2:J.talentTem("constellation2"),constellation3:J.talentTem("constellation3",[{fields:[{node:_D}]}]),constellation4:J.talentTem("constellation4"),constellation5:J.talentTem("constellation5",[{fields:[{node:yD}]}]),constellation6:J.talentTem("constellation6")}},BE=new R(AE,wE),Vc="Navia",Bd=_.char.data[Vc],wa=_.char.skillParam[Vc],_t=A(Vc,Bd.weaponType);let zo=0,fm=0,du=0;const ql={normal:{hitArr:[wa.auto[zo++],wa.auto[zo++],wa.auto[zo++],wa.auto[zo++]]},charged:{cyclicDmg:wa.auto[zo++],finalDmg:wa.auto[zo++],stam:wa.auto[zo++][0],duration:wa.auto[zo++][0]},plunging:{dmg:wa.auto[zo++],low:wa.auto[zo++],high:wa.auto[zo++]},skill:{baseShardDmg:wa.skill[fm++],addlCharge_dmg_:wa.skill[fm++][0],shrapnelDuration:wa.skill[fm++][0],cd:wa.skill[fm++][0],bladeDmg:wa.skill[fm++],bladeInterval:wa.skill[fm++][0]},burst:{skillDmg:wa.burst[du++],supportDmg:wa.burst[du++],duration:wa.burst[du++][0],cd:wa.burst[du++][0],enerCost:wa.burst[du++][0]},passive1:{auto_dmg_:wa.passive1[0][0],duration:wa.passive1[1][0]},passive2:{atk_:wa.passive2[0][0]},constellation1:{energyRegen:wa.constellation1[0],cdReduction:wa.constellation1[1]},constellation2:{critRate_:wa.constellation2[0]},constellation4:{geo_enemyRes_:wa.constellation4[0],duration:wa.constellation4[1]},constellation6:{shot_critDMG_:wa.constellation6[0]}},Gp=At(1,6),[IE,jm]=h(Vc,"skillCharges"),pf=w(jm,{1:p(7),2:p(9),3:p(11),4:p(11),5:p(11),6:p(11)},p(5)),RE=At(1,11),ME={1:0,2:.05,3:.1,4:.15,5:.2,6:.36,7:.4,8:.6,9:.66,10:.9,11:1},[HE,TD]=h(Vc,"shotsHit"),$D=w(TD,C(RE,t=>n(pf,t,c(ME[t]))),O),kf=w(jm,C(Gp,t=>t>3?p((t-3)*ql.skill.addlCharge_dmg_):void 0),O),[EE,av]=h(Vc,"a1AfterSkill"),KE=wr(a.asc,1,dn(av,"on",p("geo"))),lv=n(a.asc,1,i(av,"on",ql.passive1.auto_dmg_)),xD={...lv},PD={...lv},DD={...lv},NE=["pyro","electro","cryo","hydro"],e1=P(...NE.map(t=>mn[t])),CD=n(a.asc,4,vr(e1,2,ql.passive2.atk_*2,n(e1,1,ql.passive2.atk_))),SD=n(a.constellation,2,w(jm,C(Gp,t=>c(Math.min(t,3)*ql.constellation2.critRate_)),O)),[OE,wD]=h(Vc,"c4AfterBurstHit"),AD=n(a.constellation,4,i(wD,"on",-ql.constellation4.geo_enemyRes_)),ff=n(a.constellation,6,w(jm,C(Gp,t=>t>3?c((t-3)*ql.constellation6.shot_critDMG_):void 0),O)),ci={normal:{...Object.fromEntries(ql.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{cyclicDmg:o("atk",ql.charged.cyclicDmg,"charged"),finalDmg:o("atk",ql.charged.finalDmg,"charged")},plunging:E("atk",ql.plunging),skill:{totalShardDmg:o("atk",ql.skill.baseShardDmg,"skill",{premod:{skill_critRate_:SD,skill_critDMG_:ff}},e(P($D,St),{name:_t.ch("shot_mult_"),asConst:!0,unit:"%"})),bladeDmg:o("atk",ql.skill.bladeDmg,"skill")},burst:{skillDmg:o("atk",ql.burst.skillDmg,"burst"),supportDmg:o("atk",ql.burst.supportDmg,"burst")}},BD=n(a.constellation,3,3),ID=n(a.constellation,5,3),FE=B(Vc,Bd.ele,Bd.region,Bd,ci,{premod:{skillBoost:BD,burstBoost:ID,normal_dmg_:xD,charged_dmg_:PD,plunging_dmg_:DD,atk_:CD,skill_dmg_:kf},infusion:{nonOverridableSelf:KE},teamBuff:{premod:{geo_enemyRes_:AD}}}),jE={key:Vc,name:_t.name,rarity:Bd.rarity,elementKey:Bd.ele,weaponTypeKey:Bd.weaponType,gender:"F",constellationName:_t.chg("constellationName"),title:_t.chg("title"),talent:{auto:_t.talentTem("auto",[{text:_t.chg("auto.fields.normal")},{fields:ql.normal.hitArr.map((t,l)=>({node:e(ci.normal[l],{name:_t.chg(`auto.skillParams.${l}`)})}))},{text:_t.chg("auto.fields.charged")},{fields:[{node:e(ci.charged.cyclicDmg,{name:_t.chg("auto.skillParams.4")})},{node:e(ci.charged.finalDmg,{name:_t.chg("auto.skillParams.5")})},{text:_t.chg("auto.skillParams.6"),value:ql.charged.stam,unit:"/s"},{text:_t.chg("auto.skillParams.7"),value:ql.charged.duration,unit:"s"}]},{text:_t.chg("auto.fields.plunging")},{fields:[{node:e(ci.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ci.plunging.low,{name:s("plunging.low")})},{node:e(ci.plunging.high,{name:s("plunging.high")})}]},_t.condTem("passive1",{value:av,path:EE,name:d("afterUse.skill"),states:{on:{fields:[{text:D(Mp,{color:"geo",children:d("infusion.geo")})},{node:xD},{node:PD},{node:DD},{text:s("duration"),value:ql.passive1.duration,unit:"s"}]}}})]),skill:_t.talentTem("skill",[{fields:[{node:e(ci.skill.totalShardDmg,{name:_t.ch("skillTotalShardDmg")})},{text:_t.chg("skill.skillParams.1"),value:ql.skill.shrapnelDuration,unit:"s"},{node:e(ci.skill.bladeDmg,{name:_t.chg("skill.skillParams.2")})},{text:_t.chg("skill.skillParams.3"),value:ql.skill.bladeInterval,unit:"s"},{text:s("cd"),value:ql.skill.cd,unit:"s"}]},_t.condTem("skill",{value:jm,path:IE,name:_t.ch("chargesCond"),states:C(Gp,t=>({name:`${t}`,fields:[{node:e(pf,{name:_t.ch("shotsFired")})},{canShow:l=>l.get(kf).value>0,node:kf}]}))}),_t.condTem("skill",{value:TD,path:HE,name:_t.ch("shotsHitCond"),states:t=>C(At(1,t.get(pf).value),l=>({name:`${l}`,fields:[{node:e($D,{name:_t.ch("shot_mult_"),unit:"%"})}]}))}),_t.headerTem("constellation2",{canShow:j(jm,void 0,1),fields:[{node:e(SD,{name:_t.ch("shot_critRate_"),unit:"%"})}]}),_t.headerTem("constellation6",{canShow:j(ff,O,1),fields:[{node:e(ff,{name:_t.ch("shot_critDMG_"),unit:"%"})}]})]),burst:_t.talentTem("burst",[{fields:[{node:e(ci.burst.skillDmg,{name:_t.chg("burst.skillParams.0")})},{node:e(ci.burst.supportDmg,{name:_t.chg("burst.skillParams.1")})},{text:_t.chg("burst.skillParams.2"),value:ql.burst.duration,unit:"s"},{text:s("cd"),value:ql.burst.cd,unit:"s"},{text:s("energyCost"),value:ql.burst.enerCost}]}]),passive1:_t.talentTem("passive1"),passive2:_t.talentTem("passive2",[{fields:[{node:CD}]}]),passive3:_t.talentTem("passive3"),constellation1:_t.talentTem("constellation1"),constellation2:_t.talentTem("constellation2"),constellation3:_t.talentTem("constellation3",[{fields:[{node:BD}]}]),constellation4:_t.talentTem("constellation4",[_t.condTem("constellation4",{value:wD,path:OE,name:d("hitOp.burst"),teamBuff:!0,states:{on:{fields:[{node:AD}]}}})]),constellation5:_t.talentTem("constellation5",[{fields:[{node:ID}]}]),constellation6:_t.talentTem("constellation6")}},GE=new R(jE,FE),tm="Neuvillette",Id=_.char.data[tm],Aa=_.char.skillParam[tm],Zt=A(tm,Id.weaponType);let Ks=0,mu=0,Pg=0;const cn={normal:{hitArr:[Aa.auto[Ks++],Aa.auto[Ks++],Aa.auto[Ks++]]},charged:{dmg:Aa.auto[Ks++],judgmentDmg:Aa.auto[Ks++],stam:Aa.auto[Ks++][0],hpRestore:Aa.auto[Ks++][0],hpCost:Aa.auto[Ks++][0],hpCostInterval:Aa.auto[Ks++][0],hpThresh:Aa.auto[Ks++][0]},plunging:{dmg:Aa.auto[Ks++],low:Aa.auto[Ks++],high:Aa.auto[Ks++]},skill:{skillDmg:Aa.skill[mu++],thornDmg:Aa.skill[mu++],dropletDuration:Aa.skill[mu++][0],cd:Aa.skill[mu++][0],thornInterval:Aa.skill[mu++][0]},burst:{skillDmg:Aa.burst[Pg++],waterfallDmg:Aa.burst[Pg++],cd:Aa.burst[Pg++][0],enerCost:Aa.burst[Pg++][0]},passive1:{dmg_:[0,Aa.passive1[0][0],Aa.passive1[1][0],Aa.passive1[2][0]],duration:Aa.passive1[3][0]},passive2:{hpThresh:Aa.passive2[0][0],idk:Aa.passive2[1][0],hydro_dmg_:Aa.passive2[2][0]/100,maxHydro_dmg_:.3},constellation2:{charged_critDMG_:Aa.constellation2[0]},constellation6:{current_dmg_:Aa.constellation6[0]}},[zE,Jh]=h(tm,"a1Stacks"),nv=At(1,cn.passive1.dmg_.length-1),bf=vr(a.asc,1,w(Jh,C(nv,t=>c(1+cn.passive1.dmg_[t])),St),St),RD=At(1,50),[WE,MD]=h(tm,"a4Hp"),HD=n(a.asc,4,w(MD,C(RD,t=>c(t*cn.passive2.hydro_dmg_)),O)),vf=n(a.constellation,2,w(Jh,C(nv,t=>c(t*cn.constellation2.charged_critDMG_)),O)),ws={normal:Object.fromEntries(cn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",cn.charged.dmg,"charged"),judgmentDmg:o("hp",cn.charged.judgmentDmg,"charged",{premod:{charged_critDMG_:vf}},bf),hpRestore:Wn("hp",cn.charged.hpRestore,0),hpLoss:m(c(cn.charged.hpCost),a.total.hp)},plunging:E("atk",cn.plunging),skill:{skillDmg:o("hp",cn.skill.skillDmg,"skill"),thornDmg:o("atk",cn.skill.thornDmg,"skill")},burst:{skillDmg:o("hp",cn.burst.skillDmg,"burst"),waterfallDmg:o("hp",cn.burst.waterfallDmg,"burst")},constellation6:{currentDmg:n(a.constellation,6,N(m(c(cn.constellation6.current_dmg_),a.total.hp,bf),"charged",{premod:{charged_critDMG_:vf}}))}},ED=n(a.constellation,3,3),KD=n(a.constellation,5,3),UE=B(tm,Id.ele,Id.region,Id,ws,{premod:{burstBoost:KD,autoBoost:ED,hydro_dmg_:HD}}),LE={key:tm,name:Zt.name,rarity:Id.rarity,elementKey:Id.ele,weaponTypeKey:Id.weaponType,gender:"M",constellationName:Zt.chg("constellationName"),title:Zt.chg("title"),talent:{auto:Zt.talentTem("auto",[{text:Zt.chg("auto.fields.normal")},{fields:cn.normal.hitArr.map((t,l)=>({node:e(ws.normal[l],{name:Zt.chg(`auto.skillParams.${l}`)})}))},{text:Zt.chg("auto.fields.chargedLegal")},{text:Zt.chg("auto.fields.charged")},{fields:[{node:e(ws.charged.dmg,{name:Zt.chg("auto.skillParams.3")})},{text:Zt.chg("auto.skillParams.4"),value:cn.charged.stam}]},{text:Zt.chg("auto.fields.chargedJudgment")},{fields:[{node:e(ws.charged.judgmentDmg,{name:Zt.chg("auto.skillParams.5")})},{node:e(ws.charged.hpRestore,{name:Zt.chg("auto.skillParams.6")})},{node:e(ws.charged.hpLoss,{name:Zt.chg("auto.skillParams.7")})}]},Zt.condTem("passive1",{value:Jh,path:zE,name:Zt.ch("a1Cond"),states:C(nv,t=>({name:d("stack",{count:t}),fields:[{node:e(bf,{name:Zt.ch("judgmentSpecialMult_")})},{text:s("duration"),value:cn.passive1.duration,unit:"s"}]}))}),Zt.headerTem("constellation2",{canShow:n(a.asc,1,j(Jh,void 0,1)),fields:[{node:e(vf,{name:Zt.ch("judgment_critDMG_")})}]}),{text:Zt.chg("auto.fields.plunging")},{fields:[{node:e(ws.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ws.plunging.low,{name:s("plunging.low")})},{node:e(ws.plunging.high,{name:s("plunging.high")})}]}]),skill:Zt.talentTem("skill",[{fields:[{node:e(ws.skill.skillDmg,{name:Zt.chg("skill.skillParams.0")})},{node:e(ws.skill.thornDmg,{name:Zt.chg("skill.skillParams.1")})},{text:Zt.chg("skill.skillParams.2"),value:cn.skill.thornInterval,unit:"s"},{text:Zt.chg("skill.skillParams.3"),value:cn.skill.dropletDuration,unit:"s"},{text:s("cd"),value:cn.skill.cd,unit:"s"}]}]),burst:Zt.talentTem("burst",[{fields:[{node:e(ws.burst.skillDmg,{name:Zt.chg("burst.skillParams.0")})},{node:e(ws.burst.waterfallDmg,{name:Zt.chg("burst.skillParams.1")})},{text:s("cd"),value:cn.burst.cd,unit:"s"},{text:s("energyCost"),value:cn.burst.enerCost}]}]),passive1:Zt.talentTem("passive1"),passive2:Zt.talentTem("passive2",[Zt.condTem("passive2",{value:MD,path:WE,name:d("percentCurrentHP"),states:C(RD,t=>({name:`${t+30}%`,fields:[{node:HD}]}))})]),passive3:Zt.talentTem("passive3"),constellation1:Zt.talentTem("constellation1"),constellation2:Zt.talentTem("constellation2"),constellation3:Zt.talentTem("constellation3",[{fields:[{node:ED}]}]),constellation4:Zt.talentTem("constellation4"),constellation5:Zt.talentTem("constellation5",[{fields:[{node:KD}]}]),constellation6:Zt.talentTem("constellation6",[{fields:[{node:e(ws.constellation6.currentDmg,{name:Zt.ch("currentDmg"),multi:2})}]}])}},qE=new R(LE,UE),cc="Nilou",ND="hydro",Qh=_.char.data[cc],Pt=_.char.skillParam[cc],lt=A(cc,Qh.weaponType);let Cc=0,Wo=0,Dg=0;const Ct={normal:{hitArr:[Pt.auto[Cc++],Pt.auto[Cc++],Pt.auto[Cc++]]},charged:{hit1:Pt.auto[Cc++],hit2:Pt.auto[Cc++],stamina:Pt.auto[Cc++][0]},plunging:{dmg:Pt.auto[Cc++],low:Pt.auto[Cc++],high:Pt.auto[Cc++]},skill:{skillDmg:Pt.skill[Wo++],whirl1Dmg:Pt.skill[Wo++],whirl2Dmg:Pt.skill[Wo++],illusionDmg:Pt.skill[Wo++],wheelDmg:Pt.skill[Wo++],dance1Dmg:Pt.skill[Wo++],dance2Dmg:Pt.skill[Wo++],tranquilityAuraDuration:Pt.skill[Wo++][0],cd:Pt.skill[Wo++][0],lunarPrayerDuration:Pt.skill[Wo++][0],pirouetteDuration:Pt.skill[Wo++][0]},burst:{skillDmg:Pt.burst[Dg++],aeonDmg:Pt.burst[Dg++],cd:Pt.burst[Dg++][0],cost:Pt.burst[Dg++][0]},passive1:{bountyDuration:Pt.passive1[0][0],eleMas:Pt.passive1[1][0],buffDuration:Pt.passive1[2][0]},passive2:{dmg_:Pt.passive2[0][0],minHp:-Pt.passive2[1][0],maxDmg_:Pt.passive2[2][0]},constellation1:{illusion_dmg_:Pt.constellation1[0],durationInc:Pt.constellation1[1]},constellation2:{hydro_enemyRes_:-Pt.constellation2[0],dendro_enemyRes_:-Pt.constellation2[1],duration:Pt.constellation2[2]},constellation4:{energyRegen:Pt.constellation4[0],burst_dmg_:Pt.constellation4[1],duration:Pt.constellation4[2]},constellation6:{critRate_:Pt.constellation6[0],critDmg_:Pt.constellation6[1],maxCritRate_:Pt.constellation6[2],maxCritDmg_:Pt.constellation6[3]}},[VE,OD]=h(cc,"a1AfterSkill"),[JE,FD]=h(cc,"a1AfterHit"),_f=n(mn.dendro,1,i(mn.ele,2,1)),Rd=n(a.asc,1,i(_f,1,i(OD,"on",1))),jD=i(Rd,1,i(FD,"on",Ct.passive1.eleMas)),sv=n(a.asc,4,i(Rd,1,Il(m(c(Ct.passive2.dmg_),m(zm(P(a.total.hp,Ct.passive2.minHp),0),1/1e3)),c(Ct.passive2.maxDmg_)))),QE=n(a.constellation,1,c(Ct.constellation1.illusion_dmg_,{name:lt.ch("c1.illusion_dmg_")})),[XE,GD]=h(cc,"c2Hydro"),[YE,zD]=h(cc,"c2Dendro"),WD=n(a.constellation,2,i(Rd,1,i(GD,"hydro",c(Ct.constellation2.hydro_enemyRes_)))),UD=n(a.constellation,2,i(Rd,1,i(zD,"dendro",c(Ct.constellation2.dendro_enemyRes_)))),[ZE,LD]=h(cc,"c4AfterPirHit"),qD=n(a.constellation,4,i(LD,"on",c(Ct.constellation4.burst_dmg_))),ov=n(a.constellation,6,Il(m(c(Ct.constellation6.critRate_),a.total.hp,1/1e3),c(Ct.constellation6.maxCritRate_))),iv=n(a.constellation,6,Il(m(c(Ct.constellation6.critDmg_),a.total.hp,1/1e3),c(Ct.constellation6.maxCritDmg_))),hs={normal:Object.fromEntries(Ct.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Ct.charged.hit1,"charged"),dmg2:o("atk",Ct.charged.hit2,"charged")},plunging:E("atk",Ct.plunging),skill:{skillDmg:o("hp",Ct.skill.skillDmg,"skill"),dance1Dmg:o("hp",Ct.skill.dance1Dmg,"skill"),dance2Dmg:o("hp",Ct.skill.dance2Dmg,"skill"),whirl1Dmg:o("hp",Ct.skill.whirl1Dmg,"skill"),whirl2Dmg:o("hp",Ct.skill.whirl2Dmg,"skill"),moonDmg:o("hp",Ct.skill.illusionDmg,"skill",{premod:{skill_dmg_:QE}}),wheelDmg:o("hp",Ct.skill.wheelDmg,"skill")},burst:{skillDmg:o("hp",Ct.burst.skillDmg,"burst"),aeonDmg:o("hp",Ct.burst.aeonDmg,"burst")},passive2:{bountifulBloom_dmg_:sv},constellation6:{c6_critRate_:ov,c6_critDMG_:iv}},VD=n(a.constellation,3,3),JD=n(a.constellation,5,3),tK=B(cc,ND,"sumeru",Qh,hs,{teamBuff:{premod:{eleMas:jD,bloom_dmg_:sv,hydro_enemyRes_:WD,dendro_enemyRes_:UD}},premod:{skillBoost:JD,burstBoost:VD,burst_dmg_:qD,critRate_:ov,critDMG_:iv}}),eK={key:cc,name:lt.name,rarity:Qh.rarity,elementKey:ND,weaponTypeKey:Qh.weaponType,gender:"F",constellationName:lt.chg("constellationName"),title:lt.chg("title"),talent:{auto:lt.talentTem("auto",[{text:lt.chg("auto.fields.normal")},{fields:Ct.normal.hitArr.map((t,l)=>({node:e(hs.normal[l],{name:lt.chg(`auto.skillParams.${l}`)})}))},{text:lt.chg("auto.fields.charged")},{fields:[{node:e(hs.charged.dmg1,{name:lt.chg("auto.skillParams.3")}),textSuffix:"(1)"},{node:e(hs.charged.dmg2,{name:lt.chg("auto.skillParams.3")}),textSuffix:"(2)"},{text:lt.chg("auto.skillParams.4"),value:Ct.charged.stamina}]},{text:lt.chg("auto.fields.plunging")},{fields:[{node:e(hs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(hs.plunging.low,{name:s("plunging.low")})},{node:e(hs.plunging.high,{name:s("plunging.high")})}]}]),skill:lt.talentTem("skill",[{fields:[{node:e(hs.skill.skillDmg,{name:lt.chg("skill.skillParams.0")})},{node:e(hs.skill.dance1Dmg,{name:lt.ch("skill.dance1")})},{node:e(hs.skill.whirl1Dmg,{name:lt.ch("skill.whirl1")})},{node:e(hs.skill.dance2Dmg,{name:lt.ch("skill.dance2")})},{node:e(hs.skill.whirl2Dmg,{name:lt.ch("skill.whirl2")})},{node:e(hs.skill.moonDmg,{name:lt.ch("skill.illusion")})},{node:e(hs.skill.wheelDmg,{name:lt.ch("skill.wheel")})},{text:lt.chg("skill.skillParams.4"),value:Ct.skill.pirouetteDuration,unit:"s"},{text:lt.chg("skill.skillParams.5"),value:Ct.skill.lunarPrayerDuration,unit:"s"},{text:lt.chg("skill.skillParams.6"),value:t=>t.get(a.constellation).value>=1?`${Ct.skill.tranquilityAuraDuration}s + ${Ct.constellation1.durationInc}s = ${Ct.skill.tranquilityAuraDuration+Ct.constellation1.durationInc}`:Ct.skill.tranquilityAuraDuration,unit:"s"},{text:s("cd"),value:Ct.skill.cd,unit:"s"}]},lt.condTem("constellation4",{path:ZE,value:LD,name:lt.ch("c4.condName"),states:{on:{fields:[{text:s("energyRegen"),value:Ct.constellation4.energyRegen},{node:qD},{text:s("duration"),value:Ct.constellation4.duration,unit:"s"}]}}})]),burst:lt.talentTem("burst",[{fields:[{node:e(hs.burst.skillDmg,{name:lt.chg("burst.skillParams.0")})},{node:e(hs.burst.aeonDmg,{name:lt.chg("burst.skillParams.1")})},{text:s("cd"),value:Ct.burst.cd,unit:"s"},{text:s("energyCost"),value:Ct.burst.cost}]}]),passive1:lt.talentTem("passive1",[lt.fieldsTem("passive1",{teamBuff:!0,canShow:j(_f,1,1),fields:[{text:lt.ch("passive1.notDendroHydroTeam")}]}),lt.condTem("passive1",{path:VE,value:OD,teamBuff:!0,canShow:_f,name:lt.ch("passive1.underChaliceEffect"),states:{on:{fields:[{text:lt.ch("passive1.bountifulCores")}]}}}),lt.condTem("passive1",{path:JE,value:FD,name:lt.ch("passive1.condName"),teamBuff:!0,canShow:Rd,states:{on:{fields:[{node:jD},{text:s("duration"),value:Ct.passive1.buffDuration,unit:"s"}]}}}),lt.headerTem("passive2",{canShow:Rd,teamBuff:!0,fields:[{node:sv}]}),lt.condTem("constellation2",{teamBuff:!0,canShow:Rd,states:{hydro:{path:XE,value:GD,name:d("hitOp.hydro"),fields:[{node:WD},{text:s("effectDuration.hydro"),value:Ct.constellation2.duration,unit:"s"}]},dendro:{path:YE,value:zD,name:d("hitOp.dendro"),fields:[{node:UD},{text:s("effectDuration.dendro"),value:Ct.constellation2.duration,unit:"s"}]}}})]),passive2:lt.talentTem("passive2"),passive3:lt.talentTem("passive3"),constellation1:lt.talentTem("constellation1"),constellation2:lt.talentTem("constellation2"),constellation3:lt.talentTem("constellation3",[{fields:[{node:VD}]}]),constellation4:lt.talentTem("constellation4"),constellation5:lt.talentTem("constellation5",[{fields:[{node:JD}]}]),constellation6:lt.talentTem("constellation6",[{fields:[{node:ov},{node:iv}]}])}},aK=new R(eK,tK),em="Ningguang",QD="geo",Xh=_.char.data[em],os=_.char.skillParam[em],Ut=A(em,Xh.weaponType);let md=0,Cg=0,bk=0,a1=0;const Js={normal:{hitArr:[os.auto[md++]]},charged:{dmg:os.auto[md++],jadeDmg:os.auto[md++],stamina:os.auto[md++][0]},plunging:{dmg:os.auto[md++],low:os.auto[md++],high:os.auto[md++]},skill:{screenHpMod:os.skill[Cg++],skillDmg:os.skill[Cg++],screenHp:os.skill[Cg++],cd:os.skill[Cg++][0]},burst:{dmgPerGem:os.burst[bk++],cd:os.burst[bk++][0],enerCost:os.burst[bk++][0]},passive2:{geoDmgBonus_:os.passive2[a1++][0],duration:os.passive2[a1++][0]}},[lK,XD]=h(em,"Ascension4"),[nK,YD]=h(em,"Constellation4"),ZD=n(a.asc,4,i(XD,"on",c(Js.passive2.geoDmgBonus_))),t4=Object.fromEntries(Gf.map(t=>[`${t}_res_`,n(a.constellation,4,i(YD,"on",c(.1)))])),Vi={normal:Object.fromEntries(Js.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{baseDmg:o("atk",Js.charged.dmg,"charged"),jadeDmg:o("atk",Js.charged.jadeDmg,"charged")},plunging:E("atk",Js.plunging),skill:{screenHp:m($(a.total.skillIndex,Js.skill.screenHp,{unit:"%"}),a.total.hp),dmg:o("atk",Js.skill.skillDmg,"skill")},burst:{gemDmg:o("atk",Js.burst.dmgPerGem,"burst")}},e4=n(a.constellation,3,3),a4=n(a.constellation,5,3),sK=B(em,QD,"liyue",Xh,Vi,{premod:{skillBoost:a4,burstBoost:e4},teamBuff:{premod:{geo_dmg_:ZD,...t4}}}),oK={key:em,name:Ut.name,rarity:Xh.rarity,elementKey:QD,weaponTypeKey:Xh.weaponType,gender:"F",constellationName:Ut.chg("constellationName"),title:Ut.chg("title"),talent:{auto:Ut.talentTem("auto",[{text:Ut.chg("auto.fields.normal")},{fields:[{node:e(Vi.normal[0],{name:Ut.chg("auto.skillParams.0")})}]},Ut.headerTem("constellation1",{fields:[{text:Ut.ch("aoeGems")}]}),{text:Ut.chg("auto.fields.charged")},{fields:[{node:e(Vi.charged.baseDmg,{name:Ut.chg("auto.skillParams.1")})},{node:e(Vi.charged.jadeDmg,{name:Ut.chg("auto.skillParams.2")})},{text:Ut.chg("auto.skillParams.3"),value:Js.charged.stamina}]},Ut.headerTem("passive1",{fields:[{text:Ut.ch("starJadeStaminaCost")}]}),{text:Ut.chg("auto.fields.plunging")},{fields:[{node:e(Vi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Vi.plunging.low,{name:s("plunging.low")})},{node:e(Vi.plunging.high,{name:s("plunging.high")})}]}]),skill:Ut.talentTem("skill",[{fields:[{node:e(Vi.skill.screenHp,{name:Ut.chg("skill.skillParams.0")})},{node:e(Vi.skill.dmg,{name:Ut.chg("skill.skillParams.1")})},{text:Ut.chg("skill.skillParams.2"),value:Js.burst.cd,unit:"s"}]},Ut.headerTem("constellation2",{fields:[{text:Ut.ch("skillReset")}]}),Ut.condTem("passive2",{teamBuff:!0,value:XD,path:lK,name:Ut.ch("a4toggle"),states:{on:{fields:[{node:ZD},{text:s("duration"),value:Js.passive2.duration,unit:"s"}]}}}),Ut.condTem("constellation4",{teamBuff:!0,value:YD,path:nK,name:Ut.ch("c4toggle"),states:{on:{fields:Object.values(t4).map(t=>({node:t}))}}})]),burst:Ut.talentTem("burst",[{fields:[{node:e(Vi.burst.gemDmg,{name:Ut.chg("burst.skillParams.0")})},{text:Ut.chg("burst.skillParams.1"),value:Js.burst.cd,unit:"s"},{text:Ut.chg("burst.skillParams.2"),value:Js.burst.enerCost}]},Ut.headerTem("constellation6",{fields:[{text:Ut.ch("c6bonus"),value:7}]})]),passive1:Ut.talentTem("passive1"),passive2:Ut.talentTem("passive2"),passive3:Ut.talentTem("passive3"),constellation1:Ut.talentTem("constellation1"),constellation2:Ut.talentTem("constellation2"),constellation3:Ut.talentTem("constellation3",[{fields:[{node:e4}]}]),constellation4:Ut.talentTem("constellation4"),constellation5:Ut.talentTem("constellation5",[{fields:[{node:a4}]}]),constellation6:Ut.talentTem("constellation6")}},iK=new R(oK,sK),Lm="Noelle",l4="geo",Yh=_.char.data[Lm],sa=_.char.skillParam[Lm],q=A(Lm,Yh.weaponType);let Uo=0,mr=0,bm=0,Sg=0;const Ja={normal:{hitArr:[sa.auto[Uo++],sa.auto[Uo++],sa.auto[Uo++],sa.auto[Uo++]]},charged:{spinningDmg:sa.auto[Uo++],finalDmg:sa.auto[Uo++],stamina:sa.auto[Uo++][0],duration:sa.auto[Uo++][0]},plunging:{dmg:sa.auto[Uo++],low:sa.auto[Uo++],high:sa.auto[Uo++]},skill:{shieldDef:sa.skill[mr++],healDef:sa.skill[mr++],healChance:sa.skill[mr++],shieldDuration:sa.skill[mr++][0],cd:sa.skill[mr++][0],skillDmg:sa.skill[mr++],shieldFlat:sa.skill[mr++],healFlat:sa.skill[mr++]},burst:{burstDmg:sa.burst[bm++],skillDmg:sa.burst[bm++],defToAtk:sa.burst[bm++],duration:sa.burst[bm++][0],cd:sa.burst[bm++][0],enerCost:sa.burst[bm++][0]},passive1:{hpThreshold:sa.passive1[Sg++][0],shield:sa.passive1[Sg++][0],duration:sa.passive1[Sg++][0],cooldown:sa.passive1[Sg++][0]},constellation1:{healingChance:sa.constellation1[0]},constellation2:{chargeStamina:sa.constellation2[0],chargeDmg_:sa.constellation2[1]},constellation4:{skillDmg:sa.constellation4[0]},constellation6:{burstAtkBonus:sa.constellation6[0]}},[cK,Gm]=h(Lm,"SweepingTime"),rK=dn(Gm,"on","geo"),cv=i("on",Gm,m(a.total.def,P($(a.total.burstIndex,Ja.burst.defToAtk,{unit:"%"}),n(a.constellation,6,c(Ja.constellation6.burstAtkBonus))))),n4=$(a.total.skillIndex,Ja.skill.healChance,{name:q.chg("skill.skillParams.3"),unit:"%"}),dK=i("on",Gm,c(Ja.constellation1.healingChance),{name:q.chg("skill.skillParams.3"),unit:"%"}),mK=j("on",Gm,n4),s4=n(a.constellation,2,c(Ja.constellation2.chargeDmg_)),o4=n(a.constellation,2,c(-Ja.constellation2.chargeStamina)),i4=n(a.constellation,4,N(m(a.total.atk,c(Ja.constellation4.skillDmg)),"elemental",{hit:{ele:p(l4)}})),Gs={normal:Object.fromEntries(Ja.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",Ja.charged.spinningDmg,"charged"),finalDmg:o("atk",Ja.charged.finalDmg,"charged")},plunging:E("atk",Ja.plunging),skill:{dmg:o("def",Ja.skill.skillDmg,"skill"),shield:tn("geo",Sn("def",Ja.skill.shieldDef,Ja.skill.shieldFlat,"skill")),heal:cl("def",Ja.skill.healDef,Ja.skill.healFlat,"skill")},burst:{defConv:cv,burstDmg:o("atk",Ja.burst.burstDmg,"burst"),skillDmg:o("atk",Ja.burst.skillDmg,"burst")},passive1:{devotionShield:n(a.asc,1,tn("geo",Mu("def",c(Ja.passive1.shield),0)))},constellation4:{dmg:i4}},c4=n(a.constellation,3,3),r4=n(a.constellation,5,3),uK=B(Lm,l4,"mondstadt",Yh,Gs,{premod:{skillBoost:c4,burstBoost:r4,charged_dmg_:s4,atk:cv,staminaChargedDec_:o4},infusion:{nonOverridableSelf:rK}}),gK={key:Lm,name:q.name,rarity:Yh.rarity,elementKey:"geo",weaponTypeKey:Yh.weaponType,gender:"F",constellationName:q.chg("constellationName"),title:q.chg("title"),talent:{auto:q.talentTem("auto",[{text:q.chg("auto.fields.normal")},{fields:Ja.normal.hitArr.map((t,l)=>({node:e(Gs.normal[l],{name:q.chg(`auto.skillParams.${l}`)})}))},{text:q.chg("auto.fields.charged")},{fields:[{node:e(Gs.charged.spinningDmg,{name:q.chg("auto.skillParams.4")})},{node:e(Gs.charged.finalDmg,{name:q.chg("auto.skillParams.5")})},{text:q.chg("auto.skillParams.6"),value:Ja.charged.stamina,unit:"/s"},{text:q.chg("auto.skillParams.7"),value:Ja.charged.duration,unit:"s"}]},{text:q.chg("auto.fields.plunging")},{fields:[{node:e(Gs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Gs.plunging.low,{name:s("plunging.low")})},{node:e(Gs.plunging.high,{name:s("plunging.high")})}]}]),skill:q.talentTem("skill",[{fields:[{node:e(Gs.skill.dmg,{name:q.chg("skill.skillParams.0")})},{node:e(Gs.skill.shield,{name:q.chg("skill.skillParams.1")})},{node:e(Gs.skill.heal,{name:q.chg("skill.skillParams.2")})},{canShow:t=>t.get(a.constellation).value===0,node:n4},{canShow:t=>t.get(a.constellation).value>=1,node:mK},{canShow:t=>t.get(a.constellation).value>=1,node:dK},{text:q.chg("skill.skillParams.4"),value:Ja.skill.shieldDuration,unit:"s"},{canShow:t=>t.get(a.asc).value<4,text:q.chg("skill.skillParams.5"),value:Ja.skill.cd,unit:"s"},{canShow:t=>t.get(a.asc).value>=4,text:q.chg("skill.skillParams.5"),value:q.ch("p4cd")}]}]),burst:q.talentTem("burst",[{fields:[{node:e(Gs.burst.burstDmg,{name:q.chg("burst.skillParams.0")})},{node:e(Gs.burst.skillDmg,{name:q.chg("burst.skillParams.1")})},{canShow:t=>t.get(a.constellation).value<6,text:q.chg("burst.skillParams.3"),value:Ja.burst.duration,unit:"s"},{canShow:t=>t.get(a.constellation).value>=6,text:q.chg("burst.skillParams.3"),value:q.ch("c6duration")},{text:q.chg("burst.skillParams.4"),value:Ja.burst.cd},{text:q.chg("burst.skillParams.5"),value:Ja.burst.enerCost}]},q.condTem("burst",{name:q.chg("burst.name"),value:Gm,path:cK,states:{on:{fields:[{text:d("infusion.geo"),variant:"geo"},{text:d("attackAoeInc")},{node:cv}]}}}),q.headerTem("constellation6",{canShow:i(Gm,"on",1),fields:[{text:d("bonusScaling.atkInc"),value:d("bonusScaling.value",{value:Ja.constellation6.burstAtkBonus*100}),unit:s("stat.def")}]})]),passive1:q.talentTem("passive1",[q.fieldsTem("passive1",{fields:[{node:e(Gs.passive1.devotionShield,{name:q.chg("skill.skillParams.1")})},{text:q.chg("skill.skillParams.4"),value:Ja.passive1.duration,unit:"s"},{text:q.chg("skill.skillParams.5"),value:Ja.passive1.cooldown,unit:"s"}]})]),passive2:q.talentTem("passive2"),passive3:q.talentTem("passive3"),constellation1:q.talentTem("constellation1"),constellation2:q.talentTem("constellation2",[q.fieldsTem("constellation2",{fields:[{node:o4},{node:s4}]})]),constellation3:q.talentTem("constellation3",[{fields:[{node:c4}]}]),constellation4:q.talentTem("constellation4",[q.fieldsTem("constellation4",{fields:[{node:e(i4,{name:q.ch("c4dmg")})}]})]),constellation5:q.talentTem("constellation5",[{fields:[{node:r4}]}]),constellation6:q.talentTem("constellation6")}},hK=new R(gK,uK),am="Qiqi",d4="cryo",Zh=_.char.data[am],Ql=_.char.skillParam[am],Le=A(am,Zh.weaponType);let Ki=0,ur=0,vm=0;const On={normal:{hitArr:[Ql.auto[Ki++],Ql.auto[Ki++],Ql.auto[Ki++],Ql.auto[Ki++],Ql.auto[Ki++]]},charged:{dmg:Ql.auto[Ki++],stamina:Ql.auto[Ki++][0]},plunging:{dmg:Ql.auto[Ki++],low:Ql.auto[Ki++],high:Ql.auto[Ki++]},skill:{hitRegenPercent:Ql.skill[ur++],hitRegenFlat:Ql.skill[ur++],contRegenPercent:Ql.skill[ur++],contRegenFlat:Ql.skill[ur++],tickDmg:Ql.skill[ur++],duration:Ql.skill[ur++][0],cd:Ql.skill[ur++][0],castDmg:Ql.skill[ur++]},burst:{healPercent:Ql.burst[vm++],healFlat:Ql.burst[vm++],dmg:Ql.burst[vm++],duration:Ql.burst[vm++][0],cd:Ql.burst[vm++][0],cost:Ql.burst[vm++][0]}},[pK,m4]=h(am,"QiqiA1"),[kK,rv]=h(am,"QiqiC2"),u4=n(a.asc,1,i(m4,"on",.2,y.info("incHeal_"))),fK=i(a.activeCharKey,G.charKey,u4),g4=i(rv,"on",n(a.constellation,2,.15)),h4=i(rv,"on",n(a.constellation,2,.15)),_o={normal:Object.fromEntries(On.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",On.charged.dmg,"charged")},plunging:E("atk",On.plunging),skill:{castDmg:o("atk",On.skill.castDmg,"skill"),tickDmg:o("atk",On.skill.tickDmg,"skill"),hitRegen:cl("atk",On.skill.hitRegenPercent,On.skill.hitRegenFlat,"skill"),contRegen:cl("atk",On.skill.contRegenPercent,On.skill.contRegenFlat,"skill")},burst:{dmg:o("atk",On.burst.dmg,"burst"),heal:cl("atk",On.burst.healPercent,On.burst.healFlat,"burst")}},p4=n(a.constellation,3,3),k4=n(a.constellation,5,3),bK=B(am,d4,"liyue",Zh,_o,{premod:{burstBoost:p4,skillBoost:k4,normal_dmg_:h4,charged_dmg_:g4},teamBuff:{premod:{incHeal_:fK}}}),vK={key:am,name:Le.name,rarity:Zh.rarity,elementKey:d4,weaponTypeKey:Zh.weaponType,gender:"F",constellationName:Le.chg("constellationName"),title:Le.chg("title"),talent:{auto:Le.talentTem("auto",[{text:Le.chg("auto.fields.normal")},{fields:On.normal.hitArr.map((t,l)=>({node:e(_o.normal[l],{name:Le.chg(`auto.skillParams.${l}`),multi:l===2||l===3?2:void 0})}))},{text:Le.chg("auto.fields.charged")},{fields:[{node:e(_o.charged.dmg,{name:Le.chg("auto.skillParams.5"),multi:2})},{text:Le.chg("auto.skillParams.6"),value:On.charged.stamina}]},{text:Le.chg("auto.fields.plunging")},{fields:[{node:e(_o.plunging.dmg,{name:s("plunging.dmg")})},{node:e(_o.plunging.low,{name:s("plunging.low")})},{node:e(_o.plunging.high,{name:s("plunging.high")})}]}]),skill:Le.talentTem("skill",[{fields:[{node:e(_o.skill.castDmg,{name:Le.chg("skill.skillParams.0")})},{node:e(_o.skill.hitRegen,{name:Le.chg("skill.skillParams.1")})},{node:e(_o.skill.contRegen,{name:Le.chg("skill.skillParams.2")})},{node:e(_o.skill.tickDmg,{name:Le.chg("skill.skillParams.3")})},{text:Le.chg("skill.skillParams.4"),value:On.skill.duration,unit:"s"},{text:Le.chg("skill.skillParams.5"),value:On.skill.cd,unit:"s"}]}]),burst:Le.talentTem("burst",[{fields:[{node:e(_o.burst.dmg,{name:Le.chg("burst.skillParams.0")})},{node:e(_o.burst.heal,{name:Le.chg("burst.skillParams.1")})},{text:Le.chg("burst.skillParams.2"),value:On.skill.duration,unit:"s"},{text:Le.chg("burst.skillParams.3"),value:On.skill.cd,unit:"s"},{text:Le.chg("burst.skillParams.4"),value:On.burst.cost}]}]),passive1:Le.talentTem("passive1",[Le.condTem("passive1",{teamBuff:!0,name:Le.ch("a1C"),value:m4,path:pK,states:{on:{fields:[{node:u4},{text:s("duration"),value:8,unit:"s"}]}}})]),passive2:Le.talentTem("passive2"),passive3:Le.talentTem("passive3"),constellation1:Le.talentTem("constellation1"),constellation2:Le.talentTem("constellation2",[Le.condTem("constellation2",{value:rv,path:kK,name:d("enemyAffected.cryo"),states:{on:{fields:[{node:h4},{node:g4}]}}})]),constellation3:Le.talentTem("constellation3",[{fields:[{node:p4}]}]),constellation4:Le.talentTem("constellation4"),constellation5:Le.talentTem("constellation5",[{fields:[{node:k4}]}]),constellation6:Le.talentTem("constellation6")}},_K=new R(vK,bK),ki="RaidenShogun",tp=_.char.data[ki],Dt=_.char.skillParam[ki],F=A(ki,tp.weaponType);let Lo=0,uu=0,wn=0,vk=0;const be={normal:{hitArr:[Dt.auto[Lo++],Dt.auto[Lo++],Dt.auto[Lo++],Dt.auto[Lo++],Dt.auto[Lo++],Dt.auto[Lo++]]},charged:{dmg:Dt.auto[Lo++],stamina:Dt.auto[Lo++][0]},plunging:{dmg:Dt.auto[Lo++],low:Dt.auto[Lo++],high:Dt.auto[Lo++]},skill:{skillDmg:Dt.skill[uu++],coorDmg:Dt.skill[uu++],duration:Dt.skill[uu++][0],burstDmg_bonus:Dt.skill[uu++],cd:Dt.skill[uu++][0]},burst:{dmg:Dt.burst[wn++],resolveBonus1:Dt.burst[wn++],resolveBonus2:Dt.burst[wn++],resolveGained:Dt.burst[wn++],hit1:Dt.burst[wn++],hit2:Dt.burst[wn++],hit3:Dt.burst[wn++],hit41:Dt.burst[wn++],hit42:Dt.burst[wn++],hit5:Dt.burst[wn++],charged1:Dt.burst[wn++],charged2:Dt.burst[wn++],stam:Dt.burst[wn++][0],plunge:Dt.burst[wn++],plungeLow:Dt.burst[wn++],plungeHigh:Dt.burst[wn++],enerGen:Dt.burst[wn++],duration:Dt.burst[wn++][0],cd:Dt.burst[wn++][0],enerCost:Dt.burst[wn++][0]},passive2:{er:Dt.passive2[vk++][0],energyGen:Dt.passive2[vk++][0],electroDmg_bonus:Dt.passive2[vk++][0]},constellation2:{def_ignore:Dt.constellation2[0]},constellation4:{atk_bonus:Dt.constellation4[0],duration:Dt.constellation4[1]}},[yK,f4]=h(ki,"skillEye"),dv=i("skillEye",f4,m(p(be.burst.enerCost,{name:d("energy")}),$(a.total.skillIndex,be.skill.burstDmg_bonus,{fixed:2,unit:"%"}))),[TK,yf]=h(ki,"InBurst"),b4=n(a.constellation,2,i(yf,"on",be.constellation2.def_ignore));function l1(t){return o("atk",t,"skill")}const v4=[40,50,60,70,80,90],[$K,_4]=h(ki,"skillEyeTeam"),y4=e(m(w(_4,C(v4,t=>p(t,{name:d("energy")})),0),$(a.total.skillIndex,be.skill.burstDmg_bonus,{fixed:2,unit:"%"})),{...y.info("burst_dmg_"),isTeamBuff:!0}),xK=j(ki,G.charKey,y4),T4=[10,20,30,40,50,60],[PK,$4]=h(ki,"burstResolve"),x4=w($4,C(T4,t=>p(t)),0,{name:F.ch("burst.resolves")}),P4=m($(a.total.burstIndex,be.burst.resolveBonus1,{name:F.ch("burst.resolveInitial_"),unit:"%"}),x4),D4=m($(a.total.burstIndex,be.burst.resolveBonus2,{name:F.ch("burst.resolveInfused_"),unit:"%"}),x4);function co(t,l=!1){const r=l?P4:D4;return N(m(P($(a.total.burstIndex,t,{unit:"%"}),r),a.total.atk),"burst",{hit:{ele:p("electro")}})}const n1=e(n(a.asc,4,m(P(a.total.enerRech_,c(-be.passive2.er)),c(be.passive2.energyGen),100)),{name:F.ch("a4.enerRest"),unit:"%"}),[DK,C4]=h(ki,"c4"),S4=n(a.constellation,4,i("c4",C4,j(a.activeCharKey,G.charKey,be.constellation4.atk_bonus))),Xl={normal:Object.fromEntries(be.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",be.charged.dmg,"charged")},plunging:E("atk",be.plunging),skill:{dmg:l1(be.skill.skillDmg),coorDmg:l1(be.skill.coorDmg),skillEye_:dv},burst:{dmg:co(be.burst.dmg,!0),hit1:co(be.burst.hit1),hit2:co(be.burst.hit2),hit3:co(be.burst.hit3),hit41:co(be.burst.hit41),hit42:co(be.burst.hit42),hit5:co(be.burst.hit5),charged1:co(be.burst.charged1),charged2:co(be.burst.charged2),plunge:co(be.burst.plunge),plungeLow:co(be.burst.plungeLow),plungeHigh:co(be.burst.plungeHigh),energyGen:m($(a.total.burstIndex,be.burst.enerGen),P(St,n1))},passive2:{passive2ElecDmgBonus:n(a.asc,4,m(P(a.premod.enerRech_,c(-be.passive2.er)),c(be.passive2.electroDmg_bonus),100)),energyRestore:n1}},w4=n(a.constellation,3,3),A4=n(a.constellation,5,3),CK=B(ki,"electro","inazuma",tp,Xl,{premod:{skillBoost:A4,burstBoost:w4,burst_dmg_:dv,electro_dmg_:Xl.passive2.passive2ElecDmgBonus},teamBuff:{premod:{atk_:S4,burst_dmg_:xK}},enemy:{defIgn:b4}}),SK={key:ki,name:F.name,rarity:tp.rarity,elementKey:"electro",weaponTypeKey:tp.weaponType,gender:"F",constellationName:F.chg("constellationName"),title:F.chg("title"),talent:{auto:F.talentTem("auto",[{text:F.chg("auto.fields.normal")},{fields:be.normal.hitArr.map((t,l)=>({node:e(Xl.normal[l],{name:F.chg(`auto.skillParams.${l+(l<4?0:-1)}`),textSuffix:l===3?"(1)":l===4?"(2)":""})}))},{text:F.chg("auto.fields.charged")},{fields:[{node:e(Xl.charged.dmg,{name:F.chg("auto.skillParams.5")})},{text:F.chg("auto.skillParams.6"),value:be.charged.stamina}]},{text:F.chg("auto.fields.plunging")},{fields:[{node:e(Xl.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Xl.plunging.low,{name:s("plunging.low")})},{node:e(Xl.plunging.high,{name:s("plunging.high")})}]}]),skill:F.talentTem("skill",[{fields:[{node:e(Xl.skill.dmg,{name:F.chg("skill.skillParams.0")})},{node:e(Xl.skill.coorDmg,{name:F.chg("skill.skillParams.1")})},{text:F.chg("skill.skillParams.2"),value:be.skill.duration,unit:"s"},{text:F.chg("skill.skillParams.4"),value:be.skill.cd,unit:"s"}]},F.condTem("skill",{value:f4,path:yK,name:F.ch("skill.eye"),states:{skillEye:{fields:[{node:dv}]}}}),F.condTem("skill",{value:_4,path:$K,teamBuff:!0,name:F.ch("skill.partyCost"),states:Object.fromEntries(v4.map(t=>[t,{name:`${t}`,fields:[{node:y4}]}]))})]),burst:F.talentTem("burst",[{fields:[{node:e(Xl.burst.dmg,{name:F.ch("burst.burstDmg")})},{node:e(Xl.burst.hit1,{name:F.chg("burst.skillParams.3")})},{node:e(Xl.burst.hit2,{name:F.chg("burst.skillParams.4")})},{node:e(Xl.burst.hit3,{name:F.chg("burst.skillParams.5")})},{node:e(Xl.burst.hit41,{name:F.chg("burst.skillParams.6"),textSuffix:"(1)"})},{node:e(Xl.burst.hit42,{name:F.chg("burst.skillParams.6"),textSuffix:"(2)"})},{node:e(Xl.burst.hit5,{name:F.chg("burst.skillParams.7")})},{node:e(Xl.burst.charged1,{name:F.chg("burst.skillParams.8"),textSuffix:"(1)"})},{node:e(Xl.burst.charged2,{name:F.chg("burst.skillParams.8"),textSuffix:"(2)"})},{text:F.chg("burst.skillParams.9"),value:be.burst.stam},{node:e(Xl.burst.plunge,{name:F.chg("burst.skillParams.10")})},{node:e(Xl.burst.plungeLow,{name:s("plunging.low")})},{node:e(Xl.burst.plungeHigh,{name:s("plunging.high")})},{node:e(Xl.burst.energyGen,{name:F.chg("burst.skillParams.12")})},{text:F.chg("burst.skillParams.13"),value:be.burst.duration,unit:"s"},{text:F.chg("burst.skillParams.14"),value:be.burst.cd,unit:"s"},{text:F.chg("burst.skillParams.15"),value:be.burst.enerCost}]},F.condTem("burst",{value:$4,path:PK,name:F.ch("burst.resolves"),states:Object.fromEntries(T4.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:e(P4,{name:F.ch("burst.resolveInitial_"),unit:"%"})},{node:e(D4,{name:F.ch("burst.resolveInfused_"),unit:"%"})}]}]))}),F.condTem("burst",{value:yf,path:TK,name:F.ch("burst.active"),states:{on:{fields:[{text:d("infusion.electro"),variant:"electro"},{text:d("incInterRes")},{text:d("immuneToElectroCharged")}]}}}),F.headerTem("constellation2",{canShow:i(yf,"on",1),fields:[{node:b4}]})]),passive1:F.talentTem("passive1"),passive2:F.talentTem("passive2",[F.fieldsTem("passive2",{fields:[{node:Xl.passive2.energyRestore},{node:Xl.passive2.passive2ElecDmgBonus}]})]),passive3:F.talentTem("passive3"),constellation1:F.talentTem("constellation1"),constellation2:F.talentTem("constellation2"),constellation3:F.talentTem("constellation3",[{fields:[{node:w4}]}]),constellation4:F.talentTem("constellation4",[F.condTem("constellation4",{value:C4,path:DK,teamBuff:!0,canShow:j(a.activeCharKey,G.charKey,1),name:F.ch("c4.expires"),states:{c4:{fields:[{node:S4},{text:F.chg("skill.skillParams.2"),value:be.constellation4.duration,unit:"s"}]}}})]),constellation5:F.talentTem("constellation5",[{fields:[{node:A4}]}]),constellation6:F.talentTem("constellation6")}},wK=new R(SK,CK),fi="Razor",mv="electro",AK="mondstadt",ep=_.char.data[fi],Gl=_.char.skillParam[fi],Q=A(fi,ep.weaponType);let qo=0,ud=0,gd=0;const it={normal:{hitArr:[Gl.auto[qo++],Gl.auto[qo++],Gl.auto[qo++],Gl.auto[qo++]]},charged:{spinningDmg:Gl.auto[qo++],finalDmg:Gl.auto[qo++],stamina:Gl.auto[qo++][0],duration:Gl.auto[qo++][0]},plunging:{dmg:Gl.auto[qo++],low:Gl.auto[qo++],high:Gl.auto[qo++]},skill:{press:Gl.skill[ud++],hold:Gl.skill[ud++],erBonus:Gl.skill[ud++][0],enerRegen:Gl.skill[ud++][0],duration:Gl.skill[ud++][0],pressCd:Gl.skill[ud++][0],holdCd:Gl.skill[ud++][0]},burst:{dmg:Gl.burst[gd++],companionDmg:Gl.burst[gd++],atkSpdBonus:Gl.burst[gd++],electroResBonus:Gl.burst[gd++][0],duration:Gl.burst[gd++][0],cd:Gl.burst[gd++][0],enerCost:Gl.burst[gd++][0]},passive1:{cdRed:.18},passive2:{enerThreshold:.5,erInc:.3},passive3:{sprintStaminaDec:.2},constellation1:{allDmgInc:.1,duration:8},constellation2:{hpThreshold:.3,critRateInc:.1},constellation4:{defDec:.15,duration:7},constellation6:{dmg:1,electroSigilGenerated:1,cd:10}},[BK,B4]=h(fi,"ElectroSigil"),[IK,uv]=h(fi,"TheWolfWithin"),[RK,I4]=h(fi,"A4"),[MK,R4]=h(fi,"C1"),[HK,M4]=h(fi,"C2"),[EK,H4]=h(fi,"C4"),E4=w(B4,C(At(1,3),t=>m(t,c(it.skill.erBonus))),O,y.info("enerRech_")),K4=i("on",uv,c(it.burst.electroResBonus)),N4=i("on",uv,$(a.total.burstIndex,it.burst.atkSpdBonus,{unit:"%"})),O4=n(a.asc,4,i("on",I4,c(it.passive2.erInc,y.info("enerRech_")))),F4=n(a.constellation,1,i("on",R4,c(it.constellation1.allDmgInc))),j4=n(a.constellation,2,i("on",M4,c(it.constellation2.critRateInc))),G4=n(a.constellation,4,i("on",H4,c(it.constellation4.defDec))),_s={normal:Object.fromEntries(it.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spinningDmg:o("atk",it.charged.spinningDmg,"charged"),finalDmg:o("atk",it.charged.finalDmg,"charged")},plunging:E("atk",it.plunging),skill:{press:o("atk",it.skill.press,"skill"),hold:o("atk",it.skill.hold,"skill")},burst:{dmg:o("atk",it.burst.dmg,"burst"),companionDmg1:N(m(m($(a.total.autoIndex,it.normal.hitArr[0]),$(a.total.burstIndex,it.burst.companionDmg)),a.total.atk),"burst"),companionDmg2:N(m(m($(a.total.autoIndex,it.normal.hitArr[1]),$(a.total.burstIndex,it.burst.companionDmg)),a.total.atk),"burst"),companionDmg3:N(m(m($(a.total.autoIndex,it.normal.hitArr[2]),$(a.total.burstIndex,it.burst.companionDmg)),a.total.atk),"burst"),companionDmg4:N(m(m($(a.total.autoIndex,it.normal.hitArr[3]),$(a.total.burstIndex,it.burst.companionDmg)),a.total.atk),"burst")},constellation6:{dmg:n(a.constellation,6,N(m(c(it.constellation6.dmg),a.total.atk),"elemental",{hit:{ele:p(mv)}}))}},z4=n(a.constellation,3,3),W4=n(a.constellation,5,3),KK=B(fi,mv,AK,ep,_s,{premod:{skillBoost:W4,burstBoost:z4,enerRech_:P(E4,O4),electro_res_:K4,atkSPD_:N4,all_dmg_:F4,critRate_:j4},teamBuff:{premod:{enemyDefRed_:G4}}}),NK={key:fi,name:Q.name,rarity:ep.rarity,elementKey:mv,weaponTypeKey:ep.weaponType,gender:"M",constellationName:Q.chg("constellationName"),title:Q.chg("title"),talent:{auto:Q.talentTem("auto",[{text:Q.chg("auto.fields.normal")},{fields:it.normal.hitArr.map((t,l)=>({node:e(_s.normal[l],{name:Q.chg(`auto.skillParams.${l}`)})}))},{text:Q.chg("auto.fields.charged")},{fields:[{node:e(_s.charged.spinningDmg,{name:Q.chg("auto.skillParams.4")})},{node:e(_s.charged.finalDmg,{name:Q.chg("auto.skillParams.5")})},{text:Q.chg("auto.skillParams.6"),value:it.charged.stamina,unit:"/s"},{text:Q.chg("auto.skillParams.7"),value:it.charged.duration,unit:"s"}]},{text:Q.chg("auto.fields.plunging")},{fields:[{node:e(_s.plunging.dmg,{name:s("plunging.dmg")})},{node:e(_s.plunging.low,{name:s("plunging.low")})},{node:e(_s.plunging.high,{name:s("plunging.high")})}]}]),skill:Q.talentTem("skill",[{fields:[{node:e(_s.skill.press,{name:Q.chg("skill.skillParams.0")})},{text:Q.chg("skill.skillParams.5"),value:t=>t.get(a.asc).value>=1?it.skill.pressCd-it.skill.pressCd*it.passive1.cdRed:it.skill.pressCd,unit:"s"},{node:e(_s.skill.hold,{name:Q.chg("skill.skillParams.1")})},{text:Q.chg("skill.skillParams.6"),value:t=>t.get(a.asc).value>=1?it.skill.holdCd-it.skill.holdCd*it.passive1.cdRed:it.skill.holdCd,unit:"s"}]},Q.condTem("skill",{value:B4,path:BK,name:Q.ch("electroSigil"),states:{...C(At(1,3),t=>({name:d("stack",{count:t}),fields:[{node:E4},{text:Q.chg("skill.skillParams.4"),value:it.skill.duration,unit:"s"},{text:Q.ch("electroSigilAbsorbed"),value:it.skill.enerRegen*t}]}))}})]),burst:Q.talentTem("burst",[{fields:[{node:e(_s.burst.dmg,{name:Q.chg("burst.skillParams.0")})},{node:e(_s.burst.companionDmg1,{name:Q.ch("soulCompanion.1")})},{node:e(_s.burst.companionDmg2,{name:Q.ch("soulCompanion.2")})},{node:e(_s.burst.companionDmg3,{name:Q.ch("soulCompanion.3")})},{node:e(_s.burst.companionDmg4,{name:Q.ch("soulCompanion.4")})},{text:Q.chg("burst.skillParams.5"),value:it.burst.cd,unit:"s"},{text:Q.chg("burst.skillParams.6"),value:it.burst.enerCost}]},Q.condTem("burst",{value:uv,path:IK,name:Q.chg("burst.description.3"),states:{on:{fields:[{node:N4},{node:K4},{text:d("incInterRes")},{text:d("immuneToElectroCharged")},{text:Q.chg("burst.skillParams.4"),value:it.burst.duration,unit:"s"}]}}})]),passive1:Q.talentTem("passive1"),passive2:Q.talentTem("passive2",[Q.condTem("passive2",{value:I4,path:RK,name:d("lessPercentEnergy",{percent:it.passive2.enerThreshold*100}),states:{on:{fields:[{node:O4}]}}})]),passive3:Q.talentTem("passive3"),constellation1:Q.talentTem("constellation1",[Q.condTem("constellation1",{value:R4,path:MK,name:d("getElementalOrbParticle"),states:{on:{fields:[{node:F4},{text:s("duration"),value:it.constellation1.duration,unit:"s"}]}}})]),constellation2:Q.talentTem("constellation2",[Q.condTem("constellation2",{value:M4,path:HK,name:d("enemyLessPercentHP",{percent:it.constellation2.hpThreshold*100}),states:{on:{fields:[{node:j4}]}}})]),constellation3:Q.talentTem("constellation3",[{fields:[{node:z4}]}]),constellation4:Q.talentTem("constellation4",[Q.condTem("constellation4",{value:H4,path:EK,teamBuff:!0,name:Q.ch("opHitWithClawAndThunder"),states:{on:{fields:[{node:G4},{text:s("duration"),value:it.constellation4.duration,unit:"s"}]}}})]),constellation5:Q.talentTem("constellation5",[{fields:[{node:W4}]}]),constellation6:Q.talentTem("constellation6",[Q.fieldsTem("constellation6",{fields:[{node:e(_s.constellation6.dmg,{name:d("dmg")})},{text:Q.ch("electroSigilPerProc"),value:it.constellation6.electroSigilGenerated},{text:d("cooldown"),value:it.constellation6.cd,unit:"s"}]})])}},OK=new R(NK,KK),Ys="Rosaria",U4="cryo",ap=_.char.data[Ys],ja=_.char.skillParam[Ys],$e=A(Ys,ap.weaponType);let Vo=0,_k=0,_m=0,s1=0,yk=0,Tk=0,o1=0;const Yl={normal:{hitArr:[ja.auto[Vo++],ja.auto[Vo++],ja.auto[Vo++],ja.auto[Vo++],ja.auto[Vo++],ja.auto[Vo++]]},charged:{dmg:ja.auto[Vo++],stamina:ja.auto[Vo++][0]},plunging:{dmg:ja.auto[Vo++],low:ja.auto[Vo++],high:ja.auto[Vo++]},skill:{hit1:ja.skill[_k++],hit2:ja.skill[_k++],cd:ja.skill[_k++][0]},burst:{hit1:ja.burst[_m++],hit2:ja.burst[_m++],dotDmg:ja.burst[_m++],duration:ja.burst[_m++][0],cd:ja.burst[_m++][0],cost:ja.burst[_m++][0]},passive1:{crInc:ja.passive1[s1++][0],duration:ja.passive1[s1++][0]},passive2:{crBonus:ja.passive2[yk++][0],duration:ja.passive2[yk++][0],maxBonus:ja.passive2[yk++][0]},constellation1:{atkSpdInc:ja.constellation1[Tk++],dmgInc:ja.constellation1[Tk++],duration:ja.constellation1[Tk++]},constellation6:{physShred:ja.constellation6[o1++],duration:ja.constellation6[o1++]}},[i1,Tf]=h(Ys,"RosariaA1"),[FK,$f]=h(Ys,"RosariaA4"),[jK,gv]=h(Ys,"RosariaC1"),[GK,L4]=h(Ys,"DilucC6"),xf=n(a.asc,1,i(Tf,"on",Yl.passive1.crInc)),q4=e(n(a.asc,4,Il(m(c(Yl.passive2.crBonus),a.premod.critRate_),c(Yl.passive2.maxBonus))),{...y.info("critRate_"),isTeamBuff:!0}),V4=i($f,"on",q4),zK=j(G.charKey,Ys,V4),J4=n(a.constellation,1,i(gv,"on",Yl.constellation1.atkSpdInc)),Q4=n(a.constellation,1,i(gv,"on",Yl.constellation1.dmgInc)),X4=n(a.constellation,6,i(L4,"on",-Yl.constellation6.physShred)),yo={normal:Object.fromEntries(Yl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Yl.charged.dmg,"charged")},plunging:E("atk",Yl.plunging),skill:{hit1:o("atk",Yl.skill.hit1,"skill"),hit2:o("atk",Yl.skill.hit2,"skill")},burst:{hit1:o("atk",Yl.burst.hit1,"burst"),hit2:o("atk",Yl.burst.hit2,"burst"),dotDmg:o("atk",Yl.burst.dotDmg,"burst")},passive2:{nodeA4OptTarget:q4}},Y4=n(a.constellation,3,3),Z4=n(a.constellation,5,3),WK=B(Ys,U4,"mondstadt",ap,yo,{premod:{skillBoost:Y4,burstBoost:Z4,critRate_:xf,atkSPD_:J4,normal_dmg_:Q4},teamBuff:{premod:{physical_enemyRes_:X4},total:{critRate_:zK}}}),UK={key:Ys,name:$e.name,rarity:ap.rarity,elementKey:U4,weaponTypeKey:ap.weaponType,gender:"F",constellationName:$e.chg("constellationName"),title:$e.chg("title"),talent:{auto:$e.talentTem("auto",[{text:$e.chg("auto.fields.normal")},{fields:Yl.normal.hitArr.map((t,l)=>({node:e(yo.normal[l],{name:$e.chg(`auto.skillParams.${l+(l<5?0:-1)}`),textSuffix:l===4?"(1)":l===5?"(2)":"",multi:l===2?2:void 0})}))},{text:$e.chg("auto.fields.charged")},{fields:[{node:e(yo.charged.dmg,{name:$e.chg("auto.skillParams.5")})},{text:$e.chg("auto.skillParams.6"),value:Yl.charged.stamina}]},{text:$e.chg("auto.fields.plunging")},{fields:[{node:e(yo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(yo.plunging.low,{name:s("plunging.low")})},{node:e(yo.plunging.high,{name:s("plunging.high")})}]}]),skill:$e.talentTem("skill",[{fields:[{node:e(yo.skill.hit1,{name:$e.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:e(yo.skill.hit2,{name:$e.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:$e.chg("skill.skillParams.1"),value:Yl.skill.cd,unit:"s"}]}]),burst:$e.talentTem("burst",[{fields:[{node:e(yo.burst.hit1,{name:$e.chg("burst.skillParams.0"),textSuffix:"(1)"})},{node:e(yo.burst.hit2,{name:$e.chg("burst.skillParams.0"),textSuffix:"(2)"})},{node:e(yo.burst.dotDmg,{name:$e.chg("burst.skillParams.1")})},{text:$e.chg("burst.skillParams.3"),value:Yl.burst.cd,unit:"s"},{text:$e.chg("burst.skillParams.4"),value:Yl.burst.cost}]},$e.condTem("constellation6",{value:L4,path:GK,name:d("hitOp.skill"),teamBuff:!0,states:{on:{fields:[{node:X4},{text:s("duration"),value:Yl.constellation6.duration,unit:"s"}]}}})]),passive1:$e.talentTem("passive1",[$e.condTem("passive1",{name:$e.ch("a1"),value:Tf,path:i1,states:{on:{fields:[{node:xf},{text:s("duration"),value:Yl.passive1.duration,unit:"s"}]}}})]),passive2:$e.talentTem("passive2",[$e.condTem("passive2",{name:d("afterUse.burst"),value:$f,path:FK,teamBuff:!0,canShow:j(a.activeCharKey,Ys,1),states:{on:{fields:[{node:e(V4,{...y.info("critRate_"),isTeamBuff:!0})},{text:s("duration"),value:Yl.passive2.duration,unit:"s"}]}}}),$e.condTem("passive1",{path:i1,value:Tf,name:$e.ch("a1"),teamBuff:!0,canShow:j(a.activeCharKey,Ys,i($f,"on",1)),states:{on:{fields:[{node:xf},{text:s("duration"),value:Yl.passive1.duration,unit:"s"}]}}}),$e.fieldsTem("passive2",{canShow:i(a.activeCharKey,Ys,1),fields:[{node:yo.passive2.nodeA4OptTarget}]})]),passive3:$e.talentTem("passive3"),constellation1:$e.talentTem("constellation1",[$e.condTem("constellation1",{value:gv,path:jK,name:d("hitOp.crit"),states:{on:{fields:[{node:Q4},{node:J4},{text:s("duration"),value:Yl.constellation1.duration,unit:"s"}]}}})]),constellation2:$e.talentTem("constellation2"),constellation3:$e.talentTem("constellation3",[{fields:[{node:Y4}]}]),constellation4:$e.talentTem("constellation4"),constellation5:$e.talentTem("constellation5",[{fields:[{node:Z4}]}]),constellation6:$e.talentTem("constellation6")}},LK=new R(UK,WK),zr="SangonomiyaKokomi",hv="hydro",lp=_.char.data[zr],Ba=_.char.skillParam[zr],Nt=A(zr,lp.weaponType);let gr=0,gu=0,Sc=0,$k=0;const ol={normal:{hitArr:[Ba.auto[gr++],Ba.auto[gr++],Ba.auto[gr++]]},charged:{dmg:Ba.auto[gr++],stamina:Ba.auto[gr++][0]},plunging:{dmg:Ba.auto[gr++],low:Ba.auto[gr++],high:Ba.auto[gr++]},skill:{heal_:Ba.skill[gu++],heal:Ba.skill[gu++],dmg:Ba.skill[gu++],duration:Ba.skill[gu++][0],cd:Ba.skill[gu++][0]},burst:{dmg:Ba.burst[Sc++],heal_:Ba.burst[Sc++],heal:Ba.burst[Sc++],nBonus_:Ba.burst[Sc++],cBonus_:Ba.burst[Sc++],duration:Ba.burst[Sc++][0],cd:Ba.burst[Sc++][0],enerCost:Ba.burst[Sc++][0],sBonus_:Ba.burst[Sc++]},p:{heal_:.25,critRate_:-1},p2:{heal_ratio_:Ba.passive2[0][0]},c1:{hp_:Ba.constellation1[0]},c2:{s_heal_:Ba.constellation2[1],nc_heal_:Ba.constellation2[2]},c4:{atkSPD_:Ba.constellation4[0],energy:Ba.constellation4[1]},c6:{hp_:Ba.constellation6[$k++],hydro_:Ba.constellation6[$k++],duration:Ba.constellation6[$k++]}},[qK,Em]=h(zr,"burst"),[VK,pv]=h(zr,"c2"),[JK,tC]=h(zr,"c6"),eC=i(Em,"on",m(P($(a.total.burstIndex,ol.burst.nBonus_,{unit:"%"}),n(a.asc,4,m(c(ol.p2.heal_ratio_),a.premod.heal_))),a.premod.hp),{variant:"invalid"}),aC=i(Em,"on",m(P($(a.total.burstIndex,ol.burst.cBonus_,{unit:"%"}),n(a.asc,4,m(c(ol.p2.heal_ratio_),a.premod.heal_))),a.premod.hp),{variant:"invalid"}),lC=i(Em,"on",m($(a.total.burstIndex,ol.burst.sBonus_,{unit:"%"}),a.premod.hp)),nC=p(ol.p.heal_),sC=p(ol.p.critRate_),oC=n(a.constellation,2,i(pv,"on",m(c(ol.c2.s_heal_),a.total.hp))),iC=n(a.constellation,2,i(pv,"on",m(c(ol.c2.nc_heal_),a.total.hp))),cC=n(a.constellation,4,ol.c4.atkSPD_),rC=n(a.constellation,6,i(tC,"on",ol.c6.hydro_)),ri={normal:Object.fromEntries(ol.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",ol.charged.dmg,"charged")},plunging:E("atk",ol.plunging),skill:{dmg:o("atk",ol.skill.dmg,"skill"),heal:cl("hp",ol.skill.heal_,ol.skill.heal,"skill",{premod:{healInc:oC}})},burst:{dmg:o("hp",ol.burst.dmg,"burst"),heal:cl("hp",ol.burst.heal_,ol.burst.heal,"burst",{premod:{healInc:iC}})},constellation1:{dmg:n(a.constellation,1,N(m(a.total.hp,c(ol.c1.hp_)),"elemental",{hit:{ele:p(hv)}}))}},dC=n(a.constellation,3,3),mC=n(a.constellation,5,3),QK=B(zr,hv,"liyue",lp,ri,{premod:{skillBoost:mC,burstBoost:dC,heal_:nC,critRate_:sC,atkSPD_:cC,hydro_dmg_:rC,normal_dmgInc:eC,charged_dmgInc:aC,skill_dmgInc:lC}}),XK={key:zr,name:Nt.name,rarity:lp.rarity,elementKey:hv,weaponTypeKey:lp.weaponType,gender:"F",constellationName:Nt.chg("constellationName"),title:Nt.chg("title"),talent:{auto:Nt.talentTem("auto",[{text:Nt.chg("auto.fields.normal")},{fields:ol.normal.hitArr.map((t,l)=>({node:e(ri.normal[l],{name:Nt.chg(`auto.skillParams.${l}`)})}))},{text:Nt.chg("auto.fields.charged")},{fields:[{node:e(ri.charged.dmg,{name:Nt.chg("auto.skillParams.3")})},{text:Nt.chg("auto.skillParams.4"),value:ol.charged.stamina}]},{text:Nt.chg("auto.fields.plunging")},{fields:[{node:e(ri.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ri.plunging.low,{name:s("plunging.low")})},{node:e(ri.plunging.high,{name:s("plunging.high")})}]}]),skill:Nt.talentTem("skill",[{fields:[{node:e(ri.skill.heal,{name:Nt.chg("skill.skillParams.0")})},{node:e(ri.skill.dmg,{name:Nt.chg("skill.skillParams.1")})},{text:Nt.chg("skill.skillParams.2"),value:ol.skill.duration,unit:"s"},{text:Nt.chg("skill.skillParams.3"),value:ol.skill.cd,unit:"s"}]}]),burst:Nt.talentTem("burst",[{fields:[{node:e(ri.burst.dmg,{name:Nt.chg("burst.skillParams.0")})},{node:e(ri.burst.heal,{name:Nt.chg("burst.skillParams.4"),variant:"heal"})},{text:Nt.chg("burst.skillParams.6"),value:ol.burst.cd,unit:"s"},{text:Nt.chg("burst.skillParams.7"),value:ol.burst.enerCost}]},Nt.condTem("burst",{value:Em,path:qK,name:Nt.ch("burst"),states:{on:{fields:[{node:eC},{node:aC},{node:lC},{text:Nt.chg("burst.skillParams.5"),value:ol.burst.duration,unit:"s"}]}}}),Nt.headerTem("constellation4",{canShow:i(Em,"on",1),fields:[{node:cC},{text:d("enerRegenPerHit"),value:ol.c4.energy,fixed:1}]}),Nt.condTem("constellation6",{canShow:i(Em,"on",1),path:JK,value:tC,name:Nt.ch("c6"),states:{on:{fields:[{node:rC}]}}})]),passive:Nt.talentTem("passive",[{fields:[{node:nC},{node:sC}]}]),passive1:Nt.talentTem("passive1"),passive2:Nt.talentTem("passive2"),passive3:Nt.talentTem("passive3"),constellation1:Nt.talentTem("constellation1",[Nt.fieldsTem("constellation1",{fields:[{node:e(ri.constellation1.dmg,{name:d("dmg")})}]})]),constellation2:Nt.talentTem("constellation2",[Nt.condTem("constellation2",{path:VK,value:pv,name:Nt.ch("c2"),states:{on:{fields:[{node:e(oC,{name:Nt.ch("c2SkillHeal")})},{node:e(iC,{name:Nt.ch("c2BurstHeal")})}]}}})]),constellation3:Nt.talentTem("constellation3",[{fields:[{node:dC}]}]),constellation4:Nt.talentTem("constellation4"),constellation5:Nt.talentTem("constellation5",[{fields:[{node:mC}]}]),constellation6:Nt.talentTem("constellation6")}},YK=new R(XK,QK),lm="Sayu",ZK="anemo",np=_.char.data[lm],Lt=_.char.skillParam[lm],et=A(lm,np.weaponType);let hr=0,wc=0;const ta={normal:{hitArr:[Lt.auto[0],Lt.auto[1],Lt.auto[2],Lt.auto[4]]},charged:{spin:Lt.auto[5],final:Lt.auto[6],stamina:Lt.auto[7][0],duration:Lt.auto[8][0]},plunging:{dmg:Lt.auto[9],low:Lt.auto[10],high:Lt.auto[11]},skill:{wheelDmg:Lt.skill[hr++],eleWheelDmg:Lt.skill[hr++],kickPressDmg:Lt.skill[hr++],kickHoldDmg:Lt.skill[hr++],eleKickDmg:Lt.skill[hr++],duration:Lt.skill[hr++][0],cdMin:Lt.skill[hr++][0],cdMax:Lt.skill[hr++][0]},burst:{pressDmg:Lt.burst[wc++],pressBaseHeal:Lt.burst[wc++],pressAtkHeal:Lt.burst[wc++],darumaDmg:Lt.burst[wc++],darumaBaseHeal:Lt.burst[wc++],darumaAtkHeal:Lt.burst[wc++],darumaHits:7,duration:Lt.burst[wc++][0],cd:Lt.burst[wc++][0],enerCost:Lt.burst[wc++][0]},passive1:{baseHeal:Lt.passive1[0][0],emHeal:Lt.passive1[1][0],cd:Lt.passive1[2][0]},passive2:{nearHeal:Lt.passive2[0][0]},constellation2:{dmgInc:Lt.constellation2[0],maxStacks:Lt.constellation2[1]},constellation4:{ener:Lt.constellation4[0],cd:Lt.constellation4[1]},constellation6:{darumaDmgInc:Lt.constellation6[0],maxStacks:Lt.constellation6[1]/Lt.constellation6[0],darumaHealInc:Lt.constellation6[2]}},[tN,Pf]=h(lm,"skillAbsorption"),[eN,uC]=h(lm,"c2SkillStack"),gC=n(a.constellation,2,c(ta.constellation2.dmgInc)),Df=n(a.constellation,2,w(uC,Object.fromEntries(rl(1,ta.constellation2.maxStacks).map(t=>[t,m(t,c(ta.constellation2.dmgInc))])),O)),hC=n(a.constellation,6,m(Il(a.total.eleMas,ta.constellation6.maxStacks),ta.constellation6.darumaDmgInc,a.total.atk)),pC=n(a.constellation,6,m(Il(a.total.eleMas,ta.constellation6.maxStacks),ta.constellation6.darumaHealInc)),c1=zn(P(m($(a.total.burstIndex,ta.burst.darumaAtkHeal,{unit:"%"}),a.total.atk),$(a.total.burstIndex,ta.burst.darumaBaseHeal),pC)),qn={normal:Object.fromEntries(ta.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",ta.charged.spin,"charged"),final:o("atk",ta.charged.final,"charged")},plunging:E("atk",ta.plunging),skill:{wheelDmg:o("atk",ta.skill.wheelDmg,"skill"),kickPressDmg:o("atk",ta.skill.kickPressDmg,"skill",{premod:{skill_dmg_:gC}}),kickHoldDmg:o("atk",ta.skill.kickHoldDmg,"skill",{premod:{skill_dmg_:Df}}),eleWheelDmg:w(Pf,Object.fromEntries(il.map(t=>[t,o("atk",ta.skill.eleWheelDmg,"skill",{hit:{ele:p(t)}})])),O),eleKickDmg:w(Pf,Object.fromEntries(il.map(t=>[t,o("atk",ta.skill.eleKickDmg,"skill",{hit:{ele:p(t)},premod:{skill_dmg_:Df}})])),O)},burst:{pressDmg:o("atk",ta.burst.pressDmg,"burst"),pressHeal:cl("atk",ta.burst.pressAtkHeal,ta.burst.pressBaseHeal,"burst"),darumaDmg:o("atk",ta.burst.darumaDmg,"burst",{premod:{burst_dmgInc:hC}}),darumaHeal:c1},passive1:{heal:n(a.asc,1,zn(P(ta.passive1.baseHeal,m(ta.passive1.emHeal,a.total.eleMas))))},passive2:{extraHeal:n(a.asc,4,m(c1,c(ta.passive2.nearHeal)))}},kC=n(a.constellation,3,3),fC=n(a.constellation,5,3),aN=B(lm,"anemo","inazuma",np,qn,{premod:{skillBoost:fC,burstBoost:kC}}),lN={key:lm,name:et.name,rarity:np.rarity,elementKey:ZK,weaponTypeKey:np.weaponType,gender:"F",constellationName:et.chg("constellationName"),title:et.chg("title"),talent:{auto:et.talentTem("auto",[{text:et.chg("auto.fields.normal")},{fields:ta.normal.hitArr.map((t,l)=>({node:e(qn.normal[l],{name:et.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:et.chg("auto.fields.charged")},{fields:[{node:e(qn.charged.spin,{name:et.chg("auto.skillParams.4")})},{node:e(qn.charged.final,{name:et.chg("auto.skillParams.5")})},{text:et.chg("auto.skillParams.6"),value:`${ta.charged.stamina}/s`}]},{text:et.chg("auto.fields.plunging")},{fields:[{node:e(qn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(qn.plunging.low,{name:s("plunging.low")})},{node:e(qn.plunging.high,{name:s("plunging.high")})}]}]),skill:et.talentTem("skill",[{fields:[{node:e(qn.skill.wheelDmg,{name:et.chg("skill.skillParams.0")})},{node:e(qn.skill.kickPressDmg,{name:et.chg("skill.skillParams.1")})},{node:e(qn.skill.kickHoldDmg,{name:et.chg("skill.skillParams.2")})},{text:et.chg("skill.skillParams.5"),value:ta.skill.duration,unit:"s"},{text:s("cd"),value:`${ta.skill.cdMin}s ~ ${ta.skill.cdMax}`,unit:"s"}]},et.condTem("skill",{value:Pf,path:tN,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(qn.skill.eleWheelDmg,{name:et.chg("skill.skillParams.3")})},{node:e(qn.skill.eleKickDmg,{name:et.chg("skill.skillParams.4")})}]}]))}),et.headerTem("constellation2",{fields:[{node:e(gC,{name:et.ch("c2KickPressDmg_"),unit:"%"})}]}),et.condTem("constellation2",{value:uC,path:eN,name:et.ch("c2Cond"),states:Object.fromEntries(rl(1,ta.constellation2.maxStacks).map(t=>[t,{name:d("seconds",{count:t*.5}),fields:[{node:e(Df,{name:et.ch("c2KickDmg_"),unit:"%"})}]}]))})]),burst:et.talentTem("burst",[{fields:[{node:e(qn.burst.pressDmg,{name:et.chg("burst.skillParams.0")})},{node:e(qn.burst.pressHeal,{name:et.chg("burst.skillParams.1")})},{node:e(qn.burst.darumaDmg,{name:et.chg("burst.skillParams.2")})},{node:e(qn.burst.darumaHeal,{name:et.chg("burst.skillParams.3")})},{text:et.ch("burstHits"),value:ta.burst.darumaHits}]},et.headerTem("passive2",{fields:[{node:e(qn.passive2.extraHeal,{name:s("healing"),variant:"heal"})},{text:et.ch("p2Aoe")}]}),et.headerTem("constellation6",{fields:[{node:e(hC,{name:et.ch("c6DarumaDmgInc"),variant:"anemo"})},{node:e(pC,{name:et.ch("c6DarumaHealInc"),variant:"heal"})}]})]),passive1:et.talentTem("passive1",[et.fieldsTem("passive1",{fields:[{node:e(qn.passive1.heal,{name:s("healing")})},{text:s("cd"),value:ta.passive1.cd,unit:"s"}]})]),passive2:et.talentTem("passive2"),passive3:et.talentTem("passive3"),constellation1:et.talentTem("constellation1"),constellation2:et.talentTem("constellation2"),constellation3:et.talentTem("constellation3",[{fields:[{node:kC}]}]),constellation4:et.talentTem("constellation4",[et.fieldsTem("constellation4",{fields:[{text:s("energyRegen"),value:ta.constellation4.ener,fixed:1},{text:s("cd"),value:ta.constellation4.cd,unit:"s"}]})]),constellation5:et.talentTem("constellation5",[{fields:[{node:fC}]}]),constellation6:et.talentTem("constellation6")}},nN=new R(lN,aN),bi="Shenhe",bC="cryo",sp=_.char.data[bi],qe=_.char.skillParam[bi],bt=A(bi,sp.weaponType);let Ac=0,ym=0,sN=0,wg=0;const ma={normal:{hitArr:[qe.auto[0],qe.auto[1],qe.auto[2],qe.auto[3],qe.auto[5]]},charged:{dmg:qe.auto[6],stamina:qe.auto[7][0]},plunging:{dmg:qe.auto[8],low:qe.auto[9],high:qe.auto[10]},skill:{press:qe.skill[Ac++],hold:qe.skill[Ac++],dmgAtk_:qe.skill[Ac++],duration:qe.skill[Ac++][0],durationHold:qe.skill[Ac++][0],trigger:qe.skill[Ac++][0],triggerHold:qe.skill[Ac++][0],cd:qe.skill[Ac++][0],cdHold:qe.skill[Ac++][0]},burst:{dmg:qe.burst[ym++],res_:qe.burst[ym++],dot:qe.burst[ym++],duration:qe.burst[ym++][0],cd:qe.burst[ym++][0],enerCost:qe.burst[ym++][0]},passive1:{cryo_dmg_:qe.passive1[sN++][0]},passive2:{press_dmg_:qe.passive2[wg++][0],durationPress:qe.passive2[wg++][0],hold_dmg_:qe.passive2[wg++][0],durationHold:qe.passive2[wg++][0]},constellation2:{durationInc:qe.constellation2[0]},constellation4:{dmg_:qe.constellation4[0],maxStacks:qe.constellation4[1]},constellation6:{auto_:qe.constellation6[0],duration:qe.constellation6[1]}},[oN,vC]=h(bi,"quill"),kv=i("quill",vC,m(a.total.atk,$(a.total.skillIndex,ma.skill.dmgAtk_,{unit:"%"}))),[iN,_C]=h(bi,"burst"),yC=i("burst",_C,$(a.total.burstIndex,ma.burst.res_.map(t=>-t),{unit:"%"})),TC={...yC},$C={...yC},[cN,fv]=h(bi,"asc1"),xC=n(a.asc,1,i(fv,"field",ma.passive1.cryo_dmg_)),rN=i(a.activeCharKey,G.charKey,xC),[dN,PC]=h(bi,"asc4"),DC=n(a.asc,4,i(PC,"press",ma.passive2.press_dmg_)),CC={...DC},SC={...DC},[mN,wC]=h(bi,"asc4Hold"),bv=n(a.asc,4,i(wC,"hold",ma.passive2.hold_dmg_)),AC={...bv},BC={...bv},IC={...bv},RC=n(a.constellation,2,i(fv,"field",ma.passive1.cryo_dmg_)),uN=i(a.activeCharKey,G.charKey,RC),[gN,MC]=h(bi,"c4"),op=n(a.constellation,4,w(MC,C(At(1,ma.constellation4.maxStacks),t=>c(t*ma.constellation4.dmg_)),0)),Ji={normal:Object.fromEntries(ma.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",ma.charged.dmg,"charged")},plunging:E("atk",ma.plunging),skill:{press:o("atk",ma.skill.press,"skill",{hit:{dmgBonus:op}}),hold:o("atk",ma.skill.hold,"skill",{hit:{dmgBonus:op}}),quillDmg:kv},burst:{dmg:o("atk",ma.burst.dmg,"burst"),dot:o("atk",ma.burst.dot,"burst")}},HC=n(a.constellation,3,3),EC=n(a.constellation,5,3),hN=B(bi,bC,"liyue",sp,Ji,{premod:{skillBoost:HC,burstBoost:EC,skill_dmg_:op},teamBuff:{premod:{cryo_dmgInc:kv,cryo_enemyRes_:TC,physical_enemyRes_:$C,cryo_dmg_:rN,skill_dmg_:CC,burst_dmg_:SC,normal_dmg_:AC,charged_dmg_:BC,plunging_dmg_:IC,cryo_critDMG_:uN}}}),pN={key:bi,name:bt.name,rarity:sp.rarity,elementKey:bC,weaponTypeKey:sp.weaponType,gender:"F",constellationName:bt.chg("constellationName"),title:bt.chg("title"),talent:{auto:bt.talentTem("auto",[{text:bt.chg("auto.fields.normal")},{fields:ma.normal.hitArr.map((t,l)=>({node:e(Ji.normal[l],{name:bt.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:bt.chg("auto.fields.charged")},{fields:[{node:e(Ji.charged.dmg,{name:bt.chg("auto.skillParams.5")})},{text:bt.chg("auto.skillParams.6"),value:ma.charged.stamina}]},{text:bt.chg("auto.fields.plunging")},{fields:[{node:e(Ji.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ji.plunging.low,{name:s("plunging.low")})},{node:e(Ji.plunging.high,{name:s("plunging.high")})}]}]),skill:bt.talentTem("skill",[{fields:[{node:e(Ji.skill.press,{name:bt.chg("skill.skillParams.0")})},{text:bt.ch("pressDuration"),value:ma.skill.duration,unit:"s"},{text:bt.ch("pressQuota"),value:ma.skill.trigger},{text:s("press.cd"),value:ma.skill.cd,unit:"s"},{node:e(Ji.skill.hold,{name:bt.chg("skill.skillParams.1")})},{text:bt.ch("holdDuration"),value:ma.skill.durationHold,unit:"s"},{text:bt.ch("holdQuota"),value:ma.skill.triggerHold},{text:s("hold.cd"),value:ma.skill.cdHold,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]},bt.condTem("skill",{teamBuff:!0,value:vC,path:oN,name:bt.ch("quill"),states:{quill:{fields:[{node:kv}]}}}),bt.condTem("passive2",{teamBuff:!0,states:{press:{value:PC,path:dN,name:d("afterUse.skillPress"),fields:[{node:CC},{node:SC},{text:s("duration"),value:ma.passive2.durationPress,unit:"s"}]},hold:{value:wC,path:mN,name:d("afterUse.skillHold"),fields:[{node:AC},{node:BC},{node:IC},{text:s("duration"),value:ma.passive2.durationHold,unit:"s"}]}}}),bt.condTem("constellation4",{value:MC,path:gN,name:bt.ch("c4"),states:C(At(1,50).map(t=>t),t=>({name:d("stack",{count:t}),fields:[{node:op}]}))}),bt.headerTem("constellation6",{fields:[{text:bt.chg("constellation6.description")}],teamBuff:!0})]),burst:bt.talentTem("burst",[{fields:[{node:e(Ji.burst.dmg,{name:bt.chg("burst.skillParams.0")})},{node:e(Ji.burst.dot,{name:bt.chg("burst.skillParams.2")})},{text:bt.chg("burst.skillParams.3"),value:t=>t.get(a.constellation).value>=2?`${ma.burst.duration} + ${ma.constellation2.durationInc} = ${ma.burst.duration+ma.constellation2.durationInc}`:ma.burst.duration,unit:"s"},{text:bt.chg("burst.skillParams.4"),value:ma.burst.cd,unit:"s"},{text:bt.chg("burst.skillParams.5"),value:ma.burst.enerCost}]},bt.condTem("burst",{teamBuff:!0,value:_C,path:iN,name:d("opponentsField"),states:{burst:{fields:[{node:TC},{node:$C}]}}}),bt.condTem("passive1",{value:fv,path:cN,teamBuff:!0,name:d("activeCharField"),states:{field:{fields:[{node:e(xC,y.info("cryo_dmg_"))}]}}}),bt.headerTem("constellation2",{fields:[{text:d("durationInc"),value:ma.constellation2.durationInc,unit:"s"},{node:e(RC,y.info("cryo_critDMG_"))}],teamBuff:!0})]),passive1:bt.talentTem("passive1"),passive2:bt.talentTem("passive2"),passive3:bt.talentTem("passive3"),constellation1:bt.talentTem("constellation1",[bt.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:bt.talentTem("constellation2"),constellation3:bt.talentTem("constellation3",[{fields:[{node:HC}]}]),constellation4:bt.talentTem("constellation4"),constellation5:bt.talentTem("constellation5",[{fields:[{node:EC}]}]),constellation6:bt.talentTem("constellation6")}},kN=new R(pN,hN),Jc="ShikanoinHeizou",KC="anemo",ip=_.char.data[Jc],Ga=_.char.skillParam[Jc],ra=A(Jc,ip.weaponType);let ro=0,hu=0,Ag=0,r1=0;const Dn={normal:{hitArr:[Ga.auto[ro++],Ga.auto[ro++],Ga.auto[ro++],Ga.auto[ro++],Ga.auto[ro++],Ga.auto[ro++],Ga.auto[ro++]]},charged:{dmg:Ga.auto[ro++],stamina:Ga.auto[ro++][0]},plunging:{dmg:Ga.auto[ro++],low:Ga.auto[ro++],high:Ga.auto[ro++]},skill:{dmg:Ga.skill[hu++],declension_dmg_:Ga.skill[hu++],conviction_dmg_:Ga.skill[hu++],cd:Ga.skill[hu++][0],declension_duration:Ga.skill[hu++][0]},burst:{slugger_dmg:Ga.burst[Ag++],iris_dmg:Ga.burst[Ag++],cd:Ga.burst[Ag++][0],enerCost:Ga.burst[Ag++][0]},passive2:{duration:Ga.passive2[r1++][0],eleMas:Ga.passive2[r1++][0]},passive3:{staminaSprintDec_:.25},constellation1:{duration:Ga.constellation1[0],atkSpd_:Ga.constellation1[1],cd:Ga.constellation1[2]},constellation4:{baseEnergy:Ga.constellation4[0],addlEnergy:Ga.constellation4[1]},constellation6:{hsCritRate_:Ga.constellation6[0],hsCritDmg_:Ga.constellation6[1]}},vv=rl(1,4),[fN,Md]=h(Jc,"declensionStacks"),bN=w(Md,Object.fromEntries(vv.map(t=>[t,m($(a.total.skillIndex,Dn.skill.declension_dmg_,{name:d("bonusScaling.skill_"),unit:"%"}),p(t,{name:ra.ch("declensionStacks")}))])),O,{name:d("bonusScaling.skill_"),unit:"%"}),vN=i(Md,"4",$(a.total.skillIndex,Dn.skill.conviction_dmg_,{unit:"%"}),{name:d("bonusScaling.skill_"),unit:"%"}),NC=P(bN,vN),[_N,OC]=h(Jc,"skillHit"),FC=n(a.asc,4,i(OC,"on",Dn.passive2.eleMas)),yN=j(G.charKey,Jc,FC),[TN,jC]=h(Jc,"takeField"),GC=n(a.constellation,1,i(jC,"on",c(Dn.constellation1.atkSpd_))),zC=n(a.constellation,6,w(Md,Object.fromEntries(vv.map(t=>[t,m(c(Dn.constellation6.hsCritRate_),p(t,{name:ra.ch("declensionStacks")}))])),O)),WC=n(a.constellation,6,i(Md,"4",c(Dn.constellation6.hsCritDmg_))),Nc={normal:Object.fromEntries(Dn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Dn.charged.dmg,"charged")},plunging:E("atk",Dn.plunging),skill:{dmg:N(m(P($(a.total.skillIndex,Dn.skill.dmg,{unit:"%"}),NC),a.total.atk),"skill",{hit:{ele:p("anemo")}})},burst:{slugger_dmg:o("atk",Dn.burst.slugger_dmg,"burst"),...Object.fromEntries(il.map(t=>[`${t}_iris_dmg`,o("atk",Dn.burst.iris_dmg,"burst",{hit:{ele:p(t)}})]))}},UC=n(a.constellation,3,3),LC=n(a.constellation,5,3),$N=B(Jc,KC,"inazuma",ip,Nc,{premod:{skillBoost:UC,burstBoost:LC,atkSPD_:GC,skill_critRate_:zC,skill_critDMG_:WC},teamBuff:{premod:{eleMas:yN}}}),xN={key:Jc,name:ra.name,rarity:ip.rarity,elementKey:KC,weaponTypeKey:ip.weaponType,gender:"M",constellationName:ra.chg("constellationName"),title:ra.chg("title"),talent:{auto:ra.talentTem("auto",[{text:ra.chg("auto.fields.normal")},{fields:Dn.normal.hitArr.map((t,l)=>({node:e(Nc.normal[l],{name:ra.chg(`auto.skillParams.${l>2?l<6?3:4:l}`),textSuffix:l>2&&l<6?`(${l-2})`:void 0})}))},{text:ra.chg("auto.fields.charged")},{fields:[{node:e(Nc.charged.dmg,{name:ra.chg("auto.skillParams.5")})},{text:ra.chg("auto.skillParams.6"),value:Dn.charged.stamina}]},{text:ra.chg("auto.fields.plunging")},{fields:[{node:e(Nc.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Nc.plunging.low,{name:s("plunging.low")})},{node:e(Nc.plunging.high,{name:s("plunging.high")})}]}]),skill:ra.talentTem("skill",[{fields:[{node:e(Nc.skill.dmg,{name:ra.chg("skill.skillParams.0")})},{text:s("cd"),value:Dn.skill.cd,unit:"s"}]},ra.condTem("skill",{path:fN,value:Md,name:ra.chg("skill.description.6"),states:Object.fromEntries(vv.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:e(NC,{name:d("bonusScaling.skill_"),unit:"%"})},{canShow:l=>l.get(Md).value==="4",text:d("aoeInc")},{text:ra.chg("skill.skillParams.3"),value:Dn.skill.declension_duration,unit:"s"}]}]))}),ra.condTem("passive2",{path:_N,value:OC,name:d("hitOp.skill"),teamBuff:!0,canShow:j(G.charKey,a.activeCharKey,1),states:{on:{fields:[{node:e(FC,y.info("eleMas"))},{text:s("duration"),value:Dn.passive2.duration,unit:"s"}]}}}),ra.headerTem("constellation6",{canShow:j(Md,void 0,1),fields:[{node:zC},{node:WC}]})]),burst:ra.talentTem("burst",[{fields:[{node:e(Nc.burst.slugger_dmg,{name:ra.chg("burst.skillParams.0")})},...il.map(t=>({node:e(Nc.burst[`${t}_iris_dmg`],{name:ra.chg("burst.skillParams.1")})})),{text:s("cd"),value:Dn.burst.cd,unit:"s"},{text:s("energyCost"),value:Dn.burst.enerCost}]}]),passive1:ra.talentTem("passive1"),passive2:ra.talentTem("passive2"),passive3:ra.talentTem("passive3"),constellation1:ra.talentTem("constellation1",[ra.condTem("constellation1",{path:TN,value:jC,name:ra.ch("takingField"),states:{on:{fields:[{node:GC},{text:s("duration"),value:Dn.constellation1.duration,unit:"s"},{text:s("cd"),value:Dn.constellation1.cd,unit:"s"}]}}})]),constellation2:ra.talentTem("constellation2"),constellation3:ra.talentTem("constellation3",[{fields:[{node:UC}]}]),constellation4:ra.talentTem("constellation4"),constellation5:ra.talentTem("constellation5",[{fields:[{node:LC}]}]),constellation6:ra.talentTem("constellation6")}},PN=new R(xN,$N),ks="Somnia",_v="electro",cp=_.char.data[ks],Ot=_.char.skillParam[ks],L=A(ks,cp.weaponType);let Bc=0,Bg=0,Ns=0;const Ra={normal:{hitArr:[Ot.auto[Bc++],Ot.auto[Bc++],Ot.auto[Bc++],Ot.auto[Bc++]]},charged:{dmg:Ot.auto[Bc++],stamina:Ot.auto[Bc++][0]},plunging:{dmg:Ot.auto[Bc++],low:Ot.auto[Bc++],high:Ot.auto[Bc++]},skill:{dmg:Ot.skill[Bg++],norm_charged_dmgInc:Ot.skill[Bg++],duration:Ot.skill[Bg++][0],cd:Ot.skill[Bg++][0]},burst:{pressDmg:Ot.burst[Ns++],eleMas_:Ot.burst[Ns++],multDotDmg:Ot.burst[Ns++],sunderDmg:Ot.burst[Ns++],addDotDmg:Ot.burst[Ns++],supernovaDmg:Ot.burst[Ns++],subDotDmg:Ot.burst[Ns++],subDmgInc:Ot.burst[Ns++],subElemRes:Ot.burst[Ns++],resDuration:Ot.burst[Ns++][0],duration:Ot.burst[Ns++][0],cd:Ot.burst[Ns++][0],energyCost:Ot.burst[Ns++][0]},passive1:{chargedStamRed:Ot.passive1[0][0],chargedCastSpeed:Ot.passive1[1][0]},passive2:{elemas:Ot.passive2[0][0],stacks:Ot.passive2[1][0],maxElemas:Ot.passive2[2][0]},constellation1:{chance:Ot.constellation1[0],dmg:Ot.constellation1[1]},constellation2:{dmg:Ot.constellation2[0]},constellation4:{energyRestore:Ot.constellation4[0],cd:Ot.constellation4[1]},constellation6:{cd:Ot.constellation6[2],critRate_:Ot.constellation6[3],critDMG_:Ot.constellation6[4],maxStacks:Ot.constellation6[5],duration:Ot.constellation6[6]}},[DN,rp]=h(ks,"superposition"),Cf=i(rp,"on",m($(a.total.skillIndex,Ra.skill.norm_charged_dmgInc,{unit:"%"}),a.total.eleMas)),[CN,yr]=h(ks,"cycloneActive"),[SN,qC]=h(ks,"multiplication"),wN=dn(yr,"on",dn(qC,"on",dn(w(G.weaponType,{sword:St,claymore:St,polearm:St},O),St,p(_v)))),[AN,VC]=h(ks,"subtraction"),d1=i(yr,"on",i(VC,"on",m($(a.total.burstIndex,Ra.burst.subDmgInc,{unit:"%"}),a.total.eleMas))),[BN,JC]=h(ks,"lessThan3"),IN=i(JC,"on",m($(a.total.burstIndex,Ra.burst.subElemRes,{unit:"%"}),a.total.eleMas)),[RN,QC]=h(ks,"a4EnemiesHit"),XC=At(1,Ra.passive2.stacks),[MN,YC]=h(ks,"c1Mode"),dp=e(P(1,n(a.constellation,1,w(YC,{average:p(Ra.constellation1.chance*Ra.constellation1.dmg),always:p(Ra.constellation1.dmg)},O))),{name:L.ch("c1Key"),unit:"%",asConst:!0}),[HN,ZC]=h(ks,"c2Prime"),m1=n(a.constellation,2,i(rp,"on",i(ZC,"on",{...Cf}))),[EN,yv]=h(ks,"c6Stacks"),Tv=At(1,Ra.constellation6.maxStacks),t6=n(a.constellation,6,w(yv,C(Tv,t=>m(c(Ra.constellation6.critRate_),t)),O)),e6=n(a.constellation,6,w(yv,C(Tv,t=>m(c(Ra.constellation6.critDMG_),t)),O)),Ia={normal:Object.fromEntries(Ra.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",void 0,dp)])),charged:{dmg:o("atk",Ra.charged.dmg,"charged",void 0,dp)},plunging:E("atk",Ra.plunging),skill:{pressDmg:o("atk",Ra.skill.dmg,"skill"),normal_dmgInc:Cf,charged_dmgInc:{...Cf}},burst:{initialDmg:o("atk",Ra.burst.pressDmg,"burst"),multDotDmg:o("atk",Ra.burst.multDotDmg,"burst"),addDotDmg:o("atk",Ra.burst.addDotDmg,"burst"),subDotDmg:o("atk",Ra.burst.subDotDmg,"burst"),sunderDmg:o("eleMas",Ra.burst.sunderDmg,"burst"),supernovaDmg:o("eleMas",Ra.burst.supernovaDmg,"burst"),eleMas:i(yr,"on",m($(a.total.burstIndex,Ra.burst.eleMas_,{unit:"%"}),a.premod.eleMas)),sub_normal_dmgInc:d1,sub_charged_dmgInc:{...d1},...C(So,t=>({...IN}))},passive2:{eleMas:n(a.asc,4,i(yr,"on",w(QC,C(XC,t=>m(c(Ra.passive2.elemas),t,a.premod.eleMas)),O)))},constellation2:{normal_dmgInc:m1,charged_dmgInc:{...m1}}},a6=n(a.constellation,3,3),l6=n(a.constellation,5,3),KN=B(ks,_v,"mondstadt",cp,Ia,{premod:{burstBoost:a6,skillBoost:l6,normal_dmgInc:P(Ia.skill.normal_dmgInc,Ia.burst.sub_normal_dmgInc,Ia.constellation2.normal_dmgInc),charged_dmgInc:P(Ia.skill.charged_dmgInc,Ia.burst.sub_charged_dmgInc,Ia.constellation2.charged_dmgInc),critRate_:t6,critDMG_:e6},teamBuff:{premod:{...Object.fromEntries(So.map(t=>[`${t}_enemyRes_`,Ia.burst[t]]))},infusion:{team:wN}},total:{eleMas:P(Ia.burst.eleMas,Ia.passive2.eleMas)}}),NN={key:ks,name:L.chg("name"),rarity:cp.rarity,elementKey:_v,weaponTypeKey:cp.weaponType,gender:"F",constellationName:L.chg("constellationName"),title:L.chg("title"),talent:{auto:L.talentTem("auto",[{text:L.chg("auto.fields.normal")},{fields:Ra.normal.hitArr.map((t,l)=>({node:e(Ia.normal[l],{name:L.chg(`auto.skillParams.${l}`)})}))},{text:L.chg("auto.fields.charged")},{fields:[{node:e(Ia.charged.dmg,{name:L.chg("auto.skillParams.4")})},{text:L.chg("auto.skillParams.5"),value:Ra.charged.stamina,unit:"/s"}]},{text:L.chg("auto.fields.plunging")},{fields:[{node:e(Ia.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ia.plunging.low,{name:s("plunging.low")})},{node:e(Ia.plunging.high,{name:s("plunging.high")})}]},L.condTem("constellation1",{value:YC,path:MN,name:L.ch("c1Cond"),states:{average:{name:L.ch("average"),fields:[{node:dp}]},always:{name:L.ch("always"),fields:[{node:dp}]}}})]),skill:L.talentTem("skill",[L.fieldsTem("skill",{fields:[{node:e(Ia.skill.pressDmg,{name:L.chg("skill.skillParams.0")})},{text:s("duration"),value:Ra.skill.duration,unit:"s"},{text:s("cd"),value:Ra.skill.cd,unit:"s"}]}),L.condTem("skill",{value:rp,path:DN,name:L.ch("superpositionCond"),states:{on:{fields:[{node:e(Ia.skill.normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.skill.charged_dmgInc,y.info("charged_dmgInc"))}]}}}),L.condTem("constellation2",{value:ZC,path:HN,name:L.ch("c2Cond"),canShow:i(rp,"on",1),states:{on:{fields:[{node:e(Ia.constellation2.normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.constellation2.charged_dmgInc,y.info("charged_dmgInc"))}]}}})]),burst:L.talentTem("burst",[L.fieldsTem("burst",{fields:[{node:e(Ia.burst.initialDmg,{name:L.chg("burst.skillParams.0")})},{node:e(Ia.burst.multDotDmg,{name:L.chg("burst.skillParams.2")})},{node:e(Ia.burst.sunderDmg,{name:L.chg("burst.skillParams.3")})},{node:e(Ia.burst.addDotDmg,{name:L.chg("burst.skillParams.4")})},{node:e(Ia.burst.supernovaDmg,{name:L.chg("burst.skillParams.5")})},{node:e(Ia.burst.subDotDmg,{name:L.chg("burst.skillParams.6")})},{text:s("duration"),value:Ra.burst.duration,unit:"s"},{text:s("energyCost"),value:Ra.burst.energyCost},{text:s("cd"),value:Ra.burst.cd,unit:"s"}]}),L.condTem("burst",{value:yr,path:CN,teamBuff:!0,name:L.ch("cycloneActiveCond"),states:{on:{fields:[{node:e(Ia.burst.eleMas,y.info("eleMas"))}]}}}),L.condTem("burst",{value:VC,path:AN,canShow:i(yr,"on",i(a.activeCharKey,ks,1)),name:L.ch("subCond"),states:{on:{fields:[{node:e(Ia.burst.sub_normal_dmgInc,y.info("normal_dmgInc"))},{node:e(Ia.burst.sub_charged_dmgInc,y.info("charged_dmgInc"))}]}}}),L.condTem("burst",{value:qC,path:SN,teamBuff:!0,canShow:i(yr,"on",j(a.activeCharKey,ks,1)),name:L.ch("multCond"),states:{on:{fields:[{text:D(yt,{color:"electro",children:d("infusion.electro")})}]}}}),L.condTem("burst",{value:JC,path:BN,teamBuff:!0,name:L.ch("lessThan3Cond"),states:{on:{fields:[...So.map(t=>({node:Ia.burst[t]})),{text:s("duration"),value:Ra.burst.resDuration,unit:"s"}]}}}),L.condTem("passive2",{value:QC,path:RN,canShow:i(yr,"on",1),name:d("hitOp.burst"),states:C(XC,t=>({name:d("hits",{count:t}),fields:[{node:e(Ia.passive2.eleMas,y.info("eleMas"))}]}))})]),passive1:L.talentTem("passive1"),passive2:L.talentTem("passive2"),passive3:L.talentTem("passive3"),constellation1:L.talentTem("constellation1"),constellation2:L.talentTem("constellation2"),constellation3:L.talentTem("constellation3",[{fields:[{node:a6}]}]),constellation4:L.talentTem("constellation4"),constellation5:L.talentTem("constellation5",[{fields:[{node:l6}]}]),constellation6:L.talentTem("constellation6",[L.condTem("constellation6",{value:yv,path:EN,name:L.chg("constellation6.name"),states:C(Tv,t=>({name:d("stack",{count:t}),fields:[{node:t6},{node:e6},{text:s("duration"),value:Ra.constellation6.duration,unit:"s"}]}))})])}},ON=new R(NN,KN),Zs="Sucrose",n6="anemo",mp=_.char.data[Zs],kn=_.char.skillParam[Zs],Ve=A(Zs,mp.weaponType);let Ic=0,u1=0,pu=0,g1=0,h1=0;const as={normal:{hitArr:[kn.auto[Ic++],kn.auto[Ic++],kn.auto[Ic++],kn.auto[Ic++]]},charged:{dmg:kn.auto[Ic++],stamina:kn.auto[Ic++][0]},plunging:{dmg:kn.auto[Ic++],low:kn.auto[Ic++],high:kn.auto[Ic++]},skill:{press:kn.skill[u1++],cd:kn.skill[u1++][0]},burst:{dot:kn.burst[pu++],dmg_:kn.burst[pu++],duration:kn.burst[pu++][0],cd:kn.burst[pu++][0],enerCost:kn.burst[pu++][0]},passive1:{eleMas:kn.passive1[g1++][0],duration:kn.passive1[g1++][0]},passive2:{eleMas_:kn.passive2[h1++][0],duration:kn.passive2[h1++][0]},constellation2:{durationInc:kn.constellation2[0]},constellation6:{ele_dmg_:kn.constellation6[0]}},[p1,Bu]=h(Zs,"absorption"),s6=C(il,t=>[Zs,`swirl${t}`]),o6=C(il,t=>zf(s6[t])),[FN,i6]=h(Zs,"skillHit"),c6=n(a.asc,1,as.passive1.eleMas),jN=C(il,t=>j(G.charKey,Zs,i(G.charEle,o6[t],c6),{...y.info("eleMas"),isTeamBuff:!0})),r6=e(n(a.asc,4,m(c(as.passive2.eleMas_),a.premod.eleMas)),{...y.info("eleMas"),isTeamBuff:!0}),d6=i("hit",i6,r6),GN=j(G.charKey,Zs,d6),zN=n(a.constellation,6,c(.2)),Sf=C(il.map(t=>`${t}_dmg_`),t=>i(Bu,t.slice(0,-5),zN)),Qi={normal:Object.fromEntries(as.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",as.charged.dmg,"charged")},plunging:E("atk",as.plunging),skill:{press:o("atk",as.skill.press,"skill")},burst:{dot:o("atk",as.burst.dot,"burst"),...Object.fromEntries(il.map(t=>[t,i(Bu,t,o("atk",as.burst.dmg_,"burst",{hit:{ele:p(t)}}))]))},passive2:{asc4OptNode:r6}},m6=n(a.constellation,3,3),u6=n(a.constellation,5,3),WN=B(Zs,n6,"mondstadt",mp,Qi,{premod:{skillBoost:m6,burstBoost:u6},teamBuff:{total:{eleMas:GN},premod:{...Sf,eleMas:P(...Object.values(jN))}}}),UN={key:Zs,name:Ve.name,rarity:mp.rarity,elementKey:n6,weaponTypeKey:mp.weaponType,gender:"F",constellationName:Ve.chg("constellationName"),title:Ve.chg("title"),talent:{auto:Ve.talentTem("auto",[{text:Ve.chg("auto.fields.normal")},{fields:as.normal.hitArr.map((t,l)=>({node:e(Qi.normal[l],{name:Ve.chg(`auto.skillParams.${l}`)})}))},{text:Ve.chg("auto.fields.charged")},{fields:[{node:e(Qi.charged.dmg,{name:Ve.chg("auto.skillParams.4")})},{text:Ve.chg("auto.skillParams.5"),value:as.charged.stamina}]},{text:Ve.chg("auto.fields.plunging")},{fields:[{node:e(Qi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Qi.plunging.low,{name:s("plunging.low")})},{node:e(Qi.plunging.high,{name:s("plunging.high")})}]}]),skill:Ve.talentTem("skill",[{fields:[{node:e(Qi.skill.press,{name:Ve.chg("skill.skillParams.0")})},{text:Ve.chg("skill.skillParams.1"),value:as.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]}]),burst:Ve.talentTem("burst",[{fields:[{node:e(Qi.burst.dot,{name:Ve.chg("burst.skillParams.0")})},{text:Ve.chg("burst.skillParams.2"),value:t=>t.get(a.constellation).value>=2?`${as.burst.duration}s + 2`:as.burst.duration,unit:"s"},{text:Ve.chg("burst.skillParams.3"),value:as.burst.cd,unit:"s"},{text:Ve.chg("burst.skillParams.4"),value:as.burst.enerCost}]},Ve.condTem("burst",{value:Bu,path:p1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Qi.burst[t],{name:Ve.chg("burst.skillParams.1")})}]}]))}),Ve.condTem("constellation6",{teamBuff:!0,canShow:j(G.charKey,a.activeCharKey,1),value:Bu,path:p1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:Object.values(Sf).map(l=>({node:l}))}]))}),Ve.headerTem("constellation6",{canShow:j(Bu,void 0,1),fields:Object.values(Sf).map(t=>({node:t}))})]),passive1:Ve.talentTem("passive1",[Ve.condTem("passive1",{teamBuff:!0,canShow:j(a.activeCharKey,Zs,1),states:C(il,t=>({path:s6[t],value:o6[t],name:d(`swirlReaction.${t}`),fields:[{node:e(c6,y.info("eleMas"))},{text:d(`effectDuration.${t}`),value:as.passive1.duration,unit:"s"}]}))})]),passive2:Ve.talentTem("passive2",[Ve.condTem("passive2",{teamBuff:!0,value:i6,path:FN,name:d("hitOp.skillOrBurst"),canShow:j(a.activeCharKey,Zs,1),states:{hit:{fields:[{node:e(d6,y.info("eleMas"))},{text:s("duration"),value:as.passive2.duration,unit:"s"}]}}}),Ve.fieldsTem("passive2",{canShow:i(a.activeCharKey,Zs,1),fields:[{node:Qi.passive2.asc4OptNode}]})]),passive3:Ve.talentTem("passive3"),constellation1:Ve.talentTem("constellation1",[Ve.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Ve.talentTem("constellation2"),constellation3:Ve.talentTem("constellation3",[{fields:[{node:m6}]}]),constellation4:Ve.talentTem("constellation4"),constellation5:Ve.talentTem("constellation5",[{fields:[{node:u6}]}]),constellation6:Ve.talentTem("constellation6")}},LN=new R(UN,WN),Lu="Tartaglia",g6="hydro",qN="snezhnaya",up=_.char.data[Lu],xe=_.char.skillParam[Lu],Y=A(Lu,up.weaponType);let $s=0,is=0,Tm=0,VN=0;const jt={normal:{hitArr:[xe.auto[$s++],xe.auto[$s++],xe.auto[$s++],xe.auto[$s++],xe.auto[$s++],xe.auto[$s++]]},charged:{aimed:xe.auto[$s++],aimedCharged:xe.auto[$s++]},riptide:{flashDmg:xe.auto[$s++],burstDmg:xe.auto[$s++]},plunging:{dmg:xe.auto[$s++],low:xe.auto[$s++],high:xe.auto[$s++]},riptideDuration:xe.auto[$s++][0],skill:{stanceDmg:xe.skill[is++],normal1:xe.skill[is++],normal2:xe.skill[is++],normal3:xe.skill[is++],normal4:xe.skill[is++],normal5:xe.skill[is++],normal61:xe.skill[is++],normal62:xe.skill[is++],charged1:xe.skill[is++],charged2:xe.skill[is++],riptideSlash:xe.skill[is++],chargedStamina:xe.skill[is++][0],duration:xe.skill[is++][0],preemptiveCd1:xe.skill[is++][0],preemptiveCd2:xe.skill[is++][0],maxCd:xe.skill[is++][0]},burst:{meleeDmg:xe.burst[Tm++],riptideBlastDmg:xe.burst[Tm++],rangedDmg:xe.burst[Tm++],enerReturned:xe.burst[Tm++][0],cd:xe.burst[Tm++][0],enerCost:xe.burst[Tm++][0]},passive1:{durationExt:xe.passive1[VN++][0]},passive:{auto_boost:1},constellation1:{cdRed:.2}},nn={normal:Object.fromEntries(jt.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",jt.charged.aimed,"charged"),aimedCharged:o("atk",jt.charged.aimedCharged,"charged",{hit:{ele:p("hydro")}}),flashDmg:o("atk",jt.riptide.flashDmg,"normal",{hit:{ele:p("hydro")}}),burstDmg:o("atk",jt.riptide.burstDmg,"normal",{hit:{ele:p("hydro")}})},plunging:E("atk",jt.plunging),skill:{stanceDmg:o("atk",jt.skill.stanceDmg,"skill"),normal1:N(m($(a.total.skillIndex,jt.skill.normal1,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal2:N(m($(a.total.skillIndex,jt.skill.normal2,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal3:N(m($(a.total.skillIndex,jt.skill.normal3,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal4:N(m($(a.total.skillIndex,jt.skill.normal4,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal5:N(m($(a.total.skillIndex,jt.skill.normal5,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal61:N(m($(a.total.skillIndex,jt.skill.normal61,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),normal62:N(m($(a.total.skillIndex,jt.skill.normal62,{unit:"%"}),a.total.atk),"normal",{hit:{ele:p("hydro")}}),charged1:N(m($(a.total.skillIndex,jt.skill.charged1,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p("hydro")}}),charged2:N(m($(a.total.skillIndex,jt.skill.charged2,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p("hydro")}}),riptideSlash:o("atk",jt.skill.riptideSlash,"skill")},burst:{meleeDmg:o("atk",jt.burst.meleeDmg,"burst"),rangedDmg:o("atk",jt.burst.rangedDmg,"burst"),riptideBlastDmg:o("atk",jt.burst.riptideBlastDmg,"burst")}},h6=p(1),p6=n(a.constellation,3,3),k6=n(a.constellation,5,3),JN=B(Lu,g6,qN,up,nn,{premod:{skillBoost:p6,burstBoost:k6},teamBuff:{premod:{autoBoost:h6}}}),QN={key:Lu,name:Y.name,rarity:up.rarity,elementKey:g6,weaponTypeKey:up.weaponType,gender:"M",constellationName:Y.chg("constellationName"),title:Y.chg("title"),talent:{auto:Y.talentTem("auto",[{text:Y.chg("auto.fields.normal")},{fields:jt.normal.hitArr.map((t,l)=>({node:e(nn.normal[l],{name:Y.chg(`auto.skillParams.${l}`)})}))},{text:Y.chg("auto.fields.charged")},{fields:[{node:e(nn.charged.aimed,{name:Y.chg("auto.skillParams.6")})},{node:e(nn.charged.aimedCharged,{name:Y.chg("auto.skillParams.7")})}]},{text:Y.chg("auto.fields.riptide")},{fields:[{node:e(nn.charged.flashDmg,{name:Y.chg("auto.skillParams.8"),multi:3})},{node:e(nn.charged.burstDmg,{name:Y.chg("auto.skillParams.9")})},{text:Y.chg("auto.skillParams.10"),value:t=>t.get(a.asc).value>=1?jt.passive1.durationExt+jt.riptideDuration:jt.riptideDuration,unit:"s"}]},{text:Y.chg("auto.fields.plunging")},{fields:[{node:e(nn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(nn.plunging.low,{name:s("plunging.low")})},{node:e(nn.plunging.high,{name:s("plunging.high")})}]}]),skill:Y.talentTem("skill",[{fields:[{node:e(nn.skill.stanceDmg,{name:Y.chg("skill.skillParams.0")})},{node:e(nn.skill.normal1,{name:Y.chg("skill.skillParams.1")})},{node:e(nn.skill.normal2,{name:Y.chg("skill.skillParams.2")})},{node:e(nn.skill.normal3,{name:Y.chg("skill.skillParams.3")})},{node:e(nn.skill.normal4,{name:Y.chg("skill.skillParams.4")})},{node:e(nn.skill.normal5,{name:Y.chg("skill.skillParams.5")})},{node:e(nn.skill.normal61,{name:Y.chg("skill.skillParams.6"),textSuffix:"(1)"})},{node:e(nn.skill.normal62,{name:Y.chg("skill.skillParams.6"),textSuffix:"(2)"})},{node:e(nn.skill.charged1,{name:Y.chg("skill.skillParams.7"),textSuffix:"(1)"})},{node:e(nn.skill.charged2,{name:Y.chg("skill.skillParams.7"),textSuffix:"(2)"})},{node:e(p(jt.skill.chargedStamina),{name:Y.chg("skill.skillParams.8")})},{node:e(nn.skill.riptideSlash,{name:Y.chg("skill.skillParams.9")})},{text:Y.chg("skill.skillParams.10"),value:jt.skill.duration,unit:"s"},{text:Y.chg("skill.skillParams.11"),value:t=>t.get(a.constellation).value>=1?`${jt.skill.preemptiveCd1-jt.skill.preemptiveCd1*jt.constellation1.cdRed}
            - ${jt.skill.preemptiveCd2-jt.skill.preemptiveCd2*jt.constellation1.cdRed}`:`${jt.skill.preemptiveCd1} - ${jt.skill.preemptiveCd2}`,unit:"s"},{text:Y.chg("skill.skillParams.12"),value:t=>t.get(a.constellation).value>=1?`${jt.skill.maxCd-jt.skill.maxCd*jt.constellation1.cdRed}`:`${jt.skill.maxCd}`,unit:"s"}]}]),burst:Y.talentTem("burst",[{fields:[{node:e(nn.burst.meleeDmg,{name:Y.chg("burst.skillParams.0")})},{node:e(nn.burst.rangedDmg,{name:Y.chg("burst.skillParams.1")})},{node:e(nn.burst.riptideBlastDmg,{name:Y.chg("burst.skillParams.2")})},{text:Y.chg("burst.skillParams.4"),value:`${jt.burst.cd}`,unit:"s"},{text:Y.chg("burst.skillParams.5"),value:`${jt.burst.enerCost}`},{text:Y.chg("burst.skillParams.3"),value:`${jt.burst.enerReturned}`}]}]),passive1:Y.talentTem("passive1"),passive2:Y.talentTem("passive2"),passive3:Y.talentTem("passive3",[Y.headerTem("passive3",{teamBuff:!0,fields:[{node:h6}]})]),constellation1:Y.talentTem("constellation1"),constellation2:Y.talentTem("constellation2"),constellation3:Y.talentTem("constellation3",[{fields:[{node:p6}]}]),constellation4:Y.talentTem("constellation4"),constellation5:Y.talentTem("constellation5",[{fields:[{node:k6}]}]),constellation6:Y.talentTem("constellation6")}},XN=new R(QN,JN),nm="Thoma",Oc="pyro",gp=_.char.data[nm],oa=_.char.skillParam[nm],ue=A(nm,gp.weaponType);let Rc=0,hd=0,Mc=0;const ae={normal:{hitArr:[oa.auto[Rc++],oa.auto[Rc++],oa.auto[Rc++],oa.auto[Rc++]]},charged:{dmg:oa.auto[Rc++],stamina:oa.auto[Rc++][0]},plunging:{dmg:oa.auto[Rc++],low:oa.auto[Rc++],high:oa.auto[Rc++]},skill:{dmg:oa.skill[hd++],hpShield_:oa.skill[hd++],baseShield:oa.skill[hd++],shieldDuration:oa.skill[hd++][0],maxHpShield_:oa.skill[hd++],maxBaseShield:oa.skill[hd++],cd:oa.skill[hd++][0]},burst:{pressDmg:oa.burst[Mc++],collapseDmg:oa.burst[Mc++],hpShield_:oa.burst[Mc++],baseShield:oa.burst[Mc++],shieldDuration:oa.burst[Mc++][0],unknown:oa.burst[Mc++][0],scorchingDuration:oa.burst[Mc++][0],cd:oa.burst[Mc++][0],enerCost:oa.burst[Mc++][0]},passive1:{shield_:oa.passive1[0][0],duration:oa.passive1[1][0],maxStacks:oa.passive1[2][0],cd:oa.passive1[3][0]},passive2:{collapse_dmgInc:oa.passive2[0][0]},c2:{burstDuration:oa.constellation2[0]},c4:{energyRestore:oa.constellation4[0]},c6:{auto_dmg:oa.constellation6[0],duration:oa.constellation6[1]}},[YN,f6]=h(nm,"p1BarrierStacks"),b6=n(a.asc,1,w(f6,Object.fromEntries(rl(1,ae.passive1.maxStacks).map(t=>[t,p(t*ae.passive1.shield_)])),O)),v6=n(a.asc,4,m(a.total.hp,ae.passive2.collapse_dmgInc)),[ZN,_6]=h(nm,"c6AfterBarrier"),zp=n(a.constellation,6,i(_6,"on",ae.c6.auto_dmg)),y6={...zp},T6={...zp},ys={normal:Object.fromEntries(ae.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",ae.charged.dmg,"charged")},plunging:E("atk",ae.plunging),skill:{dmg:o("atk",ae.skill.dmg,"skill"),minShield:Sn("hp",ae.skill.hpShield_,ae.skill.baseShield,"skill"),minPyroShield:tn("pyro",Sn("hp",ae.skill.hpShield_,ae.skill.baseShield,"skill")),maxShield:Sn("hp",ae.skill.maxHpShield_,ae.skill.maxBaseShield,"skill"),maxPyroShield:tn("pyro",Sn("hp",ae.skill.maxHpShield_,ae.skill.maxBaseShield,"skill"))},burst:{pressDmg:o("atk",ae.burst.pressDmg,"burst"),collapseDmg:o("atk",ae.burst.collapseDmg,"burst",{premod:{burst_dmgInc:v6}}),shield:Sn("hp",ae.burst.hpShield_,ae.burst.baseShield,"burst"),pyroShield:tn("pyro",Sn("hp",ae.burst.hpShield_,ae.burst.baseShield,"burst"))}},$6=n(a.constellation,3,3),x6=n(a.constellation,5,3),tO=B(nm,Oc,"inazuma",gp,ys,{premod:{skillBoost:$6,burstBoost:x6},teamBuff:{premod:{shield_:b6,normal_dmg_:zp,charged_dmg_:y6,plunging_dmg_:T6}}}),eO={key:nm,name:ue.name,rarity:gp.rarity,elementKey:Oc,weaponTypeKey:gp.weaponType,gender:"M",constellationName:ue.chg("constellationName"),title:ue.chg("title"),talent:{auto:ue.talentTem("auto",[{text:ue.chg("auto.fields.normal")},{fields:ae.normal.hitArr.map((t,l)=>({node:e(ys.normal[l],{name:ue.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ue.chg("auto.fields.charged")},{fields:[{node:e(ys.charged.dmg1,{name:ue.chg("auto.skillParams.4")})},{text:ue.chg("auto.skillParams.5"),value:ae.charged.stamina}]},{text:ue.chg("auto.fields.plunging")},{fields:[{node:e(ys.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ys.plunging.low,{name:s("plunging.low")})},{node:e(ys.plunging.high,{name:s("plunging.high")})}]}]),skill:ue.talentTem("skill",[{fields:[{node:e(ys.skill.dmg,{name:ue.chg("skill.skillParams.0")})},{node:e(ys.skill.minShield,{name:ue.chg("skill.skillParams.1")})},{node:e(ys.skill.minPyroShield,{name:d(`dmgAbsorption.${Oc}`),variant:Oc})},{node:e(ys.skill.maxShield,{name:ue.chg("skill.skillParams.3")})},{node:e(ys.skill.maxPyroShield,{name:d(`dmgAbsorption.max.${Oc}`),variant:Oc})},{text:s("duration"),value:ae.skill.shieldDuration,unit:"s"},{text:s("cd"),value:ae.skill.cd,unit:"s"}]}]),burst:ue.talentTem("burst",[{fields:[{node:e(ys.burst.pressDmg,{name:ue.chg("burst.skillParams.0")})},{node:e(ys.burst.collapseDmg,{name:ue.chg("burst.skillParams.1")})},{node:e(ys.burst.shield,{name:ue.chg("burst.skillParams.2")})},{node:e(ys.burst.pyroShield,{name:d(`dmgAbsorption.${Oc}`),variant:Oc})},{text:ue.chg("burst.skillParams.3"),value:ae.burst.shieldDuration,unit:"s"},{text:ue.chg("burst.skillParams.4"),value:t=>t.get(a.constellation).value>=2?`${ae.burst.scorchingDuration}s + ${ae.c2.burstDuration}s = ${ae.burst.scorchingDuration+ae.c2.burstDuration}`:ae.burst.scorchingDuration,unit:"s"},{text:s("cd"),value:ae.burst.cd,unit:"s"},{text:s("energyCost"),value:ae.burst.enerCost}]},ue.condTem("passive1",{value:f6,path:YN,name:ue.ch("refreshBarrier"),teamBuff:!0,states:Object.fromEntries(rl(1,ae.passive1.maxStacks).map(t=>[t,{name:d("stack",{count:t}),fields:[{node:b6},{text:s("duration"),value:ae.passive1.duration,unit:"s"},{text:d("triggerCD"),value:ae.passive1.cd,unit:"s",fixed:1}]}]))}),ue.headerTem("passive2",{fields:[{node:e(v6,{name:ue.ch("a2"),variant:Oc})}]}),ue.headerTem("constellation2",{fields:[{text:ue.ch("c2"),value:ae.c2.burstDuration,unit:"s"}]}),ue.headerTem("constellation4",{fields:[{text:s("energyRegen"),value:ae.c4.energyRestore}]}),ue.condTem("constellation6",{value:_6,path:ZN,name:ue.ch("refreshBarrier"),teamBuff:!0,states:{on:{fields:[{node:zp},{node:y6},{node:T6}]}}})]),passive1:ue.talentTem("passive1"),passive2:ue.talentTem("passive2"),passive3:ue.talentTem("passive3"),constellation1:ue.talentTem("constellation1"),constellation2:ue.talentTem("constellation2"),constellation3:ue.talentTem("constellation3",[{fields:[{node:$6}]}]),constellation4:ue.talentTem("constellation4"),constellation5:ue.talentTem("constellation5",[{fields:[{node:x6}]}]),constellation6:ue.talentTem("constellation6")}},aO=new R(eO,tO),Wr="Tighnari",Wp="dendro",lO="sumeru",hp=_.char.data[Wr],za=_.char.skillParam[Wr],ge=A(Wr,hp.weaponType);let Jo=0,Ig=0,Rg=0,k1=0,f1=0;const Al={normal:{hitArr:[za.auto[Jo++],za.auto[Jo++],za.auto[Jo++],za.auto[Jo++]]},charged:{aimed:za.auto[Jo++],aimedCharged:za.auto[Jo++],wreathArrow:za.auto[Jo++],clusterArrow:za.auto[Jo++]},plunging:{dmg:za.auto[Jo++],low:za.auto[Jo++],high:za.auto[Jo++]},skill:{dmg:za.skill[Ig++],fieldDuration:za.skill[Ig++][0],penetratorDuration:za.skill[Ig++][0],cd:za.skill[Ig++][0]},burst:{primaryDmg:za.burst[Rg++],secondaryDmg:za.burst[Rg++],cd:za.burst[Rg++][0],energyCost:za.burst[Rg++][0]},passive1:{eleMas:za.passive1[k1++][0],duration:za.passive1[k1++][0]},passive2:{charged_burst_dmg_:za.passive2[f1++][0],maxDmg_:za.passive2[f1++][0]},constellation1:{charged_critRate_:za.constellation1[0]},constellation2:{dendro_dmg_:za.constellation2[0],duration:za.constellation2[1]},constellation4:{eleMas:za.constellation4[0],duration:za.constellation4[1]},constellation6:{unknown:za.constellation6[0],dmg:za.constellation6[1],chargeTimeRed:.9}},[nO,P6]=h(Wr,"p1AfterWreath"),D6=n(a.asc,1,i(P6,"on",Al.passive1.eleMas)),Up=n(a.asc,4,Il(m(c(Al.passive2.charged_burst_dmg_,{fixed:2}),a.total.eleMas),c(Al.passive2.maxDmg_))),$v={...Up},xk={hit:{ele:p(Wp)}},C6=n(a.constellation,1,Al.constellation1.charged_critRate_),[sO,S6]=h(Wr,"c2EnemyField"),w6=n(a.constellation,2,i(S6,"on",Al.constellation2.dendro_dmg_)),[oO,A6]=h(Wr,"c4"),wf=n(a.constellation,4,w(A6,{after:p(Al.constellation4.eleMas),react:p(Al.constellation4.eleMas*2)},O)),zs={normal:Object.fromEntries(Al.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Al.charged.aimed,"charged"),aimedCharged:o("atk",Al.charged.aimedCharged,"charged",xk),wreath:o("atk",Al.charged.wreathArrow,"charged",xk),cluster:o("atk",Al.charged.clusterArrow,"charged",xk)},plunging:E("atk",Al.plunging),skill:{dmg:o("atk",Al.skill.dmg,"skill")},burst:{primaryDmg:o("atk",Al.burst.primaryDmg,"burst"),secondaryDmg:o("atk",Al.burst.secondaryDmg,"burst")},passive2:{charged_dmg_:Up,burst_dmg_:$v},constellation6:{cluster:n(a.constellation,6,N(m(c(Al.constellation6.dmg),a.total.atk),"charged",{hit:{ele:p(Wp)}}))}},B6=n(a.constellation,3,3),I6=n(a.constellation,5,3),iO=B(Wr,Wp,lO,hp,zs,{premod:{skillBoost:I6,burstBoost:B6,eleMas:D6,charged_dmg_:Up,burst_dmg_:$v,charged_critRate_:C6,dendro_dmg_:w6},teamBuff:{premod:{eleMas:wf}}}),cO={key:Wr,name:ge.name,rarity:hp.rarity,elementKey:Wp,weaponTypeKey:hp.weaponType,gender:"M",constellationName:ge.chg("constellationName"),title:ge.chg("title"),talent:{auto:ge.talentTem("auto",[{text:ge.chg("auto.fields.normal")},{fields:Al.normal.hitArr.map((t,l)=>({node:e(zs.normal[l],{name:ge.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},{text:ge.chg("auto.fields.charged")},{fields:[{node:e(zs.charged.aimed,{name:ge.chg("auto.skillParams.4")})},{node:e(zs.charged.aimedCharged,{name:ge.chg("auto.skillParams.5")})},{node:e(zs.charged.wreath,{name:ge.chg("auto.skillParams.6")})},{node:e(zs.charged.cluster,{name:ge.chg("auto.skillParams.7")})}]},ge.condTem("passive1",{path:nO,value:P6,name:ge.ch("p1Cond"),states:{on:{fields:[{node:D6},{text:s("duration"),value:Al.passive1.duration,unit:"s"}]}}}),ge.headerTem("constellation1",{fields:[{node:C6}]}),ge.headerTem("constellation6",{fields:[{text:ge.ch("c6WreathRed"),value:Al.constellation6.chargeTimeRed,unit:"s",fixed:1},{node:e(zs.constellation6.cluster,{name:ge.ch("c6DmgKey")})}]}),{text:ge.chg("auto.fields.plunging")},{fields:[{node:e(zs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(zs.plunging.low,{name:s("plunging.low")})},{node:e(zs.plunging.high,{name:s("plunging.high")})}]}]),skill:ge.talentTem("skill",[{fields:[{node:e(zs.skill.dmg,{name:ge.chg("skill.skillParams.0")})},{text:ge.chg("skill.skillParams.1"),value:Al.skill.fieldDuration,unit:"s"},{text:ge.chg("skill.skillParams.2"),value:Al.skill.penetratorDuration,unit:"s"},{text:s("cd"),value:Al.skill.cd,unit:"s"}]},ge.condTem("constellation2",{path:sO,value:S6,name:d("opponentsField"),states:{on:{fields:[{node:w6}]}}})]),burst:ge.talentTem("burst",[{fields:[{node:e(zs.burst.primaryDmg,{name:ge.chg("burst.skillParams.0")})},{node:e(zs.burst.secondaryDmg,{name:ge.chg("burst.skillParams.1")})},{text:s("cd"),value:Al.burst.cd,unit:"s"},{text:s("energyCost"),value:Al.burst.energyCost}]},ge.condTem("constellation4",{path:oO,value:A6,teamBuff:!0,name:"",states:{after:{name:d("afterUse.burst"),fields:[{node:wf},{text:s("duration"),value:Al.constellation4.duration,unit:"s"}]},react:{name:ge.ch("c4ReactCond"),fields:[{node:wf},{text:s("duration"),value:Al.constellation4.duration,unit:"s"}]}}})]),passive1:ge.talentTem("passive1"),passive2:ge.talentTem("passive2",[ge.fieldsTem("passive2",{fields:[{node:Up},{node:$v}]})]),passive3:ge.talentTem("passive3"),constellation1:ge.talentTem("constellation1"),constellation2:ge.talentTem("constellation2"),constellation3:ge.talentTem("constellation3",[{fields:[{node:B6}]}]),constellation4:ge.talentTem("constellation4"),constellation5:ge.talentTem("constellation5",[{fields:[{node:I6}]}]),constellation6:ge.talentTem("constellation6")}},rO=new R(cO,iO);function rc(t,l,r,u){const v=_.char.data.Traveler,g=_.char.skillParam[t],b={normal:{hitArr:[g.auto[0],g.auto[1],g.auto[2],g.auto[3],g.auto[4]]},charged:{hit1:g.auto[5],hit2:g.auto[6],stamina:g.auto[7][0]},plunging:{dmg:g.auto[8],low:g.auto[9],high:g.auto[10]}},k={normal:Object.fromEntries(b.normal.hitArr.map((S,I)=>[I,o("atk",S,"normal")])),charged:{dmg1:o("atk",b.charged.hit1,"charged"),dmg2:o("atk",b.charged.hit2,"charged")},plunging:Object.fromEntries(Object.entries(b.plunging).map(([S,I])=>[S,o("atk",I,S==="dmg"?"plunging_collision":"plunging_impact")]))},{talent:T,data:x,elementKey:f}=r(t,l,k),H=A(t,v.weaponType);T.auto=H.talentTem("auto",[{text:H.chg("auto.fields.normal")},{fields:b.normal.hitArr.map((S,I)=>({node:e(k.normal[I],{name:H.chg(`auto.skillParams.${I}`)})}))},{text:H.chg("auto.fields.charged")},{fields:[{node:e(k.charged.dmg1,{name:H.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e(k.charged.dmg2,{name:H.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:H.chg("auto.skillParams.6"),value:b.charged.stamina}]},{text:H.chg("auto.fields.plunging")},{fields:[{node:e(k.plunging.dmg,{name:s("plunging.dmg")})},{node:e(k.plunging.low,{name:s("plunging.low")})},{node:e(k.plunging.high,{name:s("plunging.high")})}]}]);const M={...u,talent:T,key:l,elementKey:f};return new R(M,x)}const Pk=_.char.data.Traveler,Rs={sheet:{rarity:Pk.rarity,weaponTypeKey:Pk.weaponType},data_gen:Pk},[Dk]=Od("char","TravelerF"),qu={sheet:{...Rs.sheet,name:Wf("TravelerF",Dk),gender:"F",constellationName:Dk("constellationName"),title:Dk("title")},data_gen:Rs.data_gen};function R6(t,l,r){const u="anemo",v="TravelerAnemo",[,g]=Od("char",v),b=A(t,Rs.data_gen.weaponType),k=_.char.skillParam.TravelerAnemoF;let T=0,x=0;const f={skill:{initial_dmg:k.skill[T++],initial_max:k.skill[T++],ele_dmg:.25,storm_dmg:k.skill[T++],storm_max:k.skill[T++],cd:k.skill[T++][0],maxCd:k.skill[T++][0]},burst:{dmg:k.burst[x++],absorbDmg:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{dmg:.6},passive2:{heal_:.02},constellation2:{enerRech_:.16},constellation6:{enemyRes_:-.2}},[H,M]=h(v,"skillAbsorption"),[S,I]=h(v,`${u}BurstAbsorption`),K=n(a.constellation,2,f.constellation2.enerRech_),[Bt,dl]=h(v,`${u}C6Hit`),en=n(a.constellation,6,i(dl,"on",f.constellation6.enemyRes_)),fs=Nm(il,un=>[`${un}_enemyRes_`,n(a.constellation,6,i(dl,"on",i(I,un,f.constellation6.enemyRes_)))]),Re={hit:{ele:M}},ml={...r,skill:{initial_dmg:o("atk",f.skill.initial_dmg,"skill"),initial_max:o("atk",f.skill.initial_max,"skill"),initial_ele_dmg:j(M,void 0,o("atk",f.skill.initial_dmg,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),max_ele_dmg:j(M,void 0,o("atk",f.skill.initial_max,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),storm_dmg:o("atk",f.skill.storm_dmg,"skill"),storm_max:o("atk",f.skill.storm_max,"skill"),storm_ele_dmg:j(M,void 0,o("atk",f.skill.storm_dmg,"skill",Re,p(f.skill.ele_dmg,{unit:"%"}))),storm_ele_max:j(M,void 0,o("atk",f.skill.storm_max,"skill",Re,p(f.skill.ele_dmg,{unit:"%"})))},burst:{dmg:o("atk",f.burst.dmg,"burst"),absorb:j(I,void 0,o("atk",f.burst.absorbDmg,"burst",{hit:{ele:I}}))},passive1:{dmg:n(a.asc,1,N(m(a.total.atk,f.passive1.dmg),"elemental",{hit:{ele:p(u)}}))},passive2:{heal:n(a.asc,2,zn(m(c(f.passive2.heal_),a.total.hp)))}},ls=n(a.constellation,3,3),xn=n(a.constellation,5,3),vi=B(l,u,void 0,Rs.data_gen,ml,{premod:{skillBoost:xn,burstBoost:ls,enerRech_:K},teamBuff:{premod:{...fs,anemo_enemyRes_:en}}});return{talent:{skill:b.talentTem("skill",[{fields:[{node:e(ml.skill.initial_dmg,{name:b.chg("skill.skillParams.0"),multi:2})},{node:e(ml.skill.initial_max,{name:b.chg("skill.skillParams.1"),multi:4})},{node:e(ml.skill.storm_dmg,{name:b.chg("skill.skillParams.2")})},{node:e(ml.skill.storm_max,{name:b.chg("skill.skillParams.3")})},{text:b.chg("skill.skillParams.4"),value:f.skill.cd,unit:"s"},{text:b.chg("skill.skillParams.5"),value:f.skill.maxCd,unit:"s"}]},b.condTem("skill",{value:M,path:H,name:d("eleAbsor"),states:Object.fromEntries(il.map(un=>[un,{name:D(yt,{color:un,children:s(`element.${un}`)}),fields:[{node:e(ml.skill.initial_ele_dmg,{name:g("initialEleDmg")})},{node:e(ml.skill.max_ele_dmg,{name:g("maxEleDmg"),multi:4})},{node:e(ml.skill.storm_ele_dmg,{name:g("stormEleDmg")})},{node:e(ml.skill.storm_ele_max,{name:g("stormEleMaxDmg")})}]}]))}),b.headerTem("constellation4",{fields:[{text:g("c4"),value:10,unit:"%"}]})]),burst:b.talentTem("burst",[{fields:[{node:e(ml.burst.dmg,{name:b.chg("burst.skillParams.0")})},{text:b.chg("burst.skillParams.2"),value:f.burst.duration,unit:"s"},{text:b.chg("burst.skillParams.3"),value:f.burst.cd,unit:"s"},{text:b.chg("burst.skillParams.4"),value:f.burst.enerCost}]},b.condTem("burst",{value:I,path:S,name:d("eleAbsor"),states:Object.fromEntries(il.map(un=>[un,{name:D(yt,{color:un,children:s(`element.${un}`)}),fields:[{node:e(ml.burst.absorb,{name:b.chg("burst.skillParams.1")})}]}]))}),b.condTem("constellation6",{value:dl,path:Bt,teamBuff:!0,name:g("c6"),states:{on:{fields:[{node:e(en,y.info("anemo_enemyRes_"))},{text:s("duration"),value:10,unit:"s"}]}}}),b.condTem("constellation6",{value:I,path:S,name:d("eleAbsor"),teamBuff:!0,canShow:i(dl,"on",1),states:Object.fromEntries(il.map(un=>[un,{name:D(yt,{color:un,children:s(`element.${un}`)}),fields:[{node:fs[`${un}_enemyRes_`]},{text:s("duration"),value:10,unit:"s"}]}]))})]),passive1:b.talentTem("passive1",[b.fieldsTem("passive1",{fields:[{node:e(ml.passive1.dmg,{name:g("p1")})}]})]),passive2:b.talentTem("passive2",[b.fieldsTem("passive2",{fields:[{node:e(ml.passive2.heal,{name:s("healing")})}]})]),constellation1:b.talentTem("constellation1"),constellation2:b.talentTem("constellation2",[{fields:[{node:K}]}]),constellation3:b.talentTem("constellation3",[{fields:[{node:ls}]}]),constellation4:b.talentTem("constellation4"),constellation5:b.talentTem("constellation5",[{fields:[{node:xn}]}]),constellation6:b.talentTem("constellation6")},data:vi,elementKey:u}}const dO="TravelerAnemoF",mO="TravelerAnemo",uO=rc(dO,mO,R6,qu.sheet),[Ck]=Od("char","TravelerM"),Vu={sheet:{...Rs.sheet,name:Wf("TravelerM",Ck),gender:"M",constellationName:Ck("constellationName"),title:Ck("title")},data_gen:Rs.data_gen},gO="TravelerAnemoM",hO="TravelerAnemo",pO=rc(gO,hO,R6,Vu.sheet);function M6(t,l,r){const u="dendro",v="TravelerDendro",g=A(t,Rs.data_gen.weaponType),b=_.char.skillParam.TravelerDendroF;let k=0,T=0;const x={skill:{dmg:b.skill[k++],cd:b.skill[k++][0]},burst:{lampDmg:b.burst[T++],explosionDmg:b.burst[T++],unknown1:b.burst[T++],unknown2:b.burst[T++],lampDuration:b.burst[T++][0],cd:b.burst[T++][0],enerCost:b.burst[T++][0]},passive1:{eleMas:b.passive1[0][0],maxStacks:10},passive2:{skill_dmgInc:b.passive2[0][0],burst_dmgInc:b.passive2[1][0]},constellation1:{energyRegen:1},constellation2:{durationInc:b.constellation2[0]},constellation6:{ele_dmg_:b.constellation6[0]}},[f,H]=h(v,"a1Stacks"),M=rl(1,x.passive1.maxStacks),S=n(a.asc,1,w(H,Object.fromEntries(M.map(Xn=>[Xn,m(x.passive1.eleMas,Xn)])),O),y.info("eleMas")),I=i(a.activeCharKey,G.charKey,S),K=n(a.asc,4,m(c(x.passive2.skill_dmgInc,{fixed:2}),a.total.eleMas),{unit:"%"}),Bt=n(a.asc,4,m(c(x.passive2.burst_dmgInc),a.total.eleMas),{unit:"%"}),[dl,en]=h(v,"c6BurstEffect"),[fs,Re]=h(v,"c6BurstEle"),ml=n(a.constellation,6,i(en,"on",c(x.constellation6.ele_dmg_))),ls=i(a.activeCharKey,G.charKey,ml),xn=Object.fromEntries(["hydro","pyro","electro"].map(Xn=>[Xn,n(a.constellation,6,i(en,"on",i(Re,Xn,c(x.constellation6.ele_dmg_))))])),vi=Object.fromEntries(Object.entries(xn).map(([Xn,Vp])=>[`${Xn}_dmg_`,i(a.activeCharKey,G.charKey,Vp)])),In={...r,skill:{dmg:o("atk",x.skill.dmg,"skill")},burst:{lampDmg:o("atk",x.burst.lampDmg,"burst"),explosionDmg:o("atk",x.burst.explosionDmg,"burst")}},un=n(a.constellation,3,3),qp=n(a.constellation,5,3),Jr=B(l,u,void 0,Rs.data_gen,In,{premod:{burstBoost:qp,skillBoost:un,skill_dmg_:K,burst_dmg_:Bt},teamBuff:{premod:{eleMas:I,dendro_dmg_:ls,...vi}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(In.skill.dmg,{name:g.chg("skill.skillParams.0")})},{text:s("cd"),value:x.skill.cd,unit:"s"}]}]),burst:g.talentTem("burst",[{fields:[{node:e(In.burst.lampDmg,{name:g.chg("burst.skillParams.0")})},{node:e(In.burst.explosionDmg,{name:g.chg("burst.skillParams.1")})},{text:g.chg("burst.skillParams.2"),value:Xn=>Xn.get(a.constellation).value>=2?`${x.burst.lampDuration}s + ${x.constellation2.durationInc}s = ${x.burst.lampDuration+x.constellation2.durationInc}`:x.burst.lampDuration,unit:"s"},{text:s("cd"),value:x.burst.cd,unit:"s"},{text:s("energyCost"),value:x.burst.enerCost}]},g.condTem("passive1",{path:f,value:H,teamBuff:!0,name:d("stacks"),states:Object.fromEntries(M.map(Xn=>[Xn,{name:d("stack",{count:Xn}),fields:[{node:S}]}]))}),g.headerTem("constellation2",{fields:[{text:d("durationInc"),value:x.constellation2.durationInc,unit:"s"}]}),g.condTem("constellation6",{path:dl,value:en,teamBuff:!0,name:d("activeCharField"),states:{on:{fields:[{node:e(ml,{...y.info("dendro_dmg_"),isTeamBuff:!0})}]}}}),g.condTem("constellation6",{path:fs,value:Re,teamBuff:!0,canShow:i(en,"on",1),name:d("eleAbsor"),states:Object.fromEntries(Object.entries(xn).map(([Xn,Vp])=>[Xn,{name:D(yt,{color:Xn,children:s(`element.${Xn}`)}),fields:[{node:e(Vp,{...y.info(`${Xn}_dmg_`),isTeamBuff:!0})}]}]))})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2",[g.fieldsTem("passive2",{fields:[{node:K},{node:Bt}]})]),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:un}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:qp}]}]),constellation6:g.talentTem("constellation6")},data:Jr,elementKey:u}}const kO="TravelerDendroF",fO="TravelerDendro",bO=rc(kO,fO,M6,qu.sheet),vO="TravelerDendroM",_O="TravelerDendro",yO=rc(vO,_O,M6,Vu.sheet);function H6(t,l,r){const u="electro",v="TravelerElectro",g=A(t,Rs.data_gen.weaponType),[,b]=Od("char",v),k=_.char.skillParam.TravelerElectroF;let T=0,x=0;const f={skill:{dmg:k.skill[T++],energyRestore:k.skill[T++],amulets:2,amuletDuration:k.skill[T++][0],enerRech_:k.skill[T++][0],enerRech_duration:k.skill[T++][0],cd:k.skill[T++][0]},burst:{pressDmg:k.burst[x++],thunderDmg:k.burst[x++],thunderCd:.5,energyRestore:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{cdRed:k.passive1[0][0]},passive2:{enerRech_:k.passive2[0][0]},constellation1:{addlAmulets:1},constellation2:{duration:k.constellation2[0],electro_enemyRes:k.constellation2[1]},constellation6:{numAttacks:k.constellation6[0],thunder_dmg_:k.constellation6[0],energyRestore:k.constellation6[1]}},[H,M]=h(v,`${u}SkillAmulet`),S=n(a.asc,4,m(a.premod.enerRech_,c(f.passive2.enerRech_))),I=i(M,"on",P(c(f.skill.enerRech_),S)),K=i(a.activeCharKey,G.charKey,I),Bt=$(a.total.burstIndex,f.burst.energyRestore,{name:g.chg("burst.skillParmas.2")}),[dl,en]=h(v,`${u}C2Thunder`),fs=n(a.constellation,2,i(en,"on",f.constellation2.electro_enemyRes)),Re={...r,skill:{dmg:o("atk",f.skill.dmg,"skill")},burst:{pressDmg:o("atk",f.burst.pressDmg,"burst"),thunderDmg:o("atk",f.burst.thunderDmg,"burst"),thirdThunderDmg:n(a.constellation,6,N(m($(a.total.burstIndex,f.burst.thunderDmg,{unit:"%"}),c(f.constellation6.thunder_dmg_),a.total.atk),"burst",{hit:{ele:p(u)}}))}},ml=n(a.constellation,3,3),ls=n(a.constellation,5,3),xn=B(l,u,void 0,Rs.data_gen,Re,{premod:{skillBoost:ls,burstBoost:ml},teamBuff:{premod:{electro_enemyRes_:fs},total:{enerRech_:K}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(Re.skill.dmg,{name:g.chg("skill.skillParams.0")})},{canShow:In=>In.get(a.constellation).value<4,node:$(a.total.skillIndex,f.skill.energyRestore,{name:b("skill.enerRest.none")})},{canShow:In=>In.get(a.constellation).value>=4,node:$(a.total.skillIndex,f.skill.energyRestore,{name:b("skill.enerRest.over35")})},{canShow:In=>In.get(a.constellation).value>=4,node:e(m($(a.total.skillIndex,f.skill.energyRestore),2),{name:b("skill.enerRest.under35")})},{text:b("skill.amuletGenAmt"),value:In=>In.get(a.constellation).value>=1?f.skill.amulets+f.constellation1.addlAmulets:f.skill.amulets},{text:g.chg("skill.skillParams.4"),value:f.skill.amuletDuration,unit:"s"},{text:s("cd"),value:f.skill.cd,unit:"s",fixed:1}]},g.condTem("skill",{value:M,path:H,name:b("skill.absorb"),teamBuff:!0,states:{on:{fields:[{node:e(I,y.info("enerRech_"))},{text:s("duration"),value:f.skill.enerRech_duration,unit:"s"}]}}}),g.headerTem("passive1",{fields:[{text:g.chg("passive1.description")}]}),g.headerTem("passive2",{fields:[{node:e(S,{name:b("passive2.enerRech_"),unit:"%"})}]})]),burst:g.talentTem("burst",[{fields:[{node:e(Re.burst.pressDmg,{name:g.chg("burst.skillParams.0")})},{node:e(Re.burst.thunderDmg,{name:g.chg("burst.skillParams.1")})},{node:e(Re.burst.thirdThunderDmg,{name:b("burst.3rd")})},{text:b("burst.thunderCd"),value:f.burst.thunderCd,unit:"s",fixed:1},{node:e(Bt,{name:g.chg("burst.skillParams.2"),fixed:1})},{text:s("duration"),value:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.condTem("constellation2",{value:en,path:dl,name:b("c2.thunderHit"),teamBuff:!0,states:{on:{fields:[{node:fs},{text:s("duration"),value:f.constellation2.duration,unit:"s"}]}}})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2"),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:ml}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:ls}]}]),constellation6:g.talentTem("constellation6")},data:xn,elementKey:u}}const TO="TravelerElectroF",$O="TravelerElectro",xO=rc(TO,$O,H6,qu.sheet),PO="TravelerElectroM",DO="TravelerElectro",CO=rc(PO,DO,H6,Vu.sheet);function E6(t,l,r){const u="geo",v="TravelerGeo",g=A(t,Rs.data_gen.weaponType),[,b]=Od("char",v),k=_.char.skillParam.TravelerGeoF;let T=0,x=0;const f={skill:{dmg:k.skill[T++],duration:k.skill[T++][0],cd:k.skill[T++][0]},burst:{dmg:k.burst[x++],numShockwaves:4,duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{skill_cdRed:2},passive2:{geoDmg:c(.6)},constellation1:{critRate_:c(.1)},constellation4:{energyRestore:5,maxTriggers:5},constellation6:{burstDuration:5,skillDuration:10}},[H,M]=h(v,`${u}C1BurstArea`),S=n(a.constellation,1,i(M,"on",f.constellation1.critRate_)),I=i(a.activeCharKey,G.charKey,S),K={...r,skill:{dmg:o("atk",f.skill.dmg,"skill")},burst:{dmg:o("atk",f.burst.dmg,"burst")},passive2:{dmg:N(m(a.total.atk,f.passive2.geoDmg),"elemental",{hit:{ele:p("geo")}})},constellation2:{dmg:n(a.constellation,2,o("atk",f.skill.dmg,"skill"))}},Bt=n(a.constellation,3,3),dl=n(a.constellation,5,3),en=B(l,u,void 0,Rs.data_gen,K,{premod:{skillBoost:dl,burstBoost:Bt},teamBuff:{premod:{critRate_:I}}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(K.skill.dmg,{name:g.chg("skill.skillParams.0")})},{text:g.chg("skill.skillParams.1"),value:Re=>Re.get(a.constellation).value>=6?`${f.skill.duration}s + ${f.constellation6.skillDuration}s = ${f.skill.duration+f.constellation6.skillDuration}`:f.skill.duration,unit:"s"},{text:s("cd"),value:Re=>Re.get(a.asc).value>=1?`${f.skill.cd}s - ${f.passive1.skill_cdRed}s = ${f.skill.cd-f.passive1.skill_cdRed}`:f.skill.cd,unit:"s"}]},g.headerTem("passive1",{fields:[{text:d("skillCDRed"),value:f.passive1.skill_cdRed,unit:"s"}]}),g.headerTem("constellation2",{fields:[{node:e(K.constellation2.dmg,{name:b("c2.key")})}]}),g.headerTem("constellation6",{fields:[{text:d("durationInc"),value:f.constellation6.skillDuration,unit:"s"}]})]),burst:g.talentTem("burst",[{fields:[{node:e(K.burst.dmg,{name:g.chg("burst.skillParams.0"),multi:f.burst.numShockwaves})},{text:g.chg("burst.skillParams.1"),value:Re=>Re.get(a.constellation).value>=6?`${f.burst.duration}s + ${f.constellation6.burstDuration}s = ${f.burst.duration+f.constellation6.burstDuration}`:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.condTem("constellation1",{value:M,path:H,name:d("activeCharField"),teamBuff:!0,states:{on:{fields:[{node:e(S,y.info("critRate_"))},{text:d("incInterRes")}]}}}),g.headerTem("constellation4",{fields:[{text:d("enerRegenPerHit"),value:f.constellation4.energyRestore}]}),g.headerTem("constellation6",{fields:[{text:d("durationInc"),value:f.constellation6.burstDuration,unit:"s"}]})]),passive1:g.talentTem("passive1"),passive2:g.talentTem("passive2",[g.fieldsTem("passive2",{fields:[{node:e(K.passive2.dmg,{name:b("passive2.key")})}]})]),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:Bt}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:dl}]}]),constellation6:g.talentTem("constellation6")},data:en,elementKey:u}}const SO="TravelerGeoF",wO="TravelerGeo",AO=rc(SO,wO,E6,qu.sheet),BO="TravelerGeoM",IO="TravelerGeo",RO=rc(BO,IO,E6,Vu.sheet);function K6(t,l,r){const u="hydro",v="TravelerHydro",g=A(t,Rs.data_gen.weaponType),[,b]=Od("char",v),k=_.char.skillParam.TravelerHydroF;let T=0,x=0;const f={skill:{dewdropDmg:k.skill[T++],surgeDmg:k.skill[T++],thornDmg:k.skill[T++],thornInterval:k.skill[T++][0],hpCost:k.skill[T++][0],dmgBonus:k.skill[T++],suffusionLimit:k.skill[T++][0],cd:k.skill[T++][0],holdDuration:k.skill[T++][0]},burst:{dmg:k.burst[x++],duration:k.burst[x++][0],cd:k.burst[x++][0],enerCost:k.burst[x++][0]},passive1:{numDropsPerSec:k.passive1[0][0],maxDrops:k.passive1[1][0],heal:k.passive1[2][0]},passive2:{surge_dmgInc:k.passive2[0][0],maxSurge_dmgInc:k.passive2[1][0]},constellation1:{energyRegen:k.constellation1[0]},constellation2:{movementSpdDec:k.constellation2[0],durationInc:k.constellation2[1]},constellation4:{shield_:k.constellation4[0],restoreInterval:k.constellation4[1],restore_:.1},constellation6:{heal:k.constellation6[0]}},[H,M]=h(v,"suffusion"),S=i(M,"on",m($(a.total.skillIndex,f.skill.dmgBonus,{unit:"%"}),a.total.hp)),I=m(c(f.skill.hpCost),a.total.hp),K=[f.skill.hpCost,2*f.skill.hpCost,3*f.skill.hpCost,4*f.skill.hpCost,5*f.skill.hpCost,6*f.skill.hpCost],[Bt,dl]=h(v,"a4HpConsumedPercent"),en=w(dl,C(K,Jr=>m(a.total.hp,c(Jr))),O),fs=n(a.asc,4,Il(f.passive2.maxSurge_dmgInc,m(c(f.passive2.surge_dmgInc),en))),Re=n(a.constellation,4,Mu("hp",f.constellation4.shield_,0)),ml=n(a.constellation,4,tn("hydro",Re)),ls=n(a.constellation,6,Wn("hp",f.constellation6.heal,0)),xn={...r,skill:{surgeDmg:o("atk",f.skill.surgeDmg,"skill",{premod:{skill_dmgInc:fs}}),dewdropDmg:o("atk",f.skill.dewdropDmg,"skill",{premod:{skill_dmgInc:S}}),thornDmg:o("atk",f.skill.thornDmg,"skill"),suffusion_hpCost:I,suffusion_dewdrop_dmgInc:S},burst:{dmg:o("atk",f.burst.dmg,"burst")},passive1:{heal:n(a.asc,1,Wn("hp",f.passive1.heal,0))},passive2:{a4HpConsumed_surge_dmgInc:fs},constellation4:{c4Shield:Re,c4HydroShield:ml}},vi=n(a.constellation,3,3),In=n(a.constellation,5,3),un=B(l,u,void 0,Rs.data_gen,xn,{premod:{burstBoost:In,skillBoost:vi}});return{talent:{skill:g.talentTem("skill",[{fields:[{node:e(xn.skill.surgeDmg,{name:g.chg("skill.skillParams.0")})},{node:e(xn.skill.dewdropDmg,{name:g.chg("skill.skillParams.1")})},{node:e(xn.skill.thornDmg,{name:g.chg("skill.skillParams.2")})},{text:g.chg("skill.skillParams.3"),value:f.skill.thornInterval,unit:"s"},{node:e(xn.skill.suffusion_hpCost,{name:g.chg("skill.skillParams.4")})},{text:g.chg("skill.skillParams.6"),value:f.skill.holdDuration,unit:"s"},{text:s("cd"),value:f.skill.cd,unit:"s"}]},g.condTem("skill",{value:M,path:H,name:b("skillCondName"),states:{on:{fields:[{node:e(xn.skill.suffusion_dewdrop_dmgInc,{name:b("dewdropDmgInc")})}]}}}),g.condTem("passive2",{value:dl,path:Bt,name:b("a4CondName"),states:C(K,Jr=>({name:`${Jr*100}%`,fields:[{node:e(xn.passive2.a4HpConsumed_surge_dmgInc,{name:b("surgeDmgInc")})}]}))}),g.headerTem("constellation4",{fields:[{node:e(xn.constellation4.c4Shield,{name:d("dmgAbsorption.none")})},{node:e(xn.constellation4.c4HydroShield,{name:d("dmgAbsorption.hydro")})}]})]),burst:g.talentTem("burst",[{fields:[{node:e(xn.burst.dmg,{name:g.chg("burst.skillParams.0")})},{text:s("duration"),value:Jr=>Jr.get(a.constellation).value>=2?`${f.burst.duration}s + ${f.constellation2.durationInc}s = ${f.burst.duration+f.constellation2.durationInc}`:f.burst.duration,unit:"s"},{text:s("cd"),value:f.burst.cd,unit:"s"},{text:s("energyCost"),value:f.burst.enerCost}]},g.headerTem("constellation2",{fields:[{node:p(f.constellation2.movementSpdDec*-100,y.info("moveSPD_"))},{text:d("durationInc"),value:f.constellation2.durationInc,unit:"s"}]})]),passive1:g.talentTem("passive1",[{fields:[{node:e(xn.passive1.heal,{name:s("healing")})}]},g.headerTem("constellation1",{fields:[{text:s("energyRegen"),value:f.constellation1.energyRegen}]})]),passive2:g.talentTem("passive2"),constellation1:g.talentTem("constellation1"),constellation2:g.talentTem("constellation2"),constellation3:g.talentTem("constellation3",[{fields:[{node:vi}]}]),constellation4:g.talentTem("constellation4"),constellation5:g.talentTem("constellation5",[{fields:[{node:In}]}]),constellation6:g.talentTem("constellation6",[g.headerTem("constellation6",{fields:[{node:e(ls,{name:s("healing")})}]})])},data:un,elementKey:u}}const MO="TravelerHydroF",HO="TravelerHydro",EO=rc(MO,HO,K6,qu.sheet),KO="TravelerHydroM",NO="TravelerHydro",OO=rc(KO,NO,K6,Vu.sheet),pi="Venti",pp="anemo",kp=_.char.data[pi],Pn=_.char.skillParam[pi],Z=A(pi,kp.weaponType);let Qo=0,Mg=0,ku=0;const Pl={normal:{hitArr:[Pn.auto[Qo++],Pn.auto[Qo++],Pn.auto[Qo++],Pn.auto[Qo++],Pn.auto[Qo++],Pn.auto[Qo++]]},charged:{aimed:Pn.auto[Qo++],fully:Pn.auto[Qo++]},plunging:{dmg:Pn.auto[Qo++],low:Pn.auto[Qo++],high:Pn.auto[Qo++]},skill:{pressDmg:Pn.skill[Mg++],pressCD:Pn.skill[Mg++][0],holdDmg:Pn.skill[Mg++],holdCD:Pn.skill[Mg++][0]},burst:{baseDmg:Pn.burst[ku++],baseTicks:20,absorbDmg:Pn.burst[ku++],absorbTicks:15,duration:Pn.burst[ku++][0],cd:Pn.burst[ku++][0],enerCost:Pn.burst[ku++][0]},passive1:{duration:Pn.passive1[0][0]},passive3:{stam_:.2},constellation1:{dmgRatio:.33},constellation2:{res_:-.12,duration:10},constellation4:{anemo_dmg_:.25,duration:10},constellation6:{res_:-.2,duration:10}},N6=n(a.constellation,3,3),O6=n(a.constellation,5,3),F6=p(Pl.passive3.stam_),[b1,Km]=h(pi,"burstAbsorption"),[FO,j6]=h(pi,"c2"),fp=n(a.constellation,2,w(j6,{hit:p(Pl.constellation2.res_),launched:m(Pl.constellation2.res_,2)},O)),Af={...fp},[jO,G6]=h(pi,"c4"),z6=n(a.constellation,4,i(G6,"pickup",Pl.constellation4.anemo_dmg_)),[GO,Iu]=h(pi,"c6"),W6=n(a.constellation,6,i(Iu,"takeDmg",Pl.constellation6.res_)),Bf=Object.fromEntries(il.map(t=>[`${t}_enemyRes_`,n(a.constellation,6,i(Iu,"takeDmg",i(t,Km,Pl.constellation6.res_)))])),Ws={normal:Object.fromEntries(Pl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Pl.charged.aimed,"charged"),fully:o("atk",Pl.charged.fully,"charged",{hit:{ele:p(pp)}})},plunging:E("atk",Pl.plunging),skill:{press:o("atk",Pl.skill.pressDmg,"skill"),hold:o("atk",Pl.skill.holdDmg,"skill")},burst:{base:o("atk",Pl.burst.baseDmg,"burst"),absorb:j(Km,void 0,o("atk",Pl.burst.absorbDmg,"burst",{hit:{ele:Km}}))},constellation1:{aimed:n(a.constellation,1,N(m(c(Pl.constellation1.dmgRatio),$(a.total.autoIndex,Pl.charged.aimed,{unit:"%"}),a.total.atk),"charged")),fully:n(a.constellation,1,N(m(c(Pl.constellation1.dmgRatio),$(a.total.autoIndex,Pl.charged.fully,{unit:"%"}),a.total.atk),"charged",{hit:{ele:p(pp)}}))}},zO=B(pi,pp,"mondstadt",kp,Ws,{premod:{burstBoost:N6,skillBoost:O6,anemo_dmg_:z6,staminaGlidingDec_:F6},teamBuff:{premod:{anemo_enemyRes_:P(fp,W6),physical_enemyRes_:Af,...Bf}}}),WO={key:pi,name:Z.name,rarity:kp.rarity,elementKey:pp,weaponTypeKey:kp.weaponType,gender:"M",constellationName:Z.chg("constellationName"),title:Z.chg("title"),talent:{auto:Z.talentTem("auto",[{text:Z.chg("auto.fields.normal")},{fields:Pl.normal.hitArr.map((t,l)=>({node:e(Ws.normal[l],{name:Z.chg(`auto.skillParams.${l}`),multi:l===0||l===3?2:void 0})}))},{text:Z.chg("auto.fields.charged")},{fields:[{node:e(Ws.charged.aimed,{name:Z.chg("auto.skillParams.6")})},{node:e(Ws.charged.fully,{name:Z.chg("auto.skillParams.7")})}]},Z.headerTem("constellation1",{fields:[{node:e(Ws.constellation1.aimed,{name:Z.ch("addAimed")})},{node:e(Ws.constellation1.fully,{name:Z.ch("addFullAimed")})}]}),{text:Z.chg("auto.fields.plunging")},{fields:[{node:e(Ws.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ws.plunging.low,{name:s("plunging.low")})},{node:e(Ws.plunging.high,{name:s("plunging.high")})}]}]),skill:Z.talentTem("skill",[{fields:[{node:e(Ws.skill.press,{name:Z.chg("skill.skillParams.0")})},{text:Z.chg("skill.skillParams.1"),value:Pl.skill.pressCD,unit:"s"},{node:e(Ws.skill.hold,{name:Z.chg("skill.skillParams.2")})},{text:s("hold.cd"),value:Pl.skill.holdCD,unit:"s"}]},Z.headerTem("passive1",{fields:[{text:Z.ch("upcurrentDuration"),value:Pl.passive1.duration,unit:"s"}]}),Z.condTem("constellation2",{value:j6,path:FO,teamBuff:!0,name:Z.chg("constellation2.name"),states:{hit:{name:Z.ch("c2.hit"),fields:[{node:e(fp,y.info("anemo_enemyRes_"))},{node:Af}]},launched:{name:Z.ch("c2.launched"),fields:[{node:e(fp,y.info("anemo_enemyRes_"))},{node:Af}]}}})]),burst:Z.talentTem("burst",[{fields:[{node:e(Ws.burst.base,{name:Z.chg("burst.skillParams.0"),multi:Pl.burst.baseTicks})},{text:Z.chg("burst.skillParams.2"),value:Pl.burst.duration,unit:"s"},{text:Z.chg("burst.skillParams.3"),value:Pl.burst.cd,unit:"s"},{text:Z.chg("burst.skillParams.4"),value:Pl.burst.enerCost}]},Z.condTem("burst",{value:Km,path:b1,name:d("eleAbsor"),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:e(Ws.burst.absorb,{name:Z.chg("burst.skillParams.1"),multi:Pl.burst.absorbTicks})}]}]))}),Z.headerTem("passive2",{fields:[{text:Z.ch("regenEner")},{text:Z.ch("q")}]}),Z.condTem("constellation6",{value:Iu,path:GO,teamBuff:!0,name:Z.ch("c6"),states:{takeDmg:{fields:[{node:e(W6,y.info("anemo_enemyRes_"))}]}}}),Z.headerTem("constellation6",{fields:il.map(t=>({node:Bf[`${t}_enemyRes_`]})),canShow:j(Km,void 0,i(Iu,"takeDmg",i(G.charKey,pi,1)))}),Z.condTem("constellation6",{value:Km,path:b1,name:d("eleAbsor"),teamBuff:!0,canShow:i(Iu,"takeDmg",j(a.activeCharKey,pi,1)),states:Object.fromEntries(il.map(t=>[t,{name:D(yt,{color:t,children:s(`element.${t}`)}),fields:[{node:Bf[`${t}_enemyRes_`]}]}]))})]),passive1:Z.talentTem("passive1"),passive2:Z.talentTem("passive2"),passive3:Z.talentTem("passive3",[{fields:[{node:F6}]}]),constellation1:Z.talentTem("constellation1"),constellation2:Z.talentTem("constellation2"),constellation3:Z.talentTem("constellation3",[{fields:[{node:N6}]}]),constellation4:Z.talentTem("constellation4",[Z.condTem("constellation4",{value:G6,path:jO,name:d("getElementalOrbParticle"),states:{pickup:{fields:[{node:z6}]}}})]),constellation5:Z.talentTem("constellation5",[{fields:[{node:O6}]}]),constellation6:Z.talentTem("constellation6")}},UO=new R(WO,zO),Qc="Wanderer",bp="anemo",vp=_.char.data[Qc],Wa=_.char.skillParam[Qc],ee=A(Qc,vp.weaponType);let Hc=0,fu=0,Sk=0,Hg=0,wk=0;const $n={normal:{hitArr:[Wa.auto[Hc++],Wa.auto[Hc++],Wa.auto[Hc++]]},throwaway:Hc++,charged:{dmg:Wa.auto[Hc++],stamina:Wa.auto[Hc++][0]},plunging:{dmg:Wa.auto[Hc++],low:Wa.auto[Hc++],high:Wa.auto[Hc++]},skill:{dmg:Wa.skill[fu++],normal_mult:Wa.skill[fu++],charged_mult:Wa.skill[fu++],skyDwellerPoints:Wa.skill[fu++][0],cd:Wa.skill[fu++][0]},burst:{dmg:Wa.burst[Sk++],cd:Wa.burst[Sk++][0],enerCost:Wa.burst[Sk++][0]},passive1:{pyro_atk_:Wa.passive1[Hg++][0],hydro_point:Wa.passive1[Hg++][0],cryo_critRate_:Wa.passive1[Hg++][0],electro_energy:Wa.passive1[Hg++][0],electro_cd:.2},passive2:{chance_:Wa.passive2[wk++][0],chanceInc_:Wa.passive2[wk++][0],dmg:Wa.passive2[wk++][0],arrowAmt:4,cd:.1},constellation1:{atkSPD_:Wa.constellation1[0],dmg:Wa.constellation1[1]},constellation2:{burst_dmg_perPoint:Wa.constellation2[0],max_burst_dmg_:Wa.constellation2[1]},constellation6:{dmg:Wa.constellation6[0],pointRestore:Wa.constellation6[1],threshold:Wa.constellation6[2],cd:.2,maxRestoreTimes:5}},[LO,Xs]=h(Qc,"afterSkill"),If=wo(Xs,"on",$(a.total.skillIndex,$n.skill.normal_mult),St,{name:d("dmgMult.normal"),unit:"%"}),U6=wo(Xs,"on",$(a.total.skillIndex,$n.skill.charged_mult),St,{name:d("dmgMult.charged"),unit:"%"}),[qO,L6]=h(Qc,"skillPyroContact"),q6=n(a.asc,1,i(Xs,"on",i(L6,"pyro",$n.passive1.pyro_atk_))),[VO,V6]=h(Qc,"skillCryoContact"),J6=n(a.asc,1,i(Xs,"on",i(V6,"cryo",$n.passive1.cryo_critRate_))),Q6=n(a.constellation,1,i(Xs,"on",$n.constellation1.atkSPD_)),X6=n(a.constellation,1,i(Xs,"on",$n.constellation1.dmg,{name:ee.ch("c1BonusKey"),unit:"%"})),[JO,Y6]=h(Qc,"c2Points"),Z6=[5,10,15,20,25,30,35,40,45,50],tS=n(a.constellation,2,i(Xs,"on",w(Y6,Object.fromEntries(Z6.map(t=>[t,m(t,$n.constellation2.burst_dmg_perPoint)])),O))),Xi={normal:Object.fromEntries($n.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",void 0,If)])),charged:{dmg:o("atk",$n.charged.dmg,"charged",void 0,U6)},plunging:Object.fromEntries(Object.entries($n.plunging).map(([t,l])=>[t,o("atk",l,t==="dmg"?"plunging_collision":"plunging_impact")])),skill:{dmg:o("atk",$n.skill.dmg,"skill")},burst:{dmg:o("atk",$n.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,N(m(P(c($n.passive2.dmg),X6),a.total.atk),"elemental",{hit:{ele:p(bp)}}))},constellation6:Object.fromEntries($n.normal.hitArr.map((t,l)=>[l,n(a.constellation,6,i(Xs,"on",N(m($(a.total.autoIndex,t,{unit:"%"}),p($n.constellation6.dmg,{name:ee.ch("c6Key"),unit:"%"}),a.total.atk,If),"normal",{hit:{ele:p(bp)}})))]))},eS=n(a.constellation,3,3),aS=n(a.constellation,5,3),QO=B(Qc,bp,"sumeru",vp,Xi,{premod:{skillBoost:aS,burstBoost:eS,atk_:q6,critRate_:J6,atkSPD_:Q6,burst_dmg_:tS}}),XO={key:Qc,name:ee.name,rarity:vp.rarity,elementKey:bp,weaponTypeKey:vp.weaponType,gender:"M",constellationName:ee.chg("constellationName"),title:ee.chg("title"),talent:{auto:ee.talentTem("auto",[{text:ee.chg("auto.fields.normal")},{fields:$n.normal.hitArr.map((t,l)=>({node:e(Xi.normal[l],{name:ee.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))},ee.headerTem("constellation6",{canShow:i(Xs,"on",1),fields:$n.normal.hitArr.map((t,l)=>({node:e(Xi.constellation6[l],{name:ee.chg(`auto.skillParams.${l}`),multi:l===2?2:void 0})}))}),{text:ee.chg("auto.fields.charged")},{fields:[{node:e(Xi.charged.dmg,{name:ee.chg("auto.skillParams.3")})},{text:ee.chg("auto.skillParams.4"),value:$n.charged.stamina}]},{text:ee.chg("auto.fields.plunging")},{fields:[{node:e(Xi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Xi.plunging.low,{name:s("plunging.low")})},{node:e(Xi.plunging.high,{name:s("plunging.high")})}]}]),skill:ee.talentTem("skill",[{fields:[{node:e(Xi.skill.dmg,{name:ee.chg("skill.skillParams.0")})},{text:ee.chg("skill.skillParams.3"),value:$n.skill.skyDwellerPoints},{text:s("cd"),value:$n.skill.cd,unit:"s"}]},ee.condTem("skill",{path:LO,value:Xs,name:ee.ch("windfavoredState"),states:{on:{fields:[{node:If},{node:U6}]}}}),ee.condTem("passive1",{canShow:i(Xs,"on",1),states:{pyro:{path:qO,value:L6,name:ee.ch("p1.pyroCondName"),fields:[{node:q6}]},cryo:{path:VO,value:V6,name:ee.ch("p1.cryoCondName"),fields:[{node:J6}]}}}),ee.headerTem("constellation1",{canShow:i(Xs,"on",1),fields:[{node:Q6}]})]),burst:ee.talentTem("burst",[{fields:[{node:e(Xi.burst.dmg,{name:ee.chg("burst.skillParams.0"),multi:5})},{text:s("cd"),value:$n.burst.cd,unit:"s"},{text:s("energyCost"),value:$n.burst.enerCost}]},ee.condTem("constellation2",{path:JO,value:Y6,canShow:i(Xs,"on",1),name:ee.ch("c2CondName"),states:Object.fromEntries(Z6.map(t=>[t,{name:t.toString(),fields:[{node:tS}]}]))})]),passive1:ee.talentTem("passive1"),passive2:ee.talentTem("passive2",[ee.fieldsTem("passive2",{fields:[{node:e(Xi.passive2.dmg,{name:ee.ch("p2Dmg")})}]}),ee.headerTem("constellation1",{canShow:n(a.asc,4,1),fields:[{node:X6}]})]),passive3:ee.talentTem("passive3"),constellation1:ee.talentTem("constellation1"),constellation2:ee.talentTem("constellation2"),constellation3:ee.talentTem("constellation3",[{fields:[{node:eS}]}]),constellation4:ee.talentTem("constellation4"),constellation5:ee.talentTem("constellation5",[{fields:[{node:aS}]}]),constellation6:ee.talentTem("constellation6")}},YO=new R(XO,QO),qm="Wriothesley",Hd=_.char.data[qm],Pe=_.char.skillParam[qm],he=A(qm,Hd.weaponType);let Ni=-1,Eg=0,bu=0;const Cl={normal:{hitArr:[Pe.auto[++Ni],Pe.auto[++Ni],Pe.auto[++Ni],Pe.auto[Ni+=2],Pe.auto[++Ni]]},charged:{dmg:Pe.auto[++Ni],stam:Pe.auto[++Ni][0]},plunging:{dmg:Pe.auto[++Ni],low:Pe.auto[++Ni],high:Pe.auto[++Ni]},skill:{fistDmg:Pe.skill[Eg++],hpCost:Pe.skill[Eg++][0],duration:Pe.skill[Eg++][0],cd:Pe.skill[Eg++][0]},burst:{skillDmg:Pe.burst[bu++],bladeDmg:Pe.burst[bu++],cd:Pe.burst[bu++][0],enerCost:Pe.burst[bu++][0],bladeCd:Pe.burst[bu++][0]},passive1:{hpThresh:Pe.passive1[0][0],dmg_:Pe.passive1[1][0],hpRestore:Pe.passive1[2][0],cd:Pe.passive1[3][0]},passive2:{atk_:Pe.passive2[0][0],maxStacks:Pe.passive2[1][0]},constellation1:{cd:Pe.constellation1[0],dmg_:Pe.constellation1[1],durationInc:Pe.constellation1[2]},constellation2:{dmg_:Pe.constellation2[0]},constellation4:{selfAtkSPD_:Pe.constellation4[0],selfDuration:Pe.constellation4[1],teamAtkSPD_:Pe.constellation4[2],teamDuration:Pe.constellation4[3],heal:Pe.constellation4[4]},constellation6:{skill_critRate_:Pe.constellation6[0],skill_critDMG_:Pe.constellation6[1],icicle_dmg_:Pe.constellation6[2]}},ZO=n(a.asc,1,Cl.passive1.dmg_,{unit:"%"}),[tF,_p]=h(qm,"a4EdictStacks"),xv=At(1,Cl.passive2.maxStacks),lS=n(a.asc,4,w(_p,C(xv,t=>c(t*Cl.passive2.atk_)),O)),nS=n(a.constellation,1,Cl.constellation1.dmg_),eF=P(ZO,nS),sS=n(a.constellation,2,n(a.asc,4,w(_p,C(xv,t=>c(t*Cl.constellation2.dmg_)),O))),oS=n(a.constellation,6,Cl.constellation6.skill_critRate_),iS=n(a.constellation,6,Cl.constellation6.skill_critDMG_),v1=n(a.asc,1,o("atk",Cl.charged.dmg,"charged",{premod:{charged_critRate_:oS,charged_critDMG_:iS,charged_dmg_:eF}})),Us={normal:{...Object.fromEntries(Cl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",Cl.charged.dmg,"charged"),rebukeDmg:v1},plunging:E("atk",Cl.plunging),skill:{...Object.fromEntries(Cl.normal.hitArr.map((t,l)=>[`enhanced_${l}`,o("atk",t,"normal",void 0,$(a.total.skillIndex,Cl.skill.fistDmg,{unit:"%"}))])),hpCost:m(c(Cl.skill.hpCost),a.total.hp)},burst:{skillDmg:o("atk",Cl.burst.skillDmg,"burst"),bladeDmg:o("atk",Cl.burst.bladeDmg,"burst")},passive1:{heal:Wn("hp",vr(a.constellation,4,Cl.constellation4.heal+Cl.passive1.hpRestore,Cl.passive1.hpRestore),0)},constellation6:{icicleDmg:n(a.constellation,6,{...v1})}},cS=n(a.constellation,3,3),rS=n(a.constellation,5,3),aF=B(qm,Hd.ele,Hd.region,Hd,Us,{premod:{burstBoost:rS,autoBoost:cS,atk_:lS,burst_dmg_:sS}}),lF={key:qm,name:he.name,rarity:Hd.rarity,elementKey:Hd.ele,weaponTypeKey:Hd.weaponType,gender:"M",constellationName:he.chg("constellationName"),title:he.chg("title"),talent:{auto:he.talentTem("auto",[{text:he.chg("auto.fields.normal")},{fields:Cl.normal.hitArr.map((t,l)=>({node:e(Us.normal[l],{name:he.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},{text:he.chg("auto.fields.charged")},{fields:[{node:e(Us.charged.dmg,{name:he.chg("auto.skillParams.5")})},{text:he.chg("auto.skillParams.6"),value:Cl.charged.stam}]},he.headerTem("passive1",{fields:[{node:e(Us.charged.rebukeDmg,{name:he.ch("rebukeDmg")})},{node:e(Us.passive1.heal,{name:s("healing")})}]}),he.headerTem("constellation1",{fields:[{node:e(nS,{name:he.ch("rebuke_dmg_"),unit:"%"})}]}),he.headerTem("constellation6",{fields:[{node:e(Us.constellation6.icicleDmg,{name:he.ch("icicleDmg")})},{node:e(oS,{name:he.ch("rebuke_critRate_"),unit:"%"})},{node:e(iS,{name:he.ch("rebuke_critDMG_"),unit:"%"})}]}),{text:he.chg("auto.fields.plunging")},{fields:[{node:e(Us.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Us.plunging.low,{name:s("plunging.low")})},{node:e(Us.plunging.high,{name:s("plunging.high")})}]}]),skill:he.talentTem("skill",[{fields:[{node:e(Us.skill.hpCost,{name:he.chg("skill.skillParams.1")})},...Cl.normal.hitArr.map((t,l)=>({node:e(Us.skill[`enhanced_${l}`],{name:he.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})})),{text:s("duration"),value:Cl.skill.duration,unit:"s"},{text:s("cd"),value:Cl.skill.cd,unit:"s"}]}]),burst:he.talentTem("burst",[{fields:[{node:e(Us.burst.skillDmg,{name:he.chg("burst.skillParams.0"),multi:5})},{node:e(Us.burst.bladeDmg,{name:he.chg("burst.skillParams.1")})},{text:he.chg("burst.skillParams.2"),value:Cl.burst.cd,unit:"s"},{text:he.chg("burst.skillParams.3"),value:Cl.burst.bladeCd,unit:"s"},{text:s("energyCost"),value:Cl.burst.enerCost}]}]),passive1:he.talentTem("passive1"),passive2:he.talentTem("passive2",[he.condTem("passive2",{value:_p,path:tF,name:he.ch("a4Cond"),states:C(xv,t=>({name:d("stack",{count:t}),fields:[{node:lS}]}))}),he.headerTem("constellation2",{canShow:j(_p,void 0,1),fields:[{node:sS}]})]),passive3:he.talentTem("passive3"),constellation1:he.talentTem("constellation1"),constellation2:he.talentTem("constellation2"),constellation3:he.talentTem("constellation3",[{fields:[{node:cS}]}]),constellation4:he.talentTem("constellation4"),constellation5:he.talentTem("constellation5",[{fields:[{node:rS}]}]),constellation6:he.talentTem("constellation6")}},nF=new R(lF,aF),Ur="Xiangling",Pv="pyro",yp=_.char.data[Ur],pl=_.char.skillParam[Ur],De=A(Ur,yp.weaponType);let Oi=0,_1=0,pd=0,y1=0;const fl={normal:{hitArr:[pl.auto[Oi++],pl.auto[Oi++],pl.auto[Oi++],pl.auto[Oi++],pl.auto[Oi++]]},charged:{dmg1:pl.auto[Oi++],stamina:pl.auto[Oi++][0]},plunging:{dmg:pl.auto[Oi++],low:pl.auto[Oi++],high:pl.auto[Oi++]},skill:{press:pl.skill[_1++],cd:pl.skill[_1++][0]},burst:{dmg1:pl.burst[pd++],dmg2:pl.burst[pd++],dmg3:pl.burst[pd++],dmgNado:pl.burst[pd++],duration:pl.burst[pd++][0],cd:pl.burst[pd++][0],enerCost:pl.burst[pd++][0]},passive2:{atk_bonus:pl.passive2[y1++][0],duration:pl.passive2[y1++][0]},constellation1:{pyroRes:pl.constellation1[0],duration:pl.constellation1[1]},constellation2:{duration1:pl.constellation2[0],duration2:pl.constellation2[1],dmg:pl.constellation2[2]},constellation4:{durationInc:pl.constellation4[0]},constellation6:{pyroDmg:pl.constellation6[0]}},[sF,dS]=h(Ur,"afterChili"),mS=n(a.asc,4,i("afterChili",dS,c(fl.passive2.atk_bonus))),[oF,uS]=h(Ur,"afterGuobaHit"),gS=n(a.constellation,1,i("afterGuobaHit",uS,c(-fl.constellation1.pyroRes))),[iF,Rf]=h(Ur,"afterPyronado"),Dv=n(a.constellation,6,i("duringPyronado",Rf,c(fl.constellation6.pyroDmg))),Ak=m(Dv,-1),To={normal:Object.fromEntries(fl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",fl.charged.dmg1,"charged")},plunging:E("atk",fl.plunging),skill:{press:o("atk",fl.skill.press,"skill")},burst:{dmg1:o("atk",fl.burst.dmg1,"burst",{premod:{pyro_dmg_:Ak}}),dmg2:o("atk",fl.burst.dmg2,"burst",{premod:{pyro_dmg_:Ak}}),dmg3:o("atk",fl.burst.dmg3,"burst"),dmgNado:o("atk",fl.burst.dmgNado,"burst",{premod:{pyro_dmg_:Ak}})},constellation2:{dmg:n(a.constellation,2,N(m(a.total.atk,c(fl.constellation2.dmg)),"elemental",{hit:{ele:p(Pv)}}))}},hS=n(a.constellation,3,3),pS=n(a.constellation,5,3),cF=B(Ur,Pv,"liyue",yp,To,{premod:{skillBoost:pS,burstBoost:hS},teamBuff:{premod:{atk_:mS,pyro_dmg_:Dv,pyro_enemyRes_:gS}}}),rF={key:Ur,name:De.name,rarity:yp.rarity,elementKey:Pv,weaponTypeKey:yp.weaponType,gender:"F",constellationName:De.chg("constellationName"),title:De.chg("title"),talent:{auto:De.talentTem("auto",[{text:De.chg("auto.fields.normal")},{fields:fl.normal.hitArr.map((t,l)=>({node:e(To.normal[l],{name:De.chg(`auto.skillParams.${l}`),multi:l===2?2:l===3?4:void 0})}))},{text:De.chg("auto.fields.charged")},{fields:[{node:e(To.charged.dmg1,{name:De.chg("auto.skillParams.5")})},{text:De.chg("auto.skillParams.6"),value:fl.charged.stamina}]},{text:De.chg("auto.fields.plunging")},{fields:[{node:e(To.plunging.dmg,{name:s("plunging.dmg")})},{node:e(To.plunging.low,{name:s("plunging.low")})},{node:e(To.plunging.high,{name:s("plunging.high")})}]}]),skill:De.talentTem("skill",[{fields:[{node:e(To.skill.press,{name:De.chg("skill.skillParams.0")})},{text:De.chg("skill.skillParams.1"),value:fl.skill.cd,unit:"s"}]},De.condTem("passive2",{value:dS,path:sF,name:De.ch("afterChili"),teamBuff:!0,states:{afterChili:{fields:[{node:mS},{text:s("duration"),value:fl.passive2.duration,unit:"s"}]}}}),De.condTem("constellation1",{value:uS,path:oF,name:De.ch("afterGuobaHit"),teamBuff:!0,states:{afterGuobaHit:{fields:[{node:gS},{text:s("duration"),value:fl.constellation1.duration,unit:"s"}]}}})]),burst:De.talentTem("burst",[{fields:[{node:e(To.burst.dmg1,{name:De.chg("burst.skillParams.0")})},{node:e(To.burst.dmg2,{name:De.chg("burst.skillParams.1")})},{node:e(To.burst.dmg3,{name:De.chg("burst.skillParams.2")})},{node:e(To.burst.dmgNado,{name:De.chg("burst.skillParams.3")})},{text:s("duration"),value:t=>t.get(a.constellation).value>=4?`${fl.burst.duration}s + ${fl.burst.duration*fl.constellation4.durationInc}s = ${fl.burst.duration*(1+fl.constellation4.durationInc)}`:fl.burst.duration,unit:"s"},{text:s("cd"),value:fl.burst.cd,unit:"s"},{text:s("energyCost"),value:fl.burst.enerCost}]},De.headerTem("constellation4",{fields:[{text:d("durationInc"),value:fl.burst.duration*fl.constellation4.durationInc,unit:"s"}]}),De.condTem("constellation6",{value:Rf,path:iF,name:De.ch("duringPyronado"),teamBuff:!0,states:{duringPyronado:{fields:[{node:Dv},{text:De.ch("c6Exception"),canShow:t=>t.get(a.constellation).value>=6&&t.get(Rf).value==="duringPyronado"}]}}})]),passive1:De.talentTem("passive1"),passive2:De.talentTem("passive2"),passive3:De.talentTem("passive3"),constellation1:De.talentTem("constellation1"),constellation2:De.talentTem("constellation2",[De.fieldsTem("constellation2",{fields:[{value:fl.constellation2.dmg,node:e(To.constellation2.dmg,{name:De.ch("explosionDMG")})}]})]),constellation3:De.talentTem("constellation3",[{fields:[{node:hS}]}]),constellation4:De.talentTem("constellation4"),constellation5:De.talentTem("constellation5",[{fields:[{node:pS}]}]),constellation6:De.talentTem("constellation6")}},dF=new R(rF,cF),Xc="Xianyun",Ed=_.char.data[Xc],ut=_.char.skillParam[Xc],vt=A(Xc,Ed.weaponType);let Ec=0,vu=0,Xo=0;const _a={normal:{hitArr:[ut.auto[Ec++],ut.auto[Ec++],ut.auto[Ec++],ut.auto[Ec++]]},charged:{dmg:ut.auto[Ec++],stam:ut.auto[Ec++][0]},plunging:{dmg:ut.auto[Ec++],low:ut.auto[Ec++],high:ut.auto[Ec++]},skill:{trailDmg:ut.skill[vu++],firstLeapDmg:ut.skill[vu++],secondLeapDmg:ut.skill[vu++],thirdLeapDmg:ut.skill[vu++],cd:ut.skill[vu++][0]},burst:{instantDmg:ut.burst[Xo++],coordinatedDmg:ut.burst[Xo++],instantHealFlat:ut.burst[Xo++],instantHealMult:ut.burst[Xo++],deviceHealFlat:ut.burst[Xo++],deviceHealMult:ut.burst[Xo++],deviceHealInterval:ut.burst[Xo++][0],dmgTriggers:ut.burst[Xo++][0],duration:ut.burst[Xo++][0],cd:ut.burst[Xo++][0],enerCost:ut.burst[Xo++][0]},passive1:{critRate:[ut.passive1[0][0],ut.passive1[1][0],ut.passive1[2][0],ut.passive1[3][0]],duration:ut.passive1[4][0]},passive2:{plunging_dmg_inc:ut.passive2[0][0],maxAtk:ut.passive2[1][0],triggerInterval:ut.passive2[2][0]},constellation2:{atk_:ut.constellation2[0],duration:ut.constellation2[1],plunging_dmg_inc_mult:ut.constellation2[2]},constellation4:{heal1:ut.constellation4[0],heal2:ut.constellation4[1],heal3:ut.constellation4[2],cd:ut.constellation4[3]},constellation6:{skill_critDMG_:[ut.constellation6[0],ut.constellation6[1],ut.constellation6[2]],cd:ut.constellation6[3]}},kS=At(1,4),[mF,fS]=h(Xc,"a1Stacks"),bS=n(a.asc,1,w(fS,C(kS,t=>c(_a.passive1.critRate[t-1])),O)),[uF,vS]=h(Xc,"a4HasStacks"),_S=n(a.asc,4,i(vS,"on",m(m(vr(a.constellation,2,c((1+_a.constellation2.plunging_dmg_inc_mult)*_a.passive2.plunging_dmg_inc),c(_a.passive2.plunging_dmg_inc)),Il(a.total.atk,p(_a.passive2.maxAtk)))))),[gF,yS]=h(Xc,"c2AfterSkill"),TS=n(a.constellation,2,i(yS,"on",_a.constellation2.atk_)),$S=At(1,3),[hF,xS]=h(Xc,"c6SkyladderUses"),PS=n(a.constellation,6,w(xS,C($S,t=>c(_a.constellation6.skill_critDMG_[t-1])),O)),Bk=t=>N(m($(a.total.skillIndex,t,{unit:"%"}),a.total.atk),"plunging_impact",{premod:{plunging_critDMG_:PS}}),Vn={normal:{...Object.fromEntries(_a.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")]))},charged:{dmg:o("atk",_a.charged.dmg,"charged")},plunging:E("atk",_a.plunging),skill:{trailDmg:o("atk",_a.skill.trailDmg,"skill"),firstLeapDmg:Bk(_a.skill.firstLeapDmg),secondLeapDmg:Bk(_a.skill.secondLeapDmg),thirdLeapDmg:Bk(_a.skill.thirdLeapDmg)},burst:{instantDmg:o("atk",_a.burst.instantDmg,"burst"),coordinatedDmg:o("atk",_a.burst.coordinatedDmg,"burst"),instantHeal:cl("atk",_a.burst.instantHealMult,_a.burst.instantHealFlat,"burst"),deviceHeal:cl("atk",_a.burst.deviceHealMult,_a.burst.deviceHealFlat,"burst")},passive2:{a4HasStacks_plunging_dmg_inc:_S},constellation4:{heal1:n(a.constellation,4,Wn("atk",c(_a.constellation4.heal1),0)),heal2:n(a.constellation,4,Wn("atk",c(_a.constellation4.heal2),0)),heal3:n(a.constellation,4,Wn("atk",c(_a.constellation4.heal3),0))}},DS=n(a.constellation,3,3),CS=n(a.constellation,5,3),pF=B(Xc,Ed.ele,Ed.region,Ed,Vn,{premod:{skillBoost:CS,burstBoost:DS,atk_:TS},teamBuff:{premod:{plunging_impact_dmgInc:_S,plunging_critRate_:bS}}}),kF={key:Xc,name:vt.name,rarity:Ed.rarity,elementKey:Ed.ele,weaponTypeKey:Ed.weaponType,gender:"F",constellationName:vt.chg("constellationName"),title:vt.chg("title"),talent:{auto:vt.talentTem("auto",[{text:vt.chg("auto.fields.normal")},{fields:_a.normal.hitArr.map((t,l)=>({node:e(Vn.normal[l],{name:vt.chg(`auto.skillParams.${l}`)})}))},{text:vt.chg("auto.fields.charged")},{fields:[{node:e(Vn.charged.dmg,{name:vt.chg("auto.skillParams.4")})},{text:vt.chg("auto.skillParams.5"),value:_a.charged.stam}]},{text:vt.chg("auto.fields.plunging")},{fields:[{node:e(Vn.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Vn.plunging.low,{name:s("plunging.low")})},{node:e(Vn.plunging.high,{name:s("plunging.high")})}]}]),skill:vt.talentTem("skill",[{fields:[{node:e(Vn.skill.trailDmg,{name:vt.chg("skill.skillParams.0")})},{node:e(Vn.skill.firstLeapDmg,{name:vt.chg("skill.skillParams.1"),textSuffix:"(1)"})},{node:e(Vn.skill.secondLeapDmg,{name:vt.chg("skill.skillParams.1"),textSuffix:"(2)"})},{node:e(Vn.skill.thirdLeapDmg,{name:vt.chg("skill.skillParams.1"),textSuffix:"(3)"})},{text:s("cd"),value:_a.skill.cd,unit:"s"}]},vt.condTem("constellation2",{value:yS,path:gF,teamBuff:!0,name:d("afterUse.skill"),states:{on:{fields:[{node:TS},{text:s("duration"),value:_a.constellation2.duration,unit:"s"}]}}}),vt.condTem("constellation6",{path:hF,value:xS,name:vt.ch("c6Cond"),states:C($S,t=>({name:`${t}`,fields:[{node:e(PS,{name:vt.ch("wave_critDMG_"),unit:"%"})}]}))})]),burst:vt.talentTem("burst",[{fields:[{node:e(Vn.burst.instantDmg,{name:vt.chg("burst.skillParams.0")})},{node:e(Vn.burst.coordinatedDmg,{name:vt.chg("burst.skillParams.1")})},{node:e(Vn.burst.instantHeal,{name:vt.chg("burst.skillParams.2")})},{node:e(Vn.burst.deviceHeal,{name:vt.chg("burst.skillParams.3")})},{text:vt.chg("burst.skillParams.4"),value:_a.burst.deviceHealInterval,unit:"s",fixed:1},{text:vt.chg("burst.skillParams.5"),value:_a.burst.duration,unit:"s"},{text:s("cd"),value:_a.burst.cd,unit:"s"},{text:s("energyCost"),value:_a.burst.enerCost}]},vt.condTem("passive2",{value:vS,path:uF,teamBuff:!0,name:vt.ch("a4Cond"),states:{on:{fields:[{node:Vn.passive2.a4HasStacks_plunging_dmg_inc}]}}})]),passive1:vt.talentTem("passive1",[vt.condTem("passive1",{value:fS,path:mF,teamBuff:!0,name:vt.ch("a1Cond"),states:C(kS,t=>({name:d("stack",{count:t}),fields:[{node:bS},{text:s("duration"),value:_a.passive1.duration,unit:"s"}]}))})]),passive2:vt.talentTem("passive2"),passive3:vt.talentTem("passive3"),constellation1:vt.talentTem("constellation1"),constellation2:vt.talentTem("constellation2"),constellation3:vt.talentTem("constellation3",[{fields:[{node:DS}]}]),constellation4:vt.talentTem("constellation4",[vt.fieldsTem("constellation4",{fields:[{node:e(Vn.constellation4.heal1,{name:vt.ch("c4Heal"),textSuffix:"(1)"})},{node:e(Vn.constellation4.heal2,{name:vt.ch("c4Heal"),textSuffix:"(2)"})},{node:e(Vn.constellation4.heal3,{name:vt.ch("c4Heal"),textSuffix:"(3)"})}]})]),constellation5:vt.talentTem("constellation5",[{fields:[{node:CS}]}]),constellation6:vt.talentTem("constellation6")}},fF=new R(kF,pF),dc="Xiao",Cv="anemo",Tp=_.char.data[dc],Ml=_.char.skillParam[dc],Je=A(dc,Tp.weaponType);let T1=0,_u=0;const Qn={normal:{hitArr:[Ml.auto[0],Ml.auto[2],Ml.auto[3],Ml.auto[4],Ml.auto[6],Ml.auto[7]]},charged:{dmg1:Ml.auto[8],stamina:Ml.auto[9][0]},plunging:{dmg:Ml.auto[10],low:Ml.auto[11],high:Ml.auto[12]},skill:{press:Ml.skill[T1++],cd:Ml.skill[T1++][0]},burst:{dmgBonus:Ml.burst[_u++],drain:Ml.burst[_u++],duration:Ml.burst[_u++][0],cd:Ml.burst[_u++][0],enerCost:Ml.burst[_u++][0]},passive1:{dmgBonus:Ml.passive1[0][0]},passive2:{duration:Ml.passive2[0][0],skillDmgBonus:Ml.passive2[1][0],maxStacks:Ml.passive2[2][0]},passive3:{staminaClimbingDec_:.2},constellation2:{enerRech_:Ml.constellation2[0]},constellation4:{hpThresh:Ml.constellation4[0],def_:Ml.constellation4[1]},constellation6:{duration:Ml.constellation6[0]}},kd={normal:Object.fromEntries(Qn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",Qn.charged.dmg1,"charged")},plunging:E("atk",Qn.plunging),skill:{press:o("atk",Qn.skill.press,"skill")}},SS=n(a.constellation,3,3),wS=n(a.constellation,5,3),[bF,Nu]=h(dc,"inBurst"),vF=$(a.total.burstIndex,Qn.burst.dmgBonus,{unit:"%"}),Lp=i("inBurst",Nu,vF,{unit:"%"}),AS={...Lp},BS={...Lp},_F=$(a.total.burstIndex,Qn.burst.drain),yF=dn("inBurst",Nu,Cv),[TF,IS]=h(dc,"a1BurstStack"),RS=rl(0,4),MS=n(a.asc,1,i("inBurst",Nu,w(IS,Object.fromEntries(RS.map(t=>[t,m(Qn.passive1.dmgBonus,t+1)])),O))),[$F,HS]=h(dc,"a4SkillStack"),ES=rl(1,Qn.passive2.maxStacks),KS=n(a.asc,4,w(HS,Object.fromEntries(ES.map(t=>[t,m(Qn.passive2.skillDmgBonus,t)])),O)),[xF,NS]=h(dc,"offField"),OS=n(a.constellation,2,i(NS,"on",Qn.constellation2.enerRech_)),[PF,FS]=h(dc,"c4BelowHP"),jS=n(a.constellation,4,i("c4BelowHP",FS,Qn.constellation4.def_)),DF=B(dc,Cv,"liyue",Tp,kd,{premod:{skillBoost:SS,burstBoost:wS,normal_dmg_:Lp,charged_dmg_:AS,plunging_dmg_:BS,all_dmg_:MS,skill_dmg_:KS,enerRech_:OS,def_:jS},infusion:{nonOverridableSelf:yF}}),CF={key:dc,name:Je.name,rarity:Tp.rarity,elementKey:Cv,weaponTypeKey:Tp.weaponType,gender:"M",constellationName:Je.chg("constellationName"),title:Je.chg("title"),talent:{auto:Je.talentTem("auto",[{text:Je.chg("auto.fields.normal")},{fields:Qn.normal.hitArr.map((t,l)=>({node:e(kd.normal[l],{name:Je.chg(`auto.skillParams.${l}`),multi:l===0?2:void 0})}))},{text:Je.chg("auto.fields.charged")},{fields:[{node:e(kd.charged.dmg1,{name:Je.chg("auto.skillParams.6")})},{text:Je.chg("auto.skillParams.7"),value:Qn.charged.stamina}]},{text:Je.chg("auto.fields.plunging")},{fields:[{node:e(kd.plunging.dmg,{name:s("plunging.dmg")})},{node:e(kd.plunging.low,{name:s("plunging.low")})},{node:e(kd.plunging.high,{name:s("plunging.high")})}]}]),skill:Je.talentTem("skill",[{fields:[{node:e(kd.skill.press,{name:Je.chg("skill.skillParams.0")})},{text:Je.chg("skill.skillParams.1"),value:Qn.skill.cd,unit:"s"},{text:d("charges"),value:t=>t.get(a.constellation).value>=1?3:2}]},Je.condTem("passive2",{path:$F,value:HS,name:Je.ch("skillStack"),states:Object.fromEntries(ES.map(t=>[t,{name:d("uses",{count:t}),fields:[{node:KS}]}]))})]),burst:Je.talentTem("burst",[{fields:[{text:s("cd"),value:Qn.burst.cd,unit:"s"},{text:s("energyCost"),value:Qn.burst.enerCost}]},Je.condTem("burst",{path:bF,value:Nu,name:Je.ch("burst.inBurst"),states:{inBurst:{fields:[{text:D(yt,{color:"anemo",children:d("infusion.anemo")})},{node:Lp},{node:AS},{node:BS},{text:d("attackAoeInc")},{text:Je.ch("burst.incJump")},{node:e(_F,{name:Je.ch("burst.lifeDrain_"),textSuffix:Je.ch("burst.currentHPPerSec"),unit:"%"})},{text:s("duration"),value:Qn.burst.duration,unit:"s"}]}}}),Je.condTem("passive1",{path:TF,value:IS,name:Je.ch("burst.stack"),canShow:i("inBurst",Nu,1),states:Object.fromEntries(RS.map(t=>[t,{name:d("seconds",{count:t*3}),fields:[{node:MS}]}]))})]),passive1:Je.talentTem("passive1"),passive2:Je.talentTem("passive2"),passive3:Je.talentTem("passive3"),constellation1:Je.talentTem("constellation1",[Je.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Je.talentTem("constellation2",[Je.condTem("constellation2",{value:NS,path:xF,name:d("charOffField"),states:{on:{fields:[{node:OS}]}}})]),constellation3:Je.talentTem("constellation3",[{fields:[{node:SS}]}]),constellation4:Je.talentTem("constellation4",[Je.condTem("constellation4",{path:PF,value:FS,name:d("lessPercentHP",{percent:Qn.constellation4.hpThresh*100}),states:{c4BelowHP:{fields:[{node:jS}]}}})]),constellation5:Je.talentTem("constellation5",[{fields:[{node:wS}]}]),constellation6:Je.talentTem("constellation6")}},SF=new R(CF,DF),Lr="Xingqiu",Sv="hydro",$p=_.char.data[Lr],An=_.char.skillParam[Lr],pe=A(Lr,$p.weaponType);let yu=0,Kg=0;const vn={normal:{hitArr:[An.auto[0],An.auto[1],An.auto[2],An.auto[4],An.auto[5]]},charged:{hit1:An.auto[7],hit2:An.auto[8],stamina:An.auto[9][0]},plunging:{dmg:An.auto[10],low:An.auto[11],high:An.auto[12]},skill:{hit1:An.skill[yu++],hit2:An.skill[yu++],dmgRed_:An.skill[yu++],duration:An.skill[yu++][0],cd:An.skill[yu++][0]},burst:{dmg:An.burst[Kg++],duration:An.burst[Kg++][0],cd:An.burst[Kg++][0],cost:An.burst[Kg++][0]},passive2:{hydro_dmg_:.2},constellation2:{hydro_enemyRes_:-.15,burst_duration:3},constellation4:{dmg_:1.5}},GS=n(a.asc,4,vn.passive2.hydro_dmg_),[wF,zS]=h(Lr,"c2"),WS=n(a.constellation,2,i(zS,"on",vn.constellation2.hydro_enemyRes_)),[AF,US]=h(Lr,"skill"),[BF,LS]=h(Lr,"burst"),Mf=wo(n(a.constellation,4,i(LS,"on",1)),1,vn.constellation4.dmg_,St,{name:d("dmgMult.skill"),unit:"%"}),qS=i(US,"on",P($(a.total.skillIndex,vn.skill.dmgRed_,{unit:"%"}),Il(c(.24),m(c(.2),a.premod.hydro_dmg_)))),IF=zn(n(a.asc,1,m(a.total.hp,c(.06)))),$o={normal:Object.fromEntries(vn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg1:o("atk",vn.charged.hit1,"charged"),dmg2:o("atk",vn.charged.hit2,"charged")},plunging:E("atk",vn.plunging),skill:{press1:o("atk",vn.skill.hit1,"skill",void 0,Mf),press2:o("atk",vn.skill.hit2,"skill",void 0,Mf),dmgRed_:qS},passive1:{healing:IF},burst:{dmg:o("atk",vn.burst.dmg,"burst",{hit:{ele:p(Sv)}})}},VS=n(a.constellation,3,3),JS=n(a.constellation,5,3),RF=B(Lr,Sv,"liyue",$p,$o,{premod:{skillBoost:JS,burstBoost:VS,hydro_dmg_:GS},teamBuff:{premod:{hydro_enemyRes_:WS,dmgRed_:e(qS,y.info("dmgRed_"))}}}),MF={key:Lr,name:pe.name,rarity:$p.rarity,elementKey:Sv,weaponTypeKey:$p.weaponType,gender:"M",constellationName:pe.chg("constellationName"),title:pe.chg("title"),talent:{auto:pe.talentTem("auto",[{text:pe.chg("auto.fields.normal")},{fields:vn.normal.hitArr.map((t,l)=>({node:e($o.normal[l],{name:pe.chg(`auto.skillParams.${l}`),multi:l===2||l===4?2:void 0})}))},{text:pe.chg("auto.fields.charged")},{fields:[{node:e($o.charged.dmg1,{name:pe.chg("auto.skillParams.5"),textSuffix:"(1)"})},{node:e($o.charged.dmg2,{name:pe.chg("auto.skillParams.5"),textSuffix:"(2)"})},{text:pe.chg("auto.skillParams.6"),value:vn.charged.stamina}]},{text:pe.chg("auto.fields.plunging")},{fields:[{node:e($o.plunging.dmg,{name:s("plunging.dmg")})},{node:e($o.plunging.low,{name:s("plunging.low")})},{node:e($o.plunging.high,{name:s("plunging.high")})}]}]),skill:pe.talentTem("skill",[{fields:[{node:e($o.skill.press1,{name:pe.chg("skill.skillParams.0"),textSuffix:"(1)"})},{node:e($o.skill.press2,{name:pe.chg("skill.skillParams.0"),textSuffix:"(2)"})},{text:pe.chg("skill.skillParams.2"),value:vn.skill.duration,unit:"s"},{text:pe.chg("skill.skillParams.3"),value:vn.skill.cd,unit:"s"}]},pe.condTem("skill",{teamBuff:!0,value:US,path:AF,name:pe.ch("skillCond"),states:{on:{fields:[{node:$o.skill.dmgRed_}]}}})]),burst:pe.talentTem("burst",[{fields:[{node:e($o.burst.dmg,{name:pe.chg("burst.skillParams.0")})},{text:pe.chg("burst.skillParams.1"),value:t=>t.get(a.constellation).value>=2?`${vn.burst.duration}s + ${vn.constellation2.burst_duration}s = ${vn.burst.duration+vn.constellation2.burst_duration}`:`${vn.burst.duration}`,unit:"s"},{text:pe.chg("burst.skillParams.2"),value:vn.burst.cd,unit:"s"},{text:pe.chg("burst.skillParams.3"),value:vn.burst.cost}]},pe.condTem("constellation4",{value:LS,path:BF,name:pe.ch("burstCond"),states:{on:{fields:[{node:Mf}]}}})]),passive1:pe.talentTem("passive1",[pe.fieldsTem("passive1",{fields:[{node:e($o.passive1.healing,{name:s("healing")})}]})]),passive2:pe.talentTem("passive2",[pe.fieldsTem("passive2",{fields:[{node:GS}]})]),passive3:pe.talentTem("passive3"),constellation1:pe.talentTem("constellation1"),constellation2:pe.talentTem("constellation2",[pe.condTem("constellation2",{value:zS,path:wF,teamBuff:!0,name:pe.ch("c2Cond"),states:{on:{fields:[{node:WS}]}}})]),constellation3:pe.talentTem("constellation3",[{fields:[{node:VS}]}]),constellation4:pe.talentTem("constellation4"),constellation5:pe.talentTem("constellation5",[{fields:[{node:JS}]}]),constellation6:pe.talentTem("constellation6")}},HF=new R(MF,RF),Yc="Xinyan",wv="pyro",xp=_.char.data[Yc],Qe=_.char.skillParam[Yc],at=A(Yc,xp.weaponType);let Yo=0,Fi=0,Tu=0;const Fl={normal:{hitArr:[Qe.auto[Yo++],Qe.auto[Yo++],Qe.auto[Yo++],Qe.auto[Yo++]]},charged:{spin:Qe.auto[Yo++],final:Qe.auto[Yo++],stamina:Qe.auto[Yo++][0],duration:Qe.auto[Yo++][0]},plunging:{dmg:Qe.auto[Yo++],low:Qe.auto[Yo++],high:Qe.auto[Yo++]},skill:{dmg:Qe.skill[Fi++],shieldArr:[{defShield_:Qe.skill[Fi++],baseShield:Qe.skill[Fi++]},{defShield_:Qe.skill[Fi++],baseShield:Qe.skill[Fi++]},{defShield_:Qe.skill[Fi++],baseShield:Qe.skill[Fi++]}],lvl3Dmg:Qe.skill[Fi++],duration:Qe.skill[Fi++][0],cd:Qe.skill[Fi++][0]},burst:{pressPhysDmg:Qe.burst[Tu++],dotPyroDmg:Qe.burst[Tu++],cd:Qe.burst[Tu++][0],enerCost:Qe.burst[Tu++][0],duration:Qe.burst[Tu++][0]},passive2:{physical_dmg_:Qe.passive2[0][0]},c1:{atkSPD_:Qe.constellation1[0],duration:Qe.constellation1[1],cd:Qe.constellation1[1]},c2:{burstphysical_critRate_:Qe.constellation2[0]},c4:{physical_enemyRes_:Qe.constellation4[0],duration:Qe.constellation4[1]},c6:{staminaChargedDec_:-Qe.constellation6[0],charged_atkBonus:Qe.constellation6[1]}},[EF,QS]=h(Yc,"p2Shield"),XS=n(a.asc,4,i(QS,"on",Fl.passive2.physical_dmg_)),KF=i(a.activeCharKey,G.charKey,XS),[NF,YS]=h(Yc,"c1Crit"),ZS=n(a.constellation,1,i(YS,"on",Fl.c1.atkSPD_)),tw=n(a.constellation,2,Fl.c2.burstphysical_critRate_),[OF,ew]=h(Yc,"c4Burst"),aw=n(a.constellation,4,i(ew,"on",Fl.c4.physical_enemyRes_)),lw=n(a.constellation,6,Fl.c6.staminaChargedDec_),[FF,nw]=h(Yc,"c6Charged"),sw=n(a.constellation,6,i(nw,"on",m(a.total.def,c(Fl.c6.charged_atkBonus)))),ts={normal:Object.fromEntries(Fl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{spin:o("atk",Fl.charged.spin,"charged"),final:o("atk",Fl.charged.final,"charged")},plunging:E("atk",Fl.plunging),skill:{dmg:o("atk",Fl.skill.dmg,"skill"),...Object.fromEntries(Fl.skill.shieldArr.map((t,l)=>[`normShield${l+1}`,Sn("def",t.defShield_,t.baseShield,"skill")])),...Object.fromEntries(Fl.skill.shieldArr.map((t,l)=>[`pyroShield${l+1}`,tn(wv,Sn("def",t.defShield_,t.baseShield,"skill"))])),lvl3Dmg:o("atk",Fl.skill.lvl3Dmg,"skill")},burst:{pressPhysDmg:o("atk",Fl.burst.pressPhysDmg,"burst",{hit:{ele:p("physical")},premod:{burst_critRate_:tw}}),dotPyroDmg:o("atk",Fl.burst.dotPyroDmg,"burst")}},ow=n(a.constellation,3,3),iw=n(a.constellation,5,3),jF=B(Yc,wv,"liyue",xp,ts,{teamBuff:{premod:{physical_dmg_:KF,physical_enemyRes_:aw}},premod:{skillBoost:ow,burstBoost:iw,atkSPD_:ZS,staminaChargedDec_:lw,atk:sw}}),GF={key:Yc,name:at.name,rarity:xp.rarity,elementKey:wv,weaponTypeKey:xp.weaponType,gender:"F",constellationName:at.chg("constellationName"),title:at.chg("title"),talent:{auto:at.talentTem("auto",[{text:at.chg("auto.fields.normal")},{fields:Fl.normal.hitArr.map((t,l)=>({node:e(ts.normal[l],{name:at.chg(`auto.skillParams.${l}`)})}))},{text:at.chg("auto.fields.charged")},{fields:[{node:e(ts.charged.spin,{name:at.chg("auto.skillParams.4")})},{node:e(ts.charged.final,{name:at.chg("auto.skillParams.5")})},{text:at.chg("auto.skillParams.6"),value:`${Fl.charged.stamina}/s`}]},at.headerTem("constellation6",{fields:[{node:lw}]}),at.condTem("constellation6",{value:nw,path:FF,name:at.ch("c6.duringCharge"),states:{on:{fields:[{node:sw}]}}}),{text:at.chg("auto.fields.plunging")},{fields:[{node:e(ts.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ts.plunging.low,{name:s("plunging.low")})},{node:e(ts.plunging.high,{name:s("plunging.high")})}]}]),skill:at.talentTem("skill",[{fields:[{node:e(ts.skill.dmg,{name:at.chg("skill.skillParams.0")})},{node:e(ts.skill.normShield1,{name:at.chg("skill.skillParams.1")})},{node:e(ts.skill.pyroShield1,{name:at.ch("skill.pyroShield.1")})},{node:e(ts.skill.normShield2,{name:at.chg("skill.skillParams.2")})},{node:e(ts.skill.pyroShield2,{name:at.ch("skill.pyroShield.2")})},{node:e(ts.skill.normShield3,{name:at.chg("skill.skillParams.3")})},{node:e(ts.skill.pyroShield3,{name:at.ch("skill.pyroShield.3")})},{node:e(ts.skill.lvl3Dmg,{name:at.chg("skill.skillParams.4")})},{text:at.chg("skill.skillParams.5"),value:Fl.skill.duration,unit:"s"},{text:s("cd"),value:Fl.skill.cd,unit:"s"}]},at.headerTem("passive1",{fields:[{text:at.ch("p1.desc")}]}),at.condTem("passive2",{value:QS,path:EF,name:at.ch("p2.activeShield"),teamBuff:!0,states:{on:{fields:[{node:e(XS,y.info("physical_dmg_"))}]}}}),at.condTem("constellation4",{value:ew,path:OF,name:at.ch("c4.swingHit"),teamBuff:!0,states:{on:{fields:[{node:aw},{text:s("duration"),value:Fl.c4.duration,unit:"s"}]}}})]),burst:at.talentTem("burst",[{fields:[{node:e(ts.burst.pressPhysDmg,{name:at.chg("burst.skillParams.0")})},{node:e(ts.burst.dotPyroDmg,{name:at.chg("burst.skillParams.1")})},{text:s("duration"),value:Fl.burst.duration,unit:"s"},{text:s("cd"),value:Fl.burst.cd,unit:"s"},{text:s("energyCost"),value:Fl.burst.enerCost}]},at.headerTem("constellation2",{fields:[{node:e(tw,{name:at.ch("c2.key_"),unit:"%"})},{text:at.ch("c2.shield")}]})]),passive1:at.talentTem("passive1"),passive2:at.talentTem("passive2"),passive3:at.talentTem("passive3"),constellation1:at.talentTem("constellation1",[at.condTem("constellation1",{value:YS,path:NF,name:d("hitOp.crit"),states:{on:{fields:[{node:ZS},{text:s("duration"),value:Fl.c1.duration,unit:"s"},{text:s("cd"),value:Fl.c1.cd,unit:"s"}]}}})]),constellation2:at.talentTem("constellation2"),constellation3:at.talentTem("constellation3",[{fields:[{node:ow}]}]),constellation4:at.talentTem("constellation4"),constellation5:at.talentTem("constellation5",[{fields:[{node:iw}]}]),constellation6:at.talentTem("constellation6")}},zF=new R(GF,jF),Vm="YaeMiko",cw="electro",Pp=_.char.data[Vm],Hl=_.char.skillParam[Vm],Ce=A(Vm,Pp.weaponType);let pr=0,$m=0,Ng=0,WF=0;const yn={normal:{hitArr:[Hl.auto[pr++],Hl.auto[pr++],Hl.auto[pr++]]},charged:{dmg:Hl.auto[pr++],stamina:Hl.auto[pr++][0]},plunging:{dmg:Hl.auto[pr++],low:Hl.auto[pr++],high:Hl.auto[pr++]},skill:{dmg1:Hl.skill[$m++],dmg2:Hl.skill[$m++],dmg3:Hl.skill[$m++],dmg4:Hl.skill[$m++],duration:Hl.skill[$m++][0],cd:Hl.skill[$m++][0]},burst:{dmg:Hl.burst[Ng++],tenkoDmg:Hl.burst[Ng++],cd:Hl.burst[Ng++][0],enerCost:Hl.burst[Ng++][0]},passive2:{eleMas_dmg_:Hl.passive2[WF++][0]},constellation1:{enerRest:Hl.constellation1[0]},constellation2:{unknown1:Hl.constellation2[0],aoeInc:Hl.constellation2[1],unknown2:Hl.constellation2[2]},constellation4:{ele_dmg_:Hl.constellation4[0],duration:Hl.constellation4[1]},constellation6:{defIgn_:Hl.constellation6[0]}},[UF,rw]=h(Vm,"c4"),dw=n(a.constellation,4,i("hit",rw,yn.constellation4.ele_dmg_)),Ik=n(a.constellation,6,yn.constellation6.defIgn_),Bs={normal:Object.fromEntries(yn.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",yn.charged.dmg,"charged")},plunging:E("atk",yn.plunging),skill:{dmg1:rA(a.constellation,2,o("atk",yn.skill.dmg1,"skill")),dmg2:o("atk",yn.skill.dmg2,"skill",{enemy:{defIgn:Ik}}),dmg3:o("atk",yn.skill.dmg3,"skill",{enemy:{defIgn:Ik}}),dmg4:n(a.constellation,2,o("atk",yn.skill.dmg4,"skill",{enemy:{defIgn:Ik}}))},burst:{dmg:o("atk",yn.burst.dmg,"burst"),tenkoDmg:o("atk",yn.burst.tenkoDmg,"burst")},passive2:{nodeAsc4:n(a.asc,4,m(a.total.eleMas,c(yn.passive2.eleMas_dmg_,{fixed:2})))}},mw=n(a.constellation,3,3),uw=n(a.constellation,5,3),LF=B(Vm,cw,"liyue",Pp,Bs,{premod:{skillBoost:mw,burstBoost:uw},total:{skill_dmg_:Bs.passive2.nodeAsc4},teamBuff:{premod:{electro_dmg_:dw}}}),qF={key:Vm,name:Ce.name,rarity:Pp.rarity,elementKey:cw,weaponTypeKey:Pp.weaponType,gender:"F",constellationName:Ce.chg("constellationName"),title:Ce.chg("title"),talent:{auto:Ce.talentTem("auto",[{text:Ce.chg("auto.fields.normal")},{fields:yn.normal.hitArr.map((t,l)=>({node:e(Bs.normal[l],{name:Ce.chg(`auto.skillParams.${l}`)})}))},{text:Ce.chg("auto.fields.charged")},{fields:[{node:e(Bs.charged.dmg,{name:Ce.chg("auto.skillParams.3")})},{text:Ce.chg("auto.skillParams.4"),value:yn.charged.stamina}]},{text:Ce.chg("auto.fields.plunging")},{fields:[{node:e(Bs.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Bs.plunging.low,{name:s("plunging.low")})},{node:e(Bs.plunging.high,{name:s("plunging.high")})}]}]),skill:Ce.talentTem("skill",[{fields:[{node:e(Bs.skill.dmg1,{name:Ce.chg("skill.skillParams.0")})},{node:e(Bs.skill.dmg2,{name:Ce.chg("skill.skillParams.1")})},{node:e(Bs.skill.dmg3,{name:Ce.chg("skill.skillParams.2")})},{node:e(Bs.skill.dmg4,{name:Ce.chg("skill.skillParams.3")})},{text:Ce.chg("skill.skillParams.4"),value:yn.skill.duration,unit:"s"},{text:Ce.chg("skill.skillParams.5"),value:yn.skill.cd},{text:d("charges"),value:3}]},Ce.headerTem("constellation2",{fields:[{text:d("aoeInc"),value:yn.constellation2.aoeInc*100,unit:"%"}]}),Ce.condTem("constellation4",{value:rw,path:UF,teamBuff:!0,name:Ce.ch("c4"),states:{hit:{fields:[{node:dw},{text:s("duration"),value:yn.constellation4.duration,unit:"s"}]}}}),Ce.headerTem("constellation6",{fields:[{text:Ce.ch("c6"),value:yn.constellation6.defIgn_*100,unit:"%"}]})]),burst:Ce.talentTem("burst",[{fields:[{node:e(Bs.burst.dmg,{name:Ce.chg("burst.skillParams.0")})},{node:e(Bs.burst.tenkoDmg,{name:Ce.chg("burst.skillParams.1")})},{text:Ce.chg("burst.skillParams.2"),value:yn.burst.cd,unit:"s"},{text:Ce.chg("burst.skillParams.3"),value:yn.burst.enerCost}]},Ce.headerTem("constellation1",{fields:[{text:d("enerRegenPerHit"),value:yn.constellation1.enerRest}]})]),passive1:Ce.talentTem("passive1"),passive2:Ce.talentTem("passive2",[{fields:[{node:Bs.passive2.nodeAsc4}]}]),passive3:Ce.talentTem("passive3"),constellation1:Ce.talentTem("constellation1"),constellation2:Ce.talentTem("constellation2"),constellation3:Ce.talentTem("constellation3",[{fields:[{node:mw}]}]),constellation4:Ce.talentTem("constellation4"),constellation5:Ce.talentTem("constellation5",[{fields:[{node:uw}]}]),constellation6:Ce.talentTem("constellation6")}},VF=new R(qF,LF),qr="Yanfei",Dp="pyro",Cp=_.char.data[qr],Xe=_.char.skillParam[qr],te=A(qr,Cp.weaponType);let Mn=0,xm=0;const kl={normal:{hitArr:[Xe.auto[Mn++],Xe.auto[Mn++],Xe.auto[Mn++]]},charged:{dmgArr:[Xe.auto[Mn++],Xe.auto[Mn++],Xe.auto[Mn++],Xe.auto[Mn++],Xe.auto[Mn++]],unknown:{arr:[Xe.auto[Mn++][0],Xe.auto[Mn++][0],Xe.auto[Mn++][0],Xe.auto[Mn++][0],Xe.auto[Mn++][0]]},stamina:Xe.auto[Mn++][0],sealStaminaRed_:Xe.auto[Mn++][0],maxSeals:3},plunging:{dmg:Xe.auto[Mn++],low:Xe.auto[Mn++],high:Xe.auto[Mn++]},sealDuration:Xe.auto[Mn++][0],skill:{dmg:Xe.skill[0],cd:Xe.skill[1][0]},burst:{dmg:Xe.burst[xm++],charged_dmg_:Xe.burst[xm++],duration:Xe.burst[xm++][0],sealInterval:Xe.burst[xm++][0],cd:Xe.burst[xm++][0],enerCost:Xe.burst[xm++][0]},passive1:{seal_pyro_dmg_:Xe.passive1[0][0],duration:Xe.passive1[1][0]},passive2:{dmg:c(Xe.passive2[0][0])},c1:{sealStaminaRed_:Xe.constellation1[0]},c2:{hpThresh:Xe.constellation2[0],charged_critRate_:Xe.constellation2[1]},c4:{hpShield_:Xe.constellation4[0],duration:15},c6:{extraSeals:Xe.constellation6[0]}},[JF,gw]=h(qr,"afterBurst"),hw=i(gw,"on",$(a.total.burstIndex,kl.burst.charged_dmg_)),[QF,pw]=h(qr,"p1Seals"),XF=At(1,4),kw=n(a.asc,1,m(w(pw,C(XF,t=>t===4?n(a.constellation,6,t):p(t)),O),kl.passive1.seal_pyro_dmg_)),[YF,fw]=h(qr,"c2EnemyHp"),bw=n(a.constellation,2,i(fw,"on",kl.c2.charged_critRate_)),di={normal:Object.fromEntries(kl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:Object.fromEntries(kl.charged.dmgArr.map((t,l)=>[l,l<4?o("atk",t,"charged"):n(a.constellation,6,o("atk",t,"charged"))])),plunging:E("atk",kl.plunging),skill:{dmg:o("atk",kl.skill.dmg,"skill")},burst:{dmg:o("atk",kl.burst.dmg,"burst")},passive2:{dmg:n(a.asc,4,N(m(a.total.atk,kl.passive2.dmg),"charged"))},constellation4:{pyro_shield:n(a.constellation,4,tn(Dp,Xg(m(a.total.hp,kl.c4.hpShield_)))),norm_shield:n(a.constellation,4,Xg(m(a.total.hp,kl.c4.hpShield_)))}},vw=n(a.constellation,3,3),_w=n(a.constellation,5,3),ZF=B(qr,Dp,"liyue",Cp,di,{premod:{skillBoost:vw,burstBoost:_w,charged_dmg_:hw,charged_critRate_:bw,pyro_dmg_:kw}}),tj={key:qr,name:te.name,rarity:Cp.rarity,elementKey:Dp,weaponTypeKey:Cp.weaponType,gender:"F",constellationName:te.chg("constellationName"),title:te.chg("title"),talent:{auto:te.talentTem("auto",[{text:te.chg("auto.fields.normal")},{fields:kl.normal.hitArr.map((t,l)=>({node:e(di.normal[l],{name:te.chg(`auto.skillParams.${l}`)})}))},{text:te.chg("auto.fields.charged")},{fields:[...kl.charged.dmgArr.map((t,l)=>({node:e(di.charged[l],{name:te.ch(`charged.${l}`)})})),{text:te.chg("auto.skillParams.4"),value:kl.charged.stamina},{text:d("staminaDec_"),value:kl.charged.sealStaminaRed_*100,textSuffix:te.ch("perSeal"),unit:"%"},{text:te.ch("maxSeals"),value:t=>t.get(a.constellation).value>=6?kl.charged.maxSeals+kl.c6.extraSeals:kl.charged.maxSeals},{text:te.chg("auto.skillParams.6"),value:kl.sealDuration,unit:"s"}]},te.condTem("passive1",{value:pw,path:QF,name:te.ch("passive1.sealsConsumed"),states:t=>Object.fromEntries(At(1,t.get(a.constellation).value>=6?4:3).map(l=>[l,{name:te.ch(`seals.${l}`),fields:[{node:kw},{text:s("duration"),value:kl.passive1.duration,unit:"s"}]}]))}),te.headerTem("passive2",{fields:[{node:e(di.passive2.dmg,{name:te.ch("passive2.key")})}]}),te.headerTem("constellation6",{fields:[{text:te.ch("c6.maxSealInc"),value:kl.c6.extraSeals}]}),{text:te.chg("auto.fields.plunging")},{fields:[{node:e(di.plunging.dmg,{name:s("plunging.dmg")})},{node:e(di.plunging.low,{name:s("plunging.low")})},{node:e(di.plunging.high,{name:s("plunging.high")})}]}]),skill:te.talentTem("skill",[{fields:[{node:e(di.skill.dmg,{name:te.chg("skill.skillParams.0")})},{text:s("cd"),value:kl.skill.cd,unit:"s"}]}]),burst:te.talentTem("burst",[{fields:[{node:e(di.burst.dmg,{name:te.chg("burst.skillParams.0")})},{text:te.ch("burst.grantMax")},{text:s("cd"),value:kl.burst.cd,unit:"s"},{text:s("energyCost"),value:kl.burst.enerCost}]},te.condTem("burst",{value:gw,path:JF,name:d("afterUse.burst"),states:{on:{fields:[{text:te.chg("burst.skillParams.2"),value:kl.burst.sealInterval,unit:"s"},{node:hw}]}}})]),passive1:te.talentTem("passive1"),passive2:te.talentTem("passive2"),passive3:te.talentTem("passive3"),constellation1:te.talentTem("constellation1",[{fields:[{text:te.ch("c1.sealChargedStam_"),value:kl.c1.sealStaminaRed_*-100,textSuffix:te.ch("perSeal"),unit:"%"},{text:d("incInterRes")}]}]),constellation2:te.talentTem("constellation2",[te.condTem("constellation2",{value:fw,path:YF,name:d("enemyLessPercentHP",{percent:kl.c2.hpThresh*100}),states:{on:{fields:[{node:bw}]}}})]),constellation3:te.talentTem("constellation3",[{fields:[{node:vw}]}]),constellation4:te.talentTem("constellation4",[{fields:[{node:e(di.constellation4.norm_shield,{name:s("dmgAbsorption")})},{node:e(di.constellation4.pyro_shield,{name:d(`dmgAbsorption.${Dp}`)})},{text:s("duration"),value:kl.c4.duration,unit:"s"}]}]),constellation5:te.talentTem("constellation5",[{fields:[{node:_w}]}]),constellation6:te.talentTem("constellation6")}},ej=new R(tj,ZF),Vr="Yaoyao",yw="dendro",Sp=_.char.data[Vr],ke=_.char.skillParam[Vr],fe=A(Vr,Sp.weaponType);let ji=0,Pm=0,kr=0;const $a={normal:{hitArr:[ke.auto[ji++],ke.auto[ji++],ke.auto[ji++],ke.auto[ji++],ke.auto[ji++]]},charged:{dmg:ke.auto[ji++],stamina:ke.auto[ji++][0]},plunging:{dmg:ke.auto[ji++],low:ke.auto[ji++],high:ke.auto[ji++]},skill:{dmg:ke.skill[Pm++],heal_hp_:ke.skill[Pm++],heal_base:ke.skill[Pm++],throwDuration:ke.skill[Pm++][0],radishDuration:ke.skill[Pm++][0],cd:ke.skill[Pm++][0]},burst:{radish_dmg:ke.burst[kr++],radish_heal_hp:ke.burst[kr++],radish_heal_flat:ke.burst[kr++],skill_dmg:ke.burst[kr++],dendro_res_:ke.burst[kr++][0],moveSPD_:.15,legacyDuration:ke.burst[kr++][0],cd:ke.burst[kr++][0],cost:ke.burst[kr++][0]},passive2:{cd:ke.passive2[0][0],heal_hp:ke.passive2[1][0],duration:ke.passive2[2][0]},constellation1:{duration:ke.constellation1[0],dendro_dmg_:ke.constellation1[1],staminaRestore:ke.constellation1[2],cd:ke.constellation1[3]},constellation2:{energyRegen:ke.constellation2[0],cd:ke.constellation2[1]},constellation4:{eleMas_Hp:ke.constellation4[0],duration:ke.constellation4[1],maxEleMas:ke.constellation4[2]},constellation6:{dmg:ke.constellation6[0],heal_hp:ke.constellation6[1]}},[aj,Av]=h(Vr,"adeptalLegacy"),Tw=i(Av,"on",$a.burst.dendro_res_),$w=i(Av,"on",$a.burst.moveSPD_),[lj,xw]=h(Vr,"c1Explode"),Pw=n(a.constellation,1,i(xw,"on",$a.constellation1.dendro_dmg_),{...y.info("dendro_dmg_"),isTeamBuff:!0}),nj=i(a.activeCharKey,G.charKey,Pw),[sj,Dw]=h(Vr,"c4AfterSkillBurst"),Bv=n(a.constellation,4,i(Dw,"on",Il(m(c($a.constellation4.eleMas_Hp),a.premod.hp),$a.constellation4.maxEleMas))),As={normal:Object.fromEntries($a.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",$a.charged.dmg,"charged")},plunging:E("atk",$a.plunging),skill:{dmg:o("atk",$a.skill.dmg,"skill"),heal:cl("hp",$a.skill.heal_hp_,$a.skill.heal_base,"skill")},burst:{skillDmg:o("atk",$a.burst.skill_dmg,"burst"),radish:o("atk",$a.burst.radish_dmg,"burst"),radishHeal:cl("hp",$a.burst.radish_heal_hp,$a.burst.radish_heal_flat,"burst")},passive2:{heal:n(a.asc,4,zn(m(c($a.passive2.heal_hp),a.total.hp)))},constellation4:{eleMas:Bv},constellation6:{dmg:n(a.constellation,6,N(m(c($a.constellation6.dmg),a.total.atk),"burst")),heal:n(a.constellation,6,zn(m(c($a.constellation6.heal_hp),a.total.hp)))}},Cw=n(a.constellation,3,3),Sw=n(a.constellation,5,3),oj=B(Vr,yw,"liyue",Sp,As,{premod:{skillBoost:Cw,burstBoost:Sw,dendro_res_:Tw,moveSPD_:$w},total:{eleMas:Bv},teamBuff:{premod:{dendro_dmg_:nj}}}),ij={key:Vr,name:fe.name,rarity:Sp.rarity,elementKey:yw,weaponTypeKey:Sp.weaponType,gender:"F",constellationName:fe.chg("constellationName"),title:fe.chg("title"),talent:{auto:fe.talentTem("auto",[{text:fe.chg("auto.fields.normal")},{fields:$a.normal.hitArr.map((t,l)=>({node:e(As.normal[l],{name:fe.chg(`auto.skillParams.${l+(l<3?0:-1)}`),textSuffix:l===2||l===3?`(${l-1})`:""})}))},{text:fe.chg("auto.fields.charged")},{fields:[{node:e(As.charged.dmg,{name:fe.chg("auto.skillParams.4")})},{text:fe.chg("auto.skillParams.5"),value:$a.charged.stamina}]},{text:fe.chg("auto.fields.plunging")},{fields:[{node:e(As.plunging.dmg,{name:s("plunging.dmg")})},{node:e(As.plunging.low,{name:s("plunging.low")})},{node:e(As.plunging.high,{name:s("plunging.high")})}]}]),skill:fe.talentTem("skill",[{fields:[{node:e(As.skill.dmg,{name:fe.chg("skill.skillParams.0")})},{node:e(As.skill.heal,{name:fe.chg("skill.skillParams.1")})},{text:fe.chg("skill.skillParams.2"),value:$a.skill.throwDuration,unit:"s"},{text:fe.chg("skill.skillParams.3"),value:$a.skill.radishDuration,unit:"s"},{text:s("cd"),value:$a.skill.cd,unit:"s"}]}]),burst:fe.talentTem("burst",[{fields:[{node:e(As.burst.skillDmg,{name:fe.chg("burst.skillParams.0")})},{node:e(As.burst.radish,{name:fe.chg("burst.skillParams.1")})},{node:e(As.burst.radishHeal,{name:fe.chg("burst.skillParams.2")})},{text:s("cd"),value:$a.burst.cd,unit:"s"},{text:s("energyCost"),value:$a.burst.cost}]},fe.condTem("burst",{path:aj,value:Av,name:fe.ch("inLegacy"),states:{on:{fields:[{node:Tw},{node:$w},{text:fe.chg("burst.skillParams.4"),value:$a.burst.legacyDuration,unit:"s"}]}}}),fe.headerTem("constellation6",{fields:[{node:e(As.constellation6.dmg,{name:fe.ch("megaDmg")})},{node:e(As.constellation6.heal,{name:fe.ch("megaHeal")})}]})]),passive1:fe.talentTem("passive1"),passive2:fe.talentTem("passive2",[fe.fieldsTem("passive2",{fields:[{node:e(As.passive2.heal,{name:s("contHealing")})},{text:d("interval"),value:$a.passive2.cd,unit:"s"},{text:s("duration"),value:$a.passive2.duration,unit:"s"}]})]),passive3:fe.talentTem("passive3"),constellation1:fe.talentTem("constellation1",[fe.condTem("constellation1",{path:lj,value:xw,name:fe.ch("inExplosionAoE"),teamBuff:!0,states:{on:{fields:[{node:Pw},{text:s("duration"),value:$a.constellation1.duration,unit:"s"},{text:d("stamRestored"),value:$a.constellation1.staminaRestore},{text:s("cd"),value:$a.constellation1.cd,unit:"s"}]}}})]),constellation2:fe.talentTem("constellation2"),constellation3:fe.talentTem("constellation3",[{fields:[{node:Cw}]}]),constellation4:fe.talentTem("constellation4",[fe.condTem("constellation4",{path:sj,value:Dw,name:d("afterUse.skillOrBurst"),states:{on:{fields:[{node:Bv},{text:s("duration"),value:$a.constellation4.duration,unit:"s"}]}}})]),constellation5:fe.talentTem("constellation5",[{fields:[{node:Sw}]}]),constellation6:fe.talentTem("constellation6")}},cj=new R(ij,oj),sm="Yelan",Iv="hydro",wp=_.char.data[sm],ka=_.char.skillParam[sm],Oe=A(sm,wp.weaponType);let Gi=0,Og=0,$u=0;const Sl={normal:{hitArr:[ka.auto[Gi++],ka.auto[Gi++],ka.auto[Gi++],ka.auto[Gi++]]},charged:{aimed:ka.auto[Gi++],aimedCharged:ka.auto[Gi++],barb:ka.auto[Gi++]},plunging:{dmg:ka.auto[Gi++],low:ka.auto[Gi++],high:ka.auto[Gi++]},skill:{dmg:ka.skill[Og++],resetChance:ka.skill[Og++][0],maxDuration:ka.skill[Og++][0],cd:ka.skill[Og++][0]},burst:{pressDmg:ka.burst[$u++],throwDmg:ka.burst[$u++],duration:ka.burst[$u++][0],cd:ka.burst[$u++][0],enerCost:ka.burst[$u++][0]},passive1:{hp_Arr:[0,...ka.passive1.map(([t])=>t)]},passive2:{baseDmg_:ka.passive2[0][0],stackDmg_:ka.passive2[1][0],maxDmg_:ka.passive2[2][0],maxStacks:14},constellation1:{addlCharge:ka.constellation1[0]},constellation2:{arrowDmg_:ka.constellation2[0],cd:ka.constellation2[1]},constellation4:{bonusHp_:ka.constellation4[0],duration:ka.constellation4[1],maxHp_:ka.constellation4[2],maxStacks:4},constellation6:{charges:ka.constellation6[0],duration:ka.constellation6[1],dmg_:ka.constellation6[2]}},ww=n(a.asc,1,$(mn.ele,Sl.passive1.hp_Arr)),[rj,Aw]=h(sm,"a4Stacks"),Bw=rl(0,Sl.passive2.maxStacks),Iw=n(a.asc,4,w(Aw,Object.fromEntries(Bw.map(t=>[t,P(c(Sl.passive2.baseDmg_),m(t,c(Sl.passive2.stackDmg_)))])),O)),dj=i(G.charKey,a.activeCharKey,Iw),[mj,Rw]=h(sm,"c4Stacks"),Mw=rl(1,Sl.constellation4.maxStacks),Hw=n(a.constellation,4,w(Rw,Object.fromEntries(Mw.map(t=>[t,m(t,c(Sl.constellation4.bonusHp_))])),O)),Fg={hit:{ele:p(Iv)}},Ls={normal:Object.fromEntries(Sl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{aimed:o("atk",Sl.charged.aimed,"charged"),aimedCharged:o("atk",Sl.charged.aimedCharged,"charged",Fg),barb:o("hp",Sl.charged.barb,"charged",Fg)},plunging:E("atk",Sl.plunging),skill:{dmg:o("hp",Sl.skill.dmg,"skill")},burst:{pressDmg:o("hp",Sl.burst.pressDmg,"burst"),throwDmg:o("hp",Sl.burst.throwDmg,"burst")},constellation2:{arrowDmg:n(a.constellation,2,N(m(c(Sl.constellation2.arrowDmg_),a.total.hp),"burst",Fg))},constellation6:{barbDmg:n(a.constellation,6,N(m($(a.total.autoIndex,Sl.charged.barb,{unit:"%"}),c(Sl.constellation6.dmg_),a.total.hp),"charged",Fg))}},Ew=n(a.constellation,3,3),Kw=n(a.constellation,5,3),uj=B(sm,Iv,"liyue",wp,Ls,{premod:{skillBoost:Kw,burstBoost:Ew,hp_:ww},teamBuff:{premod:{all_dmg_:dj,hp_:Hw}}}),gj={key:sm,name:Oe.name,rarity:wp.rarity,elementKey:Iv,weaponTypeKey:wp.weaponType,gender:"F",constellationName:Oe.chg("constellationName"),title:Oe.chg("title"),talent:{auto:Oe.talentTem("auto",[{text:Oe.chg("auto.fields.normal")},{fields:Sl.normal.hitArr.map((t,l)=>({node:e(Ls.normal[l],{name:Oe.chg(`auto.skillParams.${l}`),multi:l===3?2:void 0})}))},Oe.headerTem("constellation6",{fields:[{node:e(Ls.constellation6.barbDmg,{name:Oe.ch("c6.dmg")})},{text:d("charges"),value:Sl.constellation6.charges},{text:s("duration"),value:Sl.constellation6.duration,unit:"s"}]}),{text:Oe.chg("auto.fields.charged")},{fields:[{node:e(Ls.charged.aimed,{name:Oe.chg("auto.skillParams.4")})},{node:e(Ls.charged.aimedCharged,{name:Oe.chg("auto.skillParams.5")})}]},{text:Oe.chg("auto.fields.breakthrough")},{fields:[{node:e(Ls.charged.barb,{name:Oe.chg("auto.skillParams.6")})}]},{text:Oe.chg("auto.fields.plunging")},{fields:[{node:e(Ls.plunging.dmg,{name:s("plunging.dmg")})},{node:e(Ls.plunging.low,{name:s("plunging.low")})},{node:e(Ls.plunging.high,{name:s("plunging.high")})}]}]),skill:Oe.talentTem("skill",[{fields:[{node:e(Ls.skill.dmg,{name:Oe.chg("skill.skillParams.0")})},{text:Oe.chg("skill.skillParams.1"),value:Sl.skill.maxDuration,unit:"s"},{text:s("cd"),value:Sl.skill.cd,unit:"s"},{canShow:t=>t.get(a.constellation).value>=1,text:d("charges"),value:2}]},Oe.condTem("constellation4",{path:mj,value:Rw,teamBuff:!0,name:Oe.ch("c4.condName"),states:Object.fromEntries(Mw.map(t=>[t,{name:d("stack",{count:t}),fields:[{node:Hw},{text:s("duration"),value:Sl.constellation4.duration,unit:"s"}]}]))})]),burst:Oe.talentTem("burst",[{fields:[{node:e(Ls.burst.pressDmg,{name:Oe.chg("burst.skillParams.0")})},{node:e(Ls.burst.throwDmg,{name:Oe.chg("burst.skillParams.1")})},{text:s("duration"),value:Sl.burst.duration,unit:"s"},{text:s("cd"),value:Sl.burst.cd,unit:"s"},{text:s("energyCost"),value:Sl.burst.enerCost}]},Oe.condTem("passive2",{path:rj,value:Aw,teamBuff:!0,name:d("afterUse.burst"),states:Object.fromEntries(Bw.map(t=>[t,{name:d("seconds",{count:t}),fields:[{node:e(Iw,y.info("all_dmg_"))}]}]))}),Oe.headerTem("constellation2",{fields:[{node:e(Ls.constellation2.arrowDmg,{name:Oe.ch("c2.dmg")})},{text:s("cd"),value:Sl.constellation2.cd,unit:"s",fixed:1}]})]),passive1:Oe.talentTem("passive1",[Oe.fieldsTem("passive1",{fields:[{node:ww}]})]),passive2:Oe.talentTem("passive2"),passive3:Oe.talentTem("passive3"),constellation1:Oe.talentTem("constellation1",[Oe.fieldsTem("constellation1",{fields:[{text:d("addlCharges"),value:1}]})]),constellation2:Oe.talentTem("constellation2"),constellation3:Oe.talentTem("constellation3",[{fields:[{node:Ew}]}]),constellation4:Oe.talentTem("constellation4"),constellation5:Oe.talentTem("constellation5",[{fields:[{node:Kw}]}]),constellation6:Oe.talentTem("constellation6")}},hj=new R(gj,uj),eo="Yoimiya",Tr="pyro",Ap=_.char.data[eo],fa=_.char.skillParam[eo],ht=A(eo,Ap.weaponType),ya={normal:{hitArr:[fa.auto[0],fa.auto[1],fa.auto[2],fa.auto[3],fa.auto[4]]},charged:{hit:fa.auto[5],full:fa.auto[6],kindling:fa.auto[7]},plunging:{dmg:fa.auto[8],low:fa.auto[9],high:fa.auto[10]},skill:{dmg_:fa.skill[3],duration:fa.skill[1][0],cd:fa.skill[2][0]},burst:{dmg:fa.burst[0],exp:fa.burst[1],duration:fa.burst[3][0],cd:fa.burst[4][0],cost:fa.burst[5][0]},passive1:{pyro_dmg_:fa.passive1[0][0],duration:fa.passive1[1][0],maxStacks:10},passive2:{fixed_atk_:fa.passive2[0][0],var_atk_:fa.passive2[1][0],duration:fa.passive2[2][0]},constellation1:{burst_durationInc:fa.constellation1[0],atk_:fa.constellation1[1],duration:fa.constellation1[2]},constellation2:{pyro_dmg_:fa.constellation2[0],duration:fa.constellation2[1]},constellation3:{},constellation4:{cdRed:fa.constellation4[0]},constellation5:{},constellation6:{chance:fa.constellation6[0],dmg_:fa.constellation6[1]}},[pj,Dr]=h(eo,"skill"),[kj,Hf]=h(eo,"burst"),[$1,Ef]=h(eo,"a1"),[fj,Nw]=h(eo,"c1"),[bj,Ow]=h(eo,"c2"),Fw=n(a.constellation,3,3),jw=n(a.constellation,5,3),Rv=wo(Dr,"skill",$(a.total.skillIndex,ya.skill.dmg_,{name:d("dmgMult.normal"),unit:"%"}),St),Gw=w(Ef,Object.fromEntries(rl(1,ya.passive1.maxStacks).map(t=>[t,p(t)])),0),Kf=n(a.asc,1,i(Dr,"skill",e(m(c(ya.passive1.pyro_dmg_),Gw),y.info("pyro_dmg_")))),zw=n(a.asc,4,i(Hf,"on",j(a.activeCharKey,eo,P(c(ya.passive2.fixed_atk_),m(c(ya.passive2.var_atk_),Gw))))),vj=n(a.constellation,1,i(Nw,"c1",c(ya.constellation1.atk_))),Ww=n(a.constellation,2,i(Ow,"c2",c(ya.constellation2.pyro_dmg_),y.info("pyro_dmg_"))),_j=ya.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal",{hit:{ele:wo(Dr,"skill",Tr,"physical")}},Rv)]),yj=ya.normal.hitArr.map((t,l)=>l===0||l===3?t.map(r=>r*2):t),Tj=yj.map((t,l)=>[l,n(a.constellation,6,i(Dr,"skill",N(m($(a.total.autoIndex,t,{unit:"%"}),p(ya.constellation6.dmg_,{name:ht.ch("c6Key_"),unit:"%"}),a.total.atk,Rv),"normal",{hit:{ele:wo(Dr,"skill",Tr,"physical")}})))]),mi={normal:Object.fromEntries(_j),charged:{hit:o("atk",ya.charged.hit,"charged"),full:o("atk",ya.charged.full,"charged",{hit:{ele:p(Tr)}}),kindling:o("atk",ya.charged.kindling,"charged",{hit:{ele:p(Tr)}})},plunging:E("atk",ya.plunging),skill:{},burst:{dmg:o("atk",ya.burst.dmg,"burst",{hit:{ele:p(Tr)}}),exp:o("atk",ya.burst.exp,"burst",{hit:{ele:p(Tr)}})},constellation6:Object.fromEntries(Tj)},$j=B(eo,Tr,"inazuma",Ap,mi,{teamBuff:{premod:{atk_:zw}},premod:{skillBoost:Fw,burstBoost:jw,atk_:vj,pyro_dmg_:P(Kf,Ww)}}),xj={key:eo,name:ht.name,rarity:Ap.rarity,elementKey:Tr,weaponTypeKey:Ap.weaponType,gender:"F",constellationName:ht.chg("constellationName"),title:ht.chg("title"),talent:{auto:ht.talentTem("auto",[{text:ht.chg("auto.fields.normal")},{fields:ya.normal.hitArr.map((t,l)=>({node:e(mi.normal[l],{name:ht.chg(`auto.skillParams.${l}`),multi:[0,3].includes(l)?2:void 0})}))},ht.headerTem("constellation6",{canShow:i(Dr,"skill",1),fields:ya.normal.hitArr.map((t,l)=>({node:e(mi.constellation6[l],{name:ht.chg(`auto.skillParams.${l}`)})}))}),{text:ht.chg("auto.fields.charged")},{fields:[{node:e(mi.charged.hit,{name:ht.chg("auto.skillParams.5")})},{node:e(mi.charged.full,{name:ht.chg("auto.skillParams.6")})},{node:e(mi.charged.kindling,{name:ht.chg("auto.skillParams.7")})}]},{text:ht.chg("auto.fields.plunging")},{fields:[{node:e(mi.plunging.dmg,{name:s("plunging.dmg")})},{node:e(mi.plunging.low,{name:s("plunging.low")})},{node:e(mi.plunging.high,{name:s("plunging.high")})}]}]),skill:ht.talentTem("skill",[{fields:[{text:ht.chg("skill.skillParams.2"),value:ya.skill.cd,unit:"s"}]},ht.condTem("skill",{name:d("afterUse.skill"),path:pj,value:Dr,states:{skill:{fields:[{text:ht.ch("normPyroInfus")},{node:Rv},{text:ht.chg("skill.skillParams.1"),value:ya.skill.duration,unit:"s"}]}}}),ht.condTem("passive1",{canShow:i(Dr,"skill",1),value:Ef,path:$1,name:ht.chg("passive1.name"),states:Object.fromEntries(rl(1,ya.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:Kf},{text:s("duration"),value:ya.passive1.duration,unit:"s"}]}]))})]),burst:ht.talentTem("burst",[{fields:[{node:e(mi.burst.dmg,{name:ht.chg("burst.skillParams.0")})},{node:e(mi.burst.exp,{name:ht.chg("burst.skillParams.1")})},{text:ht.chg("burst.skillParams.2"),value:t=>ya.burst.duration+(t.get(a.constellation).value>=1?ya.constellation1.burst_durationInc:0),unit:"s"},{text:ht.chg("burst.skillParams.3"),value:ya.burst.cd,unit:"s"},{text:ht.chg("burst.skillParams.4"),value:60}]},ht.headerTem("constellation1",{fields:[{text:d("durationInc"),value:ya.constellation1.burst_durationInc,unit:"s"}]}),ht.condTem("constellation1",{name:ht.ch("c1"),value:Nw,path:fj,states:{c1:{fields:[{node:p(ya.constellation1.atk_,y.info("atk_"))},{text:s("duration"),value:ya.constellation1.duration,unit:"s"}]}}})]),passive1:ht.talentTem("passive1"),passive2:ht.talentTem("passive2",[ht.condTem("passive2",{teamBuff:!0,canShow:j(a.activeCharKey,eo,1),path:kj,value:Hf,name:d("afterUse.burst"),states:{on:{fields:[{node:zw},{text:s("duration"),value:ya.passive2.duration,unit:"s"}]}}}),ht.condTem("passive1",{canShow:j(a.activeCharKey,eo,i(Hf,"on",n(a.asc,4,1))),teamBuff:!0,value:Ef,path:$1,name:ht.chg("passive1.name"),states:Object.fromEntries(rl(1,ya.passive1.maxStacks).map(t=>[t,{name:`${t} stack`,fields:[{node:Kf},{text:s("duration"),value:ya.passive1.duration,unit:"s"}]}]))})]),passive3:ht.talentTem("passive3"),constellation1:ht.talentTem("constellation1"),constellation2:ht.talentTem("constellation2",[ht.condTem("constellation2",{name:ht.ch("c2"),value:Ow,path:bj,states:{c2:{fields:[{node:Ww},{text:s("duration"),value:ya.constellation2.duration,unit:"s"}]}}})]),constellation3:ht.talentTem("constellation3",[{fields:[{node:Fw}]}]),constellation4:ht.talentTem("constellation4"),constellation5:ht.talentTem("constellation5",[{fields:[{node:jw}]}]),constellation6:ht.talentTem("constellation6")}},Pj=new R(xj,$j),Sr="YunJin",Uw="geo",Bp=_.char.data[Sr],el=_.char.skillParam[Sr],Ft=A(Sr,Bp.weaponType);let mo=0,Dm=0,Cm=0;const Ul={normal:{hitArr:[el.auto[mo++],el.auto[mo++],el.auto[mo++],el.auto[mo++],el.auto[mo++],el.auto[mo++],el.auto[mo++]]},charged:{dmg:el.auto[mo++],stamina:el.auto[mo++][0]},plunging:{dmg:el.auto[mo++],low:el.auto[mo++],high:el.auto[mo++]},skill:{shield_:el.skill[Dm++],shield:el.skill[Dm++],dmg:el.skill[Dm++],dmg1:el.skill[Dm++],dmg2:el.skill[Dm++],cd:el.skill[Dm++][0]},burst:{dmg:el.burst[Cm++],dmgInc:el.burst[Cm++],duration:el.burst[Cm++][0],cd:el.burst[Cm++][0],enerCost:el.burst[Cm++][0],triggerNum:el.burst[Cm++][0]},passive2:{dmgInc:el.passive2.map(t=>t[0])},constellation2:{normalInc:el.constellation2[0]},constellation4:{def_:el.constellation4[0],duration:el.constellation4[1]},constellation6:{atkSpd:el.constellation6[0]}},Lw=n(a.asc,4,$(P(...Gf.map(t=>n(mn[t],1,1))),[0,...Ul.passive2.dmgInc],{unit:"%"})),[Dj,Ou]=h(Sr,"skill"),Mv=i("on",Ou,P(m(a.premod.def,P($(a.total.burstIndex,Ul.burst.dmgInc,{unit:"%"}),Lw)))),Nf=n(a.constellation,2,i("on",Ou,Ul.constellation2.normalInc)),[x1,Of]=h(Sr,"c4"),Ff=n(a.constellation,4,i("on",Of,Ul.constellation4.def_)),qw=n(a.constellation,6,i("on",Ou,Ul.constellation6.atkSpd)),ui={normal:Object.fromEntries(Ul.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Ul.charged.dmg,"charged")},plunging:E("atk",Ul.plunging),skill:{dmg:o("def",Ul.skill.dmg,"skill"),dmg1:o("def",Ul.skill.dmg1,"skill"),dmg2:o("def",Ul.skill.dmg2,"skill"),shield:tn("geo",Sn("hp",Ul.skill.shield_,Ul.skill.shield,"skill"))},burst:{dmg:o("atk",Ul.burst.dmg,"burst"),dmgInc:Mv}},Vw=n(a.constellation,3,3),Jw=n(a.constellation,5,3),Cj=B(Sr,Uw,"liyue",Bp,ui,{premod:{skillBoost:Jw,burstBoost:Vw,def_:Ff},teamBuff:{premod:{atkSPD_:qw,normal_dmgInc:Mv,normal_dmg_:Nf}}}),Sj={key:Sr,name:Ft.name,rarity:Bp.rarity,elementKey:Uw,weaponTypeKey:Bp.weaponType,gender:"F",constellationName:Ft.chg("constellationName"),title:Ft.chg("title"),talent:{auto:Ft.talentTem("auto",[{text:Ft.chg("auto.fields.normal")},{fields:Ul.normal.hitArr.map((t,l)=>({node:e(ui.normal[l],{name:Ft.chg(`auto.skillParams.${l+(l>2?-1:0)+(l>4?-1:0)}`),textSuffix:l===2||l===4?"(1)":l===3||l===5?"(2)":""})}))},{text:Ft.chg("auto.fields.charged")},{fields:[{node:e(ui.charged.dmg,{name:Ft.chg("auto.skillParams.5")})},{text:Ft.chg("auto.skillParams.6"),value:Ul.charged.stamina}]},{text:Ft.chg("auto.fields.plunging")},{fields:[{node:e(ui.plunging.dmg,{name:s("plunging.dmg")})},{node:e(ui.plunging.low,{name:s("plunging.low")})},{node:e(ui.plunging.high,{name:s("plunging.high")})}]}]),skill:Ft.talentTem("skill",[{fields:[{node:e(ui.skill.dmg,{name:Ft.chg("skill.skillParams.0")})},{node:e(ui.skill.dmg1,{name:Ft.chg("skill.skillParams.1")})},{node:e(ui.skill.dmg2,{name:Ft.chg("skill.skillParams.2")})},{node:e(ui.skill.shield,{name:Ft.chg("skill.skillParams.3")})},{text:Ft.chg("skill.skillParams.4"),value:t=>t.get(a.constellation).value>=1?`${Ul.skill.cd} - 18% = ${(Ul.skill.cd*(1-.18)).toFixed(2)}`:`${Ul.skill.cd}`,unit:"s"}]}]),burst:Ft.talentTem("burst",[{fields:[{node:e(ui.burst.dmg,{name:Ft.chg("burst.skillParams.0")})},{text:Ft.chg("burst.skillParams.4"),value:Ul.burst.cd,unit:"s"},{text:Ft.chg("burst.skillParams.5"),value:Ul.burst.enerCost}]},Ft.condTem("burst",{teamBuff:!0,value:Ou,path:Dj,name:Ft.ch("burst"),states:{on:{fields:[{node:Mv},{text:Ft.chg("burst.skillParams.2"),value:Ul.burst.duration,unit:"s"},{text:Ft.chg("burst.skillParams.3"),value:Ul.burst.triggerNum}]}}}),Ft.headerTem("constellation2",{fields:[{node:Nf}]}),Ft.headerTem("constellation6",{fields:[{node:qw}]}),Ft.condTem("constellation4",{teamBuff:!0,canShow:j(a.activeCharKey,Sr,i(Ou,"on",1)),value:Of,path:x1,name:Ft.ch("c4"),states:{on:{fields:[{node:Ff},{text:s("duration"),value:Ul.constellation4.duration,unit:"s"}]}}})]),passive1:Ft.talentTem("passive1"),passive2:Ft.talentTem("passive2",[Ft.fieldsTem("passive2",{fields:[{node:e(Lw,{name:Ft.ch("a4Inc_"),unit:"%"})}]})]),passive3:Ft.talentTem("passive3"),constellation1:Ft.talentTem("constellation1"),constellation2:Ft.talentTem("constellation2",[{fields:[{node:Nf}]}]),constellation3:Ft.talentTem("constellation3",[{fields:[{node:Vw}]}]),constellation4:Ft.talentTem("constellation4",[Ft.condTem("constellation4",{value:Of,path:x1,name:Ft.ch("c4"),states:{on:{fields:[{node:Ff},{text:s("duration"),value:Ul.constellation4.duration,unit:"s"}]}}})]),constellation5:Ft.talentTem("constellation5",[{fields:[{node:Jw}]}]),constellation6:Ft.talentTem("constellation6")}},wj=new R(Sj,Cj),om="Zhongli",Qw="geo",Ip=_.char.data[om],al=_.char.skillParam[om],Se=A(om,Ip.weaponType);let Zo=0,fr=0,jg=0,Aj=0,Rk=0;const Vl={normal:{hitArr:[al.auto[Zo++],al.auto[Zo++],al.auto[Zo++],al.auto[Zo++],al.auto[Zo++],al.auto[Zo++]]},charged:{dmg:al.auto[Zo++],stamina:al.auto[Zo++][0]},plunging:{dmg:al.auto[Zo++],low:al.auto[Zo++],high:al.auto[Zo++]},skill:{stele:al.skill[fr++],resonance:al.skill[fr++],pressCD:al.skill[fr++][0],holdDMG:al.skill[fr++],shield:al.skill[fr++],shield_:al.skill[fr++],shileDuration:al.skill[fr++][0],holdCD:al.skill[fr++][0],enemyRes_:-.2},burst:{dmg:al.burst[jg++],duration:al.burst[jg++],cd:al.burst[jg++][0],enerCost:al.burst[jg++][0]},passive1:{shield_:al.passive1[Aj++][0]},passive2:{auto_:al.passive2[Rk++][0],skill_:al.passive2[Rk++][0],burst_:al.passive2[Rk++][0]},constellation4:{durationInc:al.constellation4[1]},constellation6:{hp_:al.constellation6[1]}},[Bj,Xw]=h(om,"skill"),Yw=Nm(So,t=>[`${t}_enemyRes_`,i("on",Xw,c(Vl.skill.enemyRes_))]),[Ij,Zw]=h(om,"p1"),t3=n(a.asc,1,w(Zw,C(At(1,5),t=>c(Vl.passive1.shield_*t)),O)),Hv=n(a.asc,4,m(c(Vl.passive2.auto_),a.premod.hp)),Ev={...Hv},Kv={...Hv},Nv={...Hv},Ov=n(a.asc,4,m(c(Vl.passive2.skill_),a.premod.hp)),Fv=n(a.asc,4,m(c(Vl.passive2.burst_),a.premod.hp)),Rj=n(a.constellation,6,zn(m(c(Vl.constellation6.hp_),a.total.hp))),xo={normal:Object.fromEntries(Vl.normal.hitArr.map((t,l)=>[l,o("atk",t,"normal")])),charged:{dmg:o("atk",Vl.charged.dmg,"charged")},plunging:E("atk",Vl.plunging),skill:{stele:o("atk",Vl.skill.stele,"skill"),resonance:o("atk",Vl.skill.resonance,"skill"),holdDMG:o("atk",Vl.skill.holdDMG,"skill"),shield:tn("geo",Sn("hp",Vl.skill.shield_,Vl.skill.shield,"skill"))},burst:{dmg:o("atk",Vl.burst.dmg,"burst")},passive2:{p4normalDmgInc:Ev,p4ChargedDmgInc:Kv,p4PlungingDmgInc:Nv,p4SKillDmgInc:Ov,p4BurstDmgInc:Fv},constellation6:{heal:Rj}},e3=n(a.constellation,3,3),a3=n(a.constellation,5,3),Mj=B(om,Qw,"liyue",Ip,xo,{premod:{skillBoost:e3,burstBoost:a3,normal_dmgInc:Ev,charged_dmgInc:Kv,plunging_dmgInc:Nv,skill_dmgInc:Ov,burst_dmgInc:Fv},teamBuff:{premod:{shield_:t3,...Yw}}}),Hj={key:om,name:Se.name,rarity:Ip.rarity,elementKey:Qw,weaponTypeKey:Ip.weaponType,gender:"M",constellationName:Se.chg("constellationName"),title:Se.chg("title"),talent:{auto:Se.talentTem("auto",[{text:Se.chg("auto.fields.normal")},{fields:Vl.normal.hitArr.map((t,l)=>({node:e(xo.normal[l],{name:Se.chg(`auto.skillParams.${l}`),multi:l===4?4:void 0})}))},{text:Se.chg("auto.fields.charged")},{fields:[{node:e(xo.charged.dmg,{name:Se.chg("auto.skillParams.6")})},{text:Se.chg("auto.skillParams.7"),value:Vl.charged.stamina}]},{text:Se.chg("auto.fields.plunging")},{fields:[{node:e(xo.plunging.dmg,{name:s("plunging.dmg")})},{node:e(xo.plunging.low,{name:s("plunging.low")})},{node:e(xo.plunging.high,{name:s("plunging.high")})}]}]),skill:Se.talentTem("skill",[{fields:[{node:e(xo.skill.stele,{name:Se.ch("skill.stele")})},{node:e(xo.skill.resonance,{name:Se.ch("skill.resonance")})},{text:Se.ch("skill.maxStele"),value:t=>t.get(a.constellation).value>=1?2:1},{node:e(xo.skill.holdDMG,{name:Se.chg("skill.skillParams.2")})},{node:e(xo.skill.shield,{name:s("dmgAbsorption")})},{text:s("press.cd"),value:Vl.skill.pressCD,unit:"s"},{text:s("hold.cd"),value:Vl.skill.holdCD,unit:"s"},{text:Se.chg("skill.skillParams.5"),value:Vl.skill.shileDuration,unit:"s"}]},Se.condTem("skill",{value:Xw,path:Bj,teamBuff:!0,name:Se.ch("skill.nearShield"),states:{on:{fields:Object.values(Yw).map(t=>({node:t}))}}}),Se.condTem("passive1",{value:Zw,path:Ij,teamBuff:!0,name:Se.ch("p1cond"),states:C(At(1,5),t=>({name:d("stack",{count:t}),fields:[{node:t3}]}))})]),burst:Se.talentTem("burst",[{fields:[{node:e(xo.burst.dmg,{name:Se.chg("burst.skillParams.0")})},{text:Se.chg("burst.skillParams.1"),value:t=>t.get(a.constellation).value<4?Vl.burst.duration[t.get(a.total.burstIndex).value]:`${Vl.burst.duration[t.get(a.total.burstIndex).value]}s + ${Vl.constellation4.durationInc}`,fixed:1,unit:"s"},{text:Se.chg("burst.skillParams.2"),value:Vl.burst.cd,unit:"s"},{text:Se.chg("burst.skillParams.3"),value:Vl.burst.enerCost}]}]),passive1:Se.talentTem("passive1"),passive2:Se.talentTem("passive2",[Se.fieldsTem("passive2",{fields:[{node:Ev},{node:Kv},{node:Nv},{node:Ov},{node:Fv}]})]),passive3:Se.talentTem("passive3"),constellation1:Se.talentTem("constellation1"),constellation2:Se.talentTem("constellation2"),constellation3:Se.talentTem("constellation3",[{fields:[{node:e3}]}]),constellation4:Se.talentTem("constellation4"),constellation5:Se.talentTem("constellation5",[{fields:[{node:a3}]}]),constellation6:Se.talentTem("constellation6",[Se.fieldsTem("constellation6",{fields:[{node:e(xo.constellation6.heal,{name:Se.ch("c6heal")})}]})])}},Ej=new R(Hj,Mj),Kj={Albedo:eB,Alhaitham:dB,Aloy:fB,Amber:$B,AratakiItto:MB,Arlecchino:OB,Baizhu:UB,Barbara:tI,Beidou:iI,Bennett:vI,Candace:xI,Charlotte:wI,Chevreuse:HI,Chiori:jI,Chongyun:XI,Collei:n5,Cyno:d5,Dehya:p5,Diluc:$5,Diona:B5,Dori:j5,Eula:Q5,Faruzan:sR,Fischl:mR,Freminet:kR,Furina:CR,Gaming:RR,Ganyu:zR,Gorou:XR,HuTao:cM,Jean:yM,KaedeharaKazuha:AM,Kaeya:HM,KamisatoAyaka:zM,KamisatoAyato:YM,Kaveh:sH,Keqing:uH,Kirara:kH,Klee:$H,KujouSara:wH,KukiShinobu:RH,Layla:OH,Lisa:WH,Lynette:XH,Lyney:iE,Mika:fE,Mona:$E,Nahida:BE,Navia:GE,Neuvillette:qE,Nilou:aK,Ningguang:iK,Noelle:hK,Qiqi:_K,RaidenShogun:wK,Razor:OK,Rosaria:LK,SangonomiyaKokomi:YK,Sayu:nN,Shenhe:kN,ShikanoinHeizou:PN,Somnia:ON,Sucrose:LN,Tartaglia:XN,Thoma:aO,Tighnari:rO,TravelerAnemoF:uO,TravelerGeoF:AO,TravelerElectroF:xO,TravelerDendroF:bO,TravelerAnemoM:pO,TravelerGeoM:RO,TravelerElectroM:CO,TravelerDendroM:yO,TravelerHydroF:EO,TravelerHydroM:OO,Venti:UO,Wanderer:YO,Wriothesley:nF,Xiangling:dF,Xianyun:fF,Xiao:SF,Xingqiu:HF,Xinyan:zF,YaeMiko:VF,Yanfei:ej,Yaoyao:cj,Yelan:hj,Yoimiya:Pj,YunJin:wj,Zhongli:Ej};function cG(t,l="F"){return Kj[Nj(t,l)]}function Nj(t,l){return L3.includes(t)?`${t}${l}`:t}export{h as $,Om as A,zj as B,Gj as C,tG as D,nA as E,dA as F,aG as G,nG as H,Jj as I,Co as J,aA as K,mn as L,Qj as M,y as N,n as O,c as P,zf as Q,i as R,Hn as S,jc as T,_d as U,OA as V,e as W,d as X,s as Y,lG as Z,Fu as _,Xj as a,il as a0,Od as a1,w as a2,O as a3,j as a4,Lj as a5,wo as a6,$ as a7,N as a8,zn as a9,G as aa,Xg as ab,Yj as b,Vj as c,Wj as d,qj as e,L1 as f,cG as g,Zv as h,p as i,zm as j,Il as k,Su as l,q1 as m,eG as n,Zj as o,a as p,lA as q,oG as r,P as s,vr as t,fA as u,Im as v,iG as w,sG as x,Uj as y,m as z};
