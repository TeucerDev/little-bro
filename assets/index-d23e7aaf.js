import{o as _,J as io,bz as vt,cb as ls,bV as mo,f as lo,k as b,aG as P,cB as fs,d as H,br as D,b5 as hs}from"./index-ae0e5ead.js";import{r as Et,c as t,T as Me,V as c,S as fo,D as us,Q as ho,N as s,H as E,G as a,R as J,J as f,_ as d,$ as B,P as i,a0 as k,M as l,s as $,a1 as u,a2 as g,K as L,l as uo,a3 as $o,a4 as _o,j as O,a5 as $s,O as go}from"./index-2c4aa6a3.js";import{I as yo,C as _s}from"./ColoredText-c98c28ec.js";const po=5,So=["hp_","def_","atk_"];function di(e){return So.includes(e)?"%":""}const Fe=class{constructor(){if(this instanceof Fe)throw Error("A static class cannot be instantiated.")}static getArtifactEfficiency(e,m){const{substats:h,rarity:p,level:y}=e,S=h.filter(({key:v})=>v&&m.has(v)).reduce((v,{efficiency:co})=>v+(co??0),0),ro=mo(y,p),ve=h.filter(v=>!v.key).length,pt=h.filter(v=>v.key&&m.has(v.key)).length,St=m.size-pt-(m.has(e.mainStatKey)?1:0);let Ee=S;const kt=Fe.maxSubstatRollEfficiency[p];return Ee+=kt*Math.min(ve,St),(pt||ve&&St)&&(Ee+=kt*(ro-ve)),{currentEfficiency:S,maxEfficiency:Ee}}};let xe=Fe;xe.maxSubstatRollEfficiency=_(ls,e=>100*Math.max(...io.map(m=>vt(m,e)/vt(m,po))));xe.setToSlots=e=>{const m={};return Object.entries(e).forEach(([h,p])=>{p&&(m[p.setKey]?m[p.setKey].push(h):m[p.setKey]=[h])}),m};xe.levelVariant=e=>"roll"+(Math.floor(Math.max(e,0)/4)+1);class n{constructor(m,h,p){this.getSlotName=y=>this.tr(`pieces.${y}.name`),this.getSlotDesc=y=>this.tr(`pieces.${y}.desc`),this.setEffectDesc=y=>this.tr(`setEffects.${y}`),this.setEffectDocument=y=>{var S;return(S=this.sheet.setEffects[y])==null?void 0:S.document},this.hasEnough=(y,S)=>(S.get(t.artSet[this.key]).value??0)>=y,this.sheet=h,this.key=m,this.data=p}get tr(){return n.tr(this.key)}get name(){return this.tr("setName")}get setName(){return this.tr("setName")}get nameRaw(){return this.sheet.name}get rarity(){return this.sheet.rarity}get slots(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return[...lo]}}get setEffects(){return this.sheet.setEffects}static trm(m){return h=>b(Me,{ns:`artifact_${m}`,key18:h})}static tr(m){return h=>b(Me,{ns:`artifact_${m}_gen`,key18:h})}static get(m){return ni[m]}}const o=e=>{const m=h=>b(Me,{ns:`artifact_${e}_gen`,key18:h});return h=>({title:m("setName"),icon:b(yo,{size:2,src:ko(e)}),action:b(fo,{color:"success",children:c(`${h}set`)}),description:m(`setEffects.${h}`)})};function ko(e){return Et(e,"flower")||Et(e,"circlet")}function r(e,m={},h={}){return us([ho(m,e),{display:{[`artifact:${e}`]:h}}])}const je="Adventurer",Ot=o(je),gs=s(t.artSet.Adventurer,2,1e3),ys=s(t.artSet.Adventurer,4,E(a(.3),t.total.hp)),vo=r(je,{premod:{hp:gs}},{heal:ys}),Eo={name:"Adventurer",rarity:[3],setEffects:{2:{document:[{header:Ot(2),fields:[{node:gs}]}]},4:{document:[{header:Ot(4),fields:[{node:J(ys,{name:f("healing"),variant:"heal"})}]}]}}},Oo=new n(je,Eo,vo),T="ArchaicPetra",bt=o(T),[,bo]=k("artifact",T),ps=s(t.artSet.ArchaicPetra,2,a(.15)),[wo,Ss]=d(T,"element"),ks=Object.fromEntries(B.map(e=>[`${e}_dmg_`,s(t.artSet.ArchaicPetra,4,i(e,Ss,a(.35)))])),Po=r(T,{premod:{geo_dmg_:ps},teamBuff:{premod:ks}}),Ho={name:"Archaic Petra",rarity:[4,5],setEffects:{2:{document:[{header:bt(2),fields:[{node:ps}]}]},4:{document:[{header:bt(4),path:wo,value:Ss,teamBuff:!0,name:bo("condName"),states:Object.fromEntries(B.map(e=>[e,{name:b(_s,{color:e,children:f(`element.${e}`)}),fields:[{node:ks[`${e}_dmg_`]},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Bo=new n(T,Ho,Po),Q="Berserker",wt=o(Q),vs=l.info("critRate_"),Es=s(t.artSet.Berserker,2,a(.12),vs),[Do,Os]=d(Q,"hp"),bs=s(t.artSet.Berserker,4,i("70",Os,a(.24)),vs),To=r(Q,{premod:{critRate_:$(Es,bs)}}),Ao={name:"Berserker",rarity:[3,4],setEffects:{2:{document:[{header:wt(2),fields:[{node:Es}]}]},4:{document:[{header:wt(4),path:Do,value:Os,teamBuff:!0,name:c("lessPercentHP",{percent:70}),states:{70:{fields:[{node:bs}]}}}]}}},Mo=new n(Q,Ao,To),A="BlizzardStrayer",Pt=o(A),[,Oe]=k("artifact",A),[Fo,ws]=d(A,"state"),Ps=s(t.artSet.BlizzardStrayer,2,a(.15)),Ne=s(t.artSet.BlizzardStrayer,4,u(ws,{cryo:a(.2),frozen:a(.4)},g)),No=r(A,{premod:{cryo_dmg_:Ps},total:{critRate_:Ne}}),Co={name:"Blizzard Strayer",rarity:[4,5],setEffects:{2:{document:[{header:Pt(2),fields:[{node:Ps}]}]},4:{document:[{header:Pt(4),value:ws,path:Fo,name:Oe("condName"),states:{cryo:{name:Oe("condCryo"),fields:[{node:Ne}]},frozen:{name:Oe("condFrozen"),fields:[{node:Ne}]}}}]}}},Ro=new n(A,Co,No),X="BloodstainedChivalry",Ht=o(X),Hs=s(t.artSet.BloodstainedChivalry,2,a(.25)),[xo,Ge]=d(X,"defeat"),Bs=s(t.artSet.BloodstainedChivalry,4,i("hit",Ge,a(.5))),Ds=s(t.artSet.BloodstainedChivalry,4,i("hit",Ge,a(1))),jo=r(X,{premod:{physical_dmg_:Hs,charged_dmg_:Bs,staminaChargedDec_:Ds}}),Go={name:"Bloodstained Chivalry",rarity:[4,5],setEffects:{2:{document:[{header:Ht(2),fields:[{node:Hs}]}]},4:{document:[{header:Ht(4),path:xo,value:Ge,name:c("afterDefeatEnemy",{percent:70}),states:{hit:{fields:[{node:Bs},{node:Ds},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Io=new n(X,Go,jo),Y="BraveHeart",Bt=o(Y),Ts=s(t.artSet.BraveHeart,2,a(.18)),[Wo,As]=d(Y,"hp"),Ms=s(t.artSet.BraveHeart,4,i("50",As,a(.3))),Vo=r(Y,{premod:{atk_:Ts,all_dmg_:Ms}}),zo={name:"Brave Heart",rarity:[3,4],setEffects:{2:{document:[{header:Bt(2),fields:[{node:Ts}]}]},4:{document:[{header:Bt(4),path:Wo,value:As,name:c("enemyGreaterPercentHP",{percent:50}),states:{50:{fields:[{node:Ms}]}}}]}}},Lo=new n(Y,zo,Vo),Z="CrimsonWitchOfFlames",be=o(Z),[qo,Fs]=d(Z,"stack"),Ns=l.info("pyro_dmg_"),Cs=s(t.artSet.CrimsonWitchOfFlames,2,a(.15),Ns),ee=s(t.artSet.CrimsonWitchOfFlames,4,a(.4)),Rs={...ee},xs={...ee},Ie=s(t.artSet.CrimsonWitchOfFlames,4,a(.15)),js={...Ie},Gs=P(1,3),Is=s(t.artSet.CrimsonWitchOfFlames,4,u(Fs,Object.fromEntries(Gs.map(e=>[e,a(.15*e/2)])),g),Ns),Ko=r(Z,{premod:{pyro_dmg_:$(Cs,Is),overloaded_dmg_:ee,burning_dmg_:Rs,vaporize_dmg_:Ie,melt_dmg_:js,burgeon_dmg_:xs}}),Uo={name:"Crimson Witch of Flames",rarity:[4,5],setEffects:{2:{document:[{header:be(2),fields:[{node:Cs}]}]},4:{document:[{header:be(4),fields:[{node:ee},{node:Rs},{node:xs},{node:Ie},{node:js}]},{header:be(4),value:Fs,path:qo,name:c("afterUse.skill"),states:Object.fromEntries(Gs.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Is},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Jo=new n(Z,Uo,Ko),te="DeepwoodMemories",Dt=o(te),Ws=s(t.artSet.DeepwoodMemories,2,.15),[Qo,Vs]=d(te,"set4"),zs=s(t.artSet.DeepwoodMemories,4,i(Vs,"on",-.3)),Xo=r(te,{premod:{dendro_dmg_:Ws},teamBuff:{premod:{dendro_enemyRes_:zs}}}),Yo={name:"Deepwood memories",rarity:[4,5],setEffects:{2:{document:[{header:Dt(2),fields:[{node:Ws}]}]},4:{document:[{header:Dt(4),path:Qo,value:Vs,teamBuff:!0,name:c("hitOp.skillOrBurst"),states:{on:{fields:[{node:zs},{text:f("duration"),value:8,unit:"s"}]}}}]}}},Zo=new n(te,Yo,Xo),We="DefendersWill",Tt=o(We),Ls=s(t.artSet.DefendersWill,2,a(.3)),qs=fs(H,e=>[`${e}_res_`,s(t.artSet.DefendersWill,4,s(L[e],1,a(.3)))]),er=r(We,{premod:{def_:Ls,...qs}}),tr={name:"Defender's Will",rarity:[3,4],setEffects:{2:{document:[{header:Tt(2),fields:[{node:Ls}]}]},4:{document:[{header:Tt(4),fields:Object.values(qs).map(e=>({node:e}))}]}}},sr=new n(We,tr,er),se="DesertPavilionChronicle",At=o(se),Ks=s(t.artSet.DesertPavilionChronicle,2,.15),[ar,Ve]=d(se,"set4"),Us=s(t.artSet.DesertPavilionChronicle,4,i(Ve,"on",a(.1))),ae=s(t.artSet.DesertPavilionChronicle,4,i(Ve,"on",a(.4))),Js={...ae},Qs={...ae},nr=r(se,{premod:{anemo_dmg_:Ks,atkSPD_:Us,normal_dmg_:ae,charged_dmg_:Js,plunging_dmg_:Qs}}),or={name:"Desert Pavilion Chronicle",rarity:[4,5],setEffects:{2:{document:[{header:At(2),fields:[{node:Ks}]}]},4:{document:[{header:At(4),path:ar,value:Ve,teamBuff:!0,name:c("hitOp.charged"),states:{on:{fields:[{node:Us},{node:ae},{node:Js},{node:Qs},{text:f("duration"),value:15,unit:"s"}]}}}]}}},rr=new n(se,or,nr),M="EchoesOfAnOffering",Mt=o(M),[,we]=k("artifact",M),Xs=s(t.artSet.EchoesOfAnOffering,2,a(.18)),[cr,Ys]=d(M,"mode"),Ce=s(t.artSet.EchoesOfAnOffering,4,E(u(Ys,{on:a(.7),avg:a(.7*.50204)},g),t.total.atk)),dr=r(M,{premod:{atk_:Xs,normal_dmgInc:Ce}}),ir={name:"Echoes of an Offering",rarity:[4,5],setEffects:{2:{document:[{header:Mt(2),fields:[{node:Xs}]}]},4:{document:[{header:Mt(4),value:Ys,path:cr,name:we("mode"),states:{on:{name:we("always"),fields:[{node:Ce}]},avg:{name:we("avg"),fields:[{node:Ce}]}}}]}}},mr=new n(M,ir,dr),ze="EmblemOfSeveredFate",Ft=o(ze),Zs=s(t.artSet.EmblemOfSeveredFate,2,a(.2)),Re=s(t.artSet.EmblemOfSeveredFate,4,uo(a(.75),E(a(.25),t.premod.enerRech_))),lr=r(ze,{premod:{enerRech_:Zs,burst_dmg_:Re}},{burstBonus:Re}),fr={name:"Emblem of Severed Fate",rarity:[4,5],setEffects:{2:{document:[{header:Ft(2),fields:[{node:Zs}]}]},4:{document:[{header:Ft(4),fields:[{node:Re}]}]}}},hr=new n(ze,fr,lr),F="FlowerOfParadiseLost",[,ur]=k("artifact",F),Pe=o(F),ea=s(t.artSet.FlowerOfParadiseLost,2,80),ne=s(t.artSet.FlowerOfParadiseLost,4,a(.4),l.info("bloom_dmg_")),ta={...ne,info:l.info("hyperbloom_dmg_")},sa={...ne,info:l.info("burgeon_dmg_")},[$r,aa]=d(F,"stacks"),na=P(1,4),oe=s(t.artSet.FlowerOfParadiseLost,4,u(aa,Object.fromEntries(na.map(e=>[e,E(e,a(.1))])),g,l.info("bloom_dmg_"))),oa={...oe,info:l.info("hyperbloom_dmg_")},ra={...oe,info:l.info("burgeon_dmg_")},_r=r(F,{premod:{eleMas:ea,bloom_dmg_:$(ne,oe),hyperbloom_dmg_:$(ta,oa),burgeon_dmg_:$(sa,ra)}}),gr={name:"Flower of Paradise Lost",rarity:[4,5],setEffects:{2:{document:[{header:Pe(2),fields:[{node:ea}]}]},4:{document:[{header:Pe(4),fields:[{node:ne},{node:ta},{node:sa}]},{header:Pe(4),path:$r,value:aa,name:ur("condName"),states:Object.fromEntries(na.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:oe},{node:oa},{node:ra},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},yr=new n(F,gr,_r),Le="Gambler",Nt=o(Le),ca=s(t.artSet.Gambler,2,a(.2)),pr=r(Le,{premod:{skill_dmg_:ca}}),Sr={name:"Gambler",rarity:[3,4],setEffects:{2:{document:[{header:Nt(2),fields:[{node:ca}]}]},4:{document:[{header:Nt(4),fields:[]}]}}},kr=new n(Le,Sr,pr),w="GildedDreams",z=o(w),[,Ct]=k("artifact",w),da=s(t.artSet.GildedDreams,2,80,l.info("eleMas")),[vr,qe]=d(w,"passive"),Rt=u(t.charEle,L,_o),Er=s(Rt,2,$(Rt,-1)),Or=$(...H.map(e=>s(L[e],1,$o(e,t.charEle,L[e])))),[br,ia]=d(w,"overrideOther"),q=D(0,3),xt=u(ia,_(q,e=>O(e)),void 0),[wr,ma]=d(w,"overrideSame"),jt=u(ma,_(q,e=>O(e)),void 0),la=s(t.artSet.GildedDreams,4,i(qe,"on",E(a(.14),$s(jt,void 0,Er,jt)))),fa=s(t.artSet.GildedDreams,4,i(qe,"on",E(50,$s(xt,void 0,Or,xt)),l.info("eleMas"))),Pr=r(w,{premod:{eleMas:$(da,fa),atk_:la}}),Hr={name:"Gilded Dreams",rarity:[4,5],setEffects:{2:{document:[{header:z(2),fields:[{node:da}]}]},4:{document:[{header:z(4),teamBuff:!0,path:vr,value:qe,name:c("afterReaction"),states:{on:{fields:[{node:la},{node:fa},{text:f("duration"),value:8,unit:"s"},{text:f("cd"),value:8,unit:"s"}]}}},{header:z(4),teamBuff:!0,path:wr,value:ma,name:Ct("overrideSameCond"),states:_(q,e=>({name:c("members",{count:e}),fields:[]}))},{header:z(4),teamBuff:!0,path:br,value:ia,name:Ct("overrideOtherCond"),states:_(q,e=>({name:c("members",{count:e}),fields:[]}))}]}}},Br=new n(w,Hr,Pr),Ke="GladiatorsFinale",Gt=o(Ke),ha=s(t.artSet.GladiatorsFinale,2,a(.18)),ua=s(t.artSet.GladiatorsFinale,4,u(t.weaponType,{sword:a(.35),polearm:a(.35),claymore:a(.35)},g)),Dr=r(Ke,{premod:{atk_:ha,normal_dmg_:ua}}),Tr={name:"Gladiator's Finale",rarity:[4,5],setEffects:{2:{document:[{header:Gt(2),fields:[{node:ha}]}]},4:{document:[{header:Gt(4),fields:[{node:ua}]}]}}},Ar=new n(Ke,Tr,Dr),re="GoldenTroupe",He=o(re),$a=s(t.artSet.GoldenTroupe,2,.2,l.info("skill_dmg_")),_a=s(t.artSet.GoldenTroupe,4,.25,l.info("skill_dmg_")),[Mr,ga]=d(re,"set4"),ya=s(t.artSet.GoldenTroupe,4,i(ga,"on",.25,l.info("skill_dmg_"))),Fr=r(re,{premod:{skill_dmg_:$($a,_a,ya)}}),Nr={name:"Golden Troupe",rarity:[4,5],setEffects:{2:{document:[{header:He(2),fields:[{node:$a}]}]},4:{document:[{header:He(4),fields:[{node:_a}]},{header:He(4),path:Mr,value:ga,name:c("charOffField"),states:{on:{fields:[{node:ya}]}}}]}}},Cr=new n(re,Nr,Fr),ce="HeartOfDepth",It=o(ce),pa=s(t.artSet.HeartOfDepth,2,a(.15)),[Rr,Sa]=d(ce,"skill"),Ue=s(t.artSet.HeartOfDepth,4,i("cast",Sa,a(.3))),ka={...Ue},xr=r(ce,{premod:{hydro_dmg_:pa,normal_dmg_:Ue,charged_dmg_:ka}}),jr={name:"Heart of Depth",rarity:[4,5],setEffects:{2:{document:[{header:It(2),fields:[{node:pa}]}]},4:{document:[{header:It(4),path:Rr,value:Sa,name:c("afterUse.skill"),states:{cast:{fields:[{node:Ue},{node:ka},{text:f("duration"),value:15,unit:"s"}]}}}]}}},Gr=new n(ce,jr,xr),N="HuskOfOpulentDreams",Wt=o(N),[,Ir]=k("artifact",N),[Wr,Je]=d(N,"stack"),va=l.info("def_"),Ea=s(t.artSet.HuskOfOpulentDreams,2,a(.3),va),Qe=P(1,4),Oa=s(t.artSet.HuskOfOpulentDreams,4,u(Je,Object.fromEntries(Qe.map(e=>[e,a(.06*e)])),g),va),ba=s(t.artSet.HuskOfOpulentDreams,4,u(Je,Object.fromEntries(Qe.map(e=>[e,a(.06*e)])),g)),Vr=r(N,{premod:{def_:$(Ea,Oa),geo_dmg_:ba}}),zr={name:"Husk of Opulent Dreams",rarity:[4,5],setEffects:{2:{document:[{header:Wt(2),fields:[{node:Ea}]}]},4:{document:[{header:Wt(4),value:Je,path:Wr,teamBuff:!0,name:Ir("condName"),states:Object.fromEntries(Qe.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Oa},{node:ba}]}]))}]}}},Lr=new n(N,zr,Vr),de="Instructor",Vt=o(de),[qr,wa]=d(de,"set4"),Pa=s(t.artSet.Instructor,2,80),Ha=s(t.artSet.Instructor,4,i("on",wa,120)),Kr=r(de,{premod:{eleMas:Pa},teamBuff:{premod:{eleMas:Ha}}}),Ur={name:"Instructor",rarity:[3,4],setEffects:{2:{document:[{header:Vt(2),fields:[{node:Pa}]}]},4:{document:[{header:Vt(4),teamBuff:!0,value:wa,path:qr,name:c("afterReaction"),states:{on:{fields:[{node:Ha},{text:f("duration"),value:8,unit:"s"}]}}}]}}},Jr=new n(de,Ur,Kr),ie="Lavawalker",zt=o(ie),[Qr,Ba]=d(ie,"state"),Da=s(t.artSet.Lavawalker,2,a(.4)),Ta=s(t.artSet.Lavawalker,4,i("on",Ba,a(.35))),Xr=r(ie,{premod:{pyro_res_:Da,all_dmg_:Ta}}),Yr={name:"Lavawalker",rarity:[4,5],setEffects:{2:{document:[{header:zt(2),fields:[{node:Da}]}]},4:{document:[{header:zt(4),value:Ba,path:Qr,name:c("enemyAffected.burningOrPyro"),states:{on:{fields:[{node:Ta}]}}}]}}},Zr=new n(ie,Yr,Xr),Xe="LuckyDog",Lt=o(Xe),Aa=s(t.artSet.LuckyDog,2,100),Ma=s(t.artSet.LuckyDog,4,300),ec=r(Xe,{premod:{def:Aa}},{heal:Ma}),tc={name:"Lucky Dog",rarity:[3],setEffects:{2:{document:[{header:Lt(2),fields:[{node:Aa}]}]},4:{document:[{header:Lt(4),fields:[{node:J(Ma,{name:f("healing"),variant:"heal"})}]}]}}},sc=new n(Xe,tc,ec),me="MaidenBeloved",qt=o(me),[ac,Fa]=d(me,"state"),Na=s(t.artSet.MaidenBeloved,2,a(.15)),Ca=s(t.artSet.MaidenBeloved,4,i("on",Fa,a(.2))),nc=r(me,{premod:{heal_:Na},teamBuff:{premod:{incHeal_:Ca}}}),oc={name:"Maiden Beloved",rarity:[4,5],setEffects:{2:{document:[{header:qt(2),fields:[{node:Na}]}]},4:{document:[{header:qt(4),teamBuff:!0,value:Fa,path:ac,name:c("afterUse.skillOrBurst"),states:{on:{fields:[{node:Ca},{text:f("duration"),value:10,unit:"s"}]}}}]}}},rc=new n(me,oc,nc),le="MarechausseeHunter",Kt=o(le),Ye=s(t.artSet.MarechausseeHunter,2,.15),Ra={...Ye},[cc,xa]=d(le,"set4"),ja=D(1,3),Ga=s(t.artSet.MarechausseeHunter,4,u(xa,_(ja,e=>O(e*.12)),g)),dc=r(le,{premod:{normal_dmg_:Ye,charged_dmg_:Ra,critRate_:Ga}}),ic={name:"Marechaussee Hunter",rarity:[4,5],setEffects:{2:{document:[{header:Kt(2),fields:[{node:Ye},{node:Ra}]}]},4:{document:[{header:Kt(4),path:cc,value:xa,name:c("hpChange"),states:_(ja,e=>({name:c("stack",{count:e}),fields:[{node:Ga},{text:f("duration"),value:5,unit:"s"}]}))}]}}},mc=new n(le,ic,dc),fe="MartialArtist",Ut=o(fe),[lc,Ze]=d(fe,"state"),Ia=s(t.artSet.MartialArtist,2,a(.15),l.info("normal_dmg_")),Wa=s(t.artSet.MartialArtist,2,a(.15),l.info("charged_dmg_")),Va=s(t.artSet.MartialArtist,4,i("on",Ze,a(.25),l.info("normal_dmg_"))),za=s(t.artSet.MartialArtist,4,i("on",Ze,a(.25),l.info("charged_dmg_"))),fc=r(fe,{premod:{normal_dmg_:$(Ia,Va),charged_dmg_:$(Wa,za)}}),hc={name:"Martial Artist",rarity:[3,4],setEffects:{2:{document:[{header:Ut(2),fields:[{node:Ia},{node:Wa}]}]},4:{document:[{header:Ut(4),value:Ze,path:lc,name:c("afterUse.skill"),states:{on:{fields:[{node:Va},{node:za},{text:f("duration"),value:8,unit:"s"}]}}}]}}},uc=new n(fe,hc,fc),C="NighttimeWhispersInTheEchoingWoods",Be=o(C),La=s(t.artSet.NighttimeWhispersInTheEchoingWoods,2,.18),[$c,K]=d(C,"afterSkill"),qa=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(K,"on",.2,l.info("geo_dmg_"))),[_c,Ka]=d(C,"crystallize"),Ua=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(K,"on",i(Ka,"on",.2*1.5,l.info("geo_dmg_")))),gc=r(C,{premod:{atk_:La,geo_dmg_:$(qa,Ua)}}),yc={name:"Nighttime Whispers In The Echoing Woods",rarity:[4,5],setEffects:{2:{document:[{header:Be(2),fields:[{node:La}]}]},4:{document:[{header:Be(4),value:K,path:$c,name:c("hitOp.skill"),states:{on:{fields:[{node:qa}]}}},{header:Be(4),value:Ka,path:_c,canShow:i(K,"on",1),name:c("protectedByShieldCrystal"),states:{on:{fields:[{node:Ua}]}}}]}}},pc=new n(C,yc,gc),he="NoblesseOblige",Jt=o(he),Ja=s(t.artSet.NoblesseOblige,2,a(.2)),[Sc,Qa]=d(he,"set4"),Xa=s(t.artSet.NoblesseOblige,4,i(Qa,"on",a(.2))),kc=r(he,{premod:{burst_dmg_:Ja},teamBuff:{premod:{atk_:Xa}}}),vc={name:"Noblesse Oblige",rarity:[4,5],setEffects:{2:{document:[{header:Jt(2),fields:[{node:Ja}]}]},4:{document:[{header:Jt(4),teamBuff:!0,value:Qa,path:Sc,name:c("afterUse.burst"),states:{on:{fields:[{node:Xa},{text:f("duration"),value:12,unit:"s"}]}}}]}}},Ec=new n(he,vc,kc),R="NymphsDream",Qt=o(R),[,Oc]=k("artifact",R),Ya=s(t.artSet.NymphsDream,2,.15,l.info("hydro_dmg_")),[bc,et]=d(R,"set4"),tt=D(1,3),wc=[.07,.16,.25],Pc=[.04,.09,.15],Za=s(t.artSet.NymphsDream,4,u(et,_(tt,e=>O(wc[e-1])),g)),en=s(t.artSet.NymphsDream,4,u(et,_(tt,e=>O(Pc[e-1])),g),l.info("hydro_dmg_")),Hc=r(R,{premod:{hydro_dmg_:$(Ya,en),atk_:Za}}),Bc={name:"Nymph's Dream",rarity:[4,5],setEffects:{2:{document:[{header:Qt(2),fields:[{node:Ya}]}]},4:{document:[{header:Qt(4),path:bc,value:et,teamBuff:!0,name:Oc("condName"),states:_(tt,e=>({name:c("stack",{count:e}),fields:[{node:Za},{node:en},{text:f("duration"),value:8,unit:"s"}]}))}]}}},Dc=new n(R,Bc,Hc),ue="OceanHuedClam",Xt=o(ue),tn=s(t.artSet.OceanHuedClam,2,a(.15)),sn=s(t.artSet.OceanHuedClam,4,E(E(a(.9),3e4),t.enemy.physical_resMulti_)),Tc=r(ue,{premod:{heal_:tn}},{heal:sn}),Ac={name:"Ocean-Hued Clam",rarity:[4,5],setEffects:{2:{document:[{header:Xt(2),fields:[{node:tn}]}]},4:{document:[{header:Xt(4),fields:[{node:J(sn,{name:n.trm(ue)("condName"),variant:"physical"})}]}]}}},Mc=new n(ue,Ac,Tc),$e="PaleFlame",Yt=o($e),[Fc,st]=d($e,"stacks"),an=l.info("physical_dmg_"),nn=s(t.artSet.PaleFlame,2,a(.25),an),at=P(1,2),on=s(t.artSet.PaleFlame,4,u(st,Object.fromEntries(at.map(e=>[e,a(.09*e)])),g)),rn=s(t.artSet.PaleFlame,4,u(st,Object.fromEntries(at.map(e=>[e,i(e,2,a(.25))])),g),an),Nc=r($e,{premod:{physical_dmg_:$(nn,rn),atk_:on}}),Cc={name:"Pale Flame",rarity:[4,5],setEffects:{2:{document:[{header:Yt(2),fields:[{node:nn}]}]},4:{document:[{header:Yt(4),value:st,path:Fc,teamBuff:!0,name:c("hitOp.skill"),states:Object.fromEntries(at.map(e=>[e,{name:e.toString(),fields:[{node:on},{node:rn},{text:f("duration"),value:7,unit:"s"}]}]))}]}}},Rc=new n($e,Cc,Nc),nt="PrayersForDestiny",xc=o(nt),jc=r(nt),Gc={name:"Prayers for Destiny",rarity:[3,4],setEffects:{1:{document:[{header:xc(1),fields:[]}]}}},Ic=new n(nt,Gc,jc),ot="PrayersForIllumination",Wc=o(ot),Vc=r(ot),zc={name:"Prayers for Illumination",rarity:[3,4],setEffects:{1:{document:[{header:Wc(1),fields:[]}]}}},Lc=new n(ot,zc,Vc),rt="PrayersForWisdom",qc=o(rt),Kc=r(rt),Uc={name:"Prayers for Wisdom",rarity:[3,4],setEffects:{1:{document:[{header:qc(1),fields:[]}]}}},Jc=new n(rt,Uc,Kc),ct="PrayersToSpringtime",Qc=o(ct),Xc=r(ct),Yc={name:"Prayers to Springtime",rarity:[3,4],setEffects:{1:{document:[{header:Qc(1),fields:[]}]}}},Zc=new n(ct,Yc,Xc),dt="ResolutionOfSojourner",Zt=o(dt),cn=s(t.artSet.ResolutionOfSojourner,2,a(.18)),dn=s(t.artSet.ResolutionOfSojourner,4,a(.3)),ed=r(dt,{premod:{atk_:cn,charged_critRate_:dn}}),td={name:"Resolution of Sojourner",rarity:[3,4],setEffects:{2:{document:[{header:Zt(2),fields:[{node:cn}]}]},4:{document:[{header:Zt(4),fields:[{node:dn}]}]}}},sd=new n(dt,td,ed),_e="RetracingBolide",es=o(_e),[ad,it]=d(_e,"state"),mn=s(t.artSet.RetracingBolide,2,a(.35)),ln=s(t.artSet.RetracingBolide,4,i("on",it,a(.4))),fn=s(t.artSet.RetracingBolide,4,i("on",it,a(.4))),nd=r(_e,{premod:{shield_:mn,normal_dmg_:ln,charged_dmg_:fn}}),od={name:"Retracing Bolide",rarity:[4,5],setEffects:{2:{document:[{header:es(2),fields:[{node:mn}]}]},4:{document:[{header:es(4),value:it,path:ad,name:c("protectedByShield"),states:{on:{fields:[{node:ln},{node:fn}]}}}]}}},rd=new n(_e,od,nd),mt="Scholar",ts=o(mt),hn=s(t.artSet.Scholar,2,a(.2)),cd=r(mt,{premod:{enerRech_:hn}}),dd={name:"Scholar",rarity:[3,4],setEffects:{2:{document:[{header:ts(2),fields:[{node:hn}]}]},4:{document:[{header:ts(4),fields:[]}]}}},id=new n(mt,dd,cd),x="ShimenawasReminiscence",ss=o(x),[,md]=k("artifact",x),[ld,un]=d(x,"usedEnergy"),$n=s(t.artSet.ShimenawasReminiscence,2,a(.18)),ge=s(t.artSet.ShimenawasReminiscence,4,i("used",un,a(.5))),_n={...ge},gn={...ge},fd=r(x,{premod:{atk_:$n,normal_dmg_:ge,charged_dmg_:_n,plunging_dmg_:gn}}),hd={name:"Shimenawa's Reminiscence",rarity:[4,5],setEffects:{2:{document:[{header:ss(2),fields:[{node:$n}]}]},4:{document:[{header:ss(4),value:un,path:ld,name:md("afterUseEnergy"),states:{used:{fields:[{node:ge},{node:_n},{node:gn},{text:f("duration"),value:10,unit:"s"}]}}}]}}},ud=new n(x,hd,fd),j="SongOfDaysPast",as=o(j),[,$d]=k("artifact",j),yn=s(t.artSet.SongOfDaysPast,2,.15),pn=D(1e3,15e3,1e3),[_d,Sn]=d(j,"healing"),G=s(t.artSet.SongOfDaysPast,4,u(Sn,_(pn,e=>O(e*.08)),g)),kn={...G},vn={...G},En={...G},On={...G},bn={...G},gd=r(j,{premod:{heal_:yn},teamBuff:{premod:{normal_dmgInc:kn,charged_dmgInc:vn,plunging_dmgInc:En,skill_dmgInc:On,burst_dmgInc:bn}}}),yd={name:"Song of Days Past",rarity:[4,5],setEffects:{2:{document:[{header:as(2),fields:[{node:yn}]}]},4:{document:[{header:as(4),value:Sn,path:_d,name:$d("condName"),teamBuff:!0,states:_(pn,e=>({name:`${e}`,fields:[{node:kn},{node:vn},{node:En},{node:On},{node:bn},{text:c("triggerQuota"),value:5},{text:f("duration"),value:10,unit:"s"}]}))}]}}},pd=new n(j,yd,gd),ye="TenacityOfTheMillelith",ns=o(ye),wn=s(t.artSet.TenacityOfTheMillelith,2,a(.2)),[Sd,lt]=d(ye,"skill"),Pn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",lt,a(.2))),Hn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",lt,a(.3))),kd=r(ye,{premod:{hp_:wn},teamBuff:{premod:{atk_:Pn,shield_:Hn}}}),vd={name:"Tenacity of the Millelith",rarity:[4,5],setEffects:{2:{document:[{header:ns(2),fields:[{node:wn}]}]},4:{document:[{header:ns(4),teamBuff:!0,path:Sd,value:lt,name:c("hitOp.skill"),states:{cast:{fields:[{node:Pn},{node:Hn},{text:f("duration"),value:3,unit:"s"}]}}}]}}},Ed=new n(ye,vd,kd),ft="TheExile",os=o(ft),Bn=s(t.artSet.TheExile,2,a(.2)),Od=r(ft,{premod:{enerRech_:Bn}}),bd={name:"The Exile",rarity:[3,4],setEffects:{2:{document:[{header:os(2),fields:[{node:Bn}]}]},4:{document:[{header:os(4),fields:[]}]}}},wd=new n(ft,bd,Od),ht="ThunderingFury",rs=o(ht),Dn=s(t.artSet.ThunderingFury,2,a(.15)),I=s(t.artSet.ThunderingFury,4,a(.4)),Tn={...I},An={...I},Mn={...I},Fn=s(t.artSet.ThunderingFury,4,a(.2)),Pd=r(ht,{premod:{electro_dmg_:Dn,overloaded_dmg_:I,electrocharged_dmg_:Tn,superconduct_dmg_:An,hyperbloom_dmg_:Mn,aggravate_dmg_:Fn}}),Hd={name:"Thundering Fury",rarity:[4,5],setEffects:{2:{document:[{header:rs(2),fields:[{node:Dn}]}]},4:{document:[{header:rs(4),fields:[{node:I},{node:Tn},{node:An},{node:Mn},{node:Fn}]}]}}},Bd=new n(ht,Hd,Pd),pe="Thundersoother",cs=o(pe),[Dd,Nn]=d(pe,"state"),Cn=s(t.artSet.Thundersoother,2,a(.4)),Rn=s(t.artSet.Thundersoother,4,i("on",Nn,a(.35))),Td=r(pe,{premod:{electro_res_:Cn,all_dmg_:Rn}}),Ad={name:"Thundersoother",rarity:[4,5],setEffects:{2:{document:[{header:cs(2),fields:[{node:Cn}]}]},4:{document:[{header:cs(4),value:Nn,path:Dd,name:c("enemyAffected.electro"),states:{on:{fields:[{node:Rn}]}}}]}}},Md=new n(pe,Ad,Td),W="TinyMiracle",ds=o(W),[,Fd]=k("artifact",W),[Nd,xn]=d(W,"element"),jn=Object.fromEntries(H.map(e=>[e,s(t.artSet.TinyMiracle,2,a(.2),l.info(`${e}_res_`))])),Gn=Object.fromEntries(H.map(e=>[e,s(t.artSet.TinyMiracle,4,i(xn,e,a(.3)),l.info(`${e}_res_`))])),Cd=r(W,{premod:Object.fromEntries(H.map(e=>[`${e}_res_`,$(jn[e],Gn[e])]))}),Rd={name:"Tiny Miracle",rarity:[3,4],setEffects:{2:{document:[{header:ds(2),fields:Object.values(jn).map(e=>({node:e}))}]},4:{document:[{header:ds(4),path:Nd,value:xn,teamBuff:!0,name:Fd("condName"),states:Object.fromEntries(H.map(e=>[e,{name:b(_s,{color:e,children:f(`element.${e}`)}),fields:[...Object.values(Gn).map(m=>({node:m})),{text:f("duration"),value:10,unit:"s"}]}]))}]}}},xd=new n(W,Rd,Cd),ut="TravelingDoctor",is=o(ut),In=s(t.artSet.TravelingDoctor,2,a(.2)),Wn=s(t.artSet.TravelingDoctor,4,E(a(.2),t.total.hp)),jd=r(ut,{premod:{incHeal_:In}},{heal:Wn}),Gd={name:"Traveling Doctor",rarity:[3],setEffects:{2:{document:[{header:is(2),fields:[{node:In}]}]},4:{document:[{header:is(4),fields:[{node:J(Wn,{name:f("healing"),variant:"heal"})}]}]}}},Id=new n(ut,Gd,jd),V="VermillionHereafter",De=o(V),Vn=s(t.artSet.VermillionHereafter,2,a(.18),l.info("atk_")),[Wd,U]=d(V,"afterBurst"),zn=s(t.artSet.VermillionHereafter,4,i(U,"on",a(.08)),l.info("atk_")),[Vd,Ln]=d(V,"stacks"),qn=s(t.artSet.VermillionHereafter,4,i(U,"on",u(Ln,Object.fromEntries(P(1,4).map(e=>[e,a(.1*e)])),g),l.info("atk_"))),zd=r(V,{premod:{atk_:$(Vn,zn,qn)}}),Ld={name:"Vermillion Hereafter",rarity:[4,5],setEffects:{2:{document:[{header:De(2),fields:[{node:Vn}]}]},4:{document:[{header:De(4),value:U,path:Wd,teamBuff:!0,name:c("afterUse.burst"),states:{on:{fields:[{node:zn}]}}},{header:De(4),value:Ln,path:Vd,teamBuff:!0,name:c("stacks"),canShow:i(U,"on",1),states:Object.fromEntries(P(1,4).map(e=>[e,{name:c("stack",{count:e}),fields:[{node:qn}]}]))}]}}},qd=new n(V,Ld,zd),Se="ViridescentVenerer",Te=o(Se),Kn=s(t.artSet.ViridescentVenerer,2,a(.15)),Un=s(t.artSet.ViridescentVenerer,4,a(.6)),Jn=_(B,e=>[Se,`swirl${e}`]),Qn=_(B,e=>go(Jn[e])),Xn=fs(B,e=>[`${e}_enemyRes_`,s(t.artSet.ViridescentVenerer,4,i(e,Qn[e],a(-.4)))]),Kd=r(Se,{premod:{anemo_dmg_:Kn,swirl_dmg_:Un},teamBuff:{premod:{...Xn}}}),Ud={name:"Viridescent Venerer",rarity:[4,5],setEffects:{2:{document:[{header:Te(2),fields:[{node:Kn}]}]},4:{document:[{header:Te(4),fields:[{node:Un}]},{header:Te(4),teamBuff:!0,states:Object.fromEntries(B.map(e=>[e,{value:Qn[e],path:Jn[e],name:c(`swirlReaction.${e}`),fields:[{node:Xn[`${e}_enemyRes_`]},{text:c(`effectDuration.${e}`),value:10,unit:"s"}]}]))}]}}},Jd=new n(Se,Ud,Kd),ke="VourukashasGlow",Ae=o(ke),Yn=s(t.artSet.VourukashasGlow,2,.2),Zn=s(t.artSet.VourukashasGlow,4,.1,l.info("skill_dmg_")),eo=s(t.artSet.VourukashasGlow,4,.1,l.info("burst_dmg_")),[Qd,$t]=d(ke,"set4"),_t=D(1,5),to=s(t.artSet.VourukashasGlow,4,u($t,_(_t,e=>O(e*.08)),g),l.info("skill_dmg_")),so=s(t.artSet.VourukashasGlow,4,u($t,_(_t,e=>O(e*.08)),g),l.info("burst_dmg_")),Xd=r(ke,{premod:{hp_:Yn,skill_dmg_:$(Zn,to),burst_dmg_:$(eo,so)}}),Yd={name:"Vourukasha's Glow",rarity:[4,5],setEffects:{2:{document:[{header:Ae(2),fields:[{node:Yn}]}]},4:{document:[{header:Ae(4),fields:[{node:Zn},{node:eo}]},{header:Ae(4),path:Qd,value:$t,name:c("takeDmg"),states:_(_t,e=>({name:c("stack",{count:e}),fields:[{node:to},{node:so},{text:f("duration"),value:5,unit:"s"}]}))}]}}},Zd=new n(ke,Yd,Xd),gt="WanderersTroupe",ms=o(gt),ao=s(t.artSet.WanderersTroupe,2,80),no=s(t.artSet.WanderersTroupe,4,u(t.weaponType,{catalyst:a(.35),bow:a(.35)},g)),ei=r(gt,{premod:{eleMas:ao,charged_dmg_:no}}),ti={name:"Wanderer's Troupe",rarity:[4,5],setEffects:{2:{document:[{header:ms(2),fields:[{node:ao}]}]},4:{document:[{header:ms(4),fields:[{node:no}]}]}}},si=new n(gt,ti,ei),yt={Adventurer:Oo,ArchaicPetra:Bo,Berserker:Mo,BlizzardStrayer:Ro,BloodstainedChivalry:Io,BraveHeart:Lo,CrimsonWitchOfFlames:Jo,DeepwoodMemories:Zo,DefendersWill:sr,DesertPavilionChronicle:rr,EchoesOfAnOffering:mr,EmblemOfSeveredFate:hr,FlowerOfParadiseLost:yr,Gambler:kr,GildedDreams:Br,GladiatorsFinale:Ar,GoldenTroupe:Cr,HeartOfDepth:Gr,HuskOfOpulentDreams:Lr,Instructor:Jr,Lavawalker:Zr,LuckyDog:sc,MaidenBeloved:rc,MarechausseeHunter:mc,MartialArtist:uc,NighttimeWhispersInTheEchoingWoods:pc,NoblesseOblige:Ec,NymphsDream:Dc,OceanHuedClam:Mc,PaleFlame:Rc,PrayersForDestiny:Ic,PrayersForIllumination:Lc,PrayersForWisdom:Jc,PrayersToSpringtime:Zc,ResolutionOfSojourner:sd,RetracingBolide:rd,Scholar:id,ShimenawasReminiscence:ud,SongOfDaysPast:pd,TenacityOfTheMillelith:Ed,TheExile:wd,ThunderingFury:Bd,Thundersoother:Md,TinyMiracle:xd,TravelingDoctor:Id,VermillionHereafter:qd,ViridescentVenerer:Jd,VourukashasGlow:Zd,WanderersTroupe:si};function oo(e){return yt[e]}const ai=Object.fromEntries(ls.map(e=>[e,[]]));hs.forEach(e=>{const m=oo(e),h=Math.max(...m.rarity);ai[h].push(e)});const ii=us(Object.values(yt).map(e=>e.data));function mi(e){const m={};return hs.forEach(h=>{const p=oo(h),y=Object.keys(p.setEffects).map(S=>parseInt(S)).filter(S=>p.hasEnough(S,e));y.length&&(m[h]=y)}),m}const ni=yt;export{xe as A,ko as a,di as b,ii as c,mi as d,oo as g,ai as s};
