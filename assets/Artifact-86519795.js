import{f as So,k as b,bo as p,cL as us,d as P,o as $,cv as $s,b5 as _s,N as ko,bw as Et,bJ as vo}from"./index-a860c133.js";import{a as Ot,p as t,T as Me,W as c,S as Eo,v as gs,Z as Oo,O as s,z as v,P as a,X as J,Y as f,a0 as d,a1 as B,R as i,a2 as E,N as l,s as _,a3 as u,a4 as g,L,k as wo,i as O,a5 as bo,a6 as Ho,a7 as ys,Q as Po}from"./index-15121402.js";import{I as Bo,C as ps}from"./ColoredText-0f1f7ce3.js";class n{constructor(m,h,S){this.getSlotName=y=>this.tr(`pieces.${y}.name`),this.getSlotDesc=y=>this.tr(`pieces.${y}.desc`),this.setEffectDesc=y=>this.tr(`setEffects.${y}`),this.setEffectDocument=y=>{var k;return(k=this.sheet.setEffects[y])==null?void 0:k.document},this.hasEnough=(y,k)=>(k.get(t.artSet[this.key]).value??0)>=y,this.sheet=h,this.key=m,this.data=S}get tr(){return n.tr(this.key)}get name(){return this.tr("setName")}get setName(){return this.tr("setName")}get nameRaw(){return this.sheet.name}get rarity(){return this.sheet.rarity}get slots(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return[...So]}}get setEffects(){return this.sheet.setEffects}static trm(m){return h=>b(Me,{ns:`artifact_${m}`,key18:h})}static tr(m){return h=>b(Me,{ns:`artifact_${m}_gen`,key18:h})}static get(m){return vi[m]}}const o=e=>{const m=h=>b(Me,{ns:`artifact_${e}_gen`,key18:h});return h=>({title:m("setName"),icon:b(Bo,{size:2,src:Do(e)}),action:b(Eo,{color:"success",children:c(`${h}set`)}),description:m(`setEffects.${h}`)})};function Do(e){return Ot(e,"flower")||Ot(e,"circlet")}function r(e,m={},h={}){return gs([Oo(m,e),{display:{[`artifact:${e}`]:h}}])}const je="Adventurer",wt=o(je),Ss=s(t.artSet.Adventurer,2,1e3),ks=s(t.artSet.Adventurer,4,v(a(.3),t.total.hp)),Ao=r(je,{premod:{hp:Ss}},{heal:ks}),To={name:"Adventurer",rarity:[3],setEffects:{2:{document:[{header:wt(2),fields:[{node:Ss}]}]},4:{document:[{header:wt(4),fields:[{node:J(ks,{name:f("healing"),variant:"heal"})}]}]}}},Fo=new n(je,To,Ao),D="ArchaicPetra",bt=o(D),[,Mo]=E("artifact",D),vs=s(t.artSet.ArchaicPetra,2,a(.15)),[No,Es]=d(D,"element"),Os=Object.fromEntries(B.map(e=>[`${e}_dmg_`,s(t.artSet.ArchaicPetra,4,i(e,Es,a(.35)))])),Co=r(D,{premod:{geo_dmg_:vs},teamBuff:{premod:Os}}),Ro={name:"Archaic Petra",rarity:[4,5],setEffects:{2:{document:[{header:bt(2),fields:[{node:vs}]}]},4:{document:[{header:bt(4),path:No,value:Es,teamBuff:!0,name:Mo("condName"),states:Object.fromEntries(B.map(e=>[e,{name:b(ps,{color:e,children:f(`element.${e}`)}),fields:[{node:Os[`${e}_dmg_`]},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},xo=new n(D,Ro,Co),Q="Berserker",Ht=o(Q),ws=l.info("critRate_"),bs=s(t.artSet.Berserker,2,a(.12),ws),[jo,Hs]=d(Q,"hp"),Ps=s(t.artSet.Berserker,4,i("70",Hs,a(.24)),ws),Wo=r(Q,{premod:{critRate_:_(bs,Ps)}}),Go={name:"Berserker",rarity:[3,4],setEffects:{2:{document:[{header:Ht(2),fields:[{node:bs}]}]},4:{document:[{header:Ht(4),path:jo,value:Hs,teamBuff:!0,name:c("lessPercentHP",{percent:70}),states:{70:{fields:[{node:Ps}]}}}]}}},Io=new n(Q,Go,Wo),A="BlizzardStrayer",Pt=o(A),[,we]=E("artifact",A),[Vo,Bs]=d(A,"state"),Ds=s(t.artSet.BlizzardStrayer,2,a(.15)),Ne=s(t.artSet.BlizzardStrayer,4,u(Bs,{cryo:a(.2),frozen:a(.4)},g)),zo=r(A,{premod:{cryo_dmg_:Ds},total:{critRate_:Ne}}),Lo={name:"Blizzard Strayer",rarity:[4,5],setEffects:{2:{document:[{header:Pt(2),fields:[{node:Ds}]}]},4:{document:[{header:Pt(4),value:Bs,path:Vo,name:we("condName"),states:{cryo:{name:we("condCryo"),fields:[{node:Ne}]},frozen:{name:we("condFrozen"),fields:[{node:Ne}]}}}]}}},Uo=new n(A,Lo,zo),X="BloodstainedChivalry",Bt=o(X),As=s(t.artSet.BloodstainedChivalry,2,a(.25)),[qo,We]=d(X,"defeat"),Ts=s(t.artSet.BloodstainedChivalry,4,i("hit",We,a(.5))),Fs=s(t.artSet.BloodstainedChivalry,4,i("hit",We,a(1))),Ko=r(X,{premod:{physical_dmg_:As,charged_dmg_:Ts,staminaChargedDec_:Fs}}),Jo={name:"Bloodstained Chivalry",rarity:[4,5],setEffects:{2:{document:[{header:Bt(2),fields:[{node:As}]}]},4:{document:[{header:Bt(4),path:qo,value:We,name:c("afterDefeatEnemy",{percent:70}),states:{hit:{fields:[{node:Ts},{node:Fs},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Qo=new n(X,Jo,Ko),Y="BraveHeart",Dt=o(Y),Ms=s(t.artSet.BraveHeart,2,a(.18)),[Xo,Ns]=d(Y,"hp"),Cs=s(t.artSet.BraveHeart,4,i("50",Ns,a(.3))),Yo=r(Y,{premod:{atk_:Ms,all_dmg_:Cs}}),Zo={name:"Brave Heart",rarity:[3,4],setEffects:{2:{document:[{header:Dt(2),fields:[{node:Ms}]}]},4:{document:[{header:Dt(4),path:Xo,value:Ns,name:c("enemyGreaterPercentHP",{percent:50}),states:{50:{fields:[{node:Cs}]}}}]}}},er=new n(Y,Zo,Yo),Z="CrimsonWitchOfFlames",be=o(Z),[tr,Rs]=d(Z,"stack"),xs=l.info("pyro_dmg_"),js=s(t.artSet.CrimsonWitchOfFlames,2,a(.15),xs),ee=s(t.artSet.CrimsonWitchOfFlames,4,a(.4)),Ws={...ee},Gs={...ee},Ge=s(t.artSet.CrimsonWitchOfFlames,4,a(.15)),Is={...Ge},Vs=p(1,3),zs=s(t.artSet.CrimsonWitchOfFlames,4,u(Rs,Object.fromEntries(Vs.map(e=>[e,a(.15*e/2)])),g),xs),sr=r(Z,{premod:{pyro_dmg_:_(js,zs),overloaded_dmg_:ee,burning_dmg_:Ws,vaporize_dmg_:Ge,melt_dmg_:Is,burgeon_dmg_:Gs}}),ar={name:"Crimson Witch of Flames",rarity:[4,5],setEffects:{2:{document:[{header:be(2),fields:[{node:js}]}]},4:{document:[{header:be(4),fields:[{node:ee},{node:Ws},{node:Gs},{node:Ge},{node:Is}]},{header:be(4),value:Rs,path:tr,name:c("afterUse.skill"),states:Object.fromEntries(Vs.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:zs},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},nr=new n(Z,ar,sr),te="DeepwoodMemories",At=o(te),Ls=s(t.artSet.DeepwoodMemories,2,.15),[or,Us]=d(te,"set4"),qs=s(t.artSet.DeepwoodMemories,4,i(Us,"on",-.3)),rr=r(te,{premod:{dendro_dmg_:Ls},teamBuff:{premod:{dendro_enemyRes_:qs}}}),cr={name:"Deepwood memories",rarity:[4,5],setEffects:{2:{document:[{header:At(2),fields:[{node:Ls}]}]},4:{document:[{header:At(4),path:or,value:Us,teamBuff:!0,name:c("hitOp.skillOrBurst"),states:{on:{fields:[{node:qs},{text:f("duration"),value:8,unit:"s"}]}}}]}}},dr=new n(te,cr,rr),Ie="DefendersWill",Tt=o(Ie),Ks=s(t.artSet.DefendersWill,2,a(.3)),Js=us(P,e=>[`${e}_res_`,s(t.artSet.DefendersWill,4,s(L[e],1,a(.3)))]),ir=r(Ie,{premod:{def_:Ks,...Js}}),mr={name:"Defender's Will",rarity:[3,4],setEffects:{2:{document:[{header:Tt(2),fields:[{node:Ks}]}]},4:{document:[{header:Tt(4),fields:Object.values(Js).map(e=>({node:e}))}]}}},lr=new n(Ie,mr,ir),se="DesertPavilionChronicle",Ft=o(se),Qs=s(t.artSet.DesertPavilionChronicle,2,.15),[fr,Ve]=d(se,"set4"),Xs=s(t.artSet.DesertPavilionChronicle,4,i(Ve,"on",a(.1))),ae=s(t.artSet.DesertPavilionChronicle,4,i(Ve,"on",a(.4))),Ys={...ae},Zs={...ae},hr=r(se,{premod:{anemo_dmg_:Qs,atkSPD_:Xs,normal_dmg_:ae,charged_dmg_:Ys,plunging_dmg_:Zs}}),ur={name:"Desert Pavilion Chronicle",rarity:[4,5],setEffects:{2:{document:[{header:Ft(2),fields:[{node:Qs}]}]},4:{document:[{header:Ft(4),path:fr,value:Ve,teamBuff:!0,name:c("hitOp.charged"),states:{on:{fields:[{node:Xs},{node:ae},{node:Ys},{node:Zs},{text:f("duration"),value:15,unit:"s"}]}}}]}}},$r=new n(se,ur,hr),T="EchoesOfAnOffering",Mt=o(T),[,He]=E("artifact",T),ea=s(t.artSet.EchoesOfAnOffering,2,a(.18)),[_r,ta]=d(T,"mode"),Ce=s(t.artSet.EchoesOfAnOffering,4,v(u(ta,{on:a(.7),avg:a(.7*.50204)},g),t.total.atk)),gr=r(T,{premod:{atk_:ea,normal_dmgInc:Ce}}),yr={name:"Echoes of an Offering",rarity:[4,5],setEffects:{2:{document:[{header:Mt(2),fields:[{node:ea}]}]},4:{document:[{header:Mt(4),value:ta,path:_r,name:He("mode"),states:{on:{name:He("always"),fields:[{node:Ce}]},avg:{name:He("avg"),fields:[{node:Ce}]}}}]}}},pr=new n(T,yr,gr),ze="EmblemOfSeveredFate",Nt=o(ze),sa=s(t.artSet.EmblemOfSeveredFate,2,a(.2)),Re=s(t.artSet.EmblemOfSeveredFate,4,wo(a(.75),v(a(.25),t.premod.enerRech_))),Sr=r(ze,{premod:{enerRech_:sa,burst_dmg_:Re}},{burstBonus:Re}),kr={name:"Emblem of Severed Fate",rarity:[4,5],setEffects:{2:{document:[{header:Nt(2),fields:[{node:sa}]}]},4:{document:[{header:Nt(4),fields:[{node:Re}]}]}}},vr=new n(ze,kr,Sr),F="FlowerOfParadiseLost",[,Er]=E("artifact",F),Pe=o(F),aa=s(t.artSet.FlowerOfParadiseLost,2,80),ne=s(t.artSet.FlowerOfParadiseLost,4,a(.4),l.info("bloom_dmg_")),na={...ne,info:l.info("hyperbloom_dmg_")},oa={...ne,info:l.info("burgeon_dmg_")},[Or,ra]=d(F,"stacks"),ca=p(1,4),oe=s(t.artSet.FlowerOfParadiseLost,4,u(ra,Object.fromEntries(ca.map(e=>[e,v(e,a(.1))])),g,l.info("bloom_dmg_"))),da={...oe,info:l.info("hyperbloom_dmg_")},ia={...oe,info:l.info("burgeon_dmg_")},wr=r(F,{premod:{eleMas:aa,bloom_dmg_:_(ne,oe),hyperbloom_dmg_:_(na,da),burgeon_dmg_:_(oa,ia)}}),br={name:"Flower of Paradise Lost",rarity:[4,5],setEffects:{2:{document:[{header:Pe(2),fields:[{node:aa}]}]},4:{document:[{header:Pe(4),fields:[{node:ne},{node:na},{node:oa}]},{header:Pe(4),path:Or,value:ra,name:Er("condName"),states:Object.fromEntries(ca.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:oe},{node:da},{node:ia},{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Hr=new n(F,br,wr),M="FragmentOfHarmonicWhimsy",Ct=o(M),[,Pr]=E("artifact",M),ma=s(t.artSet.FragmentOfHarmonicWhimsy,2,.18),la=p(1,3),[Br,fa]=d(M,"stacks"),ha=s(t.artSet.FragmentOfHarmonicWhimsy,4,v(a(.18),u(fa,$(la,e=>O(e)),g))),Dr=r(M,{premod:{atk_:ma,all_dmg_:ha}}),Ar={name:"Fragment of Harmonic Whimsy",rarity:[4,5],setEffects:{2:{document:[{header:Ct(2),fields:[{node:ma}]}]},4:{document:[{header:Ct(4),value:fa,path:Br,name:Pr("cond"),states:$(la,e=>({name:c("times",{count:e}),fields:[{node:ha},{text:f("duration"),value:6,unit:"s"}]}))}]}}},Tr=new n(M,Ar,Dr),Le="Gambler",Rt=o(Le),ua=s(t.artSet.Gambler,2,a(.2)),Fr=r(Le,{premod:{skill_dmg_:ua}}),Mr={name:"Gambler",rarity:[3,4],setEffects:{2:{document:[{header:Rt(2),fields:[{node:ua}]}]},4:{document:[{header:Rt(4),fields:[]}]}}},Nr=new n(Le,Mr,Fr),H="GildedDreams",z=o(H),[,xt]=E("artifact",H),$a=s(t.artSet.GildedDreams,2,80,l.info("eleMas")),[Cr,Ue]=d(H,"passive"),jt=u(t.charEle,L,Ho),Rr=s(jt,2,_(jt,-1)),xr=_(...P.map(e=>s(L[e],1,bo(e,t.charEle,L[e])))),[jr,_a]=d(H,"overrideOther"),U=p(0,3),Wt=u(_a,$(U,e=>O(e)),-1),[Wr,ga]=d(H,"overrideSame"),Gt=u(ga,$(U,e=>O(e)),-1),ya=s(t.artSet.GildedDreams,4,i(Ue,"on",v(a(.14),ys(Gt,-1,Rr,Gt)))),pa=s(t.artSet.GildedDreams,4,i(Ue,"on",v(50,ys(Wt,-1,xr,Wt)),l.info("eleMas"))),Gr=r(H,{premod:{eleMas:_($a,pa),atk_:ya}}),Ir={name:"Gilded Dreams",rarity:[4,5],setEffects:{2:{document:[{header:z(2),fields:[{node:$a}]}]},4:{document:[{header:z(4),teamBuff:!0,path:Cr,value:Ue,name:c("afterReaction"),states:{on:{fields:[{node:ya},{node:pa},{text:f("duration"),value:8,unit:"s"},{text:f("cd"),value:8,unit:"s"}]}}},{header:z(4),teamBuff:!0,path:Wr,value:ga,name:xt("overrideSameCond"),states:$(U,e=>({name:c("members",{count:e}),fields:[]}))},{header:z(4),teamBuff:!0,path:jr,value:_a,name:xt("overrideOtherCond"),states:$(U,e=>({name:c("members",{count:e}),fields:[]}))}]}}},Vr=new n(H,Ir,Gr),qe="GladiatorsFinale",It=o(qe),Sa=s(t.artSet.GladiatorsFinale,2,a(.18)),ka=s(t.artSet.GladiatorsFinale,4,u(t.weaponType,{sword:a(.35),polearm:a(.35),claymore:a(.35)},g)),zr=r(qe,{premod:{atk_:Sa,normal_dmg_:ka}}),Lr={name:"Gladiator's Finale",rarity:[4,5],setEffects:{2:{document:[{header:It(2),fields:[{node:Sa}]}]},4:{document:[{header:It(4),fields:[{node:ka}]}]}}},Ur=new n(qe,Lr,zr),re="GoldenTroupe",Be=o(re),va=s(t.artSet.GoldenTroupe,2,.2,l.info("skill_dmg_")),Ea=s(t.artSet.GoldenTroupe,4,.25,l.info("skill_dmg_")),[qr,Oa]=d(re,"set4"),wa=s(t.artSet.GoldenTroupe,4,i(Oa,"on",.25,l.info("skill_dmg_"))),Kr=r(re,{premod:{skill_dmg_:_(va,Ea,wa)}}),Jr={name:"Golden Troupe",rarity:[4,5],setEffects:{2:{document:[{header:Be(2),fields:[{node:va}]}]},4:{document:[{header:Be(4),fields:[{node:Ea}]},{header:Be(4),path:qr,value:Oa,name:c("charOffField"),states:{on:{fields:[{node:wa}]}}}]}}},Qr=new n(re,Jr,Kr),ce="HeartOfDepth",Vt=o(ce),ba=s(t.artSet.HeartOfDepth,2,a(.15)),[Xr,Ha]=d(ce,"skill"),Ke=s(t.artSet.HeartOfDepth,4,i("cast",Ha,a(.3))),Pa={...Ke},Yr=r(ce,{premod:{hydro_dmg_:ba,normal_dmg_:Ke,charged_dmg_:Pa}}),Zr={name:"Heart of Depth",rarity:[4,5],setEffects:{2:{document:[{header:Vt(2),fields:[{node:ba}]}]},4:{document:[{header:Vt(4),path:Xr,value:Ha,name:c("afterUse.skill"),states:{cast:{fields:[{node:Ke},{node:Pa},{text:f("duration"),value:15,unit:"s"}]}}}]}}},ec=new n(ce,Zr,Yr),N="HuskOfOpulentDreams",zt=o(N),[,tc]=E("artifact",N),[sc,Je]=d(N,"stack"),Ba=l.info("def_"),Da=s(t.artSet.HuskOfOpulentDreams,2,a(.3),Ba),Qe=p(1,4),Aa=s(t.artSet.HuskOfOpulentDreams,4,u(Je,Object.fromEntries(Qe.map(e=>[e,a(.06*e)])),g),Ba),Ta=s(t.artSet.HuskOfOpulentDreams,4,u(Je,Object.fromEntries(Qe.map(e=>[e,a(.06*e)])),g)),ac=r(N,{premod:{def_:_(Da,Aa),geo_dmg_:Ta}}),nc={name:"Husk of Opulent Dreams",rarity:[4,5],setEffects:{2:{document:[{header:zt(2),fields:[{node:Da}]}]},4:{document:[{header:zt(4),value:Je,path:sc,teamBuff:!0,name:tc("condName"),states:Object.fromEntries(Qe.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Aa},{node:Ta}]}]))}]}}},oc=new n(N,nc,ac),de="Instructor",Lt=o(de),[rc,Fa]=d(de,"set4"),Ma=s(t.artSet.Instructor,2,80),Na=s(t.artSet.Instructor,4,i("on",Fa,120)),cc=r(de,{premod:{eleMas:Ma},teamBuff:{premod:{eleMas:Na}}}),dc={name:"Instructor",rarity:[3,4],setEffects:{2:{document:[{header:Lt(2),fields:[{node:Ma}]}]},4:{document:[{header:Lt(4),teamBuff:!0,value:Fa,path:rc,name:c("afterReaction"),states:{on:{fields:[{node:Na},{text:f("duration"),value:8,unit:"s"}]}}}]}}},ic=new n(de,dc,cc),ie="Lavawalker",Ut=o(ie),[mc,Ca]=d(ie,"state"),Ra=s(t.artSet.Lavawalker,2,a(.4)),xa=s(t.artSet.Lavawalker,4,i("on",Ca,a(.35))),lc=r(ie,{premod:{pyro_res_:Ra,all_dmg_:xa}}),fc={name:"Lavawalker",rarity:[4,5],setEffects:{2:{document:[{header:Ut(2),fields:[{node:Ra}]}]},4:{document:[{header:Ut(4),value:Ca,path:mc,name:c("enemyAffected.burningOrPyro"),states:{on:{fields:[{node:xa}]}}}]}}},hc=new n(ie,fc,lc),Xe="LuckyDog",qt=o(Xe),ja=s(t.artSet.LuckyDog,2,100),Wa=s(t.artSet.LuckyDog,4,300),uc=r(Xe,{premod:{def:ja}},{heal:Wa}),$c={name:"Lucky Dog",rarity:[3],setEffects:{2:{document:[{header:qt(2),fields:[{node:ja}]}]},4:{document:[{header:qt(4),fields:[{node:J(Wa,{name:f("healing"),variant:"heal"})}]}]}}},_c=new n(Xe,$c,uc),me="MaidenBeloved",Kt=o(me),[gc,Ga]=d(me,"state"),Ia=s(t.artSet.MaidenBeloved,2,a(.15)),Va=s(t.artSet.MaidenBeloved,4,i("on",Ga,a(.2))),yc=r(me,{premod:{heal_:Ia},teamBuff:{premod:{incHeal_:Va}}}),pc={name:"Maiden Beloved",rarity:[4,5],setEffects:{2:{document:[{header:Kt(2),fields:[{node:Ia}]}]},4:{document:[{header:Kt(4),teamBuff:!0,value:Ga,path:gc,name:c("afterUse.skillOrBurst"),states:{on:{fields:[{node:Va},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Sc=new n(me,pc,yc),le="MarechausseeHunter",Jt=o(le),Ye=s(t.artSet.MarechausseeHunter,2,.15),za={...Ye},[kc,La]=d(le,"set4"),Ua=p(1,3),qa=s(t.artSet.MarechausseeHunter,4,u(La,$(Ua,e=>O(e*.12)),g)),vc=r(le,{premod:{normal_dmg_:Ye,charged_dmg_:za,critRate_:qa}}),Ec={name:"Marechaussee Hunter",rarity:[4,5],setEffects:{2:{document:[{header:Jt(2),fields:[{node:Ye},{node:za}]}]},4:{document:[{header:Jt(4),path:kc,value:La,name:c("hpChange"),states:$(Ua,e=>({name:c("stack",{count:e}),fields:[{node:qa},{text:f("duration"),value:5,unit:"s"}]}))}]}}},Oc=new n(le,Ec,vc),fe="MartialArtist",Qt=o(fe),[wc,Ze]=d(fe,"state"),Ka=s(t.artSet.MartialArtist,2,a(.15),l.info("normal_dmg_")),Ja=s(t.artSet.MartialArtist,2,a(.15),l.info("charged_dmg_")),Qa=s(t.artSet.MartialArtist,4,i("on",Ze,a(.25),l.info("normal_dmg_"))),Xa=s(t.artSet.MartialArtist,4,i("on",Ze,a(.25),l.info("charged_dmg_"))),bc=r(fe,{premod:{normal_dmg_:_(Ka,Qa),charged_dmg_:_(Ja,Xa)}}),Hc={name:"Martial Artist",rarity:[3,4],setEffects:{2:{document:[{header:Qt(2),fields:[{node:Ka},{node:Ja}]}]},4:{document:[{header:Qt(4),value:Ze,path:wc,name:c("afterUse.skill"),states:{on:{fields:[{node:Qa},{node:Xa},{text:f("duration"),value:8,unit:"s"}]}}}]}}},Pc=new n(fe,Hc,bc),C="NighttimeWhispersInTheEchoingWoods",De=o(C),Ya=s(t.artSet.NighttimeWhispersInTheEchoingWoods,2,.18),[Bc,q]=d(C,"afterSkill"),Za=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(q,"on",.2,l.info("geo_dmg_"))),[Dc,en]=d(C,"crystallize"),tn=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(q,"on",i(en,"on",.2*1.5,l.info("geo_dmg_")))),Ac=r(C,{premod:{atk_:Ya,geo_dmg_:_(Za,tn)}}),Tc={name:"Nighttime Whispers In The Echoing Woods",rarity:[4,5],setEffects:{2:{document:[{header:De(2),fields:[{node:Ya}]}]},4:{document:[{header:De(4),value:q,path:Bc,name:c("hitOp.skill"),states:{on:{fields:[{node:Za}]}}},{header:De(4),value:en,path:Dc,canShow:i(q,"on",1),name:c("protectedByShieldCrystal"),states:{on:{fields:[{node:tn}]}}}]}}},Fc=new n(C,Tc,Ac),he="NoblesseOblige",Xt=o(he),sn=s(t.artSet.NoblesseOblige,2,a(.2)),[Mc,an]=d(he,"set4"),nn=s(t.artSet.NoblesseOblige,4,i(an,"on",a(.2))),Nc=r(he,{premod:{burst_dmg_:sn},teamBuff:{premod:{atk_:nn}}}),Cc={name:"Noblesse Oblige",rarity:[4,5],setEffects:{2:{document:[{header:Xt(2),fields:[{node:sn}]}]},4:{document:[{header:Xt(4),teamBuff:!0,value:an,path:Mc,name:c("afterUse.burst"),states:{on:{fields:[{node:nn},{text:f("duration"),value:12,unit:"s"}]}}}]}}},Rc=new n(he,Cc,Nc),R="NymphsDream",Yt=o(R),[,xc]=E("artifact",R),on=s(t.artSet.NymphsDream,2,.15,l.info("hydro_dmg_")),[jc,et]=d(R,"set4"),tt=p(1,3),Wc=[.07,.16,.25],Gc=[.04,.09,.15],rn=s(t.artSet.NymphsDream,4,u(et,$(tt,e=>O(Wc[e-1])),g)),cn=s(t.artSet.NymphsDream,4,u(et,$(tt,e=>O(Gc[e-1])),g),l.info("hydro_dmg_")),Ic=r(R,{premod:{hydro_dmg_:_(on,cn),atk_:rn}}),Vc={name:"Nymph's Dream",rarity:[4,5],setEffects:{2:{document:[{header:Yt(2),fields:[{node:on}]}]},4:{document:[{header:Yt(4),path:jc,value:et,teamBuff:!0,name:xc("condName"),states:$(tt,e=>({name:c("stack",{count:e}),fields:[{node:rn},{node:cn},{text:f("duration"),value:8,unit:"s"}]}))}]}}},zc=new n(R,Vc,Ic),ue="OceanHuedClam",Zt=o(ue),dn=s(t.artSet.OceanHuedClam,2,a(.15)),mn=s(t.artSet.OceanHuedClam,4,v(v(a(.9),3e4),t.enemy.physical_resMulti_)),Lc=r(ue,{premod:{heal_:dn}},{heal:mn}),Uc={name:"Ocean-Hued Clam",rarity:[4,5],setEffects:{2:{document:[{header:Zt(2),fields:[{node:dn}]}]},4:{document:[{header:Zt(4),fields:[{node:J(mn,{name:n.trm(ue)("condName"),variant:"physical"})}]}]}}},qc=new n(ue,Uc,Lc),$e="PaleFlame",es=o($e),[Kc,st]=d($e,"stacks"),ln=l.info("physical_dmg_"),fn=s(t.artSet.PaleFlame,2,a(.25),ln),at=p(1,2),hn=s(t.artSet.PaleFlame,4,u(st,Object.fromEntries(at.map(e=>[e,a(.09*e)])),g)),un=s(t.artSet.PaleFlame,4,u(st,Object.fromEntries(at.map(e=>[e,i(e,2,a(.25))])),g),ln),Jc=r($e,{premod:{physical_dmg_:_(fn,un),atk_:hn}}),Qc={name:"Pale Flame",rarity:[4,5],setEffects:{2:{document:[{header:es(2),fields:[{node:fn}]}]},4:{document:[{header:es(4),value:st,path:Kc,teamBuff:!0,name:c("hitOp.skill"),states:Object.fromEntries(at.map(e=>[e,{name:e.toString(),fields:[{node:hn},{node:un},{text:f("duration"),value:7,unit:"s"}]}]))}]}}},Xc=new n($e,Qc,Jc),nt="PrayersForDestiny",Yc=o(nt),Zc=r(nt),ed={name:"Prayers for Destiny",rarity:[3,4],setEffects:{1:{document:[{header:Yc(1),fields:[]}]}}},td=new n(nt,ed,Zc),ot="PrayersForIllumination",sd=o(ot),ad=r(ot),nd={name:"Prayers for Illumination",rarity:[3,4],setEffects:{1:{document:[{header:sd(1),fields:[]}]}}},od=new n(ot,nd,ad),rt="PrayersForWisdom",rd=o(rt),cd=r(rt),dd={name:"Prayers for Wisdom",rarity:[3,4],setEffects:{1:{document:[{header:rd(1),fields:[]}]}}},id=new n(rt,dd,cd),ct="PrayersToSpringtime",md=o(ct),ld=r(ct),fd={name:"Prayers to Springtime",rarity:[3,4],setEffects:{1:{document:[{header:md(1),fields:[]}]}}},hd=new n(ct,fd,ld),dt="ResolutionOfSojourner",ts=o(dt),$n=s(t.artSet.ResolutionOfSojourner,2,a(.18)),_n=s(t.artSet.ResolutionOfSojourner,4,a(.3)),ud=r(dt,{premod:{atk_:$n,charged_critRate_:_n}}),$d={name:"Resolution of Sojourner",rarity:[3,4],setEffects:{2:{document:[{header:ts(2),fields:[{node:$n}]}]},4:{document:[{header:ts(4),fields:[{node:_n}]}]}}},_d=new n(dt,$d,ud),_e="RetracingBolide",ss=o(_e),[gd,it]=d(_e,"state"),gn=s(t.artSet.RetracingBolide,2,a(.35)),yn=s(t.artSet.RetracingBolide,4,i("on",it,a(.4))),pn=s(t.artSet.RetracingBolide,4,i("on",it,a(.4))),yd=r(_e,{premod:{shield_:gn,normal_dmg_:yn,charged_dmg_:pn}}),pd={name:"Retracing Bolide",rarity:[4,5],setEffects:{2:{document:[{header:ss(2),fields:[{node:gn}]}]},4:{document:[{header:ss(4),value:it,path:gd,name:c("protectedByShield"),states:{on:{fields:[{node:yn},{node:pn}]}}}]}}},Sd=new n(_e,pd,yd),mt="Scholar",as=o(mt),Sn=s(t.artSet.Scholar,2,a(.2)),kd=r(mt,{premod:{enerRech_:Sn}}),vd={name:"Scholar",rarity:[3,4],setEffects:{2:{document:[{header:as(2),fields:[{node:Sn}]}]},4:{document:[{header:as(4),fields:[]}]}}},Ed=new n(mt,vd,kd),x="ShimenawasReminiscence",ns=o(x),[,Od]=E("artifact",x),[wd,kn]=d(x,"usedEnergy"),vn=s(t.artSet.ShimenawasReminiscence,2,a(.18)),ge=s(t.artSet.ShimenawasReminiscence,4,i("used",kn,a(.5))),En={...ge},On={...ge},bd=r(x,{premod:{atk_:vn,normal_dmg_:ge,charged_dmg_:En,plunging_dmg_:On}}),Hd={name:"Shimenawa's Reminiscence",rarity:[4,5],setEffects:{2:{document:[{header:ns(2),fields:[{node:vn}]}]},4:{document:[{header:ns(4),value:kn,path:wd,name:Od("afterUseEnergy"),states:{used:{fields:[{node:ge},{node:En},{node:On},{text:f("duration"),value:10,unit:"s"}]}}}]}}},Pd=new n(x,Hd,bd),j="SongOfDaysPast",os=o(j),[,Bd]=E("artifact",j),wn=s(t.artSet.SongOfDaysPast,2,.15),bn=p(1e3,15e3,1e3),[Dd,Hn]=d(j,"healing"),W=s(t.artSet.SongOfDaysPast,4,u(Hn,$(bn,e=>O(e*.08)),g)),Pn={...W},Bn={...W},Dn={...W},An={...W},Tn={...W},Ad=r(j,{premod:{heal_:wn},teamBuff:{premod:{normal_dmgInc:Pn,charged_dmgInc:Bn,plunging_dmgInc:Dn,skill_dmgInc:An,burst_dmgInc:Tn}}}),Td={name:"Song of Days Past",rarity:[4,5],setEffects:{2:{document:[{header:os(2),fields:[{node:wn}]}]},4:{document:[{header:os(4),value:Hn,path:Dd,name:Bd("condName"),teamBuff:!0,states:$(bn,e=>({name:`${e}`,fields:[{node:Pn},{node:Bn},{node:Dn},{node:An},{node:Tn},{text:c("triggerQuota"),value:5},{text:f("duration"),value:10,unit:"s"}]}))}]}}},Fd=new n(j,Td,Ad),ye="TenacityOfTheMillelith",rs=o(ye),Fn=s(t.artSet.TenacityOfTheMillelith,2,a(.2)),[Md,lt]=d(ye,"skill"),Mn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",lt,a(.2))),Nn=s(t.artSet.TenacityOfTheMillelith,4,i("cast",lt,a(.3))),Nd=r(ye,{premod:{hp_:Fn},teamBuff:{premod:{atk_:Mn,shield_:Nn}}}),Cd={name:"Tenacity of the Millelith",rarity:[4,5],setEffects:{2:{document:[{header:rs(2),fields:[{node:Fn}]}]},4:{document:[{header:rs(4),teamBuff:!0,path:Md,value:lt,name:c("hitOp.skill"),states:{cast:{fields:[{node:Mn},{node:Nn},{text:f("duration"),value:3,unit:"s"}]}}}]}}},Rd=new n(ye,Cd,Nd),ft="TheExile",cs=o(ft),Cn=s(t.artSet.TheExile,2,a(.2)),xd=r(ft,{premod:{enerRech_:Cn}}),jd={name:"The Exile",rarity:[3,4],setEffects:{2:{document:[{header:cs(2),fields:[{node:Cn}]}]},4:{document:[{header:cs(4),fields:[]}]}}},Wd=new n(ft,jd,xd),ht="ThunderingFury",ds=o(ht),Rn=s(t.artSet.ThunderingFury,2,a(.15)),G=s(t.artSet.ThunderingFury,4,a(.4)),xn={...G},jn={...G},Wn={...G},Gn=s(t.artSet.ThunderingFury,4,a(.2)),Gd=r(ht,{premod:{electro_dmg_:Rn,overloaded_dmg_:G,electrocharged_dmg_:xn,superconduct_dmg_:jn,hyperbloom_dmg_:Wn,aggravate_dmg_:Gn}}),Id={name:"Thundering Fury",rarity:[4,5],setEffects:{2:{document:[{header:ds(2),fields:[{node:Rn}]}]},4:{document:[{header:ds(4),fields:[{node:G},{node:xn},{node:jn},{node:Wn},{node:Gn}]}]}}},Vd=new n(ht,Id,Gd),pe="Thundersoother",is=o(pe),[zd,In]=d(pe,"state"),Vn=s(t.artSet.Thundersoother,2,a(.4)),zn=s(t.artSet.Thundersoother,4,i("on",In,a(.35))),Ld=r(pe,{premod:{electro_res_:Vn,all_dmg_:zn}}),Ud={name:"Thundersoother",rarity:[4,5],setEffects:{2:{document:[{header:is(2),fields:[{node:Vn}]}]},4:{document:[{header:is(4),value:In,path:zd,name:c("enemyAffected.electro"),states:{on:{fields:[{node:zn}]}}}]}}},qd=new n(pe,Ud,Ld),I="TinyMiracle",ms=o(I),[,Kd]=E("artifact",I),[Jd,Ln]=d(I,"element"),Un=Object.fromEntries(P.map(e=>[e,s(t.artSet.TinyMiracle,2,a(.2),l.info(`${e}_res_`))])),qn=Object.fromEntries(P.map(e=>[e,s(t.artSet.TinyMiracle,4,i(Ln,e,a(.3)),l.info(`${e}_res_`))])),Qd=r(I,{premod:Object.fromEntries(P.map(e=>[`${e}_res_`,_(Un[e],qn[e])]))}),Xd={name:"Tiny Miracle",rarity:[3,4],setEffects:{2:{document:[{header:ms(2),fields:Object.values(Un).map(e=>({node:e}))}]},4:{document:[{header:ms(4),path:Jd,value:Ln,teamBuff:!0,name:Kd("condName"),states:Object.fromEntries(P.map(e=>[e,{name:b(ps,{color:e,children:f(`element.${e}`)}),fields:[...Object.values(qn).map(m=>({node:m})),{text:f("duration"),value:10,unit:"s"}]}]))}]}}},Yd=new n(I,Xd,Qd),ut="TravelingDoctor",ls=o(ut),Kn=s(t.artSet.TravelingDoctor,2,a(.2)),Jn=s(t.artSet.TravelingDoctor,4,v(a(.2),t.total.hp)),Zd=r(ut,{premod:{incHeal_:Kn}},{heal:Jn}),ei={name:"Traveling Doctor",rarity:[3],setEffects:{2:{document:[{header:ls(2),fields:[{node:Kn}]}]},4:{document:[{header:ls(4),fields:[{node:J(Jn,{name:f("healing"),variant:"heal"})}]}]}}},ti=new n(ut,ei,Zd),Se="UnfinishedReverie",fs=o(Se),Qn=s(t.artSet.UnfinishedReverie,2,.18),Xn=p(1,5),[si,Yn]=d(Se,"stacks"),Zn=s(t.artSet.UnfinishedReverie,4,v(a(.1),u(Yn,$(Xn,e=>O(e)),g))),ai=r(Se,{premod:{atk_:Qn,all_dmg_:Zn}}),ni={name:"Unfinished Reverie",rarity:[4,5],setEffects:{2:{document:[{header:fs(2),fields:[{node:Qn}]}]},4:{document:[{header:fs(4),value:Yn,path:si,name:c("stacks"),states:$(Xn,e=>({name:`${e}`,fields:[{node:Zn}]}))}]}}},oi=new n(Se,ni,ai),V="VermillionHereafter",Ae=o(V),eo=s(t.artSet.VermillionHereafter,2,a(.18),l.info("atk_")),[ri,K]=d(V,"afterBurst"),to=s(t.artSet.VermillionHereafter,4,i(K,"on",a(.08)),l.info("atk_")),[ci,so]=d(V,"stacks"),ao=s(t.artSet.VermillionHereafter,4,i(K,"on",u(so,Object.fromEntries(p(1,4).map(e=>[e,a(.1*e)])),g),l.info("atk_"))),di=r(V,{premod:{atk_:_(eo,to,ao)}}),ii={name:"Vermillion Hereafter",rarity:[4,5],setEffects:{2:{document:[{header:Ae(2),fields:[{node:eo}]}]},4:{document:[{header:Ae(4),value:K,path:ri,teamBuff:!0,name:c("afterUse.burst"),states:{on:{fields:[{node:to}]}}},{header:Ae(4),value:so,path:ci,teamBuff:!0,name:c("stacks"),canShow:i(K,"on",1),states:Object.fromEntries(p(1,4).map(e=>[e,{name:c("stack",{count:e}),fields:[{node:ao}]}]))}]}}},mi=new n(V,ii,di),ke="ViridescentVenerer",Te=o(ke),no=s(t.artSet.ViridescentVenerer,2,a(.15)),oo=s(t.artSet.ViridescentVenerer,4,a(.6)),ro=$(B,e=>[ke,`swirl${e}`]),co=$(B,e=>Po(ro[e])),io=us(B,e=>[`${e}_enemyRes_`,s(t.artSet.ViridescentVenerer,4,i(e,co[e],a(-.4)))]),li=r(ke,{premod:{anemo_dmg_:no,swirl_dmg_:oo},teamBuff:{premod:{...io}}}),fi={name:"Viridescent Venerer",rarity:[4,5],setEffects:{2:{document:[{header:Te(2),fields:[{node:no}]}]},4:{document:[{header:Te(4),fields:[{node:oo}]},{header:Te(4),teamBuff:!0,states:Object.fromEntries(B.map(e=>[e,{value:co[e],path:ro[e],name:c(`swirlReaction.${e}`),fields:[{node:io[`${e}_enemyRes_`]},{text:c(`effectDuration.${e}`),value:10,unit:"s"}]}]))}]}}},hi=new n(ke,fi,li),ve="VourukashasGlow",Fe=o(ve),mo=s(t.artSet.VourukashasGlow,2,.2),lo=s(t.artSet.VourukashasGlow,4,.1,l.info("skill_dmg_")),fo=s(t.artSet.VourukashasGlow,4,.1,l.info("burst_dmg_")),[ui,$t]=d(ve,"set4"),_t=p(1,5),ho=s(t.artSet.VourukashasGlow,4,u($t,$(_t,e=>O(e*.08)),g),l.info("skill_dmg_")),uo=s(t.artSet.VourukashasGlow,4,u($t,$(_t,e=>O(e*.08)),g),l.info("burst_dmg_")),$i=r(ve,{premod:{hp_:mo,skill_dmg_:_(lo,ho),burst_dmg_:_(fo,uo)}}),_i={name:"Vourukasha's Glow",rarity:[4,5],setEffects:{2:{document:[{header:Fe(2),fields:[{node:mo}]}]},4:{document:[{header:Fe(4),fields:[{node:lo},{node:fo}]},{header:Fe(4),path:ui,value:$t,name:c("takeDmg"),states:$(_t,e=>({name:c("stack",{count:e}),fields:[{node:ho},{node:uo},{text:f("duration"),value:5,unit:"s"}]}))}]}}},gi=new n(ve,_i,$i),gt="WanderersTroupe",hs=o(gt),$o=s(t.artSet.WanderersTroupe,2,80),_o=s(t.artSet.WanderersTroupe,4,u(t.weaponType,{catalyst:a(.35),bow:a(.35)},g)),yi=r(gt,{premod:{eleMas:$o,charged_dmg_:_o}}),pi={name:"Wanderer's Troupe",rarity:[4,5],setEffects:{2:{document:[{header:hs(2),fields:[{node:$o}]}]},4:{document:[{header:hs(4),fields:[{node:_o}]}]}}},Si=new n(gt,pi,yi),yt={Adventurer:Fo,ArchaicPetra:xo,Berserker:Io,BlizzardStrayer:Uo,BloodstainedChivalry:Qo,BraveHeart:er,CrimsonWitchOfFlames:nr,DeepwoodMemories:dr,DefendersWill:lr,DesertPavilionChronicle:$r,EchoesOfAnOffering:pr,EmblemOfSeveredFate:vr,FlowerOfParadiseLost:Hr,FragmentOfHarmonicWhimsy:Tr,Gambler:Nr,GildedDreams:Vr,GladiatorsFinale:Ur,GoldenTroupe:Qr,HeartOfDepth:ec,HuskOfOpulentDreams:oc,Instructor:ic,Lavawalker:hc,LuckyDog:_c,MaidenBeloved:Sc,MarechausseeHunter:Oc,MartialArtist:Pc,NighttimeWhispersInTheEchoingWoods:Fc,NoblesseOblige:Rc,NymphsDream:zc,OceanHuedClam:qc,PaleFlame:Xc,PrayersForDestiny:td,PrayersForIllumination:od,PrayersForWisdom:id,PrayersToSpringtime:hd,ResolutionOfSojourner:_d,RetracingBolide:Sd,Scholar:Ed,ShimenawasReminiscence:Pd,SongOfDaysPast:Fd,TenacityOfTheMillelith:Rd,TheExile:Wd,ThunderingFury:Vd,Thundersoother:qd,TinyMiracle:Yd,TravelingDoctor:ti,UnfinishedReverie:oi,VermillionHereafter:mi,ViridescentVenerer:hi,VourukashasGlow:gi,WanderersTroupe:Si};function go(e){return yt[e]}const ki=Object.fromEntries($s.map(e=>[e,[]]));_s.forEach(e=>{const m=go(e),h=Math.max(...m.rarity);ki[h].push(e)});const Pi=gs(Object.values(yt).map(e=>e.data));function Bi(e){const m={};return _s.forEach(h=>{const S=go(h),y=Object.keys(S.setEffects).map(k=>parseInt(k)).filter(k=>S.hasEnough(k,e));y.length&&(m[h]=y)}),m}const vi=yt,Ei=5,Oi=["hp_","def_","atk_"];function Di(e){return Oi.includes(e)?"%":""}const xe=class{constructor(){if(this instanceof xe)throw Error("A static class cannot be instantiated.")}static getArtifactEfficiency(e,m){const{substats:h,rarity:S,level:y}=e,k=h.filter(({key:w})=>w&&m.has(w)).reduce((w,{efficiency:po})=>w+(po??0),0),yo=vo(y,S),Ee=h.filter(w=>!w.key).length,St=h.filter(w=>w.key&&m.has(w.key)).length,kt=m.size-St-(m.has(e.mainStatKey)?1:0);let Oe=k;const vt=xe.maxSubstatRollEfficiency[S];return Oe+=vt*Math.min(Ee,kt),(St||Ee&&kt)&&(Oe+=vt*(yo-Ee)),{currentEfficiency:k,maxEfficiency:Oe}}};let pt=xe;pt.maxSubstatRollEfficiency=$($s,e=>100*Math.max(...ko.map(m=>Et(m,e)/Et(m,Ei))));pt.setToSlots=e=>{const m={};return Object.entries(e).forEach(([h,S])=>{S&&(m[S.setKey]?m[S.setKey].push(h):m[S.setKey]=[h])}),m};pt.levelVariant=e=>"roll"+(Math.floor(Math.max(e,0)/4)+1);export{pt as A,Do as a,Di as b,Pi as c,Bi as d,go as g,ki as s};
