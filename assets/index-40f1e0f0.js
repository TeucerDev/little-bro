import{f as ro,k as E,v as De,I as co,aN as io,cz as w,bo as p,cv as ns,d as H,o as h,cs as mo,b4 as os}from"./index-52652410.js";import{d as ut,v as t,R as c,x as rs,W as lo,M as s,p as y,N as a,T as q,V as m,Z as d,P as i,_ as S,s as u,$ as l,a0 as $,K as V,m as ho,c as k,a1 as fo,a2 as uo,a3 as cs,O as $o}from"./index-e160f5e8.js";import{C as ds}from"./ColoredText-fdad0407.js";const fi=e=>"roll"+(Math.floor(Math.max(e,0)/4)+1),_o=["hp_","def_","atk_"];function ui(e){return _o.includes(e)?"%":""}class n{constructor(f,_,G){this.getSlotName=g=>this.tr(`pieces.${g}.name`),this.getSlotDesc=g=>this.tr(`pieces.${g}.desc`),this.setEffectDesc=g=>this.tr(`setEffects.${g}`),this.setEffectDocument=g=>{var v;return(v=this.sheet.setEffects[g])==null?void 0:v.document},this.hasEnough=(g,v)=>(v.get(t.artSet[this.key]).value??0)>=g,this.sheet=_,this.key=f,this.data=G}get tr(){return n.tr(this.key)}get name(){return this.tr("setName")}get setName(){return this.tr("setName")}get nameRaw(){return this.sheet.name}get rarity(){return this.sheet.rarity}get slots(){switch(this.key){case"PrayersForDestiny":case"PrayersForIllumination":case"PrayersForWisdom":case"PrayersToSpringtime":return["circlet"];default:return[...ro]}}get setEffects(){return this.sheet.setEffects}static trm(f){return _=>E(De,{ns:`artifact_${f}`,key18:_})}static tr(f){return _=>E(De,{ns:`artifact_${f}_gen`,key18:_})}static get(f){return ii[f]}}const o=e=>{const f=_=>E(De,{ns:`artifact_${e}_gen`,key18:_});return _=>({title:f("setName"),icon:E(co,{size:2,src:po(e)}),action:E(io,{color:"success",children:c(`${_}set`)}),description:f(`setEffects.${_}`)})};function po(e){return ut(e,"flower")||ut(e,"circlet")}function r(e,f={},_={}){return rs([lo(f,e),{display:{[`artifact:${e}`]:_}}])}const Ne="Adventurer",$t=o(Ne),is=s(t.artSet.Adventurer,2,1e3),ms=s(t.artSet.Adventurer,4,y(a(.3),t.total.hp)),go=r(Ne,{premod:{hp:is}},{heal:ms}),yo={name:"Adventurer",rarity:[3],setEffects:{2:{document:[{header:$t(2),fields:[{node:is}]}]},4:{document:[{header:$t(4),fields:[{node:q(ms,{name:m("healing"),variant:"heal"})}]}]}}},So=new n(Ne,yo,go),P="ArchaicPetra",_t=o(P),[,ko]=S("artifact",P),ls=s(t.artSet.ArchaicPetra,2,a(.15)),[vo,hs]=d(P,"element"),fs=Object.fromEntries(w.map(e=>[`${e}_dmg_`,s(t.artSet.ArchaicPetra,4,i(e,hs,a(.35)))])),Eo=r(P,{premod:{geo_dmg_:ls},teamBuff:{premod:fs}}),Oo={name:"Archaic Petra",rarity:[4,5],setEffects:{2:{document:[{header:_t(2),fields:[{node:ls}]}]},4:{document:[{header:_t(4),path:vo,value:hs,teamBuff:!0,name:ko("condName"),states:Object.fromEntries(w.map(e=>[e,{name:E(ds,{color:e,children:m(`element.${e}`)}),fields:[{node:fs[`${e}_dmg_`]},{text:m("duration"),value:10,unit:"s"}]}]))}]}}},wo=new n(P,Oo,Eo),J="Berserker",pt=o(J),us={path:"critRate_"},$s=s(t.artSet.Berserker,2,a(.12),us),[Ho,_s]=d(J,"hp"),ps=s(t.artSet.Berserker,4,i("70",_s,a(.24)),us),Po=r(J,{premod:{critRate_:u($s,ps)}}),bo={name:"Berserker",rarity:[3,4],setEffects:{2:{document:[{header:pt(2),fields:[{node:$s}]}]},4:{document:[{header:pt(4),path:Ho,value:_s,teamBuff:!0,name:c("lessPercentHP",{percent:70}),states:{70:{fields:[{node:ps}]}}}]}}},Bo=new n(J,bo,Po),b="BlizzardStrayer",gt=o(b),[,ke]=S("artifact",b),[Do,gs]=d(b,"state"),ys=s(t.artSet.BlizzardStrayer,2,a(.15)),Te=s(t.artSet.BlizzardStrayer,4,l(gs,{cryo:a(.2),frozen:a(.4)},$)),To=r(b,{premod:{cryo_dmg_:ys},total:{critRate_:Te}}),Ao={name:"Blizzard Strayer",rarity:[4,5],setEffects:{2:{document:[{header:gt(2),fields:[{node:ys}]}]},4:{document:[{header:gt(4),value:gs,path:Do,name:ke("condName"),states:{cryo:{name:ke("condCryo"),fields:[{node:Te}]},frozen:{name:ke("condFrozen"),fields:[{node:Te}]}}}]}}},Fo=new n(b,Ao,To),K="BloodstainedChivalry",yt=o(K),Ss=s(t.artSet.BloodstainedChivalry,2,a(.25)),[No,Me]=d(K,"defeat"),ks=s(t.artSet.BloodstainedChivalry,4,i("hit",Me,a(.5))),vs=s(t.artSet.BloodstainedChivalry,4,i("hit",Me,a(1))),Mo=r(K,{premod:{physical_dmg_:Ss,charged_dmg_:ks,staminaChargedDec_:vs}}),Co={name:"Bloodstained Chivalry",rarity:[4,5],setEffects:{2:{document:[{header:yt(2),fields:[{node:Ss}]}]},4:{document:[{header:yt(4),path:No,value:Me,name:c("afterDefeatEnemy",{percent:70}),states:{hit:{fields:[{node:ks},{node:vs},{text:m("duration"),value:10,unit:"s"}]}}}]}}},Ro=new n(K,Co,Mo),Q="BraveHeart",St=o(Q),Es=s(t.artSet.BraveHeart,2,a(.18)),[jo,Os]=d(Q,"hp"),ws=s(t.artSet.BraveHeart,4,i("50",Os,a(.3))),xo=r(Q,{premod:{atk_:Es,all_dmg_:ws}}),Wo={name:"Brave Heart",rarity:[3,4],setEffects:{2:{document:[{header:St(2),fields:[{node:Es}]}]},4:{document:[{header:St(4),path:jo,value:Os,name:c("enemyGreaterPercentHP",{percent:50}),states:{50:{fields:[{node:ws}]}}}]}}},Go=new n(Q,Wo,xo),Z="CrimsonWitchOfFlames",ve=o(Z),[Io,Hs]=d(Z,"stack"),Ps={path:"pyro_dmg_"},bs=s(t.artSet.CrimsonWitchOfFlames,2,a(.15),Ps),X=s(t.artSet.CrimsonWitchOfFlames,4,a(.4)),Bs={...X},Ds={...X},Ce=s(t.artSet.CrimsonWitchOfFlames,4,a(.15)),Ts={...Ce},As=p(1,3),Fs=s(t.artSet.CrimsonWitchOfFlames,4,l(Hs,Object.fromEntries(As.map(e=>[e,a(.15*e/2)])),$),Ps),Vo=r(Z,{premod:{pyro_dmg_:u(bs,Fs),overloaded_dmg_:X,burning_dmg_:Bs,vaporize_dmg_:Ce,melt_dmg_:Ts,burgeon_dmg_:Ds}}),zo={name:"Crimson Witch of Flames",rarity:[4,5],setEffects:{2:{document:[{header:ve(2),fields:[{node:bs}]}]},4:{document:[{header:ve(4),fields:[{node:X},{node:Bs},{node:Ds},{node:Ce},{node:Ts}]},{header:ve(4),value:Hs,path:Io,name:c("afterUse.skill"),states:Object.fromEntries(As.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Fs},{text:m("duration"),value:10,unit:"s"}]}]))}]}}},Lo=new n(Z,zo,Vo),Y="DeepwoodMemories",kt=o(Y),Ns=s(t.artSet.DeepwoodMemories,2,.15),[Uo,Ms]=d(Y,"set4"),Cs=s(t.artSet.DeepwoodMemories,4,i(Ms,"on",-.3)),qo=r(Y,{premod:{dendro_dmg_:Ns},teamBuff:{premod:{dendro_enemyRes_:Cs}}}),Jo={name:"Deepwood memories",rarity:[4,5],setEffects:{2:{document:[{header:kt(2),fields:[{node:Ns}]}]},4:{document:[{header:kt(4),path:Uo,value:Ms,teamBuff:!0,name:c("hitOp.skillOrBurst"),states:{on:{fields:[{node:Cs},{text:m("duration"),value:8,unit:"s"}]}}}]}}},Ko=new n(Y,Jo,qo),Re="DefendersWill",vt=o(Re),Rs=s(t.artSet.DefendersWill,2,a(.3)),js=ns(H,e=>[`${e}_res_`,s(t.artSet.DefendersWill,4,s(V[e],1,a(.3)))]),Qo=r(Re,{premod:{def_:Rs,...js}}),Zo={name:"Defender's Will",rarity:[3,4],setEffects:{2:{document:[{header:vt(2),fields:[{node:Rs}]}]},4:{document:[{header:vt(4),fields:Object.values(js).map(e=>({node:e}))}]}}},Xo=new n(Re,Zo,Qo),ee="DesertPavilionChronicle",Et=o(ee),xs=s(t.artSet.DesertPavilionChronicle,2,.15),[Yo,je]=d(ee,"set4"),Ws=s(t.artSet.DesertPavilionChronicle,4,i(je,"on",a(.1))),te=s(t.artSet.DesertPavilionChronicle,4,i(je,"on",a(.4))),Gs={...te},Is={...te},er=r(ee,{premod:{anemo_dmg_:xs,atkSPD_:Ws,normal_dmg_:te,charged_dmg_:Gs,plunging_dmg_:Is}}),tr={name:"Desert Pavilion Chronicle",rarity:[4,5],setEffects:{2:{document:[{header:Et(2),fields:[{node:xs}]}]},4:{document:[{header:Et(4),path:Yo,value:je,teamBuff:!0,name:c("hitOp.charged"),states:{on:{fields:[{node:Ws},{node:te},{node:Gs},{node:Is},{text:m("duration"),value:15,unit:"s"}]}}}]}}},sr=new n(ee,tr,er),B="EchoesOfAnOffering",Ot=o(B),[,Ee]=S("artifact",B),Vs=s(t.artSet.EchoesOfAnOffering,2,a(.18)),[ar,zs]=d(B,"mode"),Ae=s(t.artSet.EchoesOfAnOffering,4,y(l(zs,{on:a(.7),avg:a(.7*.50204)},$),t.total.atk)),nr=r(B,{premod:{atk_:Vs,normal_dmgInc:Ae}}),or={name:"Echoes of an Offering",rarity:[4,5],setEffects:{2:{document:[{header:Ot(2),fields:[{node:Vs}]}]},4:{document:[{header:Ot(4),value:zs,path:ar,name:Ee("mode"),states:{on:{name:Ee("always"),fields:[{node:Ae}]},avg:{name:Ee("avg"),fields:[{node:Ae}]}}}]}}},rr=new n(B,or,nr),xe="EmblemOfSeveredFate",wt=o(xe),Ls=s(t.artSet.EmblemOfSeveredFate,2,a(.2)),Fe=s(t.artSet.EmblemOfSeveredFate,4,ho(a(.75),y(a(.25),t.premod.enerRech_))),cr=r(xe,{premod:{enerRech_:Ls,burst_dmg_:Fe}},{burstBonus:Fe}),dr={name:"Emblem of Severed Fate",rarity:[4,5],setEffects:{2:{document:[{header:wt(2),fields:[{node:Ls}]}]},4:{document:[{header:wt(4),fields:[{node:Fe}]}]}}},ir=new n(xe,dr,cr),D="FlowerOfParadiseLost",[,mr]=S("artifact",D),Oe=o(D),Us=s(t.artSet.FlowerOfParadiseLost,2,80),se=s(t.artSet.FlowerOfParadiseLost,4,a(.4),{path:"bloom_dmg_"}),qs={...se,info:{path:"hyperbloom_dmg_"}},Js={...se,info:{path:"burgeon_dmg_"}},[lr,Ks]=d(D,"stacks"),Qs=p(1,4),ae=s(t.artSet.FlowerOfParadiseLost,4,l(Ks,Object.fromEntries(Qs.map(e=>[e,y(e,a(.1))])),$,{path:"bloom_dmg_"})),Zs={...ae,info:{path:"hyperbloom_dmg_"}},Xs={...ae,info:{path:"burgeon_dmg_"}},hr=r(D,{premod:{eleMas:Us,bloom_dmg_:u(se,ae),hyperbloom_dmg_:u(qs,Zs),burgeon_dmg_:u(Js,Xs)}}),fr={name:"Flower of Paradise Lost",rarity:[4,5],setEffects:{2:{document:[{header:Oe(2),fields:[{node:Us}]}]},4:{document:[{header:Oe(4),fields:[{node:se},{node:qs},{node:Js}]},{header:Oe(4),path:lr,value:Ks,name:mr("condName"),states:Object.fromEntries(Qs.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:ae},{node:Zs},{node:Xs},{text:m("duration"),value:10,unit:"s"}]}]))}]}}},ur=new n(D,fr,hr),T="FragmentOfHarmonicWhimsy",Ht=o(T),[,$r]=S("artifact",T),Ys=s(t.artSet.FragmentOfHarmonicWhimsy,2,.18),ea=p(1,3),[_r,ta]=d(T,"stacks"),sa=s(t.artSet.FragmentOfHarmonicWhimsy,4,y(a(.18),l(ta,h(ea,e=>k(e)),$))),pr=r(T,{premod:{atk_:Ys,all_dmg_:sa}}),gr={name:"Fragment of Harmonic Whimsy",rarity:[4,5],setEffects:{2:{document:[{header:Ht(2),fields:[{node:Ys}]}]},4:{document:[{header:Ht(4),value:ta,path:_r,name:$r("cond"),states:h(ea,e=>({name:c("times",{count:e}),fields:[{node:sa},{text:m("duration"),value:6,unit:"s"}]}))}]}}},yr=new n(T,gr,pr),We="Gambler",Pt=o(We),aa=s(t.artSet.Gambler,2,a(.2)),Sr=r(We,{premod:{skill_dmg_:aa}}),kr={name:"Gambler",rarity:[3,4],setEffects:{2:{document:[{header:Pt(2),fields:[{node:aa}]}]},4:{document:[{header:Pt(4),fields:[]}]}}},vr=new n(We,kr,Sr),O="GildedDreams",I=o(O),[,bt]=S("artifact",O),na=s(t.artSet.GildedDreams,2,80,{path:"eleMas"}),[Er,Ge]=d(O,"passive"),Bt=l(t.charEle,V,uo),Or=s(Bt,2,u(Bt,-1)),wr=u(...H.map(e=>s(V[e],1,fo(e,t.charEle,V[e])))),[Hr,oa]=d(O,"overrideOther"),z=p(0,3),Dt=l(oa,h(z,e=>k(e)),-1),[Pr,ra]=d(O,"overrideSame"),Tt=l(ra,h(z,e=>k(e)),-1),ca=s(t.artSet.GildedDreams,4,i(Ge,"on",y(a(.14),cs(Tt,-1,Or,Tt)))),da=s(t.artSet.GildedDreams,4,i(Ge,"on",y(50,cs(Dt,-1,wr,Dt)),{path:"eleMas"})),br=r(O,{premod:{eleMas:u(na,da),atk_:ca}}),Br={name:"Gilded Dreams",rarity:[4,5],setEffects:{2:{document:[{header:I(2),fields:[{node:na}]}]},4:{document:[{header:I(4),teamBuff:!0,path:Er,value:Ge,name:c("afterReaction"),states:{on:{fields:[{node:ca},{node:da},{text:m("duration"),value:8,unit:"s"},{text:m("cd"),value:8,unit:"s"}]}}},{header:I(4),teamBuff:!0,path:Pr,value:ra,name:bt("overrideSameCond"),states:h(z,e=>({name:c("members",{count:e}),fields:[]}))},{header:I(4),teamBuff:!0,path:Hr,value:oa,name:bt("overrideOtherCond"),states:h(z,e=>({name:c("members",{count:e}),fields:[]}))}]}}},Dr=new n(O,Br,br),Ie="GladiatorsFinale",At=o(Ie),ia=s(t.artSet.GladiatorsFinale,2,a(.18)),ma=s(t.artSet.GladiatorsFinale,4,l(t.weaponType,{sword:a(.35),polearm:a(.35),claymore:a(.35)},$)),Tr=r(Ie,{premod:{atk_:ia,normal_dmg_:ma}}),Ar={name:"Gladiator's Finale",rarity:[4,5],setEffects:{2:{document:[{header:At(2),fields:[{node:ia}]}]},4:{document:[{header:At(4),fields:[{node:ma}]}]}}},Fr=new n(Ie,Ar,Tr),ne="GoldenTroupe",we=o(ne),la=s(t.artSet.GoldenTroupe,2,.2,{path:"skill_dmg_"}),ha=s(t.artSet.GoldenTroupe,4,.25,{path:"skill_dmg_"}),[Nr,fa]=d(ne,"set4"),ua=s(t.artSet.GoldenTroupe,4,i(fa,"on",.25,{path:"skill_dmg_"})),Mr=r(ne,{premod:{skill_dmg_:u(la,ha,ua)}}),Cr={name:"Golden Troupe",rarity:[4,5],setEffects:{2:{document:[{header:we(2),fields:[{node:la}]}]},4:{document:[{header:we(4),fields:[{node:ha}]},{header:we(4),path:Nr,value:fa,name:c("charOffField"),states:{on:{fields:[{node:ua}]}}}]}}},Rr=new n(ne,Cr,Mr),oe="HeartOfDepth",Ft=o(oe),$a=s(t.artSet.HeartOfDepth,2,a(.15)),[jr,_a]=d(oe,"skill"),Ve=s(t.artSet.HeartOfDepth,4,i("cast",_a,a(.3))),pa={...Ve},xr=r(oe,{premod:{hydro_dmg_:$a,normal_dmg_:Ve,charged_dmg_:pa}}),Wr={name:"Heart of Depth",rarity:[4,5],setEffects:{2:{document:[{header:Ft(2),fields:[{node:$a}]}]},4:{document:[{header:Ft(4),path:jr,value:_a,name:c("afterUse.skill"),states:{cast:{fields:[{node:Ve},{node:pa},{text:m("duration"),value:15,unit:"s"}]}}}]}}},Gr=new n(oe,Wr,xr),A="HuskOfOpulentDreams",Nt=o(A),[,Ir]=S("artifact",A),[Vr,ze]=d(A,"stack"),ga={path:"def_"},ya=s(t.artSet.HuskOfOpulentDreams,2,a(.3),ga),Le=p(1,4),Sa=s(t.artSet.HuskOfOpulentDreams,4,l(ze,Object.fromEntries(Le.map(e=>[e,a(.06*e)])),$),ga),ka=s(t.artSet.HuskOfOpulentDreams,4,l(ze,Object.fromEntries(Le.map(e=>[e,a(.06*e)])),$)),zr=r(A,{premod:{def_:u(ya,Sa),geo_dmg_:ka}}),Lr={name:"Husk of Opulent Dreams",rarity:[4,5],setEffects:{2:{document:[{header:Nt(2),fields:[{node:ya}]}]},4:{document:[{header:Nt(4),value:ze,path:Vr,teamBuff:!0,name:Ir("condName"),states:Object.fromEntries(Le.map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Sa},{node:ka}]}]))}]}}},Ur=new n(A,Lr,zr),re="Instructor",Mt=o(re),[qr,va]=d(re,"set4"),Ea=s(t.artSet.Instructor,2,80),Oa=s(t.artSet.Instructor,4,i("on",va,120)),Jr=r(re,{premod:{eleMas:Ea},teamBuff:{premod:{eleMas:Oa}}}),Kr={name:"Instructor",rarity:[3,4],setEffects:{2:{document:[{header:Mt(2),fields:[{node:Ea}]}]},4:{document:[{header:Mt(4),teamBuff:!0,value:va,path:qr,name:c("afterReaction"),states:{on:{fields:[{node:Oa},{text:m("duration"),value:8,unit:"s"}]}}}]}}},Qr=new n(re,Kr,Jr),ce="Lavawalker",Ct=o(ce),[Zr,wa]=d(ce,"state"),Ha=s(t.artSet.Lavawalker,2,a(.4)),Pa=s(t.artSet.Lavawalker,4,i("on",wa,a(.35))),Xr=r(ce,{premod:{pyro_res_:Ha,all_dmg_:Pa}}),Yr={name:"Lavawalker",rarity:[4,5],setEffects:{2:{document:[{header:Ct(2),fields:[{node:Ha}]}]},4:{document:[{header:Ct(4),value:wa,path:Zr,name:c("enemyAffected.burningOrPyro"),states:{on:{fields:[{node:Pa}]}}}]}}},ec=new n(ce,Yr,Xr),Ue="LuckyDog",Rt=o(Ue),ba=s(t.artSet.LuckyDog,2,100),Ba=s(t.artSet.LuckyDog,4,300),tc=r(Ue,{premod:{def:ba}},{heal:Ba}),sc={name:"Lucky Dog",rarity:[3],setEffects:{2:{document:[{header:Rt(2),fields:[{node:ba}]}]},4:{document:[{header:Rt(4),fields:[{node:q(Ba,{name:m("healing"),variant:"heal"})}]}]}}},ac=new n(Ue,sc,tc),de="MaidenBeloved",jt=o(de),[nc,Da]=d(de,"state"),Ta=s(t.artSet.MaidenBeloved,2,a(.15)),Aa=s(t.artSet.MaidenBeloved,4,i("on",Da,a(.2))),oc=r(de,{premod:{heal_:Ta},teamBuff:{premod:{incHeal_:Aa}}}),rc={name:"Maiden Beloved",rarity:[4,5],setEffects:{2:{document:[{header:jt(2),fields:[{node:Ta}]}]},4:{document:[{header:jt(4),teamBuff:!0,value:Da,path:nc,name:c("afterUse.skillOrBurst"),states:{on:{fields:[{node:Aa},{text:m("duration"),value:10,unit:"s"}]}}}]}}},cc=new n(de,rc,oc),ie="MarechausseeHunter",xt=o(ie),qe=s(t.artSet.MarechausseeHunter,2,.15),Fa={...qe},[dc,Na]=d(ie,"set4"),Ma=p(1,3),Ca=s(t.artSet.MarechausseeHunter,4,l(Na,h(Ma,e=>k(e*.12)),$)),ic=r(ie,{premod:{normal_dmg_:qe,charged_dmg_:Fa,critRate_:Ca}}),mc={name:"Marechaussee Hunter",rarity:[4,5],setEffects:{2:{document:[{header:xt(2),fields:[{node:qe},{node:Fa}]}]},4:{document:[{header:xt(4),path:dc,value:Na,name:c("hpChange"),states:h(Ma,e=>({name:c("stack",{count:e}),fields:[{node:Ca},{text:m("duration"),value:5,unit:"s"}]}))}]}}},lc=new n(ie,mc,ic),me="MartialArtist",Wt=o(me),[hc,Je]=d(me,"state"),Ra=s(t.artSet.MartialArtist,2,a(.15),{path:"normal_dmg_"}),ja=s(t.artSet.MartialArtist,2,a(.15),{path:"charged_dmg_"}),xa=s(t.artSet.MartialArtist,4,i("on",Je,a(.25),{path:"normal_dmg_"})),Wa=s(t.artSet.MartialArtist,4,i("on",Je,a(.25),{path:"charged_dmg_"})),fc=r(me,{premod:{normal_dmg_:u(Ra,xa),charged_dmg_:u(ja,Wa)}}),uc={name:"Martial Artist",rarity:[3,4],setEffects:{2:{document:[{header:Wt(2),fields:[{node:Ra},{node:ja}]}]},4:{document:[{header:Wt(4),value:Je,path:hc,name:c("afterUse.skill"),states:{on:{fields:[{node:xa},{node:Wa},{text:m("duration"),value:8,unit:"s"}]}}}]}}},$c=new n(me,uc,fc),F="NighttimeWhispersInTheEchoingWoods",He=o(F),Ga=s(t.artSet.NighttimeWhispersInTheEchoingWoods,2,.18),[_c,L]=d(F,"afterSkill"),Ia=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(L,"on",.2,{path:"geo_dmg_"})),[pc,Va]=d(F,"crystallize"),za=s(t.artSet.NighttimeWhispersInTheEchoingWoods,4,i(L,"on",i(Va,"on",.2*1.5,{path:"geo_dmg_"}))),gc=r(F,{premod:{atk_:Ga,geo_dmg_:u(Ia,za)}}),yc={name:"Nighttime Whispers In The Echoing Woods",rarity:[4,5],setEffects:{2:{document:[{header:He(2),fields:[{node:Ga}]}]},4:{document:[{header:He(4),value:L,path:_c,name:c("hitOp.skill"),states:{on:{fields:[{node:Ia}]}}},{header:He(4),value:Va,path:pc,canShow:i(L,"on",1),name:c("protectedByShieldCrystal"),states:{on:{fields:[{node:za}]}}}]}}},Sc=new n(F,yc,gc),le="NoblesseOblige",Gt=o(le),La=s(t.artSet.NoblesseOblige,2,a(.2)),[kc,Ua]=d(le,"set4"),qa=s(t.artSet.NoblesseOblige,4,i(Ua,"on",a(.2))),vc=r(le,{premod:{burst_dmg_:La},teamBuff:{premod:{atk_:qa}}}),Ec={name:"Noblesse Oblige",rarity:[4,5],setEffects:{2:{document:[{header:Gt(2),fields:[{node:La}]}]},4:{document:[{header:Gt(4),teamBuff:!0,value:Ua,path:kc,name:c("afterUse.burst"),states:{on:{fields:[{node:qa},{text:m("duration"),value:12,unit:"s"}]}}}]}}},Oc=new n(le,Ec,vc),N="NymphsDream",It=o(N),[,wc]=S("artifact",N),Ja=s(t.artSet.NymphsDream,2,.15,{path:"hydro_dmg_"}),[Hc,Ke]=d(N,"set4"),Qe=p(1,3),Pc=[.07,.16,.25],bc=[.04,.09,.15],Ka=s(t.artSet.NymphsDream,4,l(Ke,h(Qe,e=>k(Pc[e-1])),$)),Qa=s(t.artSet.NymphsDream,4,l(Ke,h(Qe,e=>k(bc[e-1])),$),{path:"hydro_dmg_"}),Bc=r(N,{premod:{hydro_dmg_:u(Ja,Qa),atk_:Ka}}),Dc={name:"Nymph's Dream",rarity:[4,5],setEffects:{2:{document:[{header:It(2),fields:[{node:Ja}]}]},4:{document:[{header:It(4),path:Hc,value:Ke,teamBuff:!0,name:wc("condName"),states:h(Qe,e=>({name:c("stack",{count:e}),fields:[{node:Ka},{node:Qa},{text:m("duration"),value:8,unit:"s"}]}))}]}}},Tc=new n(N,Dc,Bc),he="OceanHuedClam",Vt=o(he),Za=s(t.artSet.OceanHuedClam,2,a(.15)),Xa=s(t.artSet.OceanHuedClam,4,y(y(a(.9),3e4),t.enemy.physical_resMulti_)),Ac=r(he,{premod:{heal_:Za}},{heal:Xa}),Fc={name:"Ocean-Hued Clam",rarity:[4,5],setEffects:{2:{document:[{header:Vt(2),fields:[{node:Za}]}]},4:{document:[{header:Vt(4),fields:[{node:q(Xa,{name:n.trm(he)("condName"),variant:"physical"})}]}]}}},Nc=new n(he,Fc,Ac),fe="PaleFlame",zt=o(fe),[Mc,Ze]=d(fe,"stacks"),Ya={path:"physical_dmg_"},en=s(t.artSet.PaleFlame,2,a(.25),Ya),Xe=p(1,2),tn=s(t.artSet.PaleFlame,4,l(Ze,Object.fromEntries(Xe.map(e=>[e,a(.09*e)])),$)),sn=s(t.artSet.PaleFlame,4,l(Ze,Object.fromEntries(Xe.map(e=>[e,i(e,2,a(.25))])),$),Ya),Cc=r(fe,{premod:{physical_dmg_:u(en,sn),atk_:tn}}),Rc={name:"Pale Flame",rarity:[4,5],setEffects:{2:{document:[{header:zt(2),fields:[{node:en}]}]},4:{document:[{header:zt(4),value:Ze,path:Mc,teamBuff:!0,name:c("hitOp.skill"),states:Object.fromEntries(Xe.map(e=>[e,{name:e.toString(),fields:[{node:tn},{node:sn},{text:m("duration"),value:7,unit:"s"}]}]))}]}}},jc=new n(fe,Rc,Cc),Ye="PrayersForDestiny",xc=o(Ye),Wc=r(Ye),Gc={name:"Prayers for Destiny",rarity:[3,4],setEffects:{1:{document:[{header:xc(1),fields:[]}]}}},Ic=new n(Ye,Gc,Wc),et="PrayersForIllumination",Vc=o(et),zc=r(et),Lc={name:"Prayers for Illumination",rarity:[3,4],setEffects:{1:{document:[{header:Vc(1),fields:[]}]}}},Uc=new n(et,Lc,zc),tt="PrayersForWisdom",qc=o(tt),Jc=r(tt),Kc={name:"Prayers for Wisdom",rarity:[3,4],setEffects:{1:{document:[{header:qc(1),fields:[]}]}}},Qc=new n(tt,Kc,Jc),st="PrayersToSpringtime",Zc=o(st),Xc=r(st),Yc={name:"Prayers to Springtime",rarity:[3,4],setEffects:{1:{document:[{header:Zc(1),fields:[]}]}}},ed=new n(st,Yc,Xc),at="ResolutionOfSojourner",Lt=o(at),an=s(t.artSet.ResolutionOfSojourner,2,a(.18)),nn=s(t.artSet.ResolutionOfSojourner,4,a(.3)),td=r(at,{premod:{atk_:an,charged_critRate_:nn}}),sd={name:"Resolution of Sojourner",rarity:[3,4],setEffects:{2:{document:[{header:Lt(2),fields:[{node:an}]}]},4:{document:[{header:Lt(4),fields:[{node:nn}]}]}}},ad=new n(at,sd,td),ue="RetracingBolide",Ut=o(ue),[nd,nt]=d(ue,"state"),on=s(t.artSet.RetracingBolide,2,a(.35)),rn=s(t.artSet.RetracingBolide,4,i("on",nt,a(.4))),cn=s(t.artSet.RetracingBolide,4,i("on",nt,a(.4))),od=r(ue,{premod:{shield_:on,normal_dmg_:rn,charged_dmg_:cn}}),rd={name:"Retracing Bolide",rarity:[4,5],setEffects:{2:{document:[{header:Ut(2),fields:[{node:on}]}]},4:{document:[{header:Ut(4),value:nt,path:nd,name:c("protectedByShield"),states:{on:{fields:[{node:rn},{node:cn}]}}}]}}},cd=new n(ue,rd,od),ot="Scholar",qt=o(ot),dn=s(t.artSet.Scholar,2,a(.2)),dd=r(ot,{premod:{enerRech_:dn}}),id={name:"Scholar",rarity:[3,4],setEffects:{2:{document:[{header:qt(2),fields:[{node:dn}]}]},4:{document:[{header:qt(4),fields:[]}]}}},md=new n(ot,id,dd),M="ShimenawasReminiscence",Jt=o(M),[,ld]=S("artifact",M),[hd,mn]=d(M,"usedEnergy"),ln=s(t.artSet.ShimenawasReminiscence,2,a(.18)),$e=s(t.artSet.ShimenawasReminiscence,4,i("used",mn,a(.5))),hn={...$e},fn={...$e},fd=r(M,{premod:{atk_:ln,normal_dmg_:$e,charged_dmg_:hn,plunging_dmg_:fn}}),ud={name:"Shimenawa's Reminiscence",rarity:[4,5],setEffects:{2:{document:[{header:Jt(2),fields:[{node:ln}]}]},4:{document:[{header:Jt(4),value:mn,path:hd,name:ld("afterUseEnergy"),states:{used:{fields:[{node:$e},{node:hn},{node:fn},{text:m("duration"),value:10,unit:"s"}]}}}]}}},$d=new n(M,ud,fd),C="SongOfDaysPast",Kt=o(C),[,_d]=S("artifact",C),un=s(t.artSet.SongOfDaysPast,2,.15),$n=p(1e3,15e3,1e3),[pd,_n]=d(C,"healing"),R=s(t.artSet.SongOfDaysPast,4,l(_n,h($n,e=>k(e*.08)),$)),pn={...R},gn={...R},yn={...R},Sn={...R},kn={...R},gd=r(C,{premod:{heal_:un},teamBuff:{premod:{normal_dmgInc:pn,charged_dmgInc:gn,plunging_dmgInc:yn,skill_dmgInc:Sn,burst_dmgInc:kn}}}),yd={name:"Song of Days Past",rarity:[4,5],setEffects:{2:{document:[{header:Kt(2),fields:[{node:un}]}]},4:{document:[{header:Kt(4),value:_n,path:pd,name:_d("condName"),teamBuff:!0,states:h($n,e=>({name:`${e}`,fields:[{node:pn},{node:gn},{node:yn},{node:Sn},{node:kn},{text:c("triggerQuota"),value:5},{text:m("duration"),value:10,unit:"s"}]}))}]}}},Sd=new n(C,yd,gd),_e="TenacityOfTheMillelith",Qt=o(_e),vn=s(t.artSet.TenacityOfTheMillelith,2,a(.2)),[kd,rt]=d(_e,"skill"),En=s(t.artSet.TenacityOfTheMillelith,4,i("cast",rt,a(.2))),On=s(t.artSet.TenacityOfTheMillelith,4,i("cast",rt,a(.3))),vd=r(_e,{premod:{hp_:vn},teamBuff:{premod:{atk_:En,shield_:On}}}),Ed={name:"Tenacity of the Millelith",rarity:[4,5],setEffects:{2:{document:[{header:Qt(2),fields:[{node:vn}]}]},4:{document:[{header:Qt(4),teamBuff:!0,path:kd,value:rt,name:c("hitOp.skill"),states:{cast:{fields:[{node:En},{node:On},{text:m("duration"),value:3,unit:"s"}]}}}]}}},Od=new n(_e,Ed,vd),ct="TheExile",Zt=o(ct),wn=s(t.artSet.TheExile,2,a(.2)),wd=r(ct,{premod:{enerRech_:wn}}),Hd={name:"The Exile",rarity:[3,4],setEffects:{2:{document:[{header:Zt(2),fields:[{node:wn}]}]},4:{document:[{header:Zt(4),fields:[]}]}}},Pd=new n(ct,Hd,wd),dt="ThunderingFury",Xt=o(dt),Hn=s(t.artSet.ThunderingFury,2,a(.15)),j=s(t.artSet.ThunderingFury,4,a(.4)),Pn={...j},bn={...j},Bn={...j},Dn=s(t.artSet.ThunderingFury,4,a(.2)),bd=r(dt,{premod:{electro_dmg_:Hn,overloaded_dmg_:j,electrocharged_dmg_:Pn,superconduct_dmg_:bn,hyperbloom_dmg_:Bn,aggravate_dmg_:Dn}}),Bd={name:"Thundering Fury",rarity:[4,5],setEffects:{2:{document:[{header:Xt(2),fields:[{node:Hn}]}]},4:{document:[{header:Xt(4),fields:[{node:j},{node:Pn},{node:bn},{node:Bn},{node:Dn}]}]}}},Dd=new n(dt,Bd,bd),pe="Thundersoother",Yt=o(pe),[Td,Tn]=d(pe,"state"),An=s(t.artSet.Thundersoother,2,a(.4)),Fn=s(t.artSet.Thundersoother,4,i("on",Tn,a(.35))),Ad=r(pe,{premod:{electro_res_:An,all_dmg_:Fn}}),Fd={name:"Thundersoother",rarity:[4,5],setEffects:{2:{document:[{header:Yt(2),fields:[{node:An}]}]},4:{document:[{header:Yt(4),value:Tn,path:Td,name:c("enemyAffected.electro"),states:{on:{fields:[{node:Fn}]}}}]}}},Nd=new n(pe,Fd,Ad),x="TinyMiracle",es=o(x),[,Md]=S("artifact",x),[Cd,Nn]=d(x,"element"),Mn=Object.fromEntries(H.map(e=>[e,s(t.artSet.TinyMiracle,2,a(.2),{path:`${e}_res_`})])),Cn=Object.fromEntries(H.map(e=>[e,s(t.artSet.TinyMiracle,4,i(Nn,e,a(.3)),{path:`${e}_res_`})])),Rd=r(x,{premod:Object.fromEntries(H.map(e=>[`${e}_res_`,u(Mn[e],Cn[e])]))}),jd={name:"Tiny Miracle",rarity:[3,4],setEffects:{2:{document:[{header:es(2),fields:Object.values(Mn).map(e=>({node:e}))}]},4:{document:[{header:es(4),path:Cd,value:Nn,teamBuff:!0,name:Md("condName"),states:Object.fromEntries(H.map(e=>[e,{name:E(ds,{color:e,children:m(`element.${e}`)}),fields:[...Object.values(Cn).map(f=>({node:f})),{text:m("duration"),value:10,unit:"s"}]}]))}]}}},xd=new n(x,jd,Rd),it="TravelingDoctor",ts=o(it),Rn=s(t.artSet.TravelingDoctor,2,a(.2)),jn=s(t.artSet.TravelingDoctor,4,y(a(.2),t.total.hp)),Wd=r(it,{premod:{incHeal_:Rn}},{heal:jn}),Gd={name:"Traveling Doctor",rarity:[3],setEffects:{2:{document:[{header:ts(2),fields:[{node:Rn}]}]},4:{document:[{header:ts(4),fields:[{node:q(jn,{name:m("healing"),variant:"heal"})}]}]}}},Id=new n(it,Gd,Wd),ge="UnfinishedReverie",ss=o(ge),xn=s(t.artSet.UnfinishedReverie,2,.18),Wn=p(1,5),[Vd,Gn]=d(ge,"stacks"),In=s(t.artSet.UnfinishedReverie,4,y(a(.1),l(Gn,h(Wn,e=>k(e)),$))),zd=r(ge,{premod:{atk_:xn,all_dmg_:In}}),Ld={name:"Unfinished Reverie",rarity:[4,5],setEffects:{2:{document:[{header:ss(2),fields:[{node:xn}]}]},4:{document:[{header:ss(4),value:Gn,path:Vd,name:c("stacks"),states:h(Wn,e=>({name:`${e}`,fields:[{node:In}]}))}]}}},Ud=new n(ge,Ld,zd),W="VermillionHereafter",Pe=o(W),Vn=s(t.artSet.VermillionHereafter,2,a(.18),{path:"atk_"}),[qd,U]=d(W,"afterBurst"),zn=s(t.artSet.VermillionHereafter,4,i(U,"on",a(.08)),{path:"atk_"}),[Jd,Ln]=d(W,"stacks"),Un=s(t.artSet.VermillionHereafter,4,i(U,"on",l(Ln,Object.fromEntries(p(1,4).map(e=>[e,a(.1*e)])),$),{path:"atk_"})),Kd=r(W,{premod:{atk_:u(Vn,zn,Un)}}),Qd={name:"Vermillion Hereafter",rarity:[4,5],setEffects:{2:{document:[{header:Pe(2),fields:[{node:Vn}]}]},4:{document:[{header:Pe(4),value:U,path:qd,teamBuff:!0,name:c("afterUse.burst"),states:{on:{fields:[{node:zn}]}}},{header:Pe(4),value:Ln,path:Jd,teamBuff:!0,name:c("stacks"),canShow:i(U,"on",1),states:Object.fromEntries(p(1,4).map(e=>[e,{name:c("stack",{count:e}),fields:[{node:Un}]}]))}]}}},Zd=new n(W,Qd,Kd),ye="ViridescentVenerer",be=o(ye),qn=s(t.artSet.ViridescentVenerer,2,a(.15)),Jn=s(t.artSet.ViridescentVenerer,4,a(.6)),Kn=h(w,e=>[ye,`swirl${e}`]),Qn=h(w,e=>$o(Kn[e])),Zn=ns(w,e=>[`${e}_enemyRes_`,s(t.artSet.ViridescentVenerer,4,i(e,Qn[e],a(-.4)))]),Xd=r(ye,{premod:{anemo_dmg_:qn,swirl_dmg_:Jn},teamBuff:{premod:{...Zn}}}),Yd={name:"Viridescent Venerer",rarity:[4,5],setEffects:{2:{document:[{header:be(2),fields:[{node:qn}]}]},4:{document:[{header:be(4),fields:[{node:Jn}]},{header:be(4),teamBuff:!0,states:Object.fromEntries(w.map(e=>[e,{value:Qn[e],path:Kn[e],name:c(`swirlReaction.${e}`),fields:[{node:Zn[`${e}_enemyRes_`]},{text:c(`effectDuration.${e}`),value:10,unit:"s"}]}]))}]}}},ei=new n(ye,Yd,Xd),Se="VourukashasGlow",Be=o(Se),Xn=s(t.artSet.VourukashasGlow,2,.2),Yn=s(t.artSet.VourukashasGlow,4,.1,{path:"skill_dmg_"}),eo=s(t.artSet.VourukashasGlow,4,.1,{path:"burst_dmg_"}),[ti,mt]=d(Se,"set4"),lt=p(1,5),to=s(t.artSet.VourukashasGlow,4,l(mt,h(lt,e=>k(e*.08)),$),{path:"skill_dmg_"}),so=s(t.artSet.VourukashasGlow,4,l(mt,h(lt,e=>k(e*.08)),$),{path:"burst_dmg_"}),si=r(Se,{premod:{hp_:Xn,skill_dmg_:u(Yn,to),burst_dmg_:u(eo,so)}}),ai={name:"Vourukasha's Glow",rarity:[4,5],setEffects:{2:{document:[{header:Be(2),fields:[{node:Xn}]}]},4:{document:[{header:Be(4),fields:[{node:Yn},{node:eo}]},{header:Be(4),path:ti,value:mt,name:c("takeDmg"),states:h(lt,e=>({name:c("stack",{count:e}),fields:[{node:to},{node:so},{text:m("duration"),value:5,unit:"s"}]}))}]}}},ni=new n(Se,ai,si),ht="WanderersTroupe",as=o(ht),ao=s(t.artSet.WanderersTroupe,2,80),no=s(t.artSet.WanderersTroupe,4,l(t.weaponType,{catalyst:a(.35),bow:a(.35)},$)),oi=r(ht,{premod:{eleMas:ao,charged_dmg_:no}}),ri={name:"Wanderer's Troupe",rarity:[4,5],setEffects:{2:{document:[{header:as(2),fields:[{node:ao}]}]},4:{document:[{header:as(4),fields:[{node:no}]}]}}},ci=new n(ht,ri,oi),ft={Adventurer:So,ArchaicPetra:wo,Berserker:Bo,BlizzardStrayer:Fo,BloodstainedChivalry:Ro,BraveHeart:Go,CrimsonWitchOfFlames:Lo,DeepwoodMemories:Ko,DefendersWill:Xo,DesertPavilionChronicle:sr,EchoesOfAnOffering:rr,EmblemOfSeveredFate:ir,FlowerOfParadiseLost:ur,FragmentOfHarmonicWhimsy:yr,Gambler:vr,GildedDreams:Dr,GladiatorsFinale:Fr,GoldenTroupe:Rr,HeartOfDepth:Gr,HuskOfOpulentDreams:Ur,Instructor:Qr,Lavawalker:ec,LuckyDog:ac,MaidenBeloved:cc,MarechausseeHunter:lc,MartialArtist:$c,NighttimeWhispersInTheEchoingWoods:Sc,NoblesseOblige:Oc,NymphsDream:Tc,OceanHuedClam:Nc,PaleFlame:jc,PrayersForDestiny:Ic,PrayersForIllumination:Uc,PrayersForWisdom:Qc,PrayersToSpringtime:ed,ResolutionOfSojourner:ad,RetracingBolide:cd,Scholar:md,ShimenawasReminiscence:$d,SongOfDaysPast:Sd,TenacityOfTheMillelith:Od,TheExile:Pd,ThunderingFury:Dd,Thundersoother:Nd,TinyMiracle:xd,TravelingDoctor:Id,UnfinishedReverie:Ud,VermillionHereafter:Zd,ViridescentVenerer:ei,VourukashasGlow:ni,WanderersTroupe:ci};function oo(e){return ft[e]}const di=Object.fromEntries(mo.map(e=>[e,[]]));os.forEach(e=>{const f=oo(e),_=Math.max(...f.rarity);di[_].push(e)});const $i=rs(Object.values(ft).map(e=>e.data));function _i(e){const f={};return os.forEach(_=>{const G=oo(_),g=Object.keys(G.setEffects).map(v=>parseInt(v)).filter(v=>G.hasEnough(v,e));g.length&&(f[_]=g)}),f}const ii=ft;export{po as a,fi as b,ui as c,_i as d,$i as e,oo as g,di as s};
