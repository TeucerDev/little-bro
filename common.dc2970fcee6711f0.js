"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{73673:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},32510:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(6620),l=n(52322);const i=(0,a.Z)((0,l.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay")},17206:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(98283),l=n(80422),i=n(67550),r=n(38951),o=n(2784),s=n(21560),c=n(16015),d=n(74637),Z=n(86482),p=n(26578),h=n(71765),u=n(91672),g=n(52903);const m=["artSetKey","setArtSetKey","label"];function y(e){let{artSetKey:t,setArtSetKey:n,label:y=""}=e,x=(0,a.Z)(e,m);const{t:f}=(0,s.$G)(["artifact","artifactNames_gen"]);y=y||f("artifact:autocompleteLabels.set");const b=(0,o.useMemo)((()=>Object.entries(c.WO).flatMap((([e,t])=>t.map((t=>({key:t,label:f(`artifactNames_gen:${t}`),grouper:+e}))))).sort(u.Z)),[f]),v=(0,o.useCallback)((e=>e?(0,g.tZ)(p.Z,{src:(0,d.jU)(e),size:2}):void 0),[]),w=(0,o.useCallback)((e=>n(null!=e?e:"")),[n]);return(0,g.tZ)(Z._,Object.assign({options:b,valueKey:t,onChange:w,toImg:v,label:y,groupBy:e=>{var t,n;return null!=(t=null==(n=e.grouper)?void 0:n.toString())?t:""},renderGroup:e=>e.group&&(0,g.BX)(l.Z,{component:i.Z,children:[(0,g.BX)(r.Z,{sx:{top:"-1em"},children:[e.group," ",(0,g.tZ)(h.q,{stars:+e.group,inline:!0})]},`${e.group}Header`),e.children]},e.group)},x))}},52757:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(65992).ZP)("img")({width:"100%",height:"auto"})},87051:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(98283),l=n(65992),i=n(83249),r=n(52903);const o=["children","disabled"],s=(0,l.ZP)(i.Z)((({theme:e})=>({"&.Mui-disabled":{backgroundColor:e.palette.primary.dark,color:e.palette.text.secondary}})));function c(e){let{children:t}=e,n=(0,a.Z)(e,o);return(0,r.tZ)(s,Object.assign({},n,{disabled:!0,children:t}))}},62978:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(98283),l=n(82799),i=n(78437),r=n(47746),o=n(86432),s=n(92794),c=n(67550),d=n(66198),Z=n(10618),p=n(29432),h=n(52903);const u=["value","totals","onChange"],g=(0,Z.X)([...l.U1]);function m(e){let{value:t,totals:n,onChange:Z}=e,m=(0,a.Z)(e,u);const y=(0,r.Z)(),x=!(0,o.Z)(y.breakpoints.up("sm"));return(0,h.tZ)(p.Z,Object.assign({exclusive:!0,value:t},m,{children:l.U1.map((e=>(0,h.tZ)(s.Z,{value:e,sx:{p:x?1:void 0,minWidth:x?0:"7em",display:"flex",gap:x?0:1},onClick:()=>Z(g(t,e)),children:(0,h.BX)(c.Z,{display:"flex",children:[(0,h.tZ)("strong",{children:e}),(0,h.tZ)(i.Z,{}),(0,h.tZ)(d.Z,{label:n[e],size:"small"})]})},e)))}))}},89431:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(82799),l=n(51396),i=n(7671),r=n(41075),o=n(13780),s=n(56961),c=n(75213),d=n(67550),Z=n(62197),p=n(2784),h=n(21560),u=n(79536),g=n(44818),m=n(25870),y=n(40775),x=n(87985),f=n(67937),b=n(72055),v=n(26578),w=n(98927),C=n(71765),k=n(62978),B=n(29117),X=n(52903);function S({show:e,ascension:t=0,onHide:n,onSelect:S,filter:z=(()=>!0),weaponTypeFilter:I}){const{t:P}=(0,h.$G)(["page_weapon","weaponNames_gen"]),[W,G]=(0,p.useState)(I?[I]:[...a.yd]),{database:M}=(0,p.useContext)(m.t),[N,T]=(0,p.useState)(M.displayWeapon.get());(0,p.useEffect)((()=>M.displayWeapon.follow(((e,t)=>T(t)))),[M]),(0,p.useEffect)((()=>I&&G([I])),[I]);const[j,D]=(0,p.useState)(""),E=(0,p.useDeferredValue)(j),{rarity:K}=N,$=(0,p.useMemo)((()=>a.fG.filter((e=>z((0,g.ub)(e)))).filter((e=>W.includes((0,g.ub)(e).weaponType))).filter((e=>!E||P(`weaponNames_gen:${e}`).toLowerCase().includes(E.toLowerCase()))).filter((e=>K.includes((0,g.ub)(e).rarity))).sort(((e,t)=>(0,g.ub)(t).rarity-(0,g.ub)(e).rarity))),[E,z,K,P,W]),_=(0,p.useMemo)((()=>(0,y.W)(a.yd,(e=>a.fG.forEach((t=>{const n=(0,g.ub)(t).weaponType;e[n].total++,$.includes(t)&&e[n].current++}))))),[$]),V=(0,p.useMemo)((()=>(0,y.W)(a.U1,(e=>a.fG.forEach((t=>{const n=(0,g.ub)(t).rarity;e[n].total++,$.includes(t)&&e[n].current++}))))),[$]);return(0,X.tZ)(w.Z,{open:e,onClose:n,children:(0,X.BX)(x.Z,{children:[(0,X.tZ)(i.Z,{sx:{py:1},children:(0,X.BX)(r.ZP,{container:!0,spacing:1,children:[(0,X.tZ)(r.ZP,{item:!0,children:(0,X.tZ)(B.Z,{value:W,totals:_,onChange:G,disabled:!!I,size:"small"})}),(0,X.tZ)(r.ZP,{item:!0,children:(0,X.tZ)(k.Z,{sx:{height:"100%"},onChange:e=>M.displayWeapon.set({rarity:e}),value:K,totals:V,size:"small"})}),(0,X.tZ)(r.ZP,{item:!0,flexGrow:1,children:(0,X.tZ)(o.Z,{autoFocus:!0,size:"small",value:j,onChange:e=>D(e.target.value),label:P("weaponName"),sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,X.tZ)(r.ZP,{item:!0,children:(0,X.tZ)(b.Z,{onClick:n})})]})}),(0,X.tZ)(s.Z,{}),(0,X.tZ)(i.Z,{children:(0,X.tZ)(r.ZP,{container:!0,spacing:1,children:$.map((e=>{var a;const i=(0,g.ub)(e);return(0,X.tZ)(r.ZP,{item:!0,lg:3,md:4,children:(0,X.tZ)(f.Z,{sx:{height:"100%"},children:(0,X.BX)(c.Z,{onClick:()=>{n(),S(e)},sx:{display:"flex"},children:[(0,X.tZ)(d.Z,{component:"img",src:(0,l.Aq)(e,t>=2),sx:{width:100,height:"auto"},className:` grad-${i.rarity}star`}),(0,X.BX)(d.Z,{sx:{flexGrow:1,px:1},children:[(0,X.tZ)(Z.Z,{variant:"subtitle1",children:i.name}),(0,X.BX)(Z.Z,{sx:{display:"flex",alignItems:"baseline"},children:[(0,X.tZ)(v.Z,{size:1.5,src:null==(a=u.Z.weaponTypes)?void 0:a[i.weaponType]}),(0,X.tZ)(C.q,{stars:i.rarity,colored:!0})]})]})]})})},e)}))})}),(0,X.tZ)(s.Z,{}),(0,X.tZ)(i.Z,{sx:{py:1},children:(0,X.tZ)(b.Z,{large:!0,onClick:n})})]})})}},1296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var a=n(98283),l=n(82799),i=n(51396),r=n(16068),o=n(66147),s=n(7671),c=n(67550),d=n(13780),Z=n(56961),p=n(41075),h=n(65992),u=n(23883),g=n(43894),m=n(85801),y=n(75213),x=n(62197),f=n(2784),b=n(21560),v=n(87985),w=n(67937),C=n(76638),k=n(72055),B=n(98927),X=n(46026),S=n(83673),z=n(71765),I=n(59236),P=n(29117),W=n(790),G=n(36236),M=n(93586),N=n(21626),T=n(25870),j=n(94657),D=n(44304),E=n(32560),K=n(10002),$=n(36617),_=n(58911),V=n(45069),L=n(1661),O=n(40775),q=n(52903);const A=["className"],U=Object.keys(V.V3);function H({show:e,onHide:t,onSelect:n,filter:a=(()=>!0),newFirst:i=!1}){const{t:r}=(0,b.$G)(["page_character","sillyWisher_charNames","charNames_gen"]),{silly:o}=(0,f.useContext)(G.E),{database:h}=(0,f.useContext)(T.t),[u,g]=(0,f.useState)((()=>h.displayCharacter.get()));(0,f.useEffect)((()=>h.displayCharacter.follow(((e,t)=>g(t)))),[h,g]);const{gender:m}=(0,K.Z)(),[y,x]=(0,$.Z)();(0,f.useEffect)((()=>h.charMeta.followAny((()=>x()))),[x,h]);const[w,C]=(0,f.useState)(""),S=(0,f.useDeferredValue)(w),z=(0,f.useDeferredValue)(u),N=(0,f.useDeferredValue)(y),j=(0,f.useMemo)((()=>{var e;const{element:t,weaponType:n,sortType:r,ascending:s}=z,c=[...i?["new"]:[],...null!=(e=V.V3[r])?e:[]];return N&&l.IV.filter((e=>a(h.chars.get(e),(0,M.m)(e,m)))).filter((0,L.C)({element:t,weaponType:n,name:S},(0,V.zU)(h,o))).sort((0,L.e)(c,s,(0,V._L)(h,o),["new","favorite"]))}),[z,i,N,S,h,o,a,m]),D=(0,f.useMemo)((()=>(0,O.W)(l.yd,(e=>l.IV.forEach((t=>{const n=(0,M.m)(t,h.gender).weaponTypeKey;e[n].total++,j.includes(t)&&e[n].current++}))))),[j,h]),E=(0,f.useMemo)((()=>(0,O.W)(l.UB,(e=>l.IV.forEach((t=>{const n=(0,M.m)(t,h.gender).elementKey;e[n].total++,j.includes(t)&&e[n].current++}))))),[j,h]),{weaponType:_,element:A,sortType:H,ascending:R}=u;return(0,q.tZ)(B.Z,{open:e,onClose:t,sx:{"& .MuiContainer-root":{justifyContent:"normal"}},children:(0,q.BX)(v.Z,{children:[(0,q.BX)(s.Z,{sx:{py:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[(0,q.tZ)(P.Z,{sx:{height:"100%"},onChange:e=>h.displayCharacter.set({weaponType:e}),value:_,totals:D,size:"small"}),(0,q.tZ)(I.Z,{sx:{height:"100%"},onChange:e=>h.displayCharacter.set({element:e}),value:A,totals:E,size:"small"}),(0,q.tZ)(c.Z,{flexGrow:1,children:(0,q.tZ)(d.Z,{autoFocus:!0,value:w,onChange:e=>C(e.target.value),label:r("characterName"),size:"small",sx:{height:"100%"},InputProps:{sx:{height:"100%"}}})}),(0,q.tZ)(X.Z,{sx:{height:"100%"},sortKeys:U,value:H,onChange:e=>h.displayCharacter.set({sortType:e}),ascending:R,onChangeAsc:e=>h.displayCharacter.set({ascending:e})}),(0,q.tZ)(k.Z,{onClick:t})]}),(0,q.tZ)(Z.Z,{}),(0,q.tZ)(W.R.Provider,{value:{teamData:void 0},children:(0,q.tZ)(s.Z,{children:(0,q.tZ)(p.ZP,{container:!0,spacing:1,columns:{xs:2,sm:3,md:4,lg:5},children:j.map((e=>(0,q.tZ)(p.ZP,{item:!0,xs:1,children:(0,q.tZ)(F,{characterKey:e,onClick:()=>{t(),null==n||n(e)}})},e)))})})})]})})}const R=(0,h.ZP)((e=>{let{className:t}=e,n=(0,a.Z)(e,A);return(0,q.tZ)(u.Z,Object.assign({},n,{classes:{popper:t}}))}))({[`& .${g.Z.tooltip}`]:{padding:0}});function F({characterKey:e,onClick:t}){var n;const{gender:a}=(0,K.Z)(),l=(0,M.m)(e,a),s=(0,D.Z)(e),{favorite:d}=(0,E.Z)(e),{database:Z}=(0,f.useContext)(T.t),{silly:p}=(0,f.useContext)(G.E),[h,u,g]=(0,j.Z)(),{level:b=1,ascension:v=0,constellation:k=0}=null!=s?s:{};return(0,q.tZ)(R,{enterDelay:300,enterNextDelay:300,arrow:!0,placement:"bottom",open:h,onClose:g,onOpen:u,title:(0,q.tZ)(c.Z,{sx:{width:300},children:(0,q.tZ)(C.Z,{hideStats:!0,characterKey:e})}),children:(0,q.tZ)(c.Z,{children:(0,q.BX)(w.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,q.tZ)(c.Z,{sx:{position:"absolute",opacity:.7,zIndex:2},children:(0,q.tZ)(m.Z,{sx:{p:.25},onClick:t=>{g(),Z.charMeta.set(e,{favorite:!d})},children:d?(0,q.tZ)(r.Z,{}):(0,q.tZ)(o.Z,{})})}),(0,q.tZ)(y.Z,{onClick:t,children:(0,q.BX)(c.Z,{display:"flex",position:"relative",className:`grad-${null==l?void 0:l.rarity}star`,sx:{"&::before":{content:'""',display:"block",position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:.5,backgroundImage:`url(${(0,i.Li)(e,"banner",a)})`,backgroundPosition:"center",backgroundSize:"cover"}},width:"100%",children:[(0,q.tZ)(c.Z,{flexShrink:1,sx:{maxWidth:{xs:"33%",lg:"30%"}},alignSelf:"flex-end",display:"flex",flexDirection:"column",zIndex:1,children:(0,q.tZ)(c.Z,{component:"img",src:(0,_.i)(e,a,p),width:"100%",height:"auto",maxWidth:256,sx:{mt:"auto"}})}),(0,q.BX)(c.Z,{flexGrow:1,sx:{pr:1,pt:1},display:"flex",flexDirection:"column",zIndex:1,justifyContent:"space-evenly",children:[(0,q.tZ)(x.Z,{variant:"body2",sx:{flexGrow:1},children:(0,q.tZ)(S.Z,{color:null==l?void 0:l.elementKey,sx:{opacity:.85,textShadow:"0 0 5px gray"},children:null==l?void 0:l.name})}),s?(0,q.BX)(c.Z,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,q.BX)(c.Z,{sx:{textShadow:"0 0 5px gray"},children:[(0,q.BX)(x.Z,{variant:"body2",component:"span",whiteSpace:"nowrap",children:["Lv. ",b]}),(0,q.BX)(x.Z,{variant:"body2",component:"span",color:"text.secondary",children:["/",N.SJ[v]]})]}),(0,q.BX)(x.Z,{variant:"body2",children:["C",k]})]}):(0,q.tZ)(x.Z,{component:"span",variant:"body2",children:(0,q.tZ)(S.Z,{children:"NEW"})}),(0,q.tZ)(z.q,{stars:null!=(n=null==l?void 0:l.rarity)?n:1,colored:!0})]})]})})]})})})}},3694:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(51396),l=n(54278),i=n(40535),r=n(22698),o=n(29754),s=n(75213),c=n(67550),d=n(79906),Z=n(85801),p=n(62197),h=n(7671),u=n(23883),g=n(83249),m=n(2784),y=n(21560),x=n(79536),f=n(67937),b=n(43007),v=n(37923),w=n(29851),C=n(26578),k=n(71765),B=n(21626),X=n(44818),S=n(25870),z=n(34958),I=n(30507),P=n(61278),W=n(94758),G=n(52903);let M,N=e=>e;function T({weaponId:e,onClick:t,onEdit:n,onDelete:T,canEquip:j=!1,extraButtons:D}){var E;const{t:K}=(0,y.$G)(["page_weapon","ui"]),{database:$}=(0,m.useContext)(S.t),_=(0,W.Z)(e),V=null!=_&&_.key?(0,X.ub)(_.key):void 0,L=(0,m.useCallback)((e=>e.weaponTypeKey===(null==V?void 0:V.weaponType)),[V]),O=(0,m.useCallback)((n=>(0,G.tZ)(s.Z,{onClick:()=>null==t?void 0:t(e),children:n})),[t,e]),q=(0,m.useCallback)((e=>(0,G.tZ)(c.Z,{children:e})),[]),A=(0,m.useCallback)((t=>e&&$.weapons.set(e,{location:t})),[$,e]),U=(0,m.useMemo)((()=>V&&_&&(0,I.mP)([V.data,(0,I.v0)(_)])),[V,_]);if(!_||!V||!U)return null;const{level:H,ascension:R,refinement:F,id:J,location:Q="",lock:Y}=_,ee=U.get(z.ri.weapon.type).value,te=[z.ri.weapon.main,z.ri.weapon.sub,z.ri.weapon.sub2].map((e=>U.get(e))),ne=(0,a.Aq)(_.key,R>=2);return(0,G.tZ)(m.Suspense,{fallback:(0,G.tZ)(d.Z,{variant:"rectangular",sx:{width:"100%",height:"100%",minHeight:300}}),children:(0,G.BX)(f.Z,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,G.BX)(w.Z,{condition:!!t,wrapper:O,falseWrapper:q,children:[(0,G.BX)(c.Z,{className:`grad-${V.rarity}star`,sx:{position:"relative",pt:2,px:2},children:[!t&&(0,G.tZ)(Z.Z,{color:"primary",onClick:()=>$.weapons.set(J,{lock:!Y}),sx:{position:"absolute",right:0,bottom:0,zIndex:2},children:Y?(0,G.tZ)(l.Z,{}):(0,G.tZ)(i.Z,{})}),(0,G.BX)(c.Z,{sx:{position:"relative",zIndex:1},children:[(0,G.BX)(c.Z,{component:"div",sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,G.tZ)(C.Z,{size:2,src:null==(E=x.Z.weaponTypes)?void 0:E[ee]}),(0,G.tZ)(p.Z,{noWrap:!0,sx:{textAlign:"center",backgroundColor:"rgba(100,100,100,0.35)",borderRadius:"1em",px:1},children:(0,G.tZ)("strong",{children:V.name})})]}),(0,G.BX)(p.Z,{component:"span",variant:"h5",children:["Lv. ",H]}),(0,G.BX)(p.Z,{component:"span",variant:"h5",color:"text.secondary",children:["/",B.SJ[R]]}),(0,G.BX)(p.Z,{variant:"h6",children:["Refinement ",(0,G.tZ)("strong",{children:F})]}),(0,G.tZ)(k.q,{stars:V.rarity,colored:!0})]}),(0,G.tZ)(c.Z,{sx:{height:"100%",position:"absolute",right:0,top:0},children:(0,G.tZ)(c.Z,{component:"img",src:null!=ne?ne:"",width:"auto",height:"100%",sx:{float:"right"}})})]}),(0,G.tZ)(h.Z,{children:te.map((e=>e.info.name?(0,G.BX)(c.Z,{sx:{display:"flex"},children:[(0,G.BX)(p.Z,{flexGrow:1,children:[e.info.icon," ",e.info.name]}),(0,G.tZ)(p.Z,{children:(0,P.p)(e)})]},JSON.stringify(e.info)):null))})]}),(0,G.BX)(c.Z,{sx:{p:1,display:"flex",gap:1,justifyContent:"space-between",alignItems:"center"},children:[(0,G.tZ)(c.Z,{sx:{flexGrow:1},children:j?(0,G.tZ)(b.W,{location:Q,setLocation:A,filter:L,autoCompleteProps:{getOptionDisabled:e=>!e.key}}):(0,G.tZ)(v.Z,{location:Q})}),(0,G.BX)(c.Z,{display:"flex",gap:1,alignItems:"stretch",height:"100%",sx:{"& .MuiButton-root":{minWidth:0,height:"100%"}},children:[!!n&&(0,G.tZ)(u.Z,{title:(0,G.tZ)(p.Z,{children:K(M||(M=N`page_weapon:edit`))}),placement:"top",arrow:!0,children:(0,G.tZ)(g.Z,{color:"info",size:"small",onClick:()=>n(J),children:(0,G.tZ)(o.Z,{})})}),!!T&&(0,G.tZ)(g.Z,{color:"error",size:"small",onClick:()=>T(J),disabled:!!Q||Y,children:(0,G.tZ)(r.Z,{})}),D]})]})]})})}}}]);